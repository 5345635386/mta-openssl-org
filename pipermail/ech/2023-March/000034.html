<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ech] TLSProxy and ECH
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/ech/2023-March/index.html" >
   <LINK REL="made" HREF="mailto:ech%40openssl.org?Subject=Re%3A%20%5Bech%5D%20TLSProxy%20and%20ECH&In-Reply-To=%3C22134c68-00e8-3956-31e6-c2af667aad01%40cs.tcd.ie%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000033.html">
   <LINK REL="Next"  HREF="000086.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ech] TLSProxy and ECH</H1>
    <B>Stephen Farrell</B> 
    <A HREF="mailto:ech%40openssl.org?Subject=Re%3A%20%5Bech%5D%20TLSProxy%20and%20ECH&In-Reply-To=%3C22134c68-00e8-3956-31e6-c2af667aad01%40cs.tcd.ie%3E"
       TITLE="[ech] TLSProxy and ECH">stephen.farrell at cs.tcd.ie
       </A><BR>
    <I>Wed Mar 22 13:13:07 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000033.html">[ech] TLSProxy and ECH
</A></li>
        <LI>Next message (by thread): <A HREF="000086.html">[ech] TLSProxy and ECH
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34">[ date ]</a>
              <a href="thread.html#34">[ thread ]</a>
              <a href="subject.html#34">[ subject ]</a>
              <a href="author.html#34">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Matt,

On 22/03/2023 11:31, Matt Caswell wrote:
&gt;<i> 
</I>&gt;<i> There *is* a potential alternative in the form of the QUIC fault 
</I>&gt;<i> injector which does much the same thing but for QUIC. It includes the 
</I>&gt;<i> ability to inject TLS faults into a QUIC TLS handshake. It does this 
</I>&gt;<i> from pure C code. I believe it would be possible to extend the concept 
</I>&gt;<i> to be able to do the same thing for standalone TLS.
</I>
Thanks for that, will take a peek at it.

I was more or less reaching the conclusion that something
along those lines will be needed for ECH - during the
original development I managed to break things in fun ways
that really need to be part of the test suite, e.g. to check
the de-compression stuff that's done on a server in the face
of badly done compression (compression here meaning the ECH
concept of including a set of extension types in the encoded
inner CH where the extension values for the finally decoded
inner CH will have copies of the extension values from the
outer CH).

I figure I might be able to do some such tests using sets
of sample fragments of captured ClientHello messages and
then using the HPKE APIs to create ECH values that will
decrypt ok, but where the recovered plaintext is borked
in various ways.

Anyway, that's what I plan to investigate next. Will get
back when that's reached something someone could take a
useful look at.

Cheers,
S.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_0xE4D8E9F997A833DD.asc
Type: application/pgp-keys
Size: 1197 bytes
Desc: OpenPGP public key
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/ech/attachments/20230322/b0dc64bb/attachment.asc">https://mta.openssl.org/pipermail/ech/attachments/20230322/b0dc64bb/attachment.asc</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 236 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/ech/attachments/20230322/b0dc64bb/attachment.sig">https://mta.openssl.org/pipermail/ech/attachments/20230322/b0dc64bb/attachment.sig</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000033.html">[ech] TLSProxy and ECH
</A></li>
	<LI>Next message (by thread): <A HREF="000086.html">[ech] TLSProxy and ECH
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34">[ date ]</a>
              <a href="thread.html#34">[ thread ]</a>
              <a href="subject.html#34">[ subject ]</a>
              <a href="author.html#34">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/ech.html">More information about the ech
mailing list</a><br>
</body></html>
