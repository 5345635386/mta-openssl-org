<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ech] TLSProxy and ECH
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/ech/2023-April/index.html" >
   <LINK REL="made" HREF="mailto:ech%40openssl.org?Subject=Re%3A%20%5Bech%5D%20TLSProxy%20and%20ECH&In-Reply-To=%3Cedc6e80d-135a-5a30-9217-0b39632a3a2d%40cs.tcd.ie%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ech] TLSProxy and ECH</H1>
    <B>Stephen Farrell</B> 
    <A HREF="mailto:ech%40openssl.org?Subject=Re%3A%20%5Bech%5D%20TLSProxy%20and%20ECH&In-Reply-To=%3Cedc6e80d-135a-5a30-9217-0b39632a3a2d%40cs.tcd.ie%3E"
       TITLE="[ech] TLSProxy and ECH">stephen.farrell at cs.tcd.ie
       </A><BR>
    <I>Thu Apr  6 13:54:21 UTC 2023</I>
    <P><UL>
        
        <LI>Next message (by thread): <A HREF="000037.html">[ech] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36">[ date ]</a>
              <a href="thread.html#36">[ thread ]</a>
              <a href="subject.html#36">[ subject ]</a>
              <a href="author.html#36">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hiya,

Just to bottom out on the thread...

On 22/03/2023 13:13, Stephen Farrell wrote:
&gt;<i> Anyway,&#160;that's&#160;what&#160;I&#160;plan&#160;to&#160;investigate&#160;next.&#160;Will&#160;get
</I>&gt;<i> back&#160;when&#160;that's&#160;reached&#160;something&#160;someone&#160;could&#160;take&#160;a
</I>&gt;<i> useful&#160;look&#160;at.
</I>
So I've not yet had to play with the TLSProxy - what I've
done for now is copy from ``test/sslcorrupttest.c`` in a
new set of tests [1] that replace the ECH encapsulated
public value and ciphertext in the outer client hello with
various borked encoded inner client hellos (freshly HPKE
encrypted).

That seems to exercise most of the new server ECH code
related to e.g. the compression stuff, so seems like it
provides a path to ending up being good enough. (I'm not
yet checking code coverage but plan that for later.)

Next step is to extend that to similarly muck with the
fewer ECH things that differ in server hello and HRR.

If anyone has a chance to take a peek at [1], I'd be very
happy to get any comments or suggestions.

Cheers,
S.

[1] 
<A HREF="https://github.com/sftcd/openssl/blob/ECH-draft-13c/test/echcorrupttest.c#L35">https://github.com/sftcd/openssl/blob/ECH-draft-13c/test/echcorrupttest.c#L35</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_0xE4D8E9F997A833DD.asc
Type: application/pgp-keys
Size: 1197 bytes
Desc: OpenPGP public key
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/ech/attachments/20230406/f4f4d06c/attachment.asc">https://mta.openssl.org/pipermail/ech/attachments/20230406/f4f4d06c/attachment.asc</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 236 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/ech/attachments/20230406/f4f4d06c/attachment.sig">https://mta.openssl.org/pipermail/ech/attachments/20230406/f4f4d06c/attachment.sig</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message (by thread): <A HREF="000037.html">[ech] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36">[ date ]</a>
              <a href="thread.html#36">[ thread ]</a>
              <a href="subject.html#36">[ subject ]</a>
              <a href="author.html#36">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/ech.html">More information about the ech
mailing list</a><br>
</body></html>
