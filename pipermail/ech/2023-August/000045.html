<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [ech] order of extensions/ssltraceref.txt
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/ech/2023-August/index.html" >
   <LINK REL="made" HREF="mailto:ech%40openssl.org?Subject=Re%3A%20%5Bech%5D%20order%20of%20extensions/ssltraceref.txt&In-Reply-To=%3C339156b1-e1fd-5f80-d5f0-7e5039d6fd99%40cs.tcd.ie%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000044.html">
   <LINK REL="Next"  HREF="000046.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[ech] order of extensions/ssltraceref.txt</H1>
    <B>Stephen Farrell</B> 
    <A HREF="mailto:ech%40openssl.org?Subject=Re%3A%20%5Bech%5D%20order%20of%20extensions/ssltraceref.txt&In-Reply-To=%3C339156b1-e1fd-5f80-d5f0-7e5039d6fd99%40cs.tcd.ie%3E"
       TITLE="[ech] order of extensions/ssltraceref.txt">stephen.farrell at cs.tcd.ie
       </A><BR>
    <I>Tue Aug 22 12:34:52 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000044.html">[ech] ietf117 ech progress
</A></li>
        <LI>Next message (by thread): <A HREF="000046.html">[ech] order of extensions/ssltraceref.txt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45">[ date ]</a>
              <a href="thread.html#45">[ thread ]</a>
              <a href="subject.html#45">[ subject ]</a>
              <a href="author.html#45">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hiya,

I'm just rebasing my working branch for ECH, have hit an
issue with the quicapitest and am wondering how best to
handle that.

The issue: quicapitest compares a memory-based trace
against a reference file (ssltraceref.txt) but is failing
in my build as I produce extensions in a different order
so as to be able to handle ECH inner/outer &quot;compression&quot;
which requires &quot;compressed&quot; extensions to be contiguous
in the ClientHello.

The result is that the quicapitest comparison vs. the
reference file fails.

I think the right fix here would be to regenerate the
ssltraceref.txt file but am not sure how to do that.
Can someone advise?

An alternative fix might be to not change the order in
which extensions are encoded when real or GREASE'd ECH
isn't happening, but I think that'd be wrong as it'd likely
be some kind of fingerprint, and probably more brittle once
the QUIC implementation does make use of ECH.

Thanks,
S.

PS: This may well be better handled as a github issue. I
can post the question there later if that's useful.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_0xE4D8E9F997A833DD.asc
Type: application/pgp-keys
Size: 1197 bytes
Desc: OpenPGP public key
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/ech/attachments/20230822/20af4455/attachment-0001.asc">https://mta.openssl.org/pipermail/ech/attachments/20230822/20af4455/attachment-0001.asc</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 236 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/ech/attachments/20230822/20af4455/attachment-0001.sig">https://mta.openssl.org/pipermail/ech/attachments/20230822/20af4455/attachment-0001.sig</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000044.html">[ech] ietf117 ech progress
</A></li>
	<LI>Next message (by thread): <A HREF="000046.html">[ech] order of extensions/ssltraceref.txt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45">[ date ]</a>
              <a href="thread.html#45">[ thread ]</a>
              <a href="subject.html#45">[ subject ]</a>
              <a href="author.html#45">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/ech.html">More information about the ech
mailing list</a><br>
</body></html>
