<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> How to rotate cert when only first matching cert been verified
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20How%20to%20rotate%20cert%20when%20only%20first%20matching%20cert%20been%20verified&In-Reply-To=%3CDM6PR18MB27002ADA12C5893CD3E582ADF9C00%40DM6PR18MB2700.namprd18.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013265.html">
   <LINK REL="Next"  HREF="013264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>How to rotate cert when only first matching cert been verified</H1>
    <B>Michael Wojcik</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20How%20to%20rotate%20cert%20when%20only%20first%20matching%20cert%20been%20verified&In-Reply-To=%3CDM6PR18MB27002ADA12C5893CD3E582ADF9C00%40DM6PR18MB2700.namprd18.prod.outlook.com%3E"
       TITLE="How to rotate cert when only first matching cert been verified">Michael.Wojcik at microfocus.com
       </A><BR>
    <I>Mon Dec 21 15:37:02 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="013265.html">How to rotate cert when only first matching cert been verified
</A></li>
        <LI>Next message: <A HREF="013264.html">How to rotate cert when only first matching cert been verified
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13255">[ date ]</a>
              <a href="thread.html#13255">[ thread ]</a>
              <a href="subject.html#13255">[ subject ]</a>
              <a href="author.html#13255">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: openssl-users &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>&gt; On Behalf Of ???
</I>&gt;<i> Sent: Saturday, 19 December, 2020 17:59
</I>
&gt;<i> 1. Generate a new cert, and append it to the cert file
</I>
Why are you appending it to the file containing the existing certificate?

&gt;<i> (at this point, there are 2 certs in the file, first is old cert, second is
</I>&gt;<i> new, they have the same Subject), restart client side process, (no problem
</I>&gt;<i> here, because first cert matching server side cert, and it verifies
</I>&gt;<i> successfully)
</I>
&gt;<i> 2. Replace server side with new cert.
</I>
It sounds like you're updating the server's entity certificate.

&gt;<i> As soon as I issue step #2, the client side process starts to show error
</I>&gt;<i> &#8220;certificate verify failed&#8221;.
</I>
There are many possible reasons for verification to fail.

&gt;<i> <A HREF="https://www.openssl.org/docs/man1.0.2/man3/SSL_CTX_load_verify_locations.html,">https://www.openssl.org/docs/man1.0.2/man3/SSL_CTX_load_verify_locations.html,</A>
</I>&gt;<i> it says the exact behavior like my test:
</I>
Similar symptoms, perhaps. But this page discusses &quot;CA certificates&quot; - that is,
intermediate and root certificates that have been configured to be trust anchors
or contributors to the trust chain. It has nothing to do with entity certificates,
which is what you're changing here.

You haven't given us enough information to guess why the new certificate is
failing client verification. You need to get detailed failure information from
the client program, or use a different client that gives you detailed information,
or use a utility such as &quot;openssl verify&quot; to test the certificate chain locally.

--
Michael Wojcik
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013265.html">How to rotate cert when only first matching cert been verified
</A></li>
	<LI>Next message: <A HREF="013264.html">How to rotate cert when only first matching cert been verified
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13255">[ date ]</a>
              <a href="thread.html#13255">[ thread ]</a>
              <a href="subject.html#13255">[ subject ]</a>
              <a href="author.html#13255">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
