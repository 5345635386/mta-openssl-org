<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> How to rotate cert when only first matching cert been verified
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20How%20to%20rotate%20cert%20when%20only%20first%20matching%20cert%20been%20verified&In-Reply-To=%3CDM6PR18MB270077FD0B663884DABBFD87F9DE0%40DM6PR18MB2700.namprd18.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013255.html">
   <LINK REL="Next"  HREF="013267.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>How to rotate cert when only first matching cert been verified</H1>
    <B>Michael Wojcik</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20How%20to%20rotate%20cert%20when%20only%20first%20matching%20cert%20been%20verified&In-Reply-To=%3CDM6PR18MB270077FD0B663884DABBFD87F9DE0%40DM6PR18MB2700.namprd18.prod.outlook.com%3E"
       TITLE="How to rotate cert when only first matching cert been verified">Michael.Wojcik at microfocus.com
       </A><BR>
    <I>Wed Dec 23 15:51:56 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="013255.html">How to rotate cert when only first matching cert been verified
</A></li>
        <LI>Next message: <A HREF="013267.html">How to rotate cert when only first matching cert been verified
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13264">[ date ]</a>
              <a href="thread.html#13264">[ thread ]</a>
              <a href="subject.html#13264">[ subject ]</a>
              <a href="author.html#13264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: &#23450;&#24179;&#34945; &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">pkudingping at gmail.com</A>&gt;
</I>&gt;<i> Sent: Tuesday, 22 December, 2020 20:08
</I>&gt;<i> To: Michael Wojcik &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">Michael.Wojcik at microfocus.com</A>&gt;
</I>
Please do not send messages regarding OpenSSL to me directly. Send them to the openss-users list. That is where the discussion belongs.

&gt;<i> &gt; Why are you appending it to the file containing the existing certificate?
</I>
&gt;<i> I am rotating certificate, before the server side cert been replaced, the client
</I>&gt;<i> side cert need to be valid, so when rotating, need both old and new cert exist.
</I>
I'm afraid it still isn't clear to me what you're doing. Both the server's entity certificate and the client's entity certificate are in the same file? What does this file contain before you append the new certificate?

&gt;<i> &gt; It sounds like you're updating the server's entity certificate.
</I>
&gt;<i> I guess it's entity certificate (still trying to understand different cert
</I>&gt;<i> concept...)
</I>
Does it identify the server, in the Subject DN and/or one or more Subject Alternative Name extensions?

&gt;<i> Below is the error message:
</I>
I'm afraid that message doesn't appear to contain any useful information.

&gt;<i> All the 3 clients used the same ca.crt file, which has an old cert in
</I>&gt;<i> first, then a new cert behind. Only Python (used OpenSSL) failed.
</I>
So *this* sounds like what you're changing in this particular file is the set of trust anchors, not the entity certificates.

Where did your &quot;CA&quot; certificates come from? A commercial CA or some personal or organizational CA? From your description it sounds like the problem may be that the CA certificates were not generated correctly. Without the certificates to examine, we can't say.

Can you post the old and new certificates in PEM form in your next message?

Please note that due to the holidays I will not be reading email for several days, and it's likely that some other regular list members will be similarly unavailable.

--
Michael Wojcik
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013255.html">How to rotate cert when only first matching cert been verified
</A></li>
	<LI>Next message: <A HREF="013267.html">How to rotate cert when only first matching cert been verified
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13264">[ date ]</a>
              <a href="thread.html#13264">[ thread ]</a>
              <a href="subject.html#13264">[ subject ]</a>
              <a href="author.html#13264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
