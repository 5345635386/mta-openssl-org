<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Segfault with Libcrypto.so
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Segfault%20with%20Libcrypto.so&In-Reply-To=%3CCANm5x_NSdc0K%2B-j%2Bw26mMfUqx5rMWTagON836WHQ41R_hOhnfg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011687.html">
   <LINK REL="Next"  HREF="011689.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Segfault with Libcrypto.so</H1>
    <B>Nicola Tuveri</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Segfault%20with%20Libcrypto.so&In-Reply-To=%3CCANm5x_NSdc0K%2B-j%2Bw26mMfUqx5rMWTagON836WHQ41R_hOhnfg%40mail.gmail.com%3E"
       TITLE="Segfault with Libcrypto.so">nic.tuv at gmail.com
       </A><BR>
    <I>Sat Dec 28 22:43:30 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="011687.html">Segfault with Libcrypto.so
</A></li>
        <LI>Next message: <A HREF="011689.html">OpenSSL + ktls 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11688">[ date ]</a>
              <a href="thread.html#11688">[ thread ]</a>
              <a href="subject.html#11688">[ subject ]</a>
              <a href="author.html#11688">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Is it possible you have compiled and installed the openldap tool you are
using against an older version of the system installed openssl library
which has since been updated?

In that case you would probably need to recompile and reinstall your custom
openldap against the new version of the library.

Best regards,

Nicola Tuveri

On Sun, Dec 29, 2019, 00:11 PEILLON Stephane &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">s.peillon at caenlamer.fr</A>&gt; wrote:

&gt;<i> Hello
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> For several days, we have been unable to carry out operating commands on
</I>&gt;<i> our OpenLdap server (2.4.48), such as:
</I>&gt;<i>
</I>&gt;<i> /usr/local/openldap/sbin/slapcat &#8211;F
</I>&gt;<i> /usr/local/openldap/etc/openldap/slapd.d -b 'cn = config' -a '(|
</I>&gt;<i> (objectclass = olcBdbConfig) (objectclass = olcHdbConfig) (objectclass =
</I>&gt;<i> olcMdbConfig))'
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The errors are:
</I>&gt;<i>
</I>&gt;<i> kernel: [110775.944931] slapcat [2659]: segfault at 60 ip 00007fa1afc98300
</I>&gt;<i> sp00007fff98c66b20 error 4 in libcrypto.so.1.1 [7fa1afaa2000 + 29b000]
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This server is in version: Linux XXXXXXXX 4.15.0-72-generic-81-Ubuntu SMP
</I>&gt;<i> Tue Nov 26 12:20:02 UTC 2019 x86_64 x86_64 x86_64 GNU / Linux
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The version of openSSL is:
</I>&gt;<i>
</I>&gt;<i> OpenSSL 1.1.1 11 Sep 2018
</I>&gt;<i>
</I>&gt;<i> built on: Tue Nov 12 16:58:35 2019 UTC
</I>&gt;<i>
</I>&gt;<i> platform: debian-amd64
</I>&gt;<i>
</I>&gt;<i> options: bn (64,64) rc4 (16x, int) des (int) blowfish (ptr)
</I>&gt;<i>
</I>&gt;<i> compile: gcc -fPIC -pthread -m64 -Wa, - noexecstack -Wall -Wa, -
</I>&gt;<i> noexecstack -g -O2 -fdebug-prefix-map = / build / openssl-kxN_24 /
</I>&gt;<i> openssl-1.1.1 =. -fstack-protector-strong -Wformat -Werror = size-security
</I>&gt;<i> -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_PIC -DOPENSSL_CPUID_OBJ
</I>&gt;<i> -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5
</I>&gt;<i> -DOPENSSL_BN_ASM_GF2m -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DKECCAK1600_ASM
</I>&gt;<i> -DRC4_ASM -DMD5_ASM -DAES_ASM -DVPAES_ASM -DBSAES_ASM -DGHASH_ASM
</I>&gt;<i> -DECP_NISTZ256_ASM -DX25519_ASM -DPADLOCK_ASM -DPOLY1305_ASM -DNDEBUG
</I>&gt;<i> -Wdate-time -D_FORTIFY_SOURCE = 2
</I>&gt;<i>
</I>&gt;<i> OPENSSLDIR: &quot;/ usr / lib / ssl&quot;
</I>&gt;<i>
</I>&gt;<i> ENGINESDIR: &quot;/usr/lib/x86_64-linux-gnu/engines-1.1&quot;
</I>&gt;<i>
</I>&gt;<i> Seeding source: os-specific
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Can you tell me what to modify to correct this error?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> thank you in advance for your help!
</I>&gt;<i>
</I>&gt;<i> Stephane
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;<A HREF="http://disclaimer.caenlamer.fr">http://disclaimer.caenlamer.fr</A>&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20191229/e7729b65/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20191229/e7729b65/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011687.html">Segfault with Libcrypto.so
</A></li>
	<LI>Next message: <A HREF="011689.html">OpenSSL + ktls 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11688">[ date ]</a>
              <a href="thread.html#11688">[ thread ]</a>
              <a href="subject.html#11688">[ subject ]</a>
              <a href="author.html#11688">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
