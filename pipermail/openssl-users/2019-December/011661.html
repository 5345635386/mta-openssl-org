<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Regarding interoperability between no-asm and asm enabled
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Regarding%20interoperability%20between%20no-asm%20and%20asm%20enabled&In-Reply-To=%3CCA%2BTOoxp-E3ew70ZnV7MuM%3D7oD9Z4AdY%3D47uXKtd07TxpdeCvGg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011660.html">
   <LINK REL="Next"  HREF="011662.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Regarding interoperability between no-asm and asm enabled</H1>
    <B>Naveen Shivanna</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Regarding%20interoperability%20between%20no-asm%20and%20asm%20enabled&In-Reply-To=%3CCA%2BTOoxp-E3ew70ZnV7MuM%3D7oD9Z4AdY%3D47uXKtd07TxpdeCvGg%40mail.gmail.com%3E"
       TITLE="Regarding interoperability between no-asm and asm enabled">navin.shivanna at gmail.com
       </A><BR>
    <I>Thu Dec 12 16:09:52 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="011660.html">Using SSL_read and SSL_write on parallel threads
</A></li>
        <LI>Next message: <A HREF="011662.html">Digest algorithms for Ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11661">[ date ]</a>
              <a href="thread.html#11661">[ thread ]</a>
              <a href="subject.html#11661">[ subject ]</a>
              <a href="author.html#11661">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am using 'DTLS over SCTP' and the OpenSSL version is 1.1.1c.

I compiled OpenSSL with target 'linux-arm64ilp32' on armv8. GCC used is
aarch64_be_linux-gnuilp32-gcc. So it is ILP32 and Big-end.


I compiled two sets of OpenSSL libraries:
1) OpenSSL with no-asm present
2) OpenSSL with no-asm absent (means, enabled the assembler instruction
acceleration)

I observed that the DTLS handshake fails when the client with lib 1) and
server with lib 2) are run.
When client sends the CCS, encrypted_handshake_finish_message, the server
sends back the ALERT (Fatal, Illegal parameter).
At the server side, when SSL_accept() fails, thr error code is 244
(SSL_R_UNEXPECTED_MESSAGE).

Cipher used is TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384

However, the handshake is success when both client and server use the same
lib type, either 1) or 2).

This suggests that there is interoperability issue.

Does anyone faced this issue?

Rgds,
Navi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20191212/e33590e2/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20191212/e33590e2/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011660.html">Using SSL_read and SSL_write on parallel threads
</A></li>
	<LI>Next message: <A HREF="011662.html">Digest algorithms for Ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11661">[ date ]</a>
              <a href="thread.html#11661">[ thread ]</a>
              <a href="subject.html#11661">[ subject ]</a>
              <a href="author.html#11661">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
