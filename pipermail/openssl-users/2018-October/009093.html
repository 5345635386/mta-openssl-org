<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Reg issue in alert message
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2018-October/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Reg%20issue%20in%20alert%20message&In-Reply-To=%3CCAHgr%3DkLammN_hcYkR%2BOF65VyZLvLmYtxHigtH1nu5VfpZx0zdQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009069.html">
   <LINK REL="Next"  HREF="009094.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Reg issue in alert message</H1>
    <B>ramakrushna mishra</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Reg%20issue%20in%20alert%20message&In-Reply-To=%3CCAHgr%3DkLammN_hcYkR%2BOF65VyZLvLmYtxHigtH1nu5VfpZx0zdQ%40mail.gmail.com%3E"
       TITLE="[openssl-users] Reg issue in alert message">rama.krushna7 at gmail.com
       </A><BR>
    <I>Tue Oct 23 11:32:17 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="009069.html">[openssl-users] Reg issue in alert message
</A></li>
        <LI>Next message: <A HREF="009094.html">[openssl-users] Reg issue in alert message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9093">[ date ]</a>
              <a href="thread.html#9093">[ thread ]</a>
              <a href="subject.html#9093">[ subject ]</a>
              <a href="author.html#9093">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matt,

Thanks for your response.
 My client is built with openssl 1.0.0e  and server with openssl 1.1.1.
 I have tried to collect information with wireshark, but I think as my
server and client are running on same machine , it is not capturing
anything. I have also tried with tshark on linux and got no traces again.

I have this trouble both on nt64and linuxx86_64. Do we have any other
mechanism to capture the traces ?

We have internal tracing enabled and I can see following information in our
tracing.
**********************************************************************************
[Mon Oct 22 02:53:58 2018] INTERNAL STATE OPERATION --- SSL State: 16
before SSL initialization
[Mon Oct 22 02:53:58 2018] ID-0x024545f0 CTX-0x02458750 BIO-0x00000000 BIO
 --- ctrl to 00000000 [02457660] (6 bytes =&gt; 0 (0x0))

[Mon Oct 22 02:53:58 2018] ID-0x024545f0 CTX-0x02458750 BIO-0x00000000 BIO
 --- contents of a BIO dump:
[Mon Oct 22 02:53:58 2018] INTERNAL STATE OPERATION --- SSL_accept:before
SSL initialization
[Mon Oct 22 02:53:58 2018] ID-0x024545f0 CTX-0x02458750 BIO-0x00000000 BIO
 --- read to 00000000 [02463953] (5 bytes =&gt; 5 (0x5))

[Mon Oct 22 02:53:58 2018] ID-0x024545f0 CTX-0x02458750 BIO-0x00000000 BIO
 --- contents of a BIO dump:
0000 - 16 03 01 00 b2                                    .....
[Mon Oct 22 02:53:58 2018] ID-0x024545f0 CTX-0x02458750 BIO-0x00000000 BIO
 --- read to 00000000 [02463958] (178 bytes =&gt; 178 (0xB2))

[Mon Oct 22 02:53:58 2018] ID-0x024545f0 CTX-0x02458750 BIO-0x00000000 BIO
 --- contents of a BIO dump:
0000 - 01 00 00 ae 03 03 10 b1-1e 8f f0 07 d6 28 d9 02   .............(..
0010 - b7 91 b4 3d 14 5a af 3e-09 96 2a cf ee 8b ca 30   ...=.Z.&gt;..*....0
0020 - cc 68 9f 2c 2e 6e 00 00-62 00 a5 00 a3 00 a1 00   .h.,.n..b.......
0030 - 9f 00 6b 00 6a 00 69 00-68 00 39 00 38 00 37 00   ..k.j.i.h.9.8.7.
0040 - 36 00 9d 00 3d 00 35 00-a4 00 a2 00 a0 00 9e 00   6...=.5.........
0050 - 67 00 40 00 3f 00 3e 00-33 00 32 00 31 00 30 00   <A HREF="../../../mailman/listinfo/openssl-users.html">g. at .</A>?.&gt;.3.2.1.0.
0060 - 9a 00 99 00 98 00 97 00-9c 00 3c 00 2f 00 96 00   ..........&lt;./...
0070 - 05 00 04 00 16 00 13 00-10 00 0d 00 0a 00 15 00   ................
0080 - 12 00 0f 00 0c 00 09 00-ff *56 00* 01 00 00 23 00   .........V....#.
0090 - 23 00 00 00 0d 00 16 00-14 06 01 06 02 05 01 05   #...............
00a0 - 02 04 01 04 02 03 01 03-02 02 01 02 02 00 0f 00   ................
00b0 - 01 01                                             ..
[Mon Oct 22 02:53:58 2018] INTERNAL STATE OPERATION --- SSL_accept:before
SSL initialization
[Mon Oct 22 02:53:58 2018] ID-0x024545f0 CTX-0x02458750 BIO-0x00000000 BIO
 --- write to 00000000 [024725E0] (7 bytes =&gt; 7 (0x7))

[Mon Oct 22 02:53:58 2018] ID-0x024545f0 CTX-0x02458750 BIO-0x00000000 BIO
 --- contents of a BIO dump:
0000 - 15 03 03 00 02 02 56                              ......V
[Mon Oct 22 02:53:58 2018] INTERNAL STATE OPERATION ---  write:fatal:unknown
[Mon Oct 22 02:53:58 2018] INTERNAL STATE OPERATION --- SSL_accept:error in
error
********************
In the above dump , &quot;56 00 &quot; is present in the cipher suites sent in client
hello.
So, I think client have set TLS_FALLBACK_SCSV in cipher suite list in
client hello.
However there is no earlier failure to this handshake.

As per your comment, client should only send it if it witnessed some
earlier failure.
In that case, I have following additional doubt.

-- this set up is working when server is running with TLSv1.2 and only
failing when server has both TLSv1,2 and TLSv1.3 ( i.e with openssl1.1.1).
So are there any changes in openssl1.1.1 which will effect this behavior
when compared to openssl1.0.0e version ?


Thanks and Regards,
Ram Krushna


On Mon, Oct 22, 2018 at 11:21 PM &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-request at openssl.org</A>&gt; wrote:

&gt;<i> Send openssl-users mailing list submissions to
</I>&gt;<i>         <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>         <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i>         <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-request at openssl.org</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i>         <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-owner at openssl.org</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of openssl-users digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>    1. Re: What to do with deprecation errors (Salz, Rich)
</I>&gt;<i>    2. Re: What to do with deprecation errors (Matt Caswell)
</I>&gt;<i>    3. Re: To disable CBC ciphers (Jakob Bohm)
</I>&gt;<i>    4. Reg issue in alert message (ramakrushna mishra)
</I>&gt;<i>    5. Re: Reg issue in alert message (Matt Caswell)
</I>&gt;<i>    6. Re: What to do with deprecation errors (Skip Carter)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Mon, 22 Oct 2018 02:08:23 +0000
</I>&gt;<i> From: &quot;Salz, Rich&quot; &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">rsalz at akamai.com</A>&gt;
</I>&gt;<i> To: Skip Carter &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">skip at taygeta.com</A>&gt;, &quot;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&quot;
</I>&gt;<i>         &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;
</I>&gt;<i> Subject: Re: [openssl-users] What to do with deprecation errors
</I>&gt;<i> Message-ID: &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">8260BB64-B12E-4779-B9DF-903D23E47FD3 at akamai.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;utf-8&quot;
</I>&gt;<i>
</I>&gt;<i> &gt;    DEPRECATEDIN_1_2_0(int EC_GROUP_get_curve_GF2m(const EC_GROUP
</I>&gt;<i> *group,
</I>&gt;<i>
</I>&gt;<i> That is &quot;proof&quot; that the pre-processor doesn?t have the right -I flags.
</I>&gt;<i> Try running with the -v option or something.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 2
</I>&gt;<i> Date: Mon, 22 Oct 2018 08:55:28 +0100
</I>&gt;<i> From: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&gt;
</I>&gt;<i> To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> Subject: Re: [openssl-users] What to do with deprecation errors
</I>&gt;<i> Message-ID: &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">7513a526-2840-6a4e-cf9a-99666ffc1330 at openssl.org</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=utf-8
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 21/10/2018 20:01, Skip Carter wrote:
</I>&gt;<i> &gt; Thats what I originally thought.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I experimented with manually invoking the pre-compiler (cpp) and this
</I>&gt;<i> &gt; is what I get:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; DEPRECATEDIN_1_2_0(int EC_GROUP_get_curve_GF2m(const EC_GROUP *group,
</I>&gt;<i> &gt;                     ?
</I>&gt;<i> &gt; BIGNUM *p,
</I>&gt;<i> &gt; ???????????????????????????????????????????????BIGNUM *a, BIGNUM *b,
</I>&gt;<i> &gt; ???????????????????????????????????????????????BN_CTX *ctx))
</I>&gt;<i> &gt; the macro is not firing, shouldn't I get:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; extern int EC_GROUP_get_curve_GF2m(const EC_GROUP *group,
</I>&gt;<i> &gt;         ?                                              BIGNUM *p,
</I>&gt;<i> &gt; ???????????????????????????????????????????????BIGNUM *a, BIGNUM *b,
</I>&gt;<i> &gt; ???
</I>&gt;<i> &gt; ????????????????????????????????????????????BN_CTX *ctx);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Sun, 2018-10-21 at 18:28 +0000, Salz, Rich via openssl-users wrote:
</I>&gt;<i> &gt;&gt;&gt; ???And I still have the problem with those macros.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; ??
</I>&gt;<i> &gt;&gt; The problem is almost definitely this:??the files that you are
</I>&gt;<i> &gt;&gt; compiling (not openssl) are picking up the wrong header files from
</I>&gt;<i> &gt;&gt; openssl.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i>
</I>&gt;<i> Does your opensslconf.h have the DEPRECATEDIN_1_2_0 macro defined in it?
</I>&gt;<i>
</I>&gt;<i> Matt
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 3
</I>&gt;<i> Date: Mon, 22 Oct 2018 15:34:20 +0200
</I>&gt;<i> From: Jakob Bohm &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">jb-openssl at wisemo.com</A>&gt;
</I>&gt;<i> To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> Subject: Re: [openssl-users] To disable CBC ciphers
</I>&gt;<i> Message-ID: &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">d91267e8-4681-9a77-23fa-d790200e2259 at wisemo.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=utf-8; format=flowed
</I>&gt;<i>
</I>&gt;<i> On 20/10/2018 15:59, Kaushal Shriyan wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Wed, Oct 17, 2018 at 7:00 PM murugesh pitchaiah
</I>&gt;<i> &gt; &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">murugesh.pitchaiah at gmail.com</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">murugesh.pitchaiah at gmail.com</A>&gt;&gt;
</I>&gt;<i> &gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     You may list down what ciphers configured : &quot;openssl ciphers&quot;
</I>&gt;<i> &gt;     Choose CBC ciphers and add them to the list of 'ssl_ciphers' with &quot;!&quot;
</I>&gt;<i> &gt;     prefix appended to current ssl_ciphers.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     &gt; ssl_ciphers HIGH:!aNULL:!MD5:!DH+3DES:!kEDH:!AAA_CBC_BBB:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Ref:
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="https://serverfault.com/questions/692119/meaning-of-ssl-ciphers-line-on-nginx-conf">https://serverfault.com/questions/692119/meaning-of-ssl-ciphers-line-on-nginx-conf</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Thanks,
</I>&gt;<i> &gt;     Murugesh P.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     On 10/17/18, Kaushal Shriyan &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">kaushalshriyan at gmail.com</A>
</I>&gt;<i> &gt;     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">kaushalshriyan at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i> &gt;     &gt; Hi,
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt; I have the below ssl settings in nginx.conf file and VAPT test
</I>&gt;<i> &gt;     has reported
</I>&gt;<i> &gt;     &gt; us to disable CBC ciphers
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt; ssl_ciphers HIGH:!aNULL:!MD5:!DH+3DES:!kEDH;
</I>&gt;<i> &gt;     &gt;&gt; ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt; openssl version on the box is OpenSSL 1.0.2k-fips 26 Jan 2017 on
</I>&gt;<i> &gt;     CentOS
</I>&gt;<i> &gt;     &gt; Linux release 7.3.1611 (Core)
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt; I will appreciate if someone can pitch in to help me understand
</I>&gt;<i> &gt;     to disable
</I>&gt;<i> &gt;     &gt; CBC ciphers
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks Murugesh. I did checked openssl ciphers
</I>&gt;<i> &gt; <A HREF="https://www.openssl.org/docs/man1.0.2/apps/ciphers.html">https://www.openssl.org/docs/man1.0.2/apps/ciphers.html</A> and could not
</I>&gt;<i> see
</I>&gt;<i> &gt; !AAA_CBC_BBB as mentioned in your email.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     ssl_ciphers HIGH:!aNULL:!MD5:!DH+3DES:!kEDH:!AAA_CBC_BBB:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Correct me if i am understanding it wrong. Basically i want to disable
</I>&gt;<i> &gt; Cipher Block Chaining (CBC) mode cipher encryption. Openssl and OS
</I>&gt;<i> &gt; version are as below :-
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     openssl version on the box is OpenSSL 1.0.2k-fips 26 Jan 2017 on
</I>&gt;<i> &gt;     CentOS
</I>&gt;<i> &gt;     Linux release 7.3.1611 (Core)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Any tools which i can run to find out vulnerabilities in the above
</I>&gt;<i> &gt; openssl and OS version? Please guide and i look forward to hearing
</I>&gt;<i> &gt; from you. Thanks in Advance.
</I>&gt;<i> You need to replace AAA and BBB with actual strings corresponding to
</I>&gt;<i> each of the unwanted cipher suites.
</I>&gt;<i>
</I>&gt;<i> The advisor that tells you to disable &quot;CBC ciphers&quot; is mostly wrong.
</I>&gt;<i> There is nothing inherently bad about correctly using ciphers in CBC
</I>&gt;<i> mode, however some TLS protocol versions happen to use CBC cipher
</I>&gt;<i> suites in a problematic way, while having no secure non-CBC cipher
</I>&gt;<i> suites.? More recent TLS versions (such as TLS 1.2) have less
</I>&gt;<i> problematic (but not perfect) CBC usage and also offers some
</I>&gt;<i> overhyped US government ciphers such as the AES_GCM family.
</I>&gt;<i>
</I>&gt;<i> Enjoy
</I>&gt;<i>
</I>&gt;<i> Jakob
</I>&gt;<i> --
</I>&gt;<i> Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
</I>&gt;<i> Transformervej 29, 2860 S?borg, Denmark.  Direct +45 31 13 16 10
</I>&gt;<i> This public discussion message is non-binding and may contain errors.
</I>&gt;<i> WiseMo - Remote Service Management for PCs, Phones and Embedded
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 4
</I>&gt;<i> Date: Mon, 22 Oct 2018 19:26:55 +0530
</I>&gt;<i> From: ramakrushna mishra &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">rama.krushna7 at gmail.com</A>&gt;
</I>&gt;<i> To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> Subject: [openssl-users] Reg issue in alert message
</I>&gt;<i> Message-ID:
</I>&gt;<i>         &lt;CAHgr=kJyCXVY9QssB2CO3hY=
</I>&gt;<i> <A HREF="../../../mailman/listinfo/openssl-users.html">GsEwiEcvzwQ-Pyd3VKqSm51XLA at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;utf-8&quot;
</I>&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I am facing an issue after openssl upgrade to 1.1.1.
</I>&gt;<i> I have a odbc client with maximum version support up to TLSv1.2 and  my
</I>&gt;<i> database is running with TLSv1.2,TLsv1.3.
</I>&gt;<i>
</I>&gt;<i> The handhake is failing and I am getting following contents on my BIO dump.
</I>&gt;<i> &quot;15 03 03 00 02 02 56&quot; .
</I>&gt;<i> If i have understood correctly this is for alert message and But I could
</I>&gt;<i> not find any reference to alert description at (
</I>&gt;<i> <A HREF="https://tools.ietf.org/id/draft-ietf-tls-tls13-25.html#alert-protocol">https://tools.ietf.org/id/draft-ietf-tls-tls13-25.html#alert-protocol</A> )
</I>&gt;<i> corresponding to 56.
</I>&gt;<i>
</I>&gt;<i> So, Could you please help me figure out what does this correspond to ?
</I>&gt;<i>
</I>&gt;<i> Moreover I have following doubt.
</I>&gt;<i>
</I>&gt;<i> -- If my TLSv1.2 client does not handle the  &quot;downgrade sentinel &quot; present
</I>&gt;<i> in server hello ( TLSv1.3 , will it create any problem ?
</I>&gt;<i> -- In the above example client is receving error such as &quot;SSL Handshake
</I>&gt;<i> Failure reason [error:1407743E:SSL routines:SSL23_GET_SERVER_HELLO:tlsv1
</I>&gt;<i> alert inappropriate fallback].&quot; ? Could you please help me to hint me about
</I>&gt;<i> how to debug this ?
</I>&gt;<i>
</I>&gt;<i> Thanks and Regards,
</I>&gt;<i> Ram Krushna
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL: &lt;
</I>&gt;<i> <A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20181022/cb04af81/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20181022/cb04af81/attachment-0001.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 5
</I>&gt;<i> Date: Mon, 22 Oct 2018 15:10:55 +0100
</I>&gt;<i> From: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&gt;
</I>&gt;<i> To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> Subject: Re: [openssl-users] Reg issue in alert message
</I>&gt;<i> Message-ID: &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">3c26e4ec-32e4-f3df-c1ae-0ed1cdeb5848 at openssl.org</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=utf-8
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 22/10/2018 14:56, ramakrushna mishra wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I am facing an issue after openssl upgrade to 1.1.1.?
</I>&gt;<i> &gt; I have a odbc client with maximum version support up to TLSv1.2 and? my
</I>&gt;<i> &gt; database is running with TLSv1.2,TLsv1.3.?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The handhake is failing and I am getting following contents on my BIO
</I>&gt;<i> dump.?
</I>&gt;<i> &gt; &quot;15 03 03 00 02 02 56&quot; .?
</I>&gt;<i> &gt; If i have understood correctly this is for alert message and But I could
</I>&gt;<i> &gt; not find any reference to alert description at (
</I>&gt;<i> &gt; <A HREF="https://tools.ietf.org/id/draft-ietf-tls-tls13-25.html#alert-protocol">https://tools.ietf.org/id/draft-ietf-tls-tls13-25.html#alert-protocol</A> )?
</I>&gt;<i> &gt; corresponding to 56.
</I>&gt;<i>
</I>&gt;<i> 56 hex == 86 decimal == inappropriate_fallback
</I>&gt;<i>
</I>&gt;<i> i.e. this doesn't tell you any further information than you have below.
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So, Could you please help me figure out what does this correspond to ??
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Moreover I have following doubt.?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -- If my TLSv1.2 client does not handle the? &quot;downgrade sentinel &quot;
</I>&gt;<i> &gt; present in server hello ( TLSv1.3 , will it create any problem ?
</I>&gt;<i>
</I>&gt;<i> No, this should not be a problem.
</I>&gt;<i>
</I>&gt;<i> &gt; -- In the above example client is receving error such as &quot;SSL Handshake
</I>&gt;<i> &gt; Failure reason [error:1407743E:SSL routines:SSL23_GET_SERVER_HELLO:tlsv1
</I>&gt;<i> &gt; alert inappropriate fallback].&quot; ? Could you please help me to hint me
</I>&gt;<i> &gt; about how to debug this ?
</I>&gt;<i>
</I>&gt;<i> What version of OpenSSL are you using for the client?
</I>&gt;<i>
</I>&gt;<i> Is it possible for you to send me a wireshark trace of the failing
</I>&gt;<i> handshake?
</I>&gt;<i>
</I>&gt;<i> In particular I am interested to see if the TLS_FALLBACK_SCSV
</I>&gt;<i> ciphersuite is present in the ClientHello (RFC 7507). The
</I>&gt;<i> TLS_FALLBACK_SCSV is only supposed to be sent if the client has already
</I>&gt;<i> attempted an earlier handshake that failed, and it is now trying a
</I>&gt;<i> downgraded protocol version. So, does the wireshark trace reveal the
</I>&gt;<i> client attempting an initial handshake that is failing for some other
</I>&gt;<i> reason, followed by a second attempt that fails with the inappropriate
</I>&gt;<i> fallback error?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Matt
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 6
</I>&gt;<i> Date: Mon, 22 Oct 2018 10:50:31 -0700
</I>&gt;<i> From: Skip Carter &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">skip at taygeta.com</A>&gt;
</I>&gt;<i> To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> Subject: Re: [openssl-users] What to do with deprecation errors
</I>&gt;<i> Message-ID: &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">1540230631.4886.20.camel at taygeta.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;UTF-8&quot;
</I>&gt;<i>
</I>&gt;<i> Yes the macro is there, its just not being expanded by the pre-
</I>&gt;<i> compiler.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, 2018-10-22 at 08:55 +0100, Matt Caswell wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 21/10/2018 20:01, Skip Carter wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Does your opensslconf.h have the DEPRECATEDIN_1_2_0 macro defined in
</I>&gt;<i> &gt; it?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Matt
</I>&gt;<i> --
</I>&gt;<i> Skip Carter
</I>&gt;<i> Taygeta Scientific Inc.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Subject: Digest Footer
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> openssl-users mailing list
</I>&gt;<i> <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> End of openssl-users Digest, Vol 47, Issue 35
</I>&gt;<i> *********************************************
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20181023/07d3d698/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20181023/07d3d698/attachment-0001.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009069.html">[openssl-users] Reg issue in alert message
</A></li>
	<LI>Next message: <A HREF="009094.html">[openssl-users] Reg issue in alert message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9093">[ date ]</a>
              <a href="thread.html#9093">[ thread ]</a>
              <a href="subject.html#9093">[ subject ]</a>
              <a href="author.html#9093">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
