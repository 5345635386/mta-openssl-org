<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Macro to support 3.0 and 1.0
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-May/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Macro%20to%20support%203.0%20and%201.0&In-Reply-To=%3CCH0PR03MB6019336BAD4BE06AAB48E49BE2589%40CH0PR03MB6019.namprd03.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013763.html">
   <LINK REL="Next"  HREF="013759.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Macro to support 3.0 and 1.0</H1>
    <B>Shivakumar Poojari</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Macro%20to%20support%203.0%20and%201.0&In-Reply-To=%3CCH0PR03MB6019336BAD4BE06AAB48E49BE2589%40CH0PR03MB6019.namprd03.prod.outlook.com%3E"
       TITLE="Macro to support 3.0 and 1.0">Shivakumar.Poojari at rbbn.com
       </A><BR>
    <I>Thu May  6 10:38:30 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="013763.html">Switch hangs for significant amount of time when using RAND_write_file API with openssl version 1.1.1h and above.
</A></li>
        <LI>Next message: <A HREF="013759.html">Macro to support 3.0 and 1.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13758">[ date ]</a>
              <a href="thread.html#13758">[ thread ]</a>
              <a href="subject.html#13758">[ subject ]</a>
              <a href="author.html#13758">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

         We are upgrading our code to openssl 3.0. But we need to keep the older
         version of code also which is 1.0. So, we tried by keeping the newer version
         of the code as below but when we compiled the code for 3.0, evp.h is not
         getting included. Please suggest f our approach is correct


#if (OPENSSL_VERSION_NUMBER &gt;= 0x30000000L)

  /******higher version code************/

 #include &lt;openssl/evp.h&gt;

#else

  /*******lower version code *********/

 #include &lt;openssl/aes.h&gt;

#endif

       Also, we found that OPENSSL_VERSION_NUMBER is deprecated, so thought of using
       the below macros but we think since this macro is defined in newer version this might
       not work when we compile it for older versions. Please suggest how to handle this.

if (OPENSSL_VERSION_MAJOR &gt;= 3)
  #include &lt;openssl/evp.h&gt;
else if (OPENSSL_VERSION_MAJOR &lt; 3)
  #include &lt;openssl/aes.h&gt;


thanks,
shiva kumar


Notice: This e-mail together with any attachments may contain information of Ribbon Communications Inc. and its Affiliates that is confidential and/or proprietary for the sole use of the intended recipient. Any review, disclosure, reliance or distribution by others or forwarding without express permission is strictly prohibited. If you are not the intended recipient, please notify the sender immediately and then delete all copies, including any attachments.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20210506/02c5ee42/attachment-0001.html">https://mta.openssl.org/pipermail/openssl-users/attachments/20210506/02c5ee42/attachment-0001.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013763.html">Switch hangs for significant amount of time when using RAND_write_file API with openssl version 1.1.1h and above.
</A></li>
	<LI>Next message: <A HREF="013759.html">Macro to support 3.0 and 1.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13758">[ date ]</a>
              <a href="thread.html#13758">[ thread ]</a>
              <a href="subject.html#13758">[ subject ]</a>
              <a href="author.html#13758">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
