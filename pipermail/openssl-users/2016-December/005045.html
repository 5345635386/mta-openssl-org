<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Linker error when adding new cipher to crypto folder
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Linker%20error%20when%20adding%20new%20cipher%20to%20crypto%20folder&In-Reply-To=%3C88322398-32FF-41C1-BD9B-A9C08746DEAA%40unh.newhaven.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005041.html">
   <LINK REL="Next"  HREF="005046.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Linker error when adding new cipher to crypto folder</H1>
    <B>Schmicker, Robert</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Linker%20error%20when%20adding%20new%20cipher%20to%20crypto%20folder&In-Reply-To=%3C88322398-32FF-41C1-BD9B-A9C08746DEAA%40unh.newhaven.edu%3E"
       TITLE="[openssl-users] Linker error when adding new cipher to crypto folder">rschm2 at unh.newhaven.edu
       </A><BR>
    <I>Fri Dec 30 02:38:07 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="005041.html">[openssl-users] Can SSL_CTX_set_tmp_ecdh_callback be used to set ECDHstatic ciphers ?
</A></li>
        <LI>Next message: <A HREF="005046.html">[openssl-users] Linker error when adding new cipher to crypto folder
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5045">[ date ]</a>
              <a href="thread.html#5045">[ thread ]</a>
              <a href="subject.html#5045">[ subject ]</a>
              <a href="author.html#5045">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I am attempting to add a new cipher into the crypto library. I have done the following so far&#8230;

1. Added my code to the openssl/crypto folder
2. Created a build.info&lt;<A HREF="http://build.info">http://build.info</A>&gt; for make to compile my code (created this based off of openssl/crypto/dh&#8217;s build.info&lt;<A HREF="http://build.info">http://build.info</A>&gt;)
3. Added my cipher name to the list of ciphers to compile in Configure
4. Compiled and installed all code without errors and object files for my new cipher are created in openssl/crypto/mycipher/
5. Created a test.c file that verifies that the library is installed and working properly by generating a MD5 hash of a string
Compiled as:
gcc test.c -I/usr/local/openssl/include/openssl/ -o test -lcrypto -lssl -Wall
6. I am able to properly include &lt;openssl/mycipher.h&gt; in my test.c file

However, as soon as I make a call to my cipher in test.c I get a linker error and gcc is unable to find any of my functions.

It seems that the header file I have in the openssl/include folder isn&#8217;t being linked somehow to my code in the openssl/cypto folder.

I feel like I&#8217;m missing a step here&#8230;

Any help is much appreciated!

Rob
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20161230/dc73d089/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20161230/dc73d089/attachment-0001.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005041.html">[openssl-users] Can SSL_CTX_set_tmp_ecdh_callback be used to set ECDHstatic ciphers ?
</A></li>
	<LI>Next message: <A HREF="005046.html">[openssl-users] Linker error when adding new cipher to crypto folder
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5045">[ date ]</a>
              <a href="thread.html#5045">[ thread ]</a>
              <a href="subject.html#5045">[ subject ]</a>
              <a href="author.html#5045">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
