<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Unable to STARTTLS behind a specific network
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Unable%20to%20STARTTLS%20behind%20a%20specific%20network&In-Reply-To=%3Ce81ea30e-1483-8fa7-a3d8-8bec69eea48c%40wheres5.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005031.html">
   <LINK REL="Next"  HREF="005021.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Unable to STARTTLS behind a specific network</H1>
    <B>Hoggins!</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Unable%20to%20STARTTLS%20behind%20a%20specific%20network&In-Reply-To=%3Ce81ea30e-1483-8fa7-a3d8-8bec69eea48c%40wheres5.com%3E"
       TITLE="[openssl-users] Unable to STARTTLS behind a specific network">fuckspam at wheres5.com
       </A><BR>
    <I>Thu Dec 22 10:30:12 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="005031.html">[openssl-users] stronger Kex
</A></li>
        <LI>Next message: <A HREF="005021.html">[openssl-users] Unable to STARTTLS behind a specific network
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5020">[ date ]</a>
              <a href="thread.html#5020">[ thread ]</a>
              <a href="subject.html#5020">[ subject ]</a>
              <a href="author.html#5020">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello there,

First post here, I would like to know how it's possible to debug a
certain problem I have.
Behind a specific network, I'm unable to bootstrap a STARTTLS session on
an SMTP server. Usually, it works flawlessly.

So my request for help is not to try to change anything to the
configuration (I'm not in charge of this network) but to confirm that
there is a &quot;problem&quot; in between on that network that prevents the
transaction from being conducted.

So what I do is :

    $ openssl s_client -starttls smtp -crlf -connect newdude.radiom.fr:5000

No problem, I can communicate with the SMTP server after the STARTTLS
occurred.

But behind that specific network, if I run the same command, all I get is :

    CONNECTED(00000003)
    write:errno=104
    ---
    no peer certificate available
    ---
    No client certificate CA names sent
    ---
    SSL handshake has read 351 bytes and written 147 bytes
    ---
    New, (NONE), Cipher is (NONE)
    Secure Renegotiation IS NOT supported
    Compression: NONE
    Expansion: NONE
    ---

When I compare two tcpdumps, I can clearly see that a lot of data is
missing, the transaction is not complete.

Before being paranoid, I simply suspect a MTU problem, but I'm not sure
how this would only apply to SSL transactions.

Should I provide tcpdumps or anything else ?

Thank you !

    Hoggins!


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 181 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20161222/f048cfe0/attachment.sig">http://mta.openssl.org/pipermail/openssl-users/attachments/20161222/f048cfe0/attachment.sig</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005031.html">[openssl-users] stronger Kex
</A></li>
	<LI>Next message: <A HREF="005021.html">[openssl-users] Unable to STARTTLS behind a specific network
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5020">[ date ]</a>
              <a href="thread.html#5020">[ thread ]</a>
              <a href="subject.html#5020">[ subject ]</a>
              <a href="author.html#5020">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
