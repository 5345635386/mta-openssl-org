<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> rfc5280 serialNumber question
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2023-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20rfc5280%20serialNumber%20question&In-Reply-To=%3CDM6PR14MB2186C286B8C1FE06A18F9A64923FA%40DM6PR14MB2186.namprd14.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016535.html">
   <LINK REL="Next"  HREF="016537.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>rfc5280 serialNumber question</H1>
    <B>Corey Bonnell</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20rfc5280%20serialNumber%20question&In-Reply-To=%3CDM6PR14MB2186C286B8C1FE06A18F9A64923FA%40DM6PR14MB2186.namprd14.prod.outlook.com%3E"
       TITLE="rfc5280 serialNumber question">Corey.Bonnell at digicert.com
       </A><BR>
    <I>Fri Jul 21 13:11:58 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016535.html">rfc5280 serialNumber question
</A></li>
        <LI>Next message (by thread): <A HREF="016537.html">rfc5280 serialNumber question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16536">[ date ]</a>
              <a href="thread.html#16536">[ thread ]</a>
              <a href="subject.html#16536">[ subject ]</a>
              <a href="author.html#16536">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Robert,
Are you referring to the serialNumber field of a certificate, or the 
serialNumber name attribute? The former is encoded as an ASN.1 INTEGER, not an 
OID.

Thanks,
Corey

-----Original Message-----
From: openssl-users &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>&gt; On Behalf Of Robert 
Moskowitz
Sent: Friday, July 21, 2023 8:59 AM
To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
Subject: rfc5280 serialNumber question

Per sec 4.1.2.2

    Given the uniqueness requirements above, serial numbers can be
    expected to contain long integers.  Certificate users MUST be able to
    handle serialNumber values up to 20 octets.  Conforming CAs MUST NOT
    use serialNumber values longer than 20 octets.


At some point some years ago it was pointed out here that serialNumber OID 
encoding preappends 0x00 if the first bit is a 1.

Does this actually make the serialNumber a byte longer?  Or is this only 
encoding?  Thus IF that first bit is a 1, obviously the OID value is a byte 
longer.  But when the serialNumber OID is decoded is this longer value 
returned or the original value?


I am girding up to debate an implementation where the CP says serialNumber 
MUST be unique, and their implementation uses a 20-byte SN.  I don't think 
they take care at all about the value of the 1st byte.  I doubt in their 
testing to date they have generated a SN in that range.

So how does the SN with the added byte get decoded?

thanks


-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 5257 bytes
Desc: not available
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20230721/5a70407f/attachment.p7s">https://mta.openssl.org/pipermail/openssl-users/attachments/20230721/5a70407f/attachment.p7s</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016535.html">rfc5280 serialNumber question
</A></li>
	<LI>Next message (by thread): <A HREF="016537.html">rfc5280 serialNumber question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16536">[ date ]</a>
              <a href="thread.html#16536">[ thread ]</a>
              <a href="subject.html#16536">[ subject ]</a>
              <a href="author.html#16536">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
