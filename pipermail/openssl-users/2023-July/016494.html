<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> UID in subj args - bug?
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2023-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20UID%20in%20subj%20args%20-%20bug%3F&In-Reply-To=%3CZKcVYGAHmFjTa_od%40straasha.imrryr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016493.html">
   <LINK REL="Next"  HREF="016495.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>UID in subj args - bug?</H1>
    <B>Viktor Dukhovni</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20UID%20in%20subj%20args%20-%20bug%3F&In-Reply-To=%3CZKcVYGAHmFjTa_od%40straasha.imrryr.org%3E"
       TITLE="UID in subj args - bug?">openssl-users at dukhovni.org
       </A><BR>
    <I>Thu Jul  6 19:26:24 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016493.html">UID in subj args - bug?
</A></li>
        <LI>Next message (by thread): <A HREF="016495.html">UID in subj args - bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16494">[ date ]</a>
              <a href="thread.html#16494">[ thread ]</a>
              <a href="subject.html#16494">[ subject ]</a>
              <a href="author.html#16494">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Jul 06, 2023 at 03:04:12PM -0400, Robert Moskowitz wrote:

&gt;<i> Adding
</I>&gt;<i> 
</I>&gt;<i> -preserveDN
</I>&gt;<i> 
</I>&gt;<i> is the only way I have found so far to get UID included.
</I>&gt;<i> 
</I>&gt;<i> My command is:
</I>&gt;<i> 
</I>&gt;<i> openssl ca -config $dir/openssl.cnf\
</I>&gt;<i>  &#160;&#160;&#160; -extensions usr_cert -notext -preserveDN \
</I>&gt;<i>  &#160;&#160;&#160; -in $dir/csr/$clientemail.csr.$format\
</I>&gt;<i>  &#160;&#160;&#160; -out $dir/certs/$clientemail.cert.$format
</I>&gt;<i> 
</I>&gt;<i> I tried adding
</I>&gt;<i> 
</I>&gt;<i> policy = policy_loose
</I>&gt;<i> 
</I>&gt;<i> to the usr_cert extension, but that didn't do anything.
</I>
That's not where it goes.  The &quot;policy&quot; section name is set in the
&quot;CA_default&quot; section, or can be specified as a command-line option.

If that doesn't work, perhaps another github issue.  I don't have
an active CA configuration just at the moment, nor cycles to play
with one to find the right combination.

You should be able to specify which RDNs from the request to include in
the issued certificate via the named policy section.  If that fails,
post a full reproducer script that creates a CA, a suitable CSR, ...
and then fails to create the expected certificate subject DN.

If you post a complete stand-alone script, that will &quot;demo&quot; the issue on
a bare openssl platform, then we can make progress.

-- 
    Viktor.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016493.html">UID in subj args - bug?
</A></li>
	<LI>Next message (by thread): <A HREF="016495.html">UID in subj args - bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16494">[ date ]</a>
              <a href="thread.html#16494">[ thread ]</a>
              <a href="subject.html#16494">[ subject ]</a>
              <a href="author.html#16494">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
