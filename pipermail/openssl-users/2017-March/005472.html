<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] regarding memory cleanup at end of each DTLS session
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20regarding%20memory%20cleanup%20at%20end%20of%20each%20DTLS%20session&In-Reply-To=%3CBN6PR10MB179510E3AA0B5556869E697BB03D0%40BN6PR10MB1795.namprd10.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005520.html">
   <LINK REL="Next"  HREF="005493.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] regarding memory cleanup at end of each DTLS session</H1>
    <B>Vineet Kumar Srivastava</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20regarding%20memory%20cleanup%20at%20end%20of%20each%20DTLS%20session&In-Reply-To=%3CBN6PR10MB179510E3AA0B5556869E697BB03D0%40BN6PR10MB1795.namprd10.prod.outlook.com%3E"
       TITLE="[openssl-users] regarding memory cleanup at end of each DTLS session">svineet at kodiakptt.com
       </A><BR>
    <I>Tue Mar 21 10:30:32 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="005520.html">[openssl-users] how to implement functions for STACK OF custom type?
</A></li>
        <LI>Next message: <A HREF="005493.html">[openssl-users] regarding memory cleanup at end of each DTLS	session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5472">[ date ]</a>
              <a href="thread.html#5472">[ thread ]</a>
              <a href="subject.html#5472">[ subject ]</a>
              <a href="author.html#5472">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Guys,
  I have a server implementation of DTLS Server using OPENSSL.
  At the end of each DTLS Session however I see that memory usage of process keeps on increasing.
  However on running Valgrind with the process no significant leak is observed.

  So, wanted to know that whether the function calls being done by me on getting DTLS Alerts are proper or not.

  Version being used is OpenSSL 1.0.1e-fips 11 Feb 2013

  On getting DTLS Alert following function calls are being done.

      SSL_set_shutdown(ssl, SSL_SENT_SHUTDOWN|SSL_RECEIVED_SHUTDOWN);
      SSL_free (ssl);
      ERR_remove_thread_state(0);

  Where ssl is the SSL* which was created when server got Client Hello for the handshake.

Please advise if I am required to do anymore cleanup on getting DTLS Alert.

  Your advise is highly appreciated.

Thanks,
Vineet

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20170321/9d44845d/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20170321/9d44845d/attachment.html</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005520.html">[openssl-users] how to implement functions for STACK OF custom type?
</A></li>
	<LI>Next message: <A HREF="005493.html">[openssl-users] regarding memory cleanup at end of each DTLS	session
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5472">[ date ]</a>
              <a href="thread.html#5472">[ thread ]</a>
              <a href="subject.html#5472">[ subject ]</a>
              <a href="author.html#5472">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
