<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Errors building 1.1.1 on RHEL 7
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Errors%20building%201.1.1%20on%20RHEL%207&In-Reply-To=%3C1563316027592.81632%40solarflare.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010866.html">
   <LINK REL="Next"  HREF="010870.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Errors building 1.1.1 on RHEL 7</H1>
    <B>Mark Richter</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Errors%20building%201.1.1%20on%20RHEL%207&In-Reply-To=%3C1563316027592.81632%40solarflare.com%3E"
       TITLE="Errors building 1.1.1 on RHEL 7">mrichter at solarflare.com
       </A><BR>
    <I>Tue Jul 16 22:27:05 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="010866.html">Errors building 1.1.1 on RHEL 7
</A></li>
        <LI>Next message: <A HREF="010870.html">Errors building 1.1.1 on RHEL 7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10867">[ date ]</a>
              <a href="thread.html#10867">[ thread ]</a>
              <a href="subject.html#10867">[ subject ]</a>
              <a href="author.html#10867">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I removed the directory, re-untarred the source, ran 'make clean', then 'make', then 'make TESTS=test_dsa V=1 test':

[<A HREF="../../../mailman/listinfo/openssl-users.html">root at sfsdr220d</A> openssl-1.1.1]# make TESTS=test_dsa V=1 test
make depend &amp;&amp; make _tests
make[1]: Entering directory `/tmp/openssl-1.1.1'
make[1]: Leaving directory `/tmp/openssl-1.1.1'
make[1]: Entering directory `/tmp/openssl-1.1.1'
( cd test; \
  mkdir -p test-runs; \
  SRCTOP=../. \
  BLDTOP=../. \
  RESULT_D=test-runs \
  PERL=&quot;/usr/bin/perl&quot; \
  EXE_EXT= \
  OPENSSL_ENGINES=`cd .././engines 2&gt;/dev/null &amp;&amp; pwd` \
  OPENSSL_DEBUG_MEMORY=on \
    /usr/bin/perl .././test/run_tests.pl test_dsa )
/tmp/openssl-1.1.1/test
../test/recipes/15-test_dsa.t ..
1..6
ok 1 - require '../../test/recipes/tconversion.pl';
    # Subtest: ../../test/dsatest
    1..1
    ok 1 - dsa_test
../../util/shlib_wrap.sh ../../test/dsatest =&gt; 0
ok 2 - running dsatest
    # Subtest: ../../test/dsa_no_digest_size_test
    1..3
    ok 1 - dsa_exact_size_test
    ok 2 - dsa_small_digest_test
    ok 3 - dsa_large_digest_test
../../util/shlib_wrap.sh ../../test/dsa_no_digest_size_test =&gt; 0
ok 3 - running dsa_no_digest_size_test
    1..10
    ok 1 - initializing
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -in dsa-fff.p -inform p -out dsa-f.d -outform d =&gt; 0
    ok 2 - p -&gt; d
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -in dsa-fff.p -inform p -out dsa-f.p -outform p =&gt; 0
    ok 3 - p -&gt; p
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -in dsa-f.d -inform d -out dsa-ff.dd -outform d =&gt; 0
    ok 4 - d -&gt; d
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -in dsa-f.p -inform p -out dsa-ff.pd -outform d =&gt; 0
    ok 5 - p -&gt; d
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -in dsa-f.d -inform d -out dsa-ff.dp -outform p =&gt; 0
    ok 6 - d -&gt; p
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -in dsa-f.p -inform p -out dsa-ff.pp -outform p =&gt; 0
    ok 7 - p -&gt; p
    ok 8 - comparing orig to p
    ok 9 - comparing p to dp
    ok 10 - comparing p to pp
ok 4 - dsa conversions -- private key
    1..10
../../util/shlib_wrap.sh ../../apps/openssl pkey -in ../../test/testdsa.pem -out dsa-fff.p =&gt; 0
    ok 1 - initializing
../../util/shlib_wrap.sh ../../apps/openssl pkey -in dsa-fff.p -inform p -out dsa-f.d -outform d =&gt; 0
    ok 2 - p -&gt; d
../../util/shlib_wrap.sh ../../apps/openssl pkey -in dsa-fff.p -inform p -out dsa-f.p -outform p =&gt; 0
    ok 3 - p -&gt; p
../../util/shlib_wrap.sh ../../apps/openssl pkey -in dsa-f.d -inform d -out dsa-ff.dd -outform d =&gt; 0
    ok 4 - d -&gt; d
../../util/shlib_wrap.sh ../../apps/openssl pkey -in dsa-f.p -inform p -out dsa-ff.pd -outform d =&gt; 0
    ok 5 - p -&gt; d
../../util/shlib_wrap.sh ../../apps/openssl pkey -in dsa-f.d -inform d -out dsa-ff.dp -outform p =&gt; 0
    ok 6 - d -&gt; p
../../util/shlib_wrap.sh ../../apps/openssl pkey -in dsa-f.p -inform p -out dsa-ff.pp -outform p =&gt; 0
    ok 7 - p -&gt; p
    ok 8 - comparing orig to p
    ok 9 - comparing p to dp
    ok 10 - comparing p to pp
ok 5 - dsa conversions -- private key PKCS\#8
    1..20
    ok 1 - initializing
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -pubin -pubout -in msb-fff.p -inform p -out msb-f.d -outform d =&gt; 0
    ok 2 - p -&gt; d
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -pubin -pubout -in msb-fff.p -inform p -out msb-f.p -outform p =&gt; 0
    ok 3 - p -&gt; p
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -pubin -pubout -in msb-fff.p -inform p -out msb-f.msblob -outform msblob =&gt; 0
    ok 4 - p -&gt; msblob
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -pubin -pubout -in msb-f.d -inform d -out msb-ff.dd -outform d =&gt; 0
    ok 5 - d -&gt; d
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -pubin -pubout -in msb-f.p -inform p -out msb-ff.pd -outform d =&gt; 0
    ok 6 - p -&gt; d
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -pubin -pubout -in msb-f.msblob -inform msblob -out msb-ff.msblobd -outform d =&gt; 0
    ok 7 - msblob -&gt; d
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -pubin -pubout -in msb-f.d -inform d -out msb-ff.dp -outform p =&gt; 0
    ok 8 - d -&gt; p
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -pubin -pubout -in msb-f.p -inform p -out msb-ff.pp -outform p =&gt; 0
    ok 9 - p -&gt; p
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -pubin -pubout -in msb-f.msblob -inform msblob -out msb-ff.msblobp -outform p =&gt; 0
    ok 10 - msblob -&gt; p
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -pubin -pubout -in msb-f.d -inform d -out msb-ff.dmsblob -outform msblob =&gt; 0
    ok 11 - d -&gt; msblob
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -pubin -pubout -in msb-f.p -inform p -out msb-ff.pmsblob -outform msblob =&gt; 0
    ok 12 - p -&gt; msblob
read DSA key
writing DSA key
../../util/shlib_wrap.sh ../../apps/openssl dsa -pubin -pubout -in msb-f.msblob -inform msblob -out msb-ff.msblobmsblob -outform msblob =&gt; 0
    ok 13 - msblob -&gt; msblob
    ok 14 - comparing orig to p
    ok 15 - comparing p to dp
    ok 16 - comparing p to pp
    ok 17 - comparing p to msblobp
    ok 18 - comparing msblob to dmsblob
    ok 19 - comparing msblob to pmsblob
    ok 20 - comparing msblob to msblobmsblob
ok 6 - dsa conversions -- public key
ok
All tests successful.
Files=1, Tests=6,  1 wallclock secs ( 0.02 usr  0.00 sys +  0.23 cusr  0.08 csys =  0.33 CPU)
Result: PASS
make[1]: Leaving directory `/tmp/openssl-1.1.1'
[<A HREF="../../../mailman/listinfo/openssl-users.html">root at sfsdr220d</A> openssl-1.1.1]# perl -v

This is perl 5, version 16, subversion 3 (v5.16.3) built for x86_64-linux-thread-multi
(with 33 registered patches, see perl -V for more detail)

Copyright 1987-2012, Larry Wall

Perl may be copied only under the terms of either the Artistic License or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using &quot;man perl&quot; or &quot;perldoc perl&quot;.  If you have access to the
Internet, point your browser at <A HREF="http://www.perl.org/,">http://www.perl.org/,</A> the Perl Home Page.


Mark Richter | Senior Staff Engineer
SolarFlare Communications, Inc. | www.Solarflare.com
9444 Waples Street, #170, San Diego, CA  92121
Mobile: +1 949-632-8403


________________________________________
From: openssl-users &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>&gt; on behalf of Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&gt;
Sent: Tuesday, July 16, 2019 3:20 PM
To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
Subject: Re: Errors building 1.1.1 on RHEL 7

On 16/07/2019 22:23, Mark Richter wrote:
&gt;<i> After I built version 1.1.1 on RHEL 7, I got these errors at the end of the 'make test.'  What do they mean?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Test Summary Report
</I>&gt;<i> -------------------
</I>&gt;<i> ../test/recipes/15-test_dsa.t                    (Wstat: 768 Tests: 6 Failed: 3)
</I>&gt;<i>   Failed tests:  4-6
</I>&gt;<i>   Non-zero exit status: 3
</I>
Looks like something fundamentally wrong to get this many errors (guess: perl
version is too low?)

Please run:

make TESTS=test_dsa V=1 test

Also lets see the output from:

perl -v

Matt


&gt;<i> ../test/recipes/15-test_ec.t                     (Wstat: 768 Tests: 5 Failed: 3)
</I>&gt;<i>   Failed tests:  3-5
</I>&gt;<i>   Non-zero exit status: 3
</I>&gt;<i> ../test/recipes/15-test_genrsa.t                 (Wstat: 1024 Tests: 5 Failed: 4)
</I>&gt;<i>   Failed tests:  2-5
</I>&gt;<i>   Non-zero exit status: 4
</I>&gt;<i> ../test/recipes/15-test_mp_rsa.t                 (Wstat: 7680 Tests: 31 Failed: 30)
</I>&gt;<i>   Failed tests:  2-31
</I>&gt;<i>   Non-zero exit status: 30
</I>&gt;<i> ../test/recipes/15-test_out_option.t             (Wstat: 256 Tests: 4 Failed: 1)
</I>&gt;<i>   Failed test:  2
</I>&gt;<i>   Non-zero exit status: 1
</I>&gt;<i> ../test/recipes/15-test_rsa.t                    (Wstat: 768 Tests: 6 Failed: 3)
</I>&gt;<i>   Failed tests:  4-6
</I>&gt;<i>   Non-zero exit status: 3
</I>&gt;<i> ../test/recipes/15-test_rsapss.t                 (Wstat: 512 Tests: 5 Failed: 2)
</I>&gt;<i>   Failed tests:  1, 5
</I>&gt;<i>   Non-zero exit status: 2
</I>&gt;<i> ../test/recipes/20-test_enc.t                    (Wstat: 256 Tests: 87 Failed: 1)
</I>&gt;<i>   Failed test:  2
</I>&gt;<i>   Non-zero exit status: 1
</I>&gt;<i>   Parse errors: Bad plan.  You planned 172 tests but ran 87.
</I>&gt;<i> ../test/recipes/20-test_enc_more.t               (Wstat: 256 Tests: 137 Failed: 1)
</I>&gt;<i>   Failed test:  2
</I>&gt;<i>   Non-zero exit status: 1
</I>&gt;<i> ../test/recipes/25-test_crl.t                    (Wstat: 768 Tests: 7 Failed: 3)
</I>&gt;<i>   Failed tests:  2, 6-7
</I>&gt;<i>   Non-zero exit status: 3
</I>&gt;<i> ../test/recipes/25-test_pkcs7.t                  (Wstat: 512 Tests: 3 Failed: 2)
</I>&gt;<i>   Failed tests:  2-3
</I>&gt;<i>   Non-zero exit status: 2
</I>&gt;<i> ../test/recipes/25-test_req.t                    (Wstat: 1024 Tests: 9 Failed: 4)
</I>&gt;<i>   Failed tests:  2, 7-9
</I>&gt;<i>   Non-zero exit status: 4
</I>&gt;<i> ../test/recipes/25-test_sid.t                    (Wstat: 256 Tests: 2 Failed: 1)
</I>&gt;<i>   Failed test:  2
</I>&gt;<i>   Non-zero exit status: 1
</I>&gt;<i> ../test/recipes/25-test_x509.t                   (Wstat: 1792 Tests: 9 Failed: 7)
</I>&gt;<i>   Failed tests:  2-8
</I>&gt;<i>   Non-zero exit status: 7
</I>&gt;<i> ../test/recipes/40-test_rehash.t                 (Wstat: 65280 Tests: 0 Failed: 0)
</I>&gt;<i>   Non-zero exit status: 255
</I>&gt;<i>   Parse errors: Bad plan.  You planned 4 tests but ran 0.
</I>&gt;<i> ../test/recipes/60-test_x509_store.t             (Wstat: 65280 Tests: 0 Failed: 0)
</I>&gt;<i>   Non-zero exit status: 255
</I>&gt;<i>   Parse errors: Bad plan.  You planned 3 tests but ran 0.
</I>&gt;<i> ../test/recipes/80-test_ca.t                     (Wstat: 256 Tests: 5 Failed: 1)
</I>&gt;<i>   Failed test:  1
</I>&gt;<i>   Non-zero exit status: 1
</I>&gt;<i> ../test/recipes/80-test_cms.t                    (Wstat: 1024 Tests: 4 Failed: 4)
</I>&gt;<i>   Failed tests:  1-4
</I>&gt;<i>   Non-zero exit status: 4
</I>&gt;<i> ../test/recipes/80-test_ocsp.t                   (Wstat: 512 Tests: 11 Failed: 2)
</I>&gt;<i>   Failed tests:  1, 10
</I>&gt;<i>   Non-zero exit status: 2
</I>&gt;<i> ../test/recipes/80-test_ssl_new.t                (Wstat: 6912 Tests: 27 Failed: 27)
</I>&gt;<i>   Failed tests:  1-27
</I>&gt;<i>   Non-zero exit status: 27
</I>&gt;<i> ../test/recipes/80-test_ssl_old.t                (Wstat: 1536 Tests: 6 Failed: 6)
</I>&gt;<i>   Failed tests:  1-6
</I>&gt;<i>   Non-zero exit status: 6
</I>&gt;<i> ../test/recipes/80-test_tsa.t                    (Wstat: 3328 Tests: 0 Failed: 0)
</I>&gt;<i>   Non-zero exit status: 13
</I>&gt;<i>   Parse errors: Bad plan.  You planned 20 tests but ran 0.
</I>&gt;<i> ../test/recipes/90-test_store.t                  (Wstat: 3328 Tests: 0 Failed: 0)
</I>&gt;<i>   Non-zero exit status: 13
</I>&gt;<i>   Parse errors: Bad plan.  You planned 209 tests but ran 0.
</I>&gt;<i> Files=152, Tests=850, 30 wallclock secs ( 0.38 usr  0.10 sys + 31.02 cusr  4.55 csys = 36.05 CPU)
</I>&gt;<i> Result: FAIL
</I>&gt;<i> make[1]: *** [_tests] Error 1
</I>&gt;<i> make[1]: Leaving directory `/home/mrichter/bin/openssl-1.1.1'
</I>&gt;<i> make: *** [tests] Error 2
</I>&gt;<i>
</I>&gt;<i> ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Mark Richter | Senior Staff Engineer
</I>&gt;<i> SolarFlare Communications, Inc. | www.Solarflare.com&lt;<A HREF="http://www.solarflare.com/">http://www.solarflare.com/</A>&gt;
</I>&gt;<i> 9444 Waples Street, #170, San Diego, CA  92121
</I>&gt;<i> Mobile: +1 949-632-8403
</I>&gt;<i> [Description: Description: cid:EC628FDE-ACA6-4F34-A8AE-E1F672D4E395]
</I>&gt;<i> The information contained in this message is confidential and is intended for the addressee(s) only. If you have received this message in error, please notify the sender immediately and delete the message. Unless you are an addressee (or authorized to receive for an addressee), you may not use, copy or disclose to anyone this message or any information contained in this message. The unauthorized use, disclosure, copying or alteration of this message is strictly prohibited.
</I>&gt;<i>
</I>The information contained in this message is confidential and is intended for the addressee(s) only. If you have received this message in error, please notify the sender immediately and delete the message. Unless you are an addressee (or authorized to receive for an addressee), you may not use, copy or disclose to anyone this message or any information contained in this message. The unauthorized use, disclosure, copying or alteration of this message is strictly prohibited.
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010866.html">Errors building 1.1.1 on RHEL 7
</A></li>
	<LI>Next message: <A HREF="010870.html">Errors building 1.1.1 on RHEL 7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10867">[ date ]</a>
              <a href="thread.html#10867">[ thread ]</a>
              <a href="subject.html#10867">[ subject ]</a>
              <a href="author.html#10867">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
