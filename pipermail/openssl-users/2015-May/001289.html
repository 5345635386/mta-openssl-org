<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Trying to understand DTLS (as it applies to webrtc)
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-May/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Trying%20to%20understand%20DTLS%20%28as%20it%20applies%20to%20webrtc%29&In-Reply-To=%3CCALBWJdV2G27uWvhGz%3DpWnbPC_7Q7gmgmth8-ct2vVBwVH138Nw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001294.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Trying to understand DTLS (as it applies to webrtc)</H1>
    <B>faraz khan</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Trying%20to%20understand%20DTLS%20%28as%20it%20applies%20to%20webrtc%29&In-Reply-To=%3CCALBWJdV2G27uWvhGz%3DpWnbPC_7Q7gmgmth8-ct2vVBwVH138Nw%40mail.gmail.com%3E"
       TITLE="[openssl-users] Trying to understand DTLS (as it applies to webrtc)">farazrkhan at gmail.com
       </A><BR>
    <I>Fri May  1 01:11:26 UTC 2015</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001294.html">[openssl-users] Trying to understand DTLS (as it applies to	webrtc)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1289">[ date ]</a>
              <a href="thread.html#1289">[ thread ]</a>
              <a href="subject.html#1289">[ subject ]</a>
              <a href="author.html#1289">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,
This is my first time posting to this list - so if theres a better place
for this question please let me know.

The problem I'm trying to fix applies to the Janus webrtc gateway (
<A HREF="https://github.com/meetecho/janus-gateway">https://github.com/meetecho/janus-gateway</A>) and my application which is
using native C++ webrtc.

What happens is that after hundreds of successful connections, sometimes
the Janus server is unable to negotiate a DTLS handshake and after a key
exchange the webrtc client replied with a DTLS Alert: Decrypt failed
message. I'm attaching a wireshark trace of the issue happening and one for
the correct negotiation.

The problem refuses to fix itself till Janus is restarted.

Both installations are using Openssl. Janus is compiled with version 1.0.1f

If someone can help explain how DTLS key exchange works and whats going
wrong in the above trace it would be great! I'm completely at a loss as far
as this is concerned!

Thanks all!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20150501/e38be86d/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20150501/e38be86d/attachment-0001.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: WebrtcDTLSNegotation.pcapng
Type: application/octet-stream
Size: 7272 bytes
Desc: not available
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20150501/e38be86d/attachment-0002.obj">http://mta.openssl.org/pipermail/openssl-users/attachments/20150501/e38be86d/attachment-0002.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: janusbaddtlsnegotiation.pcapng
Type: application/octet-stream
Size: 39736 bytes
Desc: not available
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20150501/e38be86d/attachment-0003.obj">http://mta.openssl.org/pipermail/openssl-users/attachments/20150501/e38be86d/attachment-0003.obj</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001294.html">[openssl-users] Trying to understand DTLS (as it applies to	webrtc)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1289">[ date ]</a>
              <a href="thread.html#1289">[ thread ]</a>
              <a href="subject.html#1289">[ subject ]</a>
              <a href="author.html#1289">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
