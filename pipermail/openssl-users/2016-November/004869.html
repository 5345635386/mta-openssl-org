<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] FW: Visual Studio compiler error for WinCE since OpenSSL version 1.0.1k
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20FW%3A%20Visual%20Studio%20compiler%20error%20for%20WinCE%0A%20since%20OpenSSL%20version%201.0.1k&In-Reply-To=%3C1b0c86bc-79aa-99af-6174-0e556691fe83%40wisemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004867.html">
   <LINK REL="Next"  HREF="004872.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] FW: Visual Studio compiler error for WinCE since OpenSSL version 1.0.1k</H1>
    <B>Jakob Bohm</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20FW%3A%20Visual%20Studio%20compiler%20error%20for%20WinCE%0A%20since%20OpenSSL%20version%201.0.1k&In-Reply-To=%3C1b0c86bc-79aa-99af-6174-0e556691fe83%40wisemo.com%3E"
       TITLE="[openssl-users] FW: Visual Studio compiler error for WinCE since OpenSSL version 1.0.1k">jb-openssl at wisemo.com
       </A><BR>
    <I>Tue Nov 22 07:49:02 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="004867.html">[openssl-users] FW: Visual Studio compiler error for WinCE since OpenSSL version 1.0.1k
</A></li>
        <LI>Next message: <A HREF="004872.html">[openssl-users] FW: Visual Studio compiler error for WinCE since OpenSSL version 1.0.1k
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4869">[ date ]</a>
              <a href="thread.html#4869">[ thread ]</a>
              <a href="subject.html#4869">[ subject ]</a>
              <a href="author.html#4869">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 21/11/2016 19:52, Eichenberger, John wrote:
&gt;<i>
</I>&gt;<i> I am building both OpenSSL and WPA Supplicant for use on a Windows 
</I>&gt;<i> Mobile 6.5 platform.
</I>&gt;<i>
</I>&gt;<i> The WPA Supplicant version in use is based upon the hostap_2_0 tag 
</I>&gt;<i> from <A HREF="http://w1.fi/hostap.git.">http://w1.fi/hostap.git.</A>
</I>&gt;<i>
</I>&gt;<i> The version of OpenSSL that we have been using until now is based upon 
</I>&gt;<i> the OpenSSL_1_0_1g from <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
</I>&gt;<i>
</I>&gt;<i> I can upgrade to OpenSSL_1_0_1j and still succeed.  But when I merge 
</I>&gt;<i> changes from OpenSSL_1_0_1k, all 802.1x authentication fails.
</I>&gt;<i>
</I>&gt;<i> I narrowed this problem down to a single line in 
</I>&gt;<i> crypto/constant_time_locl.h.  Attached is the patch set that I applied 
</I>&gt;<i> to resolve this issue for me.
</I>&gt;<i>
</I>&gt;<i> It is a confusing issue because I can compile that same bit of code in 
</I>&gt;<i> Visual Studio within a different trivial application and see that 
</I>&gt;<i> although the two methods for that bit of code produce slightly 
</I>&gt;<i> different assembly language, both should produce the same result.  And 
</I>&gt;<i> for that trivial application they do!  So why this difference breaks 
</I>&gt;<i> authentication for me when it is all thrown together makes no sense.
</I>&gt;<i>
</I>&gt;<i> In my patch set you can see that I also changed what compiler switches 
</I>&gt;<i> are used for the WinCE target.  That change did not appear to fix or 
</I>&gt;<i> break anything.
</I>&gt;<i>
</I>&gt;<i>
</I>I presume you are building for the ARM architecture since you
didn't specify.

Have you checked if reverting to the old compiler switches makes
1.0.1k work properly (even though it didn't break 1.0.1j)?

The entire thing looks like a compiler bug in handling the
expression used in 1.0.1k?

Enjoy

Jakob
-- 
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004867.html">[openssl-users] FW: Visual Studio compiler error for WinCE since OpenSSL version 1.0.1k
</A></li>
	<LI>Next message: <A HREF="004872.html">[openssl-users] FW: Visual Studio compiler error for WinCE since OpenSSL version 1.0.1k
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4869">[ date ]</a>
              <a href="thread.html#4869">[ thread ]</a>
              <a href="subject.html#4869">[ subject ]</a>
              <a href="author.html#4869">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
