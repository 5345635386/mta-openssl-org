<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Openssl not sending &quot;client hello&quot; request
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Openssl%20not%20sending%20%22client%20hello%22%20request&In-Reply-To=%3C3359041.zbmPLlVNxp%40polaris%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002654.html">
   <LINK REL="Next"  HREF="002656.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Openssl not sending &quot;client hello&quot; request</H1>
    <B>Felix Rubio Dalmau</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Openssl%20not%20sending%20%22client%20hello%22%20request&In-Reply-To=%3C3359041.zbmPLlVNxp%40polaris%3E"
       TITLE="[openssl-users] Openssl not sending &quot;client hello&quot; request">felix at kngnt.org
       </A><BR>
    <I>Tue Dec 29 19:11:59 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="002654.html">[openssl-users] Openssl not sending &quot;client hello&quot; request
</A></li>
        <LI>Next message: <A HREF="002656.html">[openssl-users] Openssl not sending &quot;client hello&quot; request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2655">[ date ]</a>
              <a href="thread.html#2655">[ thread ]</a>
              <a href="subject.html#2655">[ subject ]</a>
              <a href="author.html#2655">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

	I  have been searching for some time for a solution and I can not manage to 
solve my problem. I have a computer that can not connect to some sites, e.g. 
github, by using openssl. I am running a debian testing with all the updates 
available as of today, and libssl used is v1.0.2. If I execute:

&gt;<i> openssl s_client -connect github.com:443
</I>
The only answer I get is:

&gt;<i> CONNECTED(00000003)
</I>&gt;<i> 140058172421776:error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown
</I>&gt;<i> protocol:s23_clnt.c:794: ---
</I>&gt;<i> no peer certificate available
</I>&gt;<i> ---
</I>&gt;<i> No client certificate CA names sent
</I>&gt;<i> ---
</I>&gt;<i> SSL handshake has read 7 bytes and written 315 bytes
</I>&gt;<i> ---
</I>&gt;<i> New, (NONE), Cipher is (NONE)
</I>&gt;<i> Secure Renegotiation IS NOT supported
</I>&gt;<i> Compression: NONE
</I>&gt;<i> Expansion: NONE
</I>&gt;<i> No ALPN negotiated
</I>&gt;<i> 
</I>&gt;<i> SSL-Session:
</I>&gt;<i>     Protocol  : TLSv1.2
</I>&gt;<i>     Cipher    : 0000
</I>&gt;<i>     Session-ID:
</I>&gt;<i>     Session-ID-ctx:
</I>&gt;<i>     Master-Key:
</I>&gt;<i>     Key-Arg   : None
</I>&gt;<i>     PSK identity: None
</I>&gt;<i>     PSK identity hint: None
</I>&gt;<i>     SRP username: None
</I>&gt;<i>     Start Time: 1451415453
</I>&gt;<i>     Timeout   : 300 (sec)
</I>&gt;<i>     Verify return code: 0 (ok)
</I>&gt;<i> 
</I>&gt;<i> --- 
</I>
I have created a network namespace and executed the program inside while 
sniffing the traffic with tcpdump (See attached file). If I execute ***the same*** 
openssl binary on my arch linux, the program works flawlessly. If I obtain also 
the traffic on the arch, I see a difference: in my debian there is no 
clienthello sent to the server, whereas in arch linux it is. I would consider, 
under these circumstances, that is an environment problem in my debian. 
Therefore I have executed the same command on a completely fresh bash, without 
any strange environment vars, obtaining the same result.  Then I thought it 
could be related to any configuration file, but... I have not been able to find 
any :S

Can somebody give any hint? I would really appreciate it.
thank you!
Felix
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not_working.cap
Type: application/vnd.tcpdump.pcap
Size: 1815 bytes
Desc: not available
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20151229/af708c42/attachment.cap">http://mta.openssl.org/pipermail/openssl-users/attachments/20151229/af708c42/attachment.cap</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002654.html">[openssl-users] Openssl not sending &quot;client hello&quot; request
</A></li>
	<LI>Next message: <A HREF="002656.html">[openssl-users] Openssl not sending &quot;client hello&quot; request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2655">[ date ]</a>
              <a href="thread.html#2655">[ thread ]</a>
              <a href="subject.html#2655">[ subject ]</a>
              <a href="author.html#2655">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
