<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] sign sub CA issue
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20sign%20sub%20CA%20issue&In-Reply-To=%3C566AE86E.5090206%40wisemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002538.html">
   <LINK REL="Next"  HREF="002544.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] sign sub CA issue</H1>
    <B>Jakob Bohm</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20sign%20sub%20CA%20issue&In-Reply-To=%3C566AE86E.5090206%40wisemo.com%3E"
       TITLE="[openssl-users] sign sub CA issue">jb-openssl at wisemo.com
       </A><BR>
    <I>Fri Dec 11 15:14:54 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="002538.html">[openssl-users] sign sub CA issue
</A></li>
        <LI>Next message: <A HREF="002544.html">[openssl-users] sign sub CA issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2539">[ date ]</a>
              <a href="thread.html#2539">[ thread ]</a>
              <a href="subject.html#2539">[ subject ]</a>
              <a href="author.html#2539">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>1. Check if the certificate for your root CA specifies any
   &quot;path restrictions&quot; or similar that says that it cannot
   validly sign certificates outside some state or province.
    Having such restrictions in a root CA is GOOD whenever
   possible, because it limits the damage that can be done
   if the CA security is compromised, and because it limits
   the reasons other people might not want to install your
   root CA into their browsers/mail programs/computers.

2. Check if the settings in your openssl.cnf file specify
   that the &quot;StateOrProvince&quot; field needs to have a
   specific value when running the CA command.

If #1 is the issue, you cannot change it without
regenerating the self-signed root CA cert (using the same
key etc. for an easier transition) and then install the
new version of this cert in all the computers and programs
where the old version was installed.

If #2 is the issue, all you need to do is to find and
change that line in openssl.cnf .  That line almost
certainly says &quot;StateOrProvince&quot; on it, so it should
be easy to find.

On 11/12/2015 15:18, Mohammad Jebran wrote:
&gt;<i> Please can I have some advise on this query.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Jebran.
</I>&gt;<i>
</I>&gt;<i> On Tue, Dec 8, 2015 at 11:18 AM, Mohammad Jebran &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">imjebran at gmail.com</A> 
</I>&gt;<i> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">imjebran at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     I have to sign a sub-CA through my current root CA using
</I>&gt;<i>     openSSLeverything I have configured as per instructions but still
</I>&gt;<i>     getting an error that &quot;stateorProvanceName field needed to be the
</I>&gt;<i>     same&quot; As mentioned below.
</I>&gt;<i>
</I>&gt;<i>     /<A HREF="../../../mailman/listinfo/openssl-users.html">root at machine</A>:~/ImportantCACerts/intermediate# openssl ca
</I>&gt;<i>     -configopenssl.cnf -extensions v3_intermediate_ca -days 3650
</I>&gt;<i>     -notext -md sha256 -in csr/subca2.csr -out certs/subca2.crt/
</I>&gt;<i>
</I>&gt;<i>     /Using configuration from openssl.cnf/
</I>&gt;<i>
</I>&gt;<i>     /Check that the request matches the signature/
</I>&gt;<i>
</I>&gt;<i>     /Signature ok/
</I>&gt;<i>
</I>&gt;<i>     /The stateOrProvinceName field needed to be the same in the/
</I>&gt;<i>
</I>&gt;<i>     /CA certificate (HK) and the request (HK)/
</I>&gt;<i>
</I>&gt;<i>
</I>
Enjoy

Jakob
-- 
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20151211/46dd51ee/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20151211/46dd51ee/attachment.html</A>&gt;
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002538.html">[openssl-users] sign sub CA issue
</A></li>
	<LI>Next message: <A HREF="002544.html">[openssl-users] sign sub CA issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2539">[ date ]</a>
              <a href="thread.html#2539">[ thread ]</a>
              <a href="subject.html#2539">[ subject ]</a>
              <a href="author.html#2539">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
