<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] API SSL_Connect fails and always returns SSL_ERROR_WANT_READ causes infinite loop in application
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20API%20SSL_Connect%20fails%20and%20always%20returns%0A%20SSL_ERROR_WANT_READ%20causes%20infinite%20loop%20in%20application&In-Reply-To=%3C7a4b067c-ce3a-29dd-d05c-0caf045479eb%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006925.html">
   <LINK REL="Next"  HREF="006948.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] API SSL_Connect fails and always returns SSL_ERROR_WANT_READ causes infinite loop in application</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20API%20SSL_Connect%20fails%20and%20always%20returns%0A%20SSL_ERROR_WANT_READ%20causes%20infinite%20loop%20in%20application&In-Reply-To=%3C7a4b067c-ce3a-29dd-d05c-0caf045479eb%40openssl.org%3E"
       TITLE="[openssl-users] API SSL_Connect fails and always returns SSL_ERROR_WANT_READ causes infinite loop in application">matt at openssl.org
       </A><BR>
    <I>Tue Nov 14 11:05:29 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006925.html">[openssl-users] API SSL_Connect fails and always returns SSL_ERROR_WANT_READ causes infinite loop in application
</A></li>
        <LI>Next message: <A HREF="006948.html">[openssl-users] API SSL_Connect fails and always returns SSL_ERROR_WANT_READ causes infinite loop in application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6926">[ date ]</a>
              <a href="thread.html#6926">[ thread ]</a>
              <a href="subject.html#6926">[ subject ]</a>
              <a href="author.html#6926">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 14/11/17 10:44, mahesh gs wrote:

&gt;<i> case SSL_ERROR_SYSCALL:
</I>&gt;<i> 
</I>&gt;<i> if (EWOULDBLOCK == errno || EAGAIN == errno)
</I>&gt;<i> {
</I>&gt;<i> &#160; /* Nothing to do, retry to connect again */
</I>&gt;<i> }
</I>
This doesn't look right. If SSL_connect() fails due to an NBIO event
then you should get SSL_ERROR_WANT_READ or SSL_ERROR_WANT_WRITE back. If
you get SSL_ERROR_SYSCALL then something bad happened and you should not
retry. Could you add some logging here? I'm wondering whether you are
ending up here but missing it and looping around again.

Matt


</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006925.html">[openssl-users] API SSL_Connect fails and always returns SSL_ERROR_WANT_READ causes infinite loop in application
</A></li>
	<LI>Next message: <A HREF="006948.html">[openssl-users] API SSL_Connect fails and always returns SSL_ERROR_WANT_READ causes infinite loop in application
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6926">[ date ]</a>
              <a href="thread.html#6926">[ thread ]</a>
              <a href="subject.html#6926">[ subject ]</a>
              <a href="author.html#6926">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
