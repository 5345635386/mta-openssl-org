<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Facing issue while configuring SSL
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Facing%20issue%20while%20configuring%20SSL&In-Reply-To=%3Cb423862d-edfd-cc60-f3cb-db70639865b2%40wisemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004018.html">
   <LINK REL="Next"  HREF="004021.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Facing issue while configuring SSL</H1>
    <B>Jakob Bohm</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Facing%20issue%20while%20configuring%20SSL&In-Reply-To=%3Cb423862d-edfd-cc60-f3cb-db70639865b2%40wisemo.com%3E"
       TITLE="[openssl-users] Facing issue while configuring SSL">jb-openssl at wisemo.com
       </A><BR>
    <I>Tue Jul 12 09:42:13 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="004018.html">[openssl-users] Facing issue while configuring SSL
</A></li>
        <LI>Next message: <A HREF="004021.html">[openssl-users] Facing issue while configuring SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4020">[ date ]</a>
              <a href="thread.html#4020">[ thread ]</a>
              <a href="subject.html#4020">[ subject ]</a>
              <a href="author.html#4020">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/07/2016 10:55, Devendra Sengar wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> This is regarding the configuration of Tomcat SSL using the APR 
</I>&gt;<i> library on Java 6.
</I>&gt;<i>
</I>&gt;<i> While starting the server I am getting the below error:
</I>&gt;<i>
</I>&gt;<i> SEVERE: Failed to initialize end point associated with ProtocolHandler 
</I>&gt;<i> [&quot;http-apr-443&quot;]
</I>&gt;<i> java.lang.Exception: Unable to load certificate key 
</I>&gt;<i> conf/localhost-key.pem (error:02001003:system library:fopen:No such 
</I>&gt;<i> process)
</I>&gt;<i>
</I>Not sure if Tomcat is using OpenSSL or not...

&gt;<i> I am trying to implement SSL using independent libraries for OpenSSL, 
</I>&gt;<i> Tomcat Native and Apache Portable Runtime.
</I>&gt;<i>
</I>&gt;<i> I have downloaded precompiled versions of OpenSSL and Tomcat Native 
</I>&gt;<i> (see them attached). I have tried compiling the Apache Portable 
</I>&gt;<i> Runtime using Visual Studio (find it also attached).
</I>&gt;<i>
</I>&gt;<i> I am running those libraries on either Tomcat 7.0.6 or 7.0.70 64-bit 
</I>&gt;<i> for Windows (using the 64-bit distro, not the installer one).
</I>&gt;<i>
</I>&gt;<i> We are restricted by our applicatioin to use Oracle Java 6 Updated 115 
</I>&gt;<i> 64-bit.
</I>&gt;<i>
</I>That is really unfortunate, given that I don't think there
are current security updates for Java 1.6 (maybe there is
if you pay Oracle for an expensive license/subscription).

&gt;<i> The versions of the libraries I am using are the latest available 
</I>&gt;<i> online, again see the binaries attached.
</I>&gt;<i>
</I>&gt;<i> The parameters used in the server.xml file are:
</I>&gt;<i>
</I>&gt;<i> For Tomcat 7.0.6:
</I>&gt;<i> &lt;Connector
</I>&gt;<i> protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot;
</I>&gt;<i> port=&quot;443&quot; maxThreads=&quot;200&quot;
</I>&gt;<i> scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot;
</I>&gt;<i> SSLCertificateFile=&quot;conf/localhost-cert.pem&quot;
</I>&gt;<i> SSLCertificateKeyFile=&quot;conf/localhost-key.pem&quot;
</I>&gt;<i> SSLCertificateChainFile=&quot;conf/ca.crt&quot;
</I>&gt;<i> SSLVerifyClient=&quot;optional&quot; SSLProtocol=&quot;TLSv1&quot;
</I>&gt;<i> SSLCipherSuite=&quot;HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!kRSA&quot;/&gt;
</I>&gt;<i>
</I>&gt;<i> For Tomcat 7.0.70
</I>&gt;<i>
</I>&gt;<i> &lt;Connector
</I>&gt;<i> protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot;
</I>&gt;<i> port=&quot;443&quot; maxThreads=&quot;200&quot;
</I>&gt;<i> scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot;
</I>&gt;<i> SSLCertificateFile=&quot;conf/localhost-cert.pem&quot;
</I>&gt;<i> SSLCertificateKeyFile=&quot;conf/localhost-key.pem&quot;
</I>&gt;<i> SSLCertificateChainFile=&quot;conf/ca.crt&quot;
</I>&gt;<i> SSLVerifyClient=&quot;optional&quot; SSLProtocol=&quot;TLSv1_2&quot;
</I>&gt;<i> SSLCipherSuite=&quot;HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!kRSA&quot;/&gt;
</I>&gt;<i>
</I>&gt;<i> The library files are in the tomcat bin folder as openssl.exe, 
</I>&gt;<i> tcnative-1.dll and libapr-1.dll.
</I>&gt;<i>
</I>&gt;<i> tcnative-1.dll: 
</I>&gt;<i> <A HREF="https://drive.google.com/file/d/0ByilOlQCXOkWQ1ZCckhodHBvQk0/view?usp=sharing">https://drive.google.com/file/d/0ByilOlQCXOkWQ1ZCckhodHBvQk0/view?usp=sharing</A>
</I>&gt;<i> openssl.exe: 
</I>&gt;<i> <A HREF="https://drive.google.com/file/d/0ByilOlQCXOkWQk9KUUJSb3ZqeW8/view?usp=sharing">https://drive.google.com/file/d/0ByilOlQCXOkWQk9KUUJSb3ZqeW8/view?usp=sharing</A>
</I>&gt;<i> libapr-1.dll: 
</I>&gt;<i> <A HREF="https://drive.google.com/file/d/0ByilOlQCXOkWV09NTi0tNWxhZnM/view?usp=sharing">https://drive.google.com/file/d/0ByilOlQCXOkWV09NTi0tNWxhZnM/view?usp=sharing</A>
</I>&gt;<i>
</I>openssl.exe is not the library, it is a command line tool for
doing various things (such as requesting certificates, converting
key file formats etc.)

The library consists of two files with .dll file extension,
libeay32.dll for basic crypto and ssleay32.dll for the actual
SSL/TLS code.

&gt;<i>
</I>&gt;<i> The same certificates files mentioned in the server.xml file were used 
</I>&gt;<i> and work in a brand new Apache web server.
</I>&gt;<i>
</I>&gt;<i> Please let us know your opinion of what can cause those errors?
</I>&gt;<i>
</I>&gt;<i> Can it be because of a APR dll not compiled properly?
</I>&gt;<i>
</I>&gt;<i> Any other idea?
</I>&gt;<i>
</I>
Enjoy

Jakob
-- 
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20160712/0f24eca8/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20160712/0f24eca8/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004018.html">[openssl-users] Facing issue while configuring SSL
</A></li>
	<LI>Next message: <A HREF="004021.html">[openssl-users] Facing issue while configuring SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4020">[ date ]</a>
              <a href="thread.html#4020">[ thread ]</a>
              <a href="subject.html#4020">[ subject ]</a>
              <a href="author.html#4020">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
