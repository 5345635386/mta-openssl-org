<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] How to turn on certain elements in CMS objects
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20How%20to%20turn%20on%20certain%20elements%20in%20CMS%20objects&In-Reply-To=%3C20160706140221.GA17419%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003991.html">
   <LINK REL="Next"  HREF="003993.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] How to turn on certain elements in CMS objects</H1>
    <B>Dr. Stephen Henson</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20How%20to%20turn%20on%20certain%20elements%20in%20CMS%20objects&In-Reply-To=%3C20160706140221.GA17419%40openssl.org%3E"
       TITLE="[openssl-users] How to turn on certain elements in CMS objects">steve at openssl.org
       </A><BR>
    <I>Wed Jul  6 14:02:21 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003991.html">[openssl-users] How to turn on certain elements in CMS objects
</A></li>
        <LI>Next message: <A HREF="003993.html">[openssl-users] How to turn on certain elements in CMS objects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3992">[ date ]</a>
              <a href="thread.html#3992">[ thread ]</a>
              <a href="subject.html#3992">[ subject ]</a>
              <a href="author.html#3992">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jul 06, 2016, Dr. Stephen Henson wrote:

&gt;<i> On Fri, Jul 01, 2016, Stephan M?hlstrasser wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; First the AlgorithmIdentifier includes the EC curve name:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;   40   19:               SEQUENCE {
</I>&gt;<i> &gt;   42    7:                 OBJECT IDENTIFIER ecPublicKey (1 2 840
</I>&gt;<i> &gt; 10045 2 1)
</I>&gt;<i> &gt;   51    8:                 OBJECT IDENTIFIER ansiX9p256r1 (1 2 840
</I>&gt;<i> &gt; 10045 3 1 7)
</I>&gt;<i> &gt;          :                 }
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; In CMS objects created with OpenSSL with the same recipient
</I>&gt;<i> &gt; certificate, the curve name is always omitted. Is it possible to
</I>&gt;<i> &gt; make OpenSSL emit the curve name as well?
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> No as this is a violation of the standards. From RFC3278:
</I>&gt;<i> 
</I>&gt;<i>       originator MUST be the alternative originatorKey.  The
</I>&gt;<i>       originatorKey algorithm field MUST contain the id-ecPublicKey
</I>&gt;<i>       object identifier (see Section 8.1) with NULL parameters.  The
</I>&gt;<i>       originatorKey publicKey field MUST contain the DER-encoding of a
</I>&gt;<i>       value of the ASN.1 type ECPoint (see Section 8.2), which
</I>&gt;<i>       represents the sending agent's ephemeral EC public key.
</I>&gt;<i> 
</I>
Correction... that is not allowed by RFC3278 but is allowed in RFC5753 but
OpenSSL doesn't currently generate that format. It's not clear what purpose it
serves as the EC parameters are specified in the recipient's key and
certificate anyway.

Steve.
--
Dr Stephen N. Henson. OpenSSL project core developer.
Commercial tech support now available see: <A HREF="http://www.openssl.org">http://www.openssl.org</A>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003991.html">[openssl-users] How to turn on certain elements in CMS objects
</A></li>
	<LI>Next message: <A HREF="003993.html">[openssl-users] How to turn on certain elements in CMS objects
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3992">[ date ]</a>
              <a href="thread.html#3992">[ thread ]</a>
              <a href="subject.html#3992">[ subject ]</a>
              <a href="author.html#3992">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
