<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] private key difference: openssl genrsa vs opnessl req newkey
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20private%20key%20difference%3A%20openssl%20genrsa%20vs%0A%20opnessl%20req%20newkey&In-Reply-To=%3C9e1b4814-7379-b476-2818-aed1cefe7312%40akamai.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006159.html">
   <LINK REL="Next"  HREF="006161.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] private key difference: openssl genrsa vs opnessl req newkey</H1>
    <B>Benjamin Kaduk</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20private%20key%20difference%3A%20openssl%20genrsa%20vs%0A%20opnessl%20req%20newkey&In-Reply-To=%3C9e1b4814-7379-b476-2818-aed1cefe7312%40akamai.com%3E"
       TITLE="[openssl-users] private key difference: openssl genrsa vs opnessl req newkey">bkaduk at akamai.com
       </A><BR>
    <I>Wed Jul 26 16:29:15 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006159.html">[openssl-users] private key difference: openssl genrsa vs opnessl	req newkey
</A></li>
        <LI>Next message: <A HREF="006161.html">[openssl-users] private key difference: openssl genrsa vs opnessl req newkey
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6160">[ date ]</a>
              <a href="thread.html#6160">[ thread ]</a>
              <a href="subject.html#6160">[ subject ]</a>
              <a href="author.html#6160">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/26/2017 10:13 AM, Michele Mase' wrote:
&gt;<i> During the generation of x509 certificates, both commands give the
</I>&gt;<i> same results:
</I>&gt;<i>
</I>&gt;<i> Command &quot;a&quot;: openssl req -nodes -newkey rsa:2048 -keyout example.key
</I>&gt;<i> -out example.csr -subj &quot;/C=GB/ST=London/L=London/O=Global
</I>&gt;<i> Security/OU=IT Department/CN=example.com
</I>&gt;<i> &lt;<A HREF="https://urldefense.proofpoint.com/v2/url?u=http-3A__example.com&amp;d=DwMFaQ&amp;c=96ZbZZcaMF4w0F4jpN6LZg&amp;r=sssDLkeEEBWNIXmTsdpw8TZ3tAJx-Job4p1unc7rOhM&amp;m=SvmGwnxF6Arf5U_XmN1vPPpie6IFH3h5CkVhveCn26I&amp;s=AMT2W-m9xgiUsKMETv-WcWALqfQnX1rujJdNTJsVz1E&amp;e=">https://urldefense.proofpoint.com/v2/url?u=http-3A__example.com&amp;d=DwMFaQ&amp;c=96ZbZZcaMF4w0F4jpN6LZg&amp;r=sssDLkeEEBWNIXmTsdpw8TZ3tAJx-Job4p1unc7rOhM&amp;m=SvmGwnxF6Arf5U_XmN1vPPpie6IFH3h5CkVhveCn26I&amp;s=AMT2W-m9xgiUsKMETv-WcWALqfQnX1rujJdNTJsVz1E&amp;e=</A>&gt;&quot;
</I>&gt;<i> Command &quot;b&quot;: openssl genrsa -out example.key
</I>&gt;<i>
</I>&gt;<i> Both commands give me a private key without password, a key that is
</I>&gt;<i> not encrypted.
</I>&gt;<i> To remove the passphrase from private key, I use the
</I>&gt;<i> Command &quot;c&quot;:openssl rsa -in example.key -out example2.key
</I>&gt;<i>
</I>&gt;<i> The command &quot;c&quot; against the example.key generated by command &quot;a&quot;,
</I>&gt;<i> gives the same private key with different content between --BEGIN RSA
</I>&gt;<i> and --END RSA. Simply, try the following:
</I>&gt;<i> diff example.key example2.key, the files are different.
</I>&gt;<i>
</I>&gt;<i> The command &quot;c&quot; against example.key generate by the command &quot;b&quot;
</I>&gt;<i> produces the same file. No differences.
</I>&gt;<i>
</I>&gt;<i> Why?
</I>&gt;<i> Perhaps I missed something in openssl manual ... :(
</I>&gt;<i> These differenced gave me troubles using custom certificates in some
</I>&gt;<i> software.
</I>&gt;<i> Any suggestion?
</I>
The output from openssl req includes an additional layer of encoding and
the rsaEncryption OID around the actual key parameters, as can be seen
using openssl asn1parse.  The conversion with 'openssl rsa' removes that
extra encoding.

-Ben
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20170726/93760baa/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20170726/93760baa/attachment.html</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006159.html">[openssl-users] private key difference: openssl genrsa vs opnessl	req newkey
</A></li>
	<LI>Next message: <A HREF="006161.html">[openssl-users] private key difference: openssl genrsa vs opnessl req newkey
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6160">[ date ]</a>
              <a href="thread.html#6160">[ thread ]</a>
              <a href="subject.html#6160">[ subject ]</a>
              <a href="author.html#6160">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
