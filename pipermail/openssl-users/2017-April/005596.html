<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] EVP Functions
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20EVP%20Functions&In-Reply-To=%3CB550B44BF8AF314BB00C4E2AC1C1808801A9A3DF79%40prvxmb03.microfocus.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005595.html">
   <LINK REL="Next"  HREF="005598.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] EVP Functions</H1>
    <B>Michael Wojcik</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20EVP%20Functions&In-Reply-To=%3CB550B44BF8AF314BB00C4E2AC1C1808801A9A3DF79%40prvxmb03.microfocus.com%3E"
       TITLE="[openssl-users] EVP Functions">Michael.Wojcik at microfocus.com
       </A><BR>
    <I>Wed Apr 12 15:13:23 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="005595.html">[openssl-users] EVP Functions
</A></li>
        <LI>Next message: <A HREF="005598.html">[openssl-users] CA validation.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5596">[ date ]</a>
              <a href="thread.html#5596">[ thread ]</a>
              <a href="subject.html#5596">[ subject ]</a>
              <a href="author.html#5596">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On Behalf Of Eudald Sabat&#233; Creixell
</I>&gt;<i> Sent: Wednesday, April 12, 2017 10:43
</I>
&gt;<i> First of all I'm new to OpenSSL and EVP functions. I've been using them in a project in order to encrypt/decrypt files
</I>&gt;<i>  using 256-bit AES in CBC mode, and using these functions to entirely encrypt/decrypt a file I've found any problem.
</I>&gt;<i>  Now, I've been asked to decrypt a file partially, and the problem we've found is that when decrypting it block by block,
</I>&gt;<i>  if the block to be decrypted is not the first one I have rubbish characters. But when decrypting all the content of the 
</I>&gt;<i> file, starting by the beginning block these characters does not appear.
</I>&gt;<i> So, my question is if it is possible to decrypt a file partially, and I will be very grateful if you could help me.
</I>
In CBC mode, the previous block's ciphertext is the IV for the current block. To skip ahead to block N, you need to use block N-1's ciphertext as the IV. If my understanding is correct (I haven't actually tried implementing this), that's all you should need.

Doing this using OpenSSL's EVP API is left as an exercise for the reader.

If you're doing anything non-trivial with cryptography, and not using a very high-level interface above a robust implementation, you need to understand the subject. Anything less is the royal road to compromising the security of your system. There are some decent Wikipedia articles (the one on &quot;Block cipher modes of operation&quot; would have answered this question), but really if you're going to be working at this level you should start with a general introduction such as /Applied Cryptography/.

Even then, cryptography is a complex professional specialization, even if you're not working in cryptographic research or cryptanalysis. It's an area where a little knowledge is a very dangerous thing. I say this as someone who doesn't know enough about the subject to develop cryptographic protocols (much less primitives), despite having studied it for many years.

Michael Wojcik 
Distinguished Engineer, Micro Focus 



</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005595.html">[openssl-users] EVP Functions
</A></li>
	<LI>Next message: <A HREF="005598.html">[openssl-users] CA validation.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5596">[ date ]</a>
              <a href="thread.html#5596">[ thread ]</a>
              <a href="subject.html#5596">[ subject ]</a>
              <a href="author.html#5596">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
