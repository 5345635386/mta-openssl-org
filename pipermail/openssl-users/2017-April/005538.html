<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] OpenSSL sending close_notify rightafterresponding to a heartbeat request
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20OpenSSL%20sending%20close_notify%0A%20rightafterresponding%20to%20a%20heartbeat%20request&In-Reply-To=%3CCAMSoAtA50udK-PZzz7ssSCRt2Aptii0PyW_EE0KqRrWJgkN5rw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005546.html">
   <LINK REL="Next"  HREF="005539.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] OpenSSL sending close_notify rightafterresponding to a heartbeat request</H1>
    <B>R Kaja Mohideen</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20OpenSSL%20sending%20close_notify%0A%20rightafterresponding%20to%20a%20heartbeat%20request&In-Reply-To=%3CCAMSoAtA50udK-PZzz7ssSCRt2Aptii0PyW_EE0KqRrWJgkN5rw%40mail.gmail.com%3E"
       TITLE="[openssl-users] OpenSSL sending close_notify rightafterresponding to a heartbeat request">reachme at kajasweb.com
       </A><BR>
    <I>Mon Apr  3 16:57:33 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="005546.html">[openssl-users] Query regarding upgrading TLS compatibility
</A></li>
        <LI>Next message: <A HREF="005539.html">[openssl-users] verify depth behavior change from 1.0.2 to	1.1.0?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5538">[ date ]</a>
              <a href="thread.html#5538">[ thread ]</a>
              <a href="subject.html#5538">[ subject ]</a>
              <a href="author.html#5538">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Still - I couldn't find the root-cause why OpenSSL is closing after
responding. Any pointers about which area of codebase is causing this
will be very helpful. Is there any commercial support available for
OpenSSL?

On Wed, Mar 29, 2017 at 6:47 AM, Kaja Mohideen &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">reachme at kajasweb.com</A>&gt; wrote:
&gt;<i> It responds and then closes.
</I>&gt;<i> ________________________________
</I>&gt;<i> From: Jakob Bohm
</I>&gt;<i> Sent: &#8206;29-&#8206;03-&#8206;2017 12:19 AM
</I>&gt;<i> To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i>
</I>&gt;<i> Subject: Re: [openssl-users] OpenSSL sending close_notify
</I>&gt;<i> rightafterresponding to a heartbeat request
</I>&gt;<i>
</I>&gt;<i> Just to clarify: Does it respond to the heartbeat before closing
</I>&gt;<i> the session, or does it just close the session when you try to
</I>&gt;<i> trigger the heartbeat/bleed code?
</I>&gt;<i>
</I>&gt;<i> On 28/03/2017 16:29, Kaja Mohideen wrote:
</I>&gt;&gt;<i> Thanks for the response, Micheal Wojcik. Any idea what is making
</I>&gt;&gt;<i> OpenSSL close the session after responding to Heartbeat request?
</I>&gt;&gt;<i> ------------------------------------------------------------------------
</I>&gt;&gt;<i> From: Michael Wojcik &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">Michael.Wojcik at microfocus.com</A>&gt;
</I>&gt;&gt;<i> Sent: &#8206;28-&#8206;03-&#8206;2017 07:46 PM
</I>&gt;&gt;<i> To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;
</I>&gt;&gt;<i> Subject: Re: [openssl-users] OpenSSL sending close_notify right
</I>&gt;&gt;<i> afterresponding to a heartbeat request
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On Behalf
</I>&gt;&gt;<i> &gt; Of R Kaja Mohideen
</I>&gt;&gt;<i> &gt; Sent: Monday, March 27, 2017 13:55
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I'm surprised to see that I'm not able to get the caller details using
</I>&gt;&gt;<i> &gt; backtrace. Is it due to architecture of OpenSSL or something which
</I>&gt;&gt;<i> &gt; makes OpenSSL to use a new thread for invoking ssl_shutdown?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I suspect it's due to compiler optimization, a lack of symbols in the
</I>&gt;&gt;<i> caller, or some other generic obstacle to backtracing, and not
</I>&gt;&gt;<i> anything OpenSSL is doing.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Enjoy
</I>&gt;<i>
</I>&gt;<i> Jakob
</I>&gt;<i> --
</I>&gt;<i> Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
</I>&gt;<i> Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
</I>&gt;<i> This public discussion message is non-binding and may contain errors.
</I>&gt;<i> WiseMo - Remote Service Management for PCs, Phones and Embedded
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> openssl-users mailing list
</I>&gt;<i> To unsubscribe: <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I></PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005546.html">[openssl-users] Query regarding upgrading TLS compatibility
</A></li>
	<LI>Next message: <A HREF="005539.html">[openssl-users] verify depth behavior change from 1.0.2 to	1.1.0?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5538">[ date ]</a>
              <a href="thread.html#5538">[ thread ]</a>
              <a href="subject.html#5538">[ subject ]</a>
              <a href="author.html#5538">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
