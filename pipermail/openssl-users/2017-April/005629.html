<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Query regarding DTLS handshake
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Query%20regarding%20DTLS%20handshake&In-Reply-To=%3C3edfe49d-6774-caae-d162-9c745a0f6b56%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005735.html">
   <LINK REL="Next"  HREF="005639.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Query regarding DTLS handshake</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Query%20regarding%20DTLS%20handshake&In-Reply-To=%3C3edfe49d-6774-caae-d162-9c745a0f6b56%40openssl.org%3E"
       TITLE="[openssl-users] Query regarding DTLS handshake">matt at openssl.org
       </A><BR>
    <I>Wed Apr 19 13:26:37 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="005735.html">[openssl-users] Query regarding DTLS handshake
</A></li>
        <LI>Next message: <A HREF="005639.html">[openssl-users] Query regarding DTLS handshake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5629">[ date ]</a>
              <a href="thread.html#5629">[ thread ]</a>
              <a href="subject.html#5629">[ subject ]</a>
              <a href="author.html#5629">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>For those following this discussion Mahesh has created a github issue
with much more detail (at least I am assuming this is the same issue):

<A HREF="https://github.com/openssl/openssl/issues/3251">https://github.com/openssl/openssl/issues/3251</A>

Matt


On 18/04/17 21:17, Michael Tuexen wrote:
&gt;&gt;<i> On 13. Apr 2017, at 11:11, mahesh gs &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">mahesh116 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We are running SCTP connections with DTLS enabled in our application. We have adapted openssl version (openssl-1.1.0e) to achieve the same.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We have generated the self signed root and node certificates for testing. We have a strange problem with the incomplete DTLS handshake if we run the DTLS client and DTLS server is different systems.If we run the DTLS client and server in same system handshake is successful, handshake is not successful if run client and server in different VM's.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This strange problem happens only for SCTP/DTLS connection. With the same set of certificates TCP/TLS connection is successful and we are able to exchange the application data.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am attaching the code bits for SSL_accept and SSL_connect and also the wireshark trace of unsuccessful handshake. Please assist me to debug this problem.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> SSL_accept returns  SSL_ERROR_WANT_READ(2) infinite times but SSL_connect is called 4 or 5 times and select system call timeout.
</I>&gt;<i> Which OS are you using? With a test program I could reproduce SSL_accept() returning SSL_ERROR_WANT_READ under FreeBSD,
</I>&gt;<i> but not under Linux. Haven't figured out what the problem is. So if you are using FreeBSD we might experience the same problem...
</I>&gt;<i> 
</I>&gt;<i> Best regards
</I>&gt;<i> Michael
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks,
</I>&gt;&gt;<i> Mahesh G S
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;testcode.txt&gt;&lt;proxy.cap&gt;-- 
</I>&gt;&gt;<i> openssl-users mailing list
</I>&gt;&gt;<i> To unsubscribe: <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>&gt;<i> 
</I></PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005735.html">[openssl-users] Query regarding DTLS handshake
</A></li>
	<LI>Next message: <A HREF="005639.html">[openssl-users] Query regarding DTLS handshake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5629">[ date ]</a>
              <a href="thread.html#5629">[ thread ]</a>
              <a href="subject.html#5629">[ subject ]</a>
              <a href="author.html#5629">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
