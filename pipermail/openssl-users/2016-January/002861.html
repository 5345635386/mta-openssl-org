<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] SSL_accept appears to be stuck
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20SSL_accept%20appears%20to%20be%20stuck&In-Reply-To=%3CCAAiLFwB7vNEHtVdG_UHcLHmEGoVricsMHvsgHXzchsFuy%2B5DoQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002860.html">
   <LINK REL="Next"  HREF="002862.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] SSL_accept appears to be stuck</H1>
    <B>Prabhu S</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20SSL_accept%20appears%20to%20be%20stuck&In-Reply-To=%3CCAAiLFwB7vNEHtVdG_UHcLHmEGoVricsMHvsgHXzchsFuy%2B5DoQ%40mail.gmail.com%3E"
       TITLE="[openssl-users] SSL_accept appears to be stuck">yesprabhu at gmail.com
       </A><BR>
    <I>Wed Jan 27 07:17:06 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="002860.html">[openssl-users] A path for feature obsolescence
</A></li>
        <LI>Next message: <A HREF="002862.html">[openssl-users] SSL version status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2861">[ date ]</a>
              <a href="thread.html#2861">[ thread ]</a>
              <a href="subject.html#2861">[ subject ]</a>
              <a href="author.html#2861">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have an SSL server, which has, suddenly stopped processing client
requests.


I see the following error.


&gt;&gt;<i> SSL_GET_NEW_SESSION:ssl session id callback failed.
</I>

Exactly after 15 seconds of calling SSL_accept, the error is seen. The
socket is non-blocking. The application was running fine for about 10 days.
The problem started suddenly and thereafter, each and every call fails with
the above error. And each time it is 15 seconds.


The application has 20 worker threads and one epoll thread which handles
data and hands it over to worker threads for processing.


The epoll thread gets client-hello, notifies the worker thread which calls
SSL_accept.


Any thoughts on why SSL_accept would not return even if socket is
non-blocking.


-Prabhu.S
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20160127/db630d6a/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20160127/db630d6a/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002860.html">[openssl-users] A path for feature obsolescence
</A></li>
	<LI>Next message: <A HREF="002862.html">[openssl-users] SSL version status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2861">[ date ]</a>
              <a href="thread.html#2861">[ thread ]</a>
              <a href="subject.html#2861">[ subject ]</a>
              <a href="author.html#2861">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
