<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> using TLS (&gt;1.2) with more than one certificate
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2022-May/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20using%20TLS%20%28%3E1.2%29%20with%20more%20than%20one%20certificate&In-Reply-To=%3Cmemo.20220524161024.12352A%40magsys.adsl.magsys.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015203.html">
   <LINK REL="Next"  HREF="015205.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>using TLS (&gt;1.2) with more than one certificate</H1>
    <B>Angus Robertson - Magenta Systems Ltd</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20using%20TLS%20%28%3E1.2%29%20with%20more%20than%20one%20certificate&In-Reply-To=%3Cmemo.20220524161024.12352A%40magsys.adsl.magsys.co.uk%3E"
       TITLE="using TLS (&gt;1.2) with more than one certificate">angus at magsys.co.uk
       </A><BR>
    <I>Tue May 24 15:10:00 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015203.html">using TLS (&gt;1.2) with more than one certificate
</A></li>
        <LI>Next message (by thread): <A HREF="015205.html">using TLS (&gt;1.2) with more than one certificate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15204">[ date ]</a>
              <a href="thread.html#15204">[ thread ]</a>
              <a href="subject.html#15204">[ subject ]</a>
              <a href="author.html#15204">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> I_ve a server application and need to support RSA and ECC 
</I>&gt;&gt;<i> clients at the same time.
</I>&gt;<i>
</I>&gt;<i> Configure the server's SSL_CTX with both certificate chains and 
</I>&gt;<i> the private keys for the two entity certificates, and for older 
</I>&gt;<i> TLS versions the server will select the appropriate chain based 
</I>&gt;<i> on the cipher-suite list in the ClientHello. 
</I>
Side tracking slightly, I have only ECC certificates on my web, mail
and FTP servers, and SSL Labs says the only browser that can not
connect to them is Chrome 49 on Windows XP SP3.  

Is there another reason I should be duplicating all my ECC certificates
with RSA versions?

I do see a lot of SSL connection errors in my logs, but assume these
are mostly hackers or trackers with software not able to support
TLS/1.2, usually with a blank SNI and ALPN and often no extensions in
the client hello.  One had 'Versions: TLSv1.1, TLSv1.3 Key Share Data'
so got unsupported protocol.  

error:0A000102:SSL routines::unsupported protocol
error:0A000418:SSL routines::tlsv1 alert unknown ca
error:0A0000C1:SSL routines::no shared cipher
error:0A00006C:SSL routines::bad key share
error:0A000413:SSL routines::sslv3 alert unsupported certificate

Also lots of unexpected closes during handshake, and HTTP requests with
no handshake.  

Angus

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015203.html">using TLS (&gt;1.2) with more than one certificate
</A></li>
	<LI>Next message (by thread): <A HREF="015205.html">using TLS (&gt;1.2) with more than one certificate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15204">[ date ]</a>
              <a href="thread.html#15204">[ thread ]</a>
              <a href="subject.html#15204">[ subject ]</a>
              <a href="author.html#15204">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
