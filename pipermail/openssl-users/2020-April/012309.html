<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> OpenSSL version 3.0.0-alpha1 published
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OpenSSL%20version%203.0.0-alpha1%20published&In-Reply-To=%3C5ebc99d8-2260-c5a6-ef76-eb91fd5c10d0%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012308.html">
   <LINK REL="Next"  HREF="012312.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>OpenSSL version 3.0.0-alpha1 published</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OpenSSL%20version%203.0.0-alpha1%20published&In-Reply-To=%3C5ebc99d8-2260-c5a6-ef76-eb91fd5c10d0%40openssl.org%3E"
       TITLE="OpenSSL version 3.0.0-alpha1 published">matt at openssl.org
       </A><BR>
    <I>Thu Apr 23 17:10:18 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="012308.html">OpenSSL version 3.0.0-alpha1 published
</A></li>
        <LI>Next message: <A HREF="012312.html">OpenSSL version 3.0.0-alpha1 published
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12309">[ date ]</a>
              <a href="thread.html#12309">[ thread ]</a>
              <a href="subject.html#12309">[ subject ]</a>
              <a href="author.html#12309">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 23/04/2020 18:01, Sam Roberts wrote:
&gt;<i> Resending to -users.
</I>&gt;<i>
</I>&gt;<i> On Thu, Apr 23, 2020 at 9:58 AM Sam Roberts &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">vieuxtech at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Seems to be something wrong with the way config is generating the
</I>&gt;&gt;<i> version strings:
</I>&gt;&gt;<i> gcc  -Icrypto -I. -Iinclude -Iproviders/common/include
</I>&gt;&gt;<i> -Iproviders/implementations/include -Icrypto/include  -DAES_ASM
</I>&gt;&gt;<i> -DBSAES_ASM -DCMLL_ASM -DECP_NISTZ256_ASM -DGHASH_ASM -DKECCAK1600_ASM
</I>&gt;&gt;<i> -DMD5_ASM -DOPENSSL_BN_ASM_GF2m -DOPENSSL_BN_ASM_MONT
</I>&gt;&gt;<i> -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_CPUID_OBJ -DOPENSSL_IA32_SSE2
</I>&gt;&gt;<i> -DPOLY1305_ASM -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DVPAES_ASM
</I>&gt;&gt;<i> -DWHIRLPOOL_ASM -DX25519_ASM -fPIC -pthread -m64 -Wa,--noexecstack
</I>&gt;&gt;<i> -Wall -O3 -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_BUILDING_OPENSSL
</I>&gt;&gt;<i> -DOPENSSL_PIC -DOPENSSLDIR=&quot;\&quot;/usr/local/ssl\&quot;&quot;
</I>&gt;&gt;<i> -DENGINESDIR=&quot;\&quot;/usr/local/lib/engines-3\&quot;&quot;
</I>&gt;&gt;<i> -DMODULESDIR=&quot;\&quot;/usr/local/lib/ossl-modules\&quot;&quot; -DNDEBUG  -MMD -MF
</I>&gt;&gt;<i> crypto/libcrypto-lib-cversion.d.tmp -MT
</I>&gt;&gt;<i> crypto/libcrypto-lib-cversion.o -c -o crypto/libcrypto-lib-cversion.o
</I>&gt;&gt;<i> crypto/cversion.c
</I>&gt;&gt;<i> In file included from include/openssl/macros.h:11,
</I>&gt;&gt;<i>                  from include/openssl/opensslconf.h:14,
</I>&gt;&gt;<i>                  from include/openssl/macros.h:10,
</I>&gt;&gt;<i>                  from include/openssl/crypto.h:15,
</I>&gt;&gt;<i>                  from include/internal/cryptlib.h:23,
</I>&gt;&gt;<i>                  from crypto/cversion.c:10:
</I>&gt;&gt;<i> crypto/cversion.c: In function 'OpenSSL_version':
</I>&gt;&gt;<i> include/openssl/opensslv.h:91:54: error: expected ';' before numeric
</I>constant
&gt;&gt;<i>    91 | # define OPENSSL_VERSION_TEXT &quot;OpenSSL 3.0.0-alpha1 &quot;23 Apr
</I>2020&quot;&quot;
&gt;&gt;<i>       |                                                      ^~
</I>&gt;&gt;<i> crypto/cversion.c:50:16: note: in expansion of macro
</I>'OPENSSL_VERSION_TEXT'
&gt;&gt;<i>    50 |         return OPENSSL_VERSION_TEXT;
</I>&gt;&gt;<i>       |                ^~~~~~~~~~~~~~~~~~~~
</I>&gt;&gt;<i> make[1]: *** [Makefile:15616: crypto/libcrypto-lib-cversion.o] Error 1
</I>&gt;&gt;<i> make[1]: Leaving directory '/home/sam/s/openssl-3.0.0-alpha1'
</I>&gt;&gt;<i> make: *** [Makefile:3009: build_sw] Error 2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm on Linux, just did a `./config; make`.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Its fairly obvious what the string should have been, I edited and am
</I>&gt;&gt;<i> continuing with the build.
</I>

Yes - very annoying. The release scripts added the date in a commit and
broke the build - then they added another commit to remove it again
ready for the next release - and everything works again. So from git's
point of view it worked before and it worked after...just not in the
actual release!!!

The workaround is straightforward (remove the quotes from the
RELEASE_DATE line in the VERSION file). I've added some notes to the 3.0
release notes on the wiki about it.

Matt




&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Thu, Apr 23, 2020 at 7:29 AM OpenSSL &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl at openssl.org</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i>    OpenSSL version 3.0 alpha 1 released
</I>&gt;<i>    ====================================
</I>&gt;<i> 
</I>&gt;<i>    OpenSSL - The Open Source toolkit for SSL/TLS
</I>&gt;<i>    <A HREF="https://www.openssl.org/">https://www.openssl.org/</A>
</I>&gt;<i> 
</I>&gt;<i>    OpenSSL 3.0 is currently in alpha.
</I>&gt;<i> 
</I>&gt;<i>    OpenSSL 3.0 alpha 1 has now been made available.
</I>&gt;<i> 
</I>&gt;<i>    Note: This OpenSSL pre-release has been provided for testing ONLY.
</I>&gt;<i>    It should NOT be used for security critical purposes.
</I>&gt;<i> 
</I>&gt;<i>    Specific notes on upgrading to OpenSSL 3.0 from previous versions, as well
</I>&gt;<i>    as known issues are available on the OpenSSL Wiki, here:
</I>&gt;<i> 
</I>&gt;<i>         <A HREF="https://wiki.openssl.org/index.php/OpenSSL_3.0">https://wiki.openssl.org/index.php/OpenSSL_3.0</A>
</I>&gt;<i> 
</I>&gt;<i>    The alpha release is available for download via HTTPS and FTP from the
</I>&gt;<i>    following master locations (you can find the various FTP mirrors under
</I>&gt;<i>    <A HREF="https://www.openssl.org/source/mirror.html">https://www.openssl.org/source/mirror.html</A>):
</I>&gt;<i> 
</I>&gt;<i>      * <A HREF="https://www.openssl.org/source/">https://www.openssl.org/source/</A>
</I>&gt;<i>      * <A HREF="ftp://ftp.openssl.org/source/">ftp://ftp.openssl.org/source/</A>
</I>&gt;<i> 
</I>&gt;<i>    The distribution file name is:
</I>&gt;<i> 
</I>&gt;<i>     o openssl-3.0.0-alpha1.tar.gz
</I>&gt;<i>       Size: 9530120
</I>&gt;<i>       SHA1 checksum:  4db145d3d9c9d7bfaa7b2a1fe1670f7a3781bb06
</I>&gt;<i>       SHA256 checksum:  9d5be9122194ad1d649254de5e72afd329252f134791389d0cef627b18ed9a57
</I>&gt;<i> 
</I>&gt;<i>    The checksums were calculated using the following commands:
</I>&gt;<i> 
</I>&gt;<i>     openssl sha1 openssl-3.0.0-alpha1.tar.gz
</I>&gt;<i>     openssl sha256 openssl-3.0.0-alpha1.tar.gz
</I>&gt;<i> 
</I>&gt;<i>    Please download and check this $LABEL release as soon as possible.
</I>&gt;<i>    To report a bug, open an issue on GitHub:
</I>&gt;<i> 
</I>&gt;<i>     <A HREF="https://github.com/openssl/openssl/issues">https://github.com/openssl/openssl/issues</A>
</I>&gt;<i> 
</I>&gt;<i>    Please check the release notes and mailing lists to avoid duplicate
</I>&gt;<i>    reports of known issues. (Of course, the source is also available
</I>&gt;<i>    on GitHub.)
</I>&gt;<i> 
</I>&gt;<i>    Yours,
</I>&gt;<i> 
</I>&gt;<i>    The OpenSSL Project Team.
</I>&gt;<i> 
</I>&gt;<i>
</I></PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012308.html">OpenSSL version 3.0.0-alpha1 published
</A></li>
	<LI>Next message: <A HREF="012312.html">OpenSSL version 3.0.0-alpha1 published
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12309">[ date ]</a>
              <a href="thread.html#12309">[ thread ]</a>
              <a href="subject.html#12309">[ subject ]</a>
              <a href="author.html#12309">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
