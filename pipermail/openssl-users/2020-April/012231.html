<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> TLSv1 on CentOS-8
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20TLSv1%20on%20CentOS-8&In-Reply-To=%3CCAPMEXDacQmSqAckR6Ri%2BnQVqSguLA_yEx0V1RbFQXbt6JEZtpA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012273.html">
   <LINK REL="Next"  HREF="012214.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>TLSv1 on CentOS-8</H1>
    <B>Kyle Hamilton</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20TLSv1%20on%20CentOS-8&In-Reply-To=%3CCAPMEXDacQmSqAckR6Ri%2BnQVqSguLA_yEx0V1RbFQXbt6JEZtpA%40mail.gmail.com%3E"
       TITLE="TLSv1 on CentOS-8">aerowolf at gmail.com
       </A><BR>
    <I>Fri Apr 17 15:55:55 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="012273.html">TLSv1 on CentOS-8
</A></li>
        <LI>Next message: <A HREF="012214.html">Add user-defined argument in TLS 1.3 External PSK callback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12231">[ date ]</a>
              <a href="thread.html#12231">[ thread ]</a>
              <a href="subject.html#12231">[ subject ]</a>
              <a href="author.html#12231">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Note: This is better asked on the CentOS support forums, since it asks
about changes that CentOS made to OpenSSL.

This is an unsupported configuration, and will be overwritten if you audit
or reinstall the crypto-policies package.  Also, I haven't looked to see
where /etc/crypto-policies/back-ends/opensslcnf.config versus
/etc/crypto-policies/back-ends/openssl.config are used.

Since you're modifying the LEGACY policy (and the files in
/etc/crypto-policies/back-ends/ are all symlinks, and I don't want to give
information that would modify any security level without regard for knowing
what security level is currenty in place): You want to modify the
/usr/share/crypto-policies/LEGACY/openssl.txt file to append &quot;:!RC4&quot; to
it.  You should also modify
/usr/share/crypto-policies/LEGACY/opensslcnf.txt to append &quot;:!RC4&quot; to the
CipherString line, and &quot;:!RC4-SHA&quot; to the Ciphersuites line.

There are additional files in there that refer to other services and crypto
libraries, that you may wish to change as well.  The OpenSSL support lists
don't have any information about them.

-Kyle H

On Fri, Apr 17, 2020, 09:40 Junaid Mukhtar &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">junaid.mukhtar at gmail.com</A>&gt; wrote:

&gt;<i> Hi Tomas
</I>&gt;<i>
</I>&gt;<i> Is it possible to enable legacy protocols/ciphers but disable only one. In
</I>&gt;<i> particular we want RC4-SHA to be disable
</I>&gt;<i>
</I>&gt;<i> --------
</I>&gt;<i> Regards,
</I>&gt;<i> Junaid
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, Apr 15, 2020 at 5:13 PM Junaid Mukhtar &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">junaid.mukhtar at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Thanks a lot; It really helped
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --------
</I>&gt;&gt;<i> Regards,
</I>&gt;&gt;<i> Junaid
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, Apr 15, 2020 at 5:04 PM Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">tmraz at redhat.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Wed, 2020-04-15 at 16:57 +0100, Junaid Mukhtar wrote:
</I>&gt;&gt;&gt;<i> &gt; Hi Team
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt; I am trying to enable TLSv1 on CentOS-8. We don't have the ability to
</I>&gt;&gt;&gt;<i> &gt; upgrade the server unfortunately so we need to enable TLSv1 with
</I>&gt;&gt;&gt;<i> &gt; weak-ciphers on OpenSSL.
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt; I have tried to build the OpenSSL version manually using switches
</I>&gt;&gt;&gt;<i> &gt; &quot;./config --prefix=/usr/local/openssl --openssldir=/usr/local/openssl
</I>&gt;&gt;&gt;<i> &gt; shared enable-weak-ssl-ciphers enable-deprecated enable-rc4 enable-
</I>&gt;&gt;&gt;<i> &gt; tls1 zlib&quot; which ran successfully
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt; [<A HREF="../../../mailman/listinfo/openssl-users.html">root at 2cb6477375aa</A> openssl-OpenSSL_1_1_1c]# openssl version
</I>&gt;&gt;&gt;<i> &gt; OpenSSL 1.1.1c  28 May 2019
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt; But i am still not able to run the &quot;openssl s_client -connect &quot;
</I>&gt;&gt;&gt;<i> &gt; command without specifying -tls1 in it. Build accepts the weak-
</I>&gt;&gt;&gt;<i> &gt; ciphers but not the tls1 version.
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt; Can someone please help me with this?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> You should not need to recompile openssl or anything.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Just run:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> update-crypto-policies --set LEGACY
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> and restart the service that is supposed to be providing the TLS1
</I>&gt;&gt;&gt;<i> server or reboot the machine.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The LEGACY crypto policy purpose is exactly for re-enabling some of the
</I>&gt;&gt;&gt;<i> not-up-to-date protocols and crypto algorithms.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> Tom&#225;&#353; Mr&#225;z
</I>&gt;&gt;&gt;<i> No matter how far down the wrong road you've gone, turn back.
</I>&gt;&gt;&gt;<i>                                               Turkish proverb
</I>&gt;&gt;&gt;<i> [You'll know whether the road is wrong if you carefully listen to your
</I>&gt;&gt;&gt;<i> conscience.]
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20200417/527cb097/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20200417/527cb097/attachment.html</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012273.html">TLSv1 on CentOS-8
</A></li>
	<LI>Next message: <A HREF="012214.html">Add user-defined argument in TLS 1.3 External PSK callback
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12231">[ date ]</a>
              <a href="thread.html#12231">[ thread ]</a>
              <a href="subject.html#12231">[ subject ]</a>
              <a href="author.html#12231">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
