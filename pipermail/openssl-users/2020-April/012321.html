<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> OpenSSL version 3.0.0-alpha1 published
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OpenSSL%20version%203.0.0-alpha1%20published&In-Reply-To=%3C20200424151214.I3RW8%25steffen%40sdaoden.eu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012343.html">
   <LINK REL="Next"  HREF="012322.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>OpenSSL version 3.0.0-alpha1 published</H1>
    <B>Steffen Nurpmeso</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OpenSSL%20version%203.0.0-alpha1%20published&In-Reply-To=%3C20200424151214.I3RW8%25steffen%40sdaoden.eu%3E"
       TITLE="OpenSSL version 3.0.0-alpha1 published">steffen at sdaoden.eu
       </A><BR>
    <I>Fri Apr 24 15:12:14 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="012343.html">OpenSSL version 3.0.0-alpha1 published
</A></li>
        <LI>Next message: <A HREF="012322.html">OpenSSL version 3.0.0-alpha1 published
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12321">[ date ]</a>
              <a href="thread.html#12321">[ thread ]</a>
              <a href="subject.html#12321">[ subject ]</a>
              <a href="author.html#12321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello!

OpenSSL wrote in
&lt;<A HREF="../../../mailman/listinfo/openssl-users.html">20200423142936.GA24450 at openssl.org</A>&gt;:
 |   OpenSSL version 3.0 alpha 1 released

That surely is &quot;a great step&quot; for you who work with that code!
Congratulations.

I get compile errors, maybe some config flags are not honoured
correctly yet?  So i am using a local git clone checkout at
[852c2ed260], configured via

  #?0|kent:openssl$ ./config \
    --prefix=/home/steffen/usr-kent-linux-x86_64/opt/.ossl-3.0 \
    zlib-dynamic no-hw shared no-deprecated no-async no-tests \
    -Wl,-rpath,'$(LIBRPATH)'
  Operating system: x86_64-whatever-linux2
  ***** Deprecated options: no-hw
  Configuring OpenSSL version 3.0.0-alpha2-dev for target linux-x86_64
  Using os-specific seed configuration
  Creating configdata.pm
  Running configdata.pm
  Creating Makefile

  **********************************************************************
  ***                                                                ***
  ***   OpenSSL has been successfully configured                     ***
  ***                                                                ***
  ***   If you encounter a problem while building, please open an    ***
  ***   issue on GitHub &lt;<A HREF="https://github.com/openssl/openssl/issues">https://github.com/openssl/openssl/issues</A>&gt;  ***

I cannot open a github issue, i have no github account, and if
i were from Cuba, Iran or several different other states that my
parents had chosen etc etc etc.  Etc.  (I had an account ten years
or so ago, and wanted to pay for the service with cash, with they
did not want.  Only credit cards.  So i left.)

  ***   and include the output from the following command:           ***
  ***                                                                ***
  ***       perl configdata.pm --dump                                ***
  ***                                                                ***
  ***   (If you are new to OpenSSL, you might want to consult the    ***
  ***   'Troubleshooting' section in the INSTALL file first)         ***

This is INSTALL.md now.

  ***                                                                ***
  **********************************************************************

The &quot;first&quot; failure happens here, i wonder whether that shouldn't
be covered by &quot;no-tests&quot;?

  Can't locate Test/Builder/TodoDiag.pm in @INC (you may need to install the Test::Builder::TodoDiag module) (@INC contains: /tmp/openssl/util/perl . providers/common/der /home/steffen/src/symobj.git/lib /usr/lib/p
  erl5/site_perl/5.28/linux-thread-multi /usr/lib/perl5/site_perl/5.28 /usr/lib/perl5/5.28/linux-thread-multi /usr/lib/perl5/5.28 /tmp/openssl/external/perl/Text-Template-1.56/lib) at /usr/lib/perl5/5.28/Test/Build
  er.pm line 38.
  BEGIN failed--compilation aborted at /usr/lib/perl5/5.28/Test/Builder.pm line 38.
  Compilation failed in require at /usr/lib/perl5/5.28/Test/Builder/Module.pm line 5.
  BEGIN failed--compilation aborted at /usr/lib/perl5/5.28/Test/Builder/Module.pm line 5.
  Compilation failed in require at /usr/lib/perl5/5.28/Test/More.pm line 22.
  BEGIN failed--compilation aborted at /usr/lib/perl5/5.28/Test/More.pm line 22.
  Compilation failed in require at /tmp/openssl/util/perl/OpenSSL/OID.pm line 309.
  BEGIN failed--compilation aborted at /tmp/openssl/util/perl/OpenSSL/OID.pm line 309.
  Compilation failed in require at providers/common/der/oids_to_c.pm line 16.
  BEGIN failed--compilation aborted at providers/common/der/oids_to_c.pm line 16.
  Compilation failed in require.
  BEGIN failed--compilation aborted.
  Can't locate Test/Builder/TodoDiag.pm in @INC (you may need to install the Test::Builder::TodoDiag module) (@INC contains: /tmp/openssl/util/perl . providers/common/der /home/steffen/src/symobj.git/lib /usr/lib/p
  erl5/site_perl/5.28/linux-thread-multi /usr/lib/perl5/site_perl/5.28 /usr/lib/perl5/5.28/linux-thread-multi /usr/lib/perl5/5.28 /tmp/openssl/external/perl/Text-Template-1.56/lib) at /usr/lib/perl5/5.28/Test/Build
  er.pm line 38.
  BEGIN failed--compilation aborted at /usr/lib/perl5/5.28/Test/Builder.pm line 38.
  Compilation failed in require at /usr/lib/perl5/5.28/Test/Builder/Module.pm line 5.
  BEGIN failed--compilation aborted at /usr/lib/perl5/5.28/Test/Builder/Module.pm line 5.
  Compilation failed in require at /usr/lib/perl5/5.28/Test/More.pm line 22.
  BEGIN failed--compilation aborted at /usr/lib/perl5/5.28/Test/More.pm line 22.
  Compilation failed in require at /tmp/openssl/util/perl/OpenSSL/OID.pm line 309.
  BEGIN failed--compilation aborted at /tmp/openssl/util/perl/OpenSSL/OID.pm line 309.
  Compilation failed in require at providers/common/der/oids_to_c.pm line 16.
  BEGIN failed--compilation aborted at providers/common/der/oids_to_c.pm line 16.
  Compilation failed in require.
  BEGIN failed--compilation aborted.
  make[1]: *** [Makefile:20051: providers/common/include/prov/der_ec.h] Error 2
  make[1]: *** Waiting for unfinished jobs....
  make[1]: *** [Makefile:20039: providers/common/include/prov/der_dsa.h] Error 2
  make[1]: Leaving directory '/tmp/openssl'
  make: *** [Makefile:2801: build_sw] Error 2

So if i blindly hit &quot;make&quot; again i then get

  gcc  -Iproviders/common/include/prov -I. -Icrypto -Iinclude -Iproviders/implementations/include -Iproviders/common/include  -DAES_ASM -DBSAES_ASM -DECP_NISTZ256_ASM -DGHASH_ASM -DKECCAK1600_ASM -DMD5_ASM -DOPENSSL_BN_ASM_GF2m -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_CPUID_OBJ -DOPENSSL_IA32_SSE2 -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DVPAES_ASM -DWHIRLPOOL_ASM -DX25519_ASM -fPIC -pthread -m64 -Wa,--noexecstack -O1 -g -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_PIC -DOPENSSLDIR=&quot;\&quot;/home/steffen/usr-kent-linux-x86_64/opt/.ossl-3.0/ssl\&quot;&quot; -DENGINESDIR=&quot;\&quot;/home/steffen/usr-kent-linux-x86_64/opt/.ossl-3.0/lib/engines-3\&quot;&quot; -DMODULESDIR=&quot;\&quot;/home/steffen/usr-kent-linux-x86_64/opt/.ossl-3.0/lib/ossl-modules\&quot;&quot; -DOPENSSL_BUILDING_OPENSSL -DZLIB -DZLIB_SHARED -DNDEBUG  -MMD -MF providers/implementations/signature/libimplementations-lib-dsa.d.tmp -MT providers/implementations/signature/libimplementations-lib-dsa.o -c -o providers/implementations/signature/libimplementations-lib-dsa.o providers/implementations/signature/dsa.c
  providers/implementations/signature/dsa.c: In function 'dsa_setup_md':
  providers/implementations/signature/dsa.c:152:9: error: unknown type name 'WPACKET'
           WPACKET pkt;
           ^~~~~~~
  providers/implementations/signature/dsa.c:170:13: warning: implicit declaration of function 'WPACKET_init_der' [-Wimplicit-function-declaration]
           if (WPACKET_init_der(&amp;pkt, ctx-&gt;aid_buf, sizeof(ctx-&gt;aid_buf))
               ^~~~~~~~~~~~~~~~
  providers/implementations/signature/dsa.c:171:16: warning: implicit declaration of function 'DER_w_algorithmIdentifier_DSA_with'; did you mean 'dsa_algorithmidentifier_encoding'? [-Wimplicit-function-declaration]
               &amp;&amp; DER_w_algorithmIdentifier_DSA_with(&amp;pkt, -1, ctx-&gt;dsa, md_nid)
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
                  dsa_algorithmidentifier_encoding
  providers/implementations/signature/dsa.c:172:16: warning: implicit declaration of function 'WPACKET_finish' [-Wimplicit-function-declaration]
               &amp;&amp; WPACKET_finish(&amp;pkt)) {
                  ^~~~~~~~~~~~~~
  providers/implementations/signature/dsa.c:173:13: warning: implicit declaration of function 'WPACKET_get_total_written' [-Wimplicit-function-declaration]
               WPACKET_get_total_written(&amp;pkt, &amp;ctx-&gt;aid_len);
               ^~~~~~~~~~~~~~~~~~~~~~~~~
  providers/implementations/signature/dsa.c:174:24: warning: implicit declaration of function 'WPACKET_get_curr' [-Wimplicit-function-declaration]
               ctx-&gt;aid = WPACKET_get_curr(&amp;pkt);
                          ^~~~~~~~~~~~~~~~
  providers/implementations/signature/dsa.c:174:22: warning: assignment to 'unsigned char *' from 'int' makes pointer from integer without a cast [-Wint-conversion]
               ctx-&gt;aid = WPACKET_get_curr(&amp;pkt);
                        ^
  providers/implementations/signature/dsa.c:176:9: warning: implicit declaration of function 'WPACKET_cleanup'; did you mean 'EVP_PBE_cleanup'? [-Wimplicit-function-declaration]
           WPACKET_cleanup(&amp;pkt);
           ^~~~~~~~~~~~~~~
           EVP_PBE_cleanup
  make[1]: *** [Makefile:20928: providers/implementations/signature/libimplementations-lib-dsa.o] Error 1
  make[1]: Leaving directory '/tmp/openssl'
  make: *** [Makefile:2801: build_sw] Error 2

I have to go now, maybe this all goes away if i get myself the
Test::Builder::TodoDiag perl module?

Ciao and Good luck! from Germany,

--steffen
|<i>
</I>|<i>Der Kragenbaer,                The moon bear,
</I>|<i>der holt sich munter           he cheerfully and one by one
</I>|<i>einen nach dem anderen runter  wa.ks himself off
</I>|<i>(By Robert Gernhardt)
</I></PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012343.html">OpenSSL version 3.0.0-alpha1 published
</A></li>
	<LI>Next message: <A HREF="012322.html">OpenSSL version 3.0.0-alpha1 published
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12321">[ date ]</a>
              <a href="thread.html#12321">[ thread ]</a>
              <a href="subject.html#12321">[ subject ]</a>
              <a href="author.html#12321">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
