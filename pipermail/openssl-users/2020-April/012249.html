<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> building a  PIC enabled version of openssl 1.0.2k on Sparc 10
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20building%20a%20%20PIC%20enabled%20version%20of%20openssl%201.0.2k%20on%20Sparc%2010&In-Reply-To=%3C001001d617cc%2445a24d00%24d0e6e700%24%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012223.html">
   <LINK REL="Next"  HREF="012227.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>building a  PIC enabled version of openssl 1.0.2k on Sparc 10</H1>
    <B>tim.j.culhane at gmail.com</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20building%20a%20%20PIC%20enabled%20version%20of%20openssl%201.0.2k%20on%20Sparc%2010&In-Reply-To=%3C001001d617cc%2445a24d00%24d0e6e700%24%40gmail.com%3E"
       TITLE="building a  PIC enabled version of openssl 1.0.2k on Sparc 10">tim.j.culhane at gmail.com
       </A><BR>
    <I>Tue Apr 21 11:01:52 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="012223.html">building a  PIC enabled version of openssl 1.0.2k on Sparc 10
</A></li>
        <LI>Next message: <A HREF="012227.html">Updated openssl 1.1.1f installation problem: Parse errors: No plan found in TAP output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12249">[ date ]</a>
              <a href="thread.html#12249">[ thread ]</a>
              <a href="subject.html#12249">[ subject ]</a>
              <a href="author.html#12249">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Just to say that you can get the -Fpic flag  by using the  'shared' argument
to  the Configure script.   The following works for me:

./Configure solaris64-sparcv9-cc --prefix=/opt/openssl/1.1.1
--openssldir=/opt/openssl/1.1.1 -lrt -m64 shared zlib

Regards,

Tim


-----Original Message-----
From: openssl-users &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>&gt; On Behalf Of Michael
Wojcik
Sent: Thursday 16 April 2020 18:16
To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
Subject: RE: building a PIC enabled version of openssl 1.0.2k on Sparc 10

&gt;<i> From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On 
</I>&gt;<i> Behalf Of <A HREF="../../../mailman/listinfo/openssl-users.html">tim.j.culhane at gmail.com</A>
</I>&gt;<i> Sent: Thursday, April 16, 2020 08:36
</I>&gt;<i>
</I>&gt;<i> I'm building a PIC enabled shared library in my server which links 
</I>&gt;<i> against openssl 1.0.2k libssl.a library on Sparc 10.
</I>&gt;<i>
</I>&gt;<i> When compiling  I see the below errors.
</I>&gt;<i>
</I>&gt;<i> I  originally built  the 1.0.2k version of openssl with the following 
</I>&gt;<i> configure  arguments:
</I>&gt;<i>
</I>&gt;<i> ./Configure solaris64-sparcv9-cc --prefix=/opt/openssl/1.0.2k 
</I>&gt;<i> --openssldir=/opt/openssl/1.0.2k -lrt -m64
</I>&gt;<i>
</I>&gt;<i> Do I need to  pass in  the  -fPIC flag as well, and if so  how do I do
</I>that.

I believe you do, though our use case is different - we build OpenSSL as a
PIC archive library, which we then linked into a shared object. If you're
building OpenSSL as a shared object (well, a pair of shared objects, for
libcrypto and libssl), then you may be able to do that with the appropriate
Configure options.

My teams have switched to 1.1.1, so I don't have a 1.0.2 build handy to
check.

&gt;<i> I appended it to the end of the  configure  line I  show above  but 
</I>&gt;<i> there was no sign of PIC in any of the top level makefiles produced.
</I>
For 1.0.2, we edited the Configure file. We kept a log of the purposes of
our changes, and looked at the Configure diffs for each new 1.0.2 release so
we could port the relevant changes back to our Configure.

We haven't had to do that with 1.1.1; its Configure is more flexible.

--

Michael Wojcik
Distinguished Engineer, Micro Focus




</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012223.html">building a  PIC enabled version of openssl 1.0.2k on Sparc 10
</A></li>
	<LI>Next message: <A HREF="012227.html">Updated openssl 1.1.1f installation problem: Parse errors: No plan found in TAP output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12249">[ date ]</a>
              <a href="thread.html#12249">[ thread ]</a>
              <a href="subject.html#12249">[ subject ]</a>
              <a href="author.html#12249">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
