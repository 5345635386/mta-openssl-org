<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> liblegacy.a does not work unless compiled with -static
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-May/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20liblegacy.a%20does%20not%20work%20unless%20compiled%20with%20-static&In-Reply-To=%3Cbf7b9f39-0318-761e-20b5-c4ca8d71695b%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012376.html">
   <LINK REL="Next"  HREF="012379.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>liblegacy.a does not work unless compiled with -static</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20liblegacy.a%20does%20not%20work%20unless%20compiled%20with%20-static&In-Reply-To=%3Cbf7b9f39-0318-761e-20b5-c4ca8d71695b%40openssl.org%3E"
       TITLE="liblegacy.a does not work unless compiled with -static">matt at openssl.org
       </A><BR>
    <I>Fri May  1 16:27:33 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="012376.html">liblegacy.a does not work unless compiled with -static
</A></li>
        <LI>Next message: <A HREF="012379.html">liblegacy.a does not work unless compiled with -static
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12378">[ date ]</a>
              <a href="thread.html#12378">[ thread ]</a>
              <a href="subject.html#12378">[ subject ]</a>
              <a href="author.html#12378">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>liblegacy.a is an internal artifact! You're not supposed to link your
applications against it!

You are supposed to link against libcrypto normally. If legacy.so isn't
in the default install location then make sure the OPENSSL_MODULES
environment variable is pointing at its directory.

Matt


On 01/05/2020 17:14, Guido Vranken wrote:
&gt;<i> When I configure using &quot;./config enable-legacy&quot; it creates
</I>&gt;<i> providers/liblegacy.a, then in the program I link with it,
</I>&gt;<i> OSSL_PROVIDER_load fails (returns NULL).
</I>&gt;<i> 
</I>&gt;<i> When I configure using &quot;./config enable-legacy -static&quot; it works as
</I>&gt;<i> expected.
</I>&gt;<i> 
</I>&gt;<i> However, building with -static fails on OSS-Fuzz when building with
</I>&gt;<i> sanitizers, and I need the .a file instead of the .so file for fuzzing.
</I>&gt;<i> 
</I>&gt;<i> So, is it possible to configure using &quot;./config enable-legacy&quot; and have
</I>&gt;<i> a working liblegacy.a? Is this a bug?
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012376.html">liblegacy.a does not work unless compiled with -static
</A></li>
	<LI>Next message: <A HREF="012379.html">liblegacy.a does not work unless compiled with -static
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12378">[ date ]</a>
              <a href="thread.html#12378">[ thread ]</a>
              <a href="subject.html#12378">[ subject ]</a>
              <a href="author.html#12378">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
