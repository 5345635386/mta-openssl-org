<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Crashes when generating certificate
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-May/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Crashes%20when%20generating%20certificate&In-Reply-To=%3Cadfb62ea-c141-54bb-b1bc-eedd08e62095%40denninger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010467.html">
   <LINK REL="Next"  HREF="010470.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Crashes when generating certificate</H1>
    <B>Karl Denninger</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Crashes%20when%20generating%20certificate&In-Reply-To=%3Cadfb62ea-c141-54bb-b1bc-eedd08e62095%40denninger.net%3E"
       TITLE="Crashes when generating certificate">karl at denninger.net
       </A><BR>
    <I>Tue May 14 15:22:23 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="010467.html">Crashes when generating certificate
</A></li>
        <LI>Next message: <A HREF="010470.html">Crashes when generating certificate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10468">[ date ]</a>
              <a href="thread.html#10468">[ thread ]</a>
              <a href="subject.html#10468">[ subject ]</a>
              <a href="author.html#10468">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/14/2019 09:48, Michael Wojcik wrote:
&gt;&gt;<i> From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On Behalf Of Karl Denninger
</I>&gt;&gt;<i> Sent: Monday, May 13, 2019 16:32
</I>&gt;&gt;<i> On 5/13/2019 16:44, Christopher R wrote:
</I>&gt;&gt;&gt;<i> All I want is whatever remnants of that incorrect certificate removed,
</I>&gt;&gt;&gt;<i> where ever they are, and a correct certificate created.
</I>&gt;&gt;<i> Not sure what you have left, but probably in the certs directory.
</I>&gt;<i> I can't think of what remnant of the old certificate would be there, except the certificate itself, in whatever the configuration file specifies for the new_certs_dir. And I've never seen that cause this problem.
</I>
There's a directory (by default &quot;newcerts&quot; but can be changed in the
config file) that has a copy of the certs that OpenSSL generates.&#160; If
there's a collision in there (which could happen if the serial number is
reused) &quot;bad things&quot; could happen.&#160; I've not looked at the code to see
if that would cause a bomb-out but the risk with playing in the database
file, although it's just a flat file, and/or the serial number index is
that you can wind up with conflicts.

The &quot;ca&quot; function in openssl lacks the sort of robustness and &quot;don't do
that&quot; sort of protections that one would expect in a &quot;production&quot;
setting.&#160; That's not say it can't be used that way but quite a bit of
care is required to do so successfully, and toying around in the
database structure by hand is rather removed from that degree of care.

-- 
Karl Denninger
<A HREF="../../../mailman/listinfo/openssl-users.html">karl at denninger.net</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">karl at denninger.net</A>&gt;
/The Market Ticker/
/[S/MIME encrypted email preferred]/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20190514/89310880/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20190514/89310880/attachment-0001.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4897 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20190514/89310880/attachment-0001.bin">http://mta.openssl.org/pipermail/openssl-users/attachments/20190514/89310880/attachment-0001.bin</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010467.html">Crashes when generating certificate
</A></li>
	<LI>Next message: <A HREF="010470.html">Crashes when generating certificate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10468">[ date ]</a>
              <a href="thread.html#10468">[ thread ]</a>
              <a href="subject.html#10468">[ subject ]</a>
              <a href="author.html#10468">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
