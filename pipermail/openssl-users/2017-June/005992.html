<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Session Ticket Support in Openssl TLS 1.2
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Session%20Ticket%20Support%20in%20Openssl%20TLS%201.2&In-Reply-To=%3CCANWFjKAB4AZWuhRbS_atB%2B5T10%3D9maaBWYkD3PKxvasnOx%2Bcrw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005991.html">
   <LINK REL="Next"  HREF="005993.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Session Ticket Support in Openssl TLS 1.2</H1>
    <B>Neetish Pathak</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Session%20Ticket%20Support%20in%20Openssl%20TLS%201.2&In-Reply-To=%3CCANWFjKAB4AZWuhRbS_atB%2B5T10%3D9maaBWYkD3PKxvasnOx%2Bcrw%40mail.gmail.com%3E"
       TITLE="[openssl-users] Session Ticket Support in Openssl TLS 1.2">npathak2 at ncsu.edu
       </A><BR>
    <I>Wed Jun 14 01:33:48 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="005991.html">[openssl-users] Session Ticket Support in Openssl TLS 1.2
</A></li>
        <LI>Next message: <A HREF="005993.html">[openssl-users] Session Ticket Support in Openssl TLS 1.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5992">[ date ]</a>
              <a href="thread.html#5992">[ thread ]</a>
              <a href="subject.html#5992">[ subject ]</a>
              <a href="author.html#5992">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I need some suggestions on how I can implement session resumption in TLS
1.3. I have implemented the resumption on the client side using a callback
as recommended on the TLS 1.3 blog <A HREF="https://www.openssl.org/blog/b">https://www.openssl.org/blog/b</A>
log/2017/05/04/tlsv1.3/ . Still, the session resumption is not working. I
know this because my new_session_cb which I have set using
SSL_CTX_sess_set_new_cb
is never getting invoked and also I don't see any improvement in connection
time.

The same implementation when I change the max TLS version to TLS1.2 works
and session resumption works as desired.
I am not sure how I can resolve this.

As mentioned on the blog post

&quot;In TLSv1.3 sessions are not established until after the main handshake has
completed. The server sends a separate post-handshake message to the client
containing the session details. Typically this will happen soon after the
handshake has completed, but it could be sometime later (or not at all).&quot;

I think the server is not informing the session details to client at all in
my case and hence the resumption is not working. Can someone please suggest
how to resolve this.

Thanks
Best Regards,
Neetish


On Tue, Jun 13, 2017 at 6:03 PM, Neetish Pathak &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">npathak2 at ncsu.edu</A>&gt; wrote:

&gt;<i> Thanks for your reply Salz. However, I want to know should the session
</I>&gt;<i> caching be enabled on server side for TLS 1.3 for session resumption.
</I>&gt;<i> Also, I need a clarification on how does resumption work in case of
</I>&gt;<i> session identifiers if server side caching is not enabled
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> BR,
</I>&gt;<i> Neetish
</I>&gt;<i>
</I>&gt;<i> On Tue, Jun 13, 2017 at 5:38 PM, Salz, Rich via openssl-users &lt;
</I>&gt;<i> <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> It&#8217;s disabled by default.  Servers that want to use server-side session
</I>&gt;&gt;<i> caching have to call an API to turn it on
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> openssl-users mailing list
</I>&gt;&gt;<i> To unsubscribe: <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20170613/dbe8c3bd/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20170613/dbe8c3bd/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005991.html">[openssl-users] Session Ticket Support in Openssl TLS 1.2
</A></li>
	<LI>Next message: <A HREF="005993.html">[openssl-users] Session Ticket Support in Openssl TLS 1.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5992">[ date ]</a>
              <a href="thread.html#5992">[ thread ]</a>
              <a href="subject.html#5992">[ subject ]</a>
              <a href="author.html#5992">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
