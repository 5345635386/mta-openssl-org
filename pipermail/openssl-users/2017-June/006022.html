<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] openssl 1.0 and 1.1 co-exist
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20openssl%201.0%20and%201.1%20co-exist&In-Reply-To=%3C5a988e8d-93ce-a2af-a542-ae34e08b2f8e%40wisemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006021.html">
   <LINK REL="Next"  HREF="006023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] openssl 1.0 and 1.1 co-exist</H1>
    <B>Jakob Bohm</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20openssl%201.0%20and%201.1%20co-exist&In-Reply-To=%3C5a988e8d-93ce-a2af-a542-ae34e08b2f8e%40wisemo.com%3E"
       TITLE="[openssl-users] openssl 1.0 and 1.1 co-exist">jb-openssl at wisemo.com
       </A><BR>
    <I>Thu Jun 22 11:05:43 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006021.html">[openssl-users] openssl 1.0 and 1.1 co-exist
</A></li>
        <LI>Next message: <A HREF="006023.html">[openssl-users] X509 subject public key id-RSASSA-PSS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6022">[ date ]</a>
              <a href="thread.html#6022">[ thread ]</a>
              <a href="subject.html#6022">[ subject ]</a>
              <a href="author.html#6022">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 22/06/2017 04:31, Viktor Dukhovni wrote:
&gt;<i> On Wed, Jun 21, 2017 at 01:44:34PM -0400, Ken Goldman wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> This is probably Linux specific ...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can both openssl versions co-exist on the same platform.  I know that the
</I>&gt;&gt;<i> .so is versioned, but how about the header files?  Can I choose which
</I>&gt;&gt;<i> library to build with?
</I>&gt;<i> Yes, with care.  I support systems where the base platform (debian)
</I>&gt;<i> provides OpenSSL 1.0.1 in /usr/{include,lib,bin}, and I additionally
</I>&gt;<i> deploy OpenSSL 1.0.2 and OpenSSL 1.1.0 in:
</I>&gt;<i>
</I>&gt;<i> 	/opt/openssl/1.0/{include,lib,bin}	OpenSSL 1.0.2
</I>&gt;<i> 	/opt/openssl/1.1/{include,lib,bin}	OpenSSL 1.1.0
</I>&gt;<i>
</I>&gt;<i> These builds employ custom ELF symbol versions and custom ELF
</I>&gt;<i> SONAMEs, and custom RPATHs, so that they can coexist without conflict
</I>&gt;<i> in a single running process with the system OpenSSL library.
</I>&gt;<i>
</I>&gt;<i> Applications that use my builds can then be compiled with (for
</I>&gt;<i> example):
</I>&gt;<i>
</I>&gt;<i>      -I/opt/openssl/1.1/include \
</I>&gt;<i>      -L/opt/openssl/1.1/lib \
</I>&gt;<i>      -Wl,-R,/opt/openssl/1.1/lib
</I>
I maintain a few Debian systems where 1.0.2 and the system 1.0.1
coexist solely based on so-names (I modified the 1.0.2 Makefile
to set a different version in the so-name).  Applications builds
(and thus headers) for the different versions are not on the same
machines, only the compiled binaries.

For this simplified scenario (only one set of headers etc. per system),
self-compiled OpenSSL simply goes in /usr/local with no use of Rpath.

Enjoy

Jakob
-- 
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006021.html">[openssl-users] openssl 1.0 and 1.1 co-exist
</A></li>
	<LI>Next message: <A HREF="006023.html">[openssl-users] X509 subject public key id-RSASSA-PSS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6022">[ date ]</a>
              <a href="thread.html#6022">[ thread ]</a>
              <a href="subject.html#6022">[ subject ]</a>
              <a href="author.html#6022">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
