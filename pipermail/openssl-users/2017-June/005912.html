<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Build OpenSSL on SUSE Linux Enterprise Server for z Systems
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Build%20OpenSSL%20on%20SUSE%20Linux%20Enterprise%20Server%0A%20for%20z%20Systems&In-Reply-To=%3C15CFFC2F2156164FA093C04D7DB5BFB3659D82B3%40GSjpTK1DCembx02.service.hitachi.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005935.html">
   <LINK REL="Next"  HREF="005914.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Build OpenSSL on SUSE Linux Enterprise Server for z Systems</H1>
    <B>&#20849;&#36890;&#22522;&#30436;&#65331;&#65331;&#65324;&#65339;&#26989;&#21209;&#65321;&#65316;&#65341; / COMMONSSL&#65292;GYOUMU</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Build%20OpenSSL%20on%20SUSE%20Linux%20Enterprise%20Server%0A%20for%20z%20Systems&In-Reply-To=%3C15CFFC2F2156164FA093C04D7DB5BFB3659D82B3%40GSjpTK1DCembx02.service.hitachi.net%3E"
       TITLE="[openssl-users] Build OpenSSL on SUSE Linux Enterprise Server for z Systems">hrf-ssl at itg.hitachi.co.jp
       </A><BR>
    <I>Thu Jun  1 08:14:32 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="005935.html">[openssl-users] SSL error &#8220;inappropriate fallback&#8221; and TLS_FALLBACK_SCSV
</A></li>
        <LI>Next message: <A HREF="005914.html">[openssl-users] enable TLS_RSA_WITH_RC4_128_MD5 in openssl 1.1.0e?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5912">[ date ]</a>
              <a href="thread.html#5912">[ thread ]</a>
              <a href="subject.html#5912">[ subject ]</a>
              <a href="author.html#5912">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello All.

Sorry for the late reply.

I understood.

Thank you very much.

Best regards,
and I'll try that.

Manabu


&gt;<i> On May 12, 2017, at 5:00 PM, Michael Wojcik &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">Michael.Wojcik at microfocus.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt; From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On
</I>&gt;<i> &gt;&gt; Behalf Of Thomas Francis, Jr.
</I>&gt;<i> &gt;&gt; Sent: Friday, May 12, 2017 15:55
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; On 5/10/17 3:55 AM, &#20849;&#36890;&#22522;&#30436;&#65331;&#65331;&#65324;&#65339;&#26989;&#21209;&#65321;&#65316;&#65341; / COMMONSSL&#65292;GYOUMU
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I will build OpenSSL on SUSE Linux Enterprise Server for z Systems.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What version of OpenSSL?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;&gt; But, there is not yet the machine for build, so I cannot do actual
</I>&gt;<i> &gt;&gt;&gt; machine verification.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; The CPU is not Intel architecture, is probably z/Architecture.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Yes, Linux for System z runs on z-architecture CPUs.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;&gt; I want to know beforehand the appropriate command-line parameters
</I>&gt;<i> &gt;&gt;&gt; for executing &quot;Configure&quot;.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Is it right to specify &quot;linux64-s390x&quot; as follows?
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; (1)cd /&lt;source_root&gt;/openssl-1.0.2k
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; (2)./Configure linux64-s390x
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I'd suggest just running &quot;./config&quot;.  That will pick the appropriate
</I>&gt;<i> &gt;&gt; 64-bit target.  Only use Configure if you want to do something
</I>&gt;<i> &gt;&gt; non-standard. :)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That's certainly the place to start. Whether it will work is another
</I>&gt;<i> question.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; When we build OpenSSL for z Linux (RHEL and SLES), we use a modified
</I>&gt;<i> Configure that:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; * Adds -fPIC and -mbackchain. This is because we compile OpenSSL into
</I>&gt;<i> an archive library that is then linked into a shared object, so we have
</I>&gt;<i> to force on the shared-object flags in Configure.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; * Replaces -O3 with -O1, preferring robustness (or, if you prefer,
</I>&gt;<i> toleration for sloppiness and error) and ease of problem determination over
</I>&gt;<i> performance.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; * Replaces the asm setting[1] with ${no_asm}, for the same reason.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; * For 32-bit, removes /highgprs. According to my notes, highgprs does
</I>&gt;<i> not work correctly with some glibc versions on zLinux.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The OP probably doesn't need the first three and may well not need the
</I>&gt;<i> last. Depending on how clever one gets with building and using OpenSSL,
</I>&gt;<i> though, config+Configure aren't always sufficient as supplied. That's not
</I>&gt;<i> a criticism - trying to accommodate every use case is not a good use of
</I>&gt;<i> the OpenSSL development team's time.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But unless you're happy with the default build parameters and comfortable
</I>&gt;<i> with your platform, be prepared to learn how the OpenSSL build works.
</I>&gt;<i> 
</I>&gt;<i> I think in general, the same caveat applies for any system. The default
</I>&gt;<i> build settings might not be what you want. But in most cases (including
</I>&gt;<i> Linux for z), they will get you libraries that'll work with the system
</I>&gt;<i> compiler toolchain if you pass only the minimum flags to specify where the
</I>&gt;<i> headers and libraries can be found.
</I>&gt;<i> 
</I>&gt;<i> I figure if you need something else you probably already know that, and
</I>&gt;<i> can pass the appropriate flags in CFLAGS, CPPFLAGS, or LDFLAGS. :) Or create
</I>&gt;<i> a custom target.
</I>&gt;<i> 
</I>&gt;<i> TOM
</I>&gt;<i> 
</I>&gt;<i> PS Regarding highgprs; I suspect that's actually a problem of mixing 32-bit
</I>&gt;<i> s390x binaries with s390 binaries. There is a difference.  But old bugs
</I>&gt;<i> and miscommunication means that sometimes the s390 system will think it
</I>&gt;<i> can load an s390x binary (and sometimes think it succeeded). :)
</I>&gt;<i> 
</I>&gt;<i> &gt; [1] There are two zLinux targets in the 1.0.2 Configure, for 64- and 32-bit.
</I>&gt;<i> The linux64-s390x target uses ${s390x_asm} for its asm section, but the
</I>&gt;<i> linux32-s90x uses an eval expression that edits $s390x_asm. We disable asm
</I>&gt;<i> for both.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Michael Wojcik
</I>&gt;<i> &gt; Distinguished Engineer, Micro Focus
</I>
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005935.html">[openssl-users] SSL error &#8220;inappropriate fallback&#8221; and TLS_FALLBACK_SCSV
</A></li>
	<LI>Next message: <A HREF="005914.html">[openssl-users] enable TLS_RSA_WITH_RC4_128_MD5 in openssl 1.1.0e?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5912">[ date ]</a>
              <a href="thread.html#5912">[ thread ]</a>
              <a href="subject.html#5912">[ subject ]</a>
              <a href="author.html#5912">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
