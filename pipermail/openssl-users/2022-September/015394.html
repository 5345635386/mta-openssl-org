<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Strange problem: openssl verify not working on Proxmox VM, works on a bare metal system
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2022-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Strange%20problem%3A%20openssl%20verify%20not%20working%20on%20Proxmox%20VM%2C%20works%0A%20on%20a%20bare%20metal%20system&In-Reply-To=%3CYxSsGftzqkkT2lvP%40straasha.imrryr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015393.html">
   <LINK REL="Next"  HREF="015395.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Strange problem: openssl verify not working on Proxmox VM, works on a bare metal system</H1>
    <B>Viktor Dukhovni</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Strange%20problem%3A%20openssl%20verify%20not%20working%20on%20Proxmox%20VM%2C%20works%0A%20on%20a%20bare%20metal%20system&In-Reply-To=%3CYxSsGftzqkkT2lvP%40straasha.imrryr.org%3E"
       TITLE="Strange problem: openssl verify not working on Proxmox VM, works on a bare metal system">openssl-users at dukhovni.org
       </A><BR>
    <I>Sun Sep  4 13:46:01 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015393.html">Strange problem: openssl verify not working on Proxmox VM, works on a bare metal system
</A></li>
        <LI>Next message (by thread): <A HREF="015395.html">Strange problem: openssl verify not working on Proxmox VM, works on a bare metal system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15394">[ date ]</a>
              <a href="thread.html#15394">[ thread ]</a>
              <a href="subject.html#15394">[ subject ]</a>
              <a href="author.html#15394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Sep 04, 2022 at 08:55:26AM +0100, Roger James via openssl-users wrote:

&gt;<i> As I mentioned in an earlier post you need version 1.1 or later of openssl 
</I>&gt;<i> to successfully validate post September 30, 2021 Lets Encrypt certificates. 
</I>&gt;<i> The version on your Centos system is 1.0.
</I>
This is not quite true when using verify(1), because one has complete
control over the chain presented for verification via a combination
of the:

    * -trusted anchors.pem, and
    * -untrusted chain.pem

options.  The change to &quot;trusted first always&quot; behaviour in OpenSSL 1.1
is relevant to TLS clients validating some Let's Encrypt certificate
chains, where the untrusted chain comes from the server, and the DST
cross certificate may not find an unexpired trust anchor in the trust
store.  All that being true, it is not the situation faced by the OP.

FWIW, the EE certificate in question can also be verified with OpenSSL
1.0.2, given the right set of untrusted intermediates and trust
anchor.

-- 
    Viktor.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015393.html">Strange problem: openssl verify not working on Proxmox VM, works on a bare metal system
</A></li>
	<LI>Next message (by thread): <A HREF="015395.html">Strange problem: openssl verify not working on Proxmox VM, works on a bare metal system
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15394">[ date ]</a>
              <a href="thread.html#15394">[ thread ]</a>
              <a href="subject.html#15394">[ subject ]</a>
              <a href="author.html#15394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
