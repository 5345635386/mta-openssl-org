<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Updating RSA public key generation and signature verification from 1.1.1 to 3.0
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2022-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Updating%20RSA%20public%20key%20generation%20and%20signature%20verification%0A%20from%201.1.1%20to%203.0&In-Reply-To=%3CDM6PR18MB2700F6DCC75050B70C9D880BF9569%40DM6PR18MB2700.namprd18.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015454.html">
   <LINK REL="Next"  HREF="015459.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Updating RSA public key generation and signature verification from 1.1.1 to 3.0</H1>
    <B>Michael Wojcik</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Updating%20RSA%20public%20key%20generation%20and%20signature%20verification%0A%20from%201.1.1%20to%203.0&In-Reply-To=%3CDM6PR18MB2700F6DCC75050B70C9D880BF9569%40DM6PR18MB2700.namprd18.prod.outlook.com%3E"
       TITLE="Updating RSA public key generation and signature verification from 1.1.1 to 3.0">Michael.Wojcik at microfocus.com
       </A><BR>
    <I>Fri Sep 30 13:45:05 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015454.html">Updating RSA public key generation and signature verification from 1.1.1 to 3.0
</A></li>
        <LI>Next message (by thread): <A HREF="015459.html">Updating RSA public key generation and signature verification from 1.1.1 to 3.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15458">[ date ]</a>
              <a href="thread.html#15458">[ thread ]</a>
              <a href="subject.html#15458">[ subject ]</a>
              <a href="author.html#15458">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: openssl-users &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>&gt; On Behalf Of Tomas
</I>&gt;<i> Mraz
</I>&gt;<i> Sent: Friday, 30 September, 2022 00:22
</I>&gt;<i> 
</I>&gt;<i> unfortunately I do not see anything wrong with the code. Does the
</I>&gt;<i> EVP_DigestVerifyFinal return 0 or negative value? I do not think this
</I>&gt;<i> is a bug in OpenSSL as this API is thoroughly tested and it is highly
</I>&gt;<i> improbable that there would be a bug in the ECDSA verification through
</I>&gt;<i> this API.
</I>&gt;<i> 
</I>&gt;<i> I am currently out of ideas on what could be wrong or how to
</I>&gt;<i> investigate further. Perhaps someone else can chime in on what can be
</I>&gt;<i> wrong?
</I>
Coincidentally, just yesterday I was helping someone debug a DigestVerify issue. We were consistently getting the &quot;first octet is invalid&quot; error out of the RSA PSS signature verification code, but the same inputs worked with openssl dgst.

I wrote a fresh minimal program from scratch (really minimal, with hard-coded filenames for the inputs), and it worked fine as soon as it compiled cleanly.

I'd suggest trying that. Get it working in a minimal program first. Make sure you have all the correct OpenSSL headers, and there are no compilation warnings. Then integrate that code into your application.

(I didn't have the original application to go back to, in my case, and the person I was working with is in another timezone and had left for the day.)

-- 
Michael Wojcik
Distinguished Engineer, Application Modernization and Connectivity


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015454.html">Updating RSA public key generation and signature verification from 1.1.1 to 3.0
</A></li>
	<LI>Next message (by thread): <A HREF="015459.html">Updating RSA public key generation and signature verification from 1.1.1 to 3.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15458">[ date ]</a>
              <a href="thread.html#15458">[ thread ]</a>
              <a href="subject.html#15458">[ subject ]</a>
              <a href="author.html#15458">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
