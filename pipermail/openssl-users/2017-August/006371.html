<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Using set_serial to control serial number size directly
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Using%20set_serial%20to%20control%20serial%20number%20size%0A%20directly&In-Reply-To=%3C34092764-1809-eb5e-b20a-8cb19f243202%40wisemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006357.html">
   <LINK REL="Next"  HREF="006364.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Using set_serial to control serial number size directly</H1>
    <B>Jakob Bohm</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Using%20set_serial%20to%20control%20serial%20number%20size%0A%20directly&In-Reply-To=%3C34092764-1809-eb5e-b20a-8cb19f243202%40wisemo.com%3E"
       TITLE="[openssl-users] Using set_serial to control serial number size directly">jb-openssl at wisemo.com
       </A><BR>
    <I>Tue Aug 22 01:54:55 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006357.html">[openssl-users] Using set_serial to control serial number size directly
</A></li>
        <LI>Next message: <A HREF="006364.html">[openssl-users] Using set_serial to control serial number size directly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6371">[ date ]</a>
              <a href="thread.html#6371">[ thread ]</a>
              <a href="subject.html#6371">[ subject ]</a>
              <a href="author.html#6371">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 21/08/2017 16:22, Robert Moskowitz wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 08/21/2017 10:03 AM, Salz, Rich wrote:
</I>&gt;&gt;<i> If the root is going to be trusted, make its serial number be one. &#9786;
</I>&gt;&gt;<i> Otherwise use eight bytes of random as the serial number, if you 
</I>&gt;&gt;<i> follow CABF guidelines.
</I>&gt;<i>
</I>&gt;<i> Kind of where my thinking is going.&#160; But once I make it '1', it might 
</I>&gt;<i> as well be 1 byte rand!&#160; :)
</I>&gt;<i>
</I>&gt;<i> Well 1 - 127 random...
</I>&gt;<i>
</I>&gt;<i> But no need to make it 20 octets.&#160; Just leave it at 8. And yes, I can 
</I>&gt;<i> see some jump on the 'save' 7 bytes bandwagon.
</I>Note that while the random bits in the serial number are technically
there to defend against attacks on the issuing CA if that CA uses an
old/outdated algorithm, the real issue is retaining compatibility
with Browsers that blindly assume that certificates are created
according to the contractual requirements applied to public CAs such
as DigiCert.

One of those is 20 bytes max (after DER encoding, thus 159 bits max).

Another is at least 64 fresh random bits in each serial number
generated by the CA.

Another may or may not be 20 bytes min (before DER encoding, thus
153 bits min).

&gt;<i> Also why I have to work out BER to compare that sizing to DER. Trying 
</I>&gt;<i> to do that today. 
</I>BER is never shorter than DER.

However for internal processing in memory-restricted devices, it may be
possible/easy to save space by using a simplified encoding internally,
and then convert to DER on the fly when talking to standard software
(such as Web Browsers) externally.&#160; This will ultimately be a trade off
between code size (to do the conversion) and data size (to store the
certificate).


Enjoy

Jakob
-- 
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006357.html">[openssl-users] Using set_serial to control serial number size directly
</A></li>
	<LI>Next message: <A HREF="006364.html">[openssl-users] Using set_serial to control serial number size directly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6371">[ date ]</a>
              <a href="thread.html#6371">[ thread ]</a>
              <a href="subject.html#6371">[ subject ]</a>
              <a href="author.html#6371">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
