<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] [openssl-announce] OpenSSL Security Advisory
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20%5Bopenssl-announce%5D%20OpenSSL%20Security%20Advisory&In-Reply-To=%3C55A3060B.6060604%40wisemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001752.html">
   <LINK REL="Next"  HREF="001761.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] [openssl-announce] OpenSSL Security Advisory</H1>
    <B>Jakob Bohm</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20%5Bopenssl-announce%5D%20OpenSSL%20Security%20Advisory&In-Reply-To=%3C55A3060B.6060604%40wisemo.com%3E"
       TITLE="[openssl-users] [openssl-announce] OpenSSL Security Advisory">jb-openssl at wisemo.com
       </A><BR>
    <I>Mon Jul 13 00:27:55 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001752.html">[openssl-users] [openssl-announce] OpenSSL Security Advisory
</A></li>
        <LI>Next message: <A HREF="001761.html">[openssl-users] [openssl-announce] OpenSSL Security Advisory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1760">[ date ]</a>
              <a href="thread.html#1760">[ thread ]</a>
              <a href="subject.html#1760">[ subject ]</a>
              <a href="author.html#1760">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/07/2015 23:03, Jeffrey Walton wrote:
&gt;&gt;<i> During certificate verification, OpenSSL (starting from version 1.0.1n and
</I>&gt;&gt;<i> 1.0.2b) will attempt to find an alternative certificate chain if the first
</I>&gt;&gt;<i> attempt to build such a chain fails. An error in the implementation of this
</I>&gt;&gt;<i> logic can mean that an attacker could cause certain checks on untrusted
</I>&gt;&gt;<i> certificates to be bypassed, such as the CA flag, enabling them to use a
</I>&gt;&gt;<i> valid
</I>&gt;&gt;<i> leaf certificate to act as a CA and &quot;issue&quot; an invalid certificate.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Why was this introduced in a patch release?  I thought
</I>&gt;&gt;<i> improved chain building was a new feature, and thus
</I>&gt;&gt;<i> delineated by a library version number such as 1.0.2 or
</I>&gt;&gt;<i> 1.0.3 .
</I>&gt;<i> I *think* &quot;improved&quot; chain building should have present in the library
</I>&gt;<i> earlier. The methods always exited. See, for example, 4158,
</I>&gt;<i> <A HREF="https://www.ietf.org/rfc/rfc4158.txt.">https://www.ietf.org/rfc/rfc4158.txt.</A>
</I>&gt;<i>
</I>&gt;<i> Here's a real world failure due to previous, &quot;naive&quot; path building:
</I>&gt;<i> <A HREF="https://groups.google.com/d/msg/mailing.openssl.users/72_VQJmCmCU/hUMtemRNvRoJ.">https://groups.google.com/d/msg/mailing.openssl.users/72_VQJmCmCU/hUMtemRNvRoJ.</A>
</I>&gt;<i> The CA re-issued a root by changing the hash and serial number, but
</I>&gt;<i> recertifying the same public key and DN. Then, the server sent the old
</I>&gt;<i> root too as an intermediate. So there were two roots available, each
</I>&gt;<i> with the same DN.
</I>&gt;<i>
</I>&gt;&gt;<i> In fact, I thought that was the reason we all
</I>&gt;&gt;<i> had to wait ages before this long standing shortcoming
</I>&gt;&gt;<i> was fixed.
</I>&gt;<i> It almost sound like you are complaining you did not have to wait ages :)
</I>It's the inconsistency of first insisting this cannot go
into a patch and then pushing out a broken implementation
inside a patch which was only supposed to fix security
and build issues.

This is the kind of event which has caused many dists
to cherry pickindividual changes rather than just
following the official releases.

Enjoy

Jakob
-- 
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="http://www.wisemo.com">http://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001752.html">[openssl-users] [openssl-announce] OpenSSL Security Advisory
</A></li>
	<LI>Next message: <A HREF="001761.html">[openssl-users] [openssl-announce] OpenSSL Security Advisory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1760">[ date ]</a>
              <a href="thread.html#1760">[ thread ]</a>
              <a href="subject.html#1760">[ subject ]</a>
              <a href="author.html#1760">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
