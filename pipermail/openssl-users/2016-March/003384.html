<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Increased memory consumption noticed when upgrading from openssl 1.0.1 to openssl 1.0.2
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Increased%20memory%20consumption%20noticed%20when%0A%20upgrading%20from%20openssl%201.0.1%20to%20openssl%201.0.2&In-Reply-To=%3CCAAfNiqpQyOahpOfYG7u-NW%2BgV7n3e-qw_pp%2BbsSO9kyMjSedwg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003379.html">
   <LINK REL="Next"  HREF="003377.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Increased memory consumption noticed when upgrading from openssl 1.0.1 to openssl 1.0.2</H1>
    <B>Andrew Payne</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Increased%20memory%20consumption%20noticed%20when%0A%20upgrading%20from%20openssl%201.0.1%20to%20openssl%201.0.2&In-Reply-To=%3CCAAfNiqpQyOahpOfYG7u-NW%2BgV7n3e-qw_pp%2BbsSO9kyMjSedwg%40mail.gmail.com%3E"
       TITLE="[openssl-users] Increased memory consumption noticed when upgrading from openssl 1.0.1 to openssl 1.0.2">ajrpayne at gmail.com
       </A><BR>
    <I>Mon Mar 21 18:51:28 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003379.html">[openssl-users] Increased memory consumption noticed when upgrading from openssl 1.0.1 to openssl 1.0.2
</A></li>
        <LI>Next message: <A HREF="003377.html">[openssl-users] Disable session resumption at compile time (compile	equivalent to SSL_OP_NO_TICKET)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3384">[ date ]</a>
              <a href="thread.html#3384">[ thread ]</a>
              <a href="subject.html#3384">[ subject ]</a>
              <a href="author.html#3384">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Thanks for the reply.

We are using the openssl library with nginx to serve traffic in a
multi-tenanted reverse proxy environment. We made no changes to our nginx
config/build outside of upgrading to openssl 1.0.2.

Currently, all servers are running openssl 1.0.1p except for a couple of
servers which are running openssl 1.0.2g.

During normal operation the servers on average use about 10 gigs of memory,
but when running 1.0.2 an extra 25 gigs of memory is being consumed.

When we do an nginx reload, we see massive 50-60 gig dips in available
memory when running openssl 1.0.2.

On Mon, Mar 21, 2016 at 3:04 AM, Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&gt; wrote:

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 20/03/16 03:15, Andrew Payne wrote:
</I>&gt;<i> &gt; Hello,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; My company is in the process of upgrading from openssl 1.0.1 to openssl
</I>&gt;<i> &gt; 1.0.2. We noticed that when we use any version of openssl 1.0.2 we have
</I>&gt;<i> &gt; an extremely high increase in memory usage. Around 15 or more gigs of
</I>&gt;<i> &gt; memory  extra are consumed.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; My questions are as follows:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Are there any settings we should be adjusting to decrease openssl 1.0.2
</I>&gt;<i> &gt; memory consumption?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Has anything changed between openssl 1.0.1 and openssl 1.0.2 that would
</I>&gt;<i> &gt; account for this increase?
</I>&gt;<i>
</I>&gt;<i> Not that I can think of, and I don't recall this issue coming up before
</I>&gt;<i> which would suggest its not a widespread problem. Any clues as to what
</I>&gt;<i> the application is doing at the time you see this?
</I>&gt;<i>
</I>&gt;<i> Matt
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> openssl-users mailing list
</I>&gt;<i> To unsubscribe: <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20160321/94b52848/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20160321/94b52848/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003379.html">[openssl-users] Increased memory consumption noticed when upgrading from openssl 1.0.1 to openssl 1.0.2
</A></li>
	<LI>Next message: <A HREF="003377.html">[openssl-users] Disable session resumption at compile time (compile	equivalent to SSL_OP_NO_TICKET)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3384">[ date ]</a>
              <a href="thread.html#3384">[ thread ]</a>
              <a href="subject.html#3384">[ subject ]</a>
              <a href="author.html#3384">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
