<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> _stdcall dlls
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2023-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20_stdcall%20dlls&In-Reply-To=%3C2467a3f5-b368-a6b5-5385-65fe85921b22%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016070.html">
   <LINK REL="Next"  HREF="016082.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>_stdcall dlls</H1>
    <B>Peter Sylvester</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20_stdcall%20dlls&In-Reply-To=%3C2467a3f5-b368-a6b5-5385-65fe85921b22%40gmail.com%3E"
       TITLE="_stdcall dlls">peter.sylvester at gmail.com
       </A><BR>
    <I>Mon Mar 20 08:37:27 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016070.html">openssl: relocation error
</A></li>
        <LI>Next message (by thread): <A HREF="016082.html">Optimizations for Apple Silicon?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16074">[ date ]</a>
              <a href="thread.html#16074">[ thread ]</a>
              <a href="subject.html#16074">[ subject ]</a>
              <a href="author.html#16074">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi youngsters and elders,

I would kike to share an experience:experiment.

Around 25 years ago, in the EU-IST project CHRONIC, a work item was a &quot;secure&quot; communication 
protocol for health monitoring to reduce hospitalization.

The client part demo was done in Visual Basic by a spanish partner. I proposed to add SSL uSing 
openssl.

To minimize the work on openssl&#160; (0.9.6b), I decided to compile the stuff with the global stdcall 
switch. That went rather well:

- a bit of RTFM

- The MAIN applications in apps need an explicit _cdecl.&#160; ==&gt; ok, no big deal

- Some routines are in assembler, ==&gt; -no-asm (too lazy)

- One quicksort was missing. ==&gt; got the one from microsoft. Nice code avoiding recursion (and 
possible stack problems).

- The big tIme consuming part was a pentium II WNT 4.0 to compile. Hours :-)

There was another idea which I didn't follow:

there are already macros to declare external functions so that no DLL spec (compiled by an almost 
unreadable perl) is required. The perl was buggy at some point btw.

But these macros are/were not used. Maybe some one time perl could change the prototypes etc. since 
he existing perl to detect them exists.

This would avoid using a global compiler switch (a -Dxxx would be sufficient) -no-asm could avoided 
for internal functions ....

 &#160;&#160;&#160;&#160; Would others like such a version of the dlls?

 &#160;&#160;&#160;&#160; I know about 64 bits. So maybe there is no need anymore.

I could have sent this message as a suggestion to the github and I might do so. But since this list 
is for users, I think there could feedback from non-developers.

Good idea? Bad idea? Suggestions?

Best

Peter Sylvester --- otherwise happily retired (or almost)



</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016070.html">openssl: relocation error
</A></li>
	<LI>Next message (by thread): <A HREF="016082.html">Optimizations for Apple Silicon?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16074">[ date ]</a>
              <a href="thread.html#16074">[ thread ]</a>
              <a href="subject.html#16074">[ subject ]</a>
              <a href="author.html#16074">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
