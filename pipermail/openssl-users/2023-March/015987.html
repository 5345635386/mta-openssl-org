<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> pkcs12 cert and mac algorithms
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2023-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20pkcs12%20cert%20and%20mac%20algorithms&In-Reply-To=%3C1AC5B0E6-7DBC-4012-8C26-36096AEE90AC%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015986.html">
   <LINK REL="Next"  HREF="015988.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>pkcs12 cert and mac algorithms</H1>
    <B>Frank Corrao</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20pkcs12%20cert%20and%20mac%20algorithms&In-Reply-To=%3C1AC5B0E6-7DBC-4012-8C26-36096AEE90AC%40gmail.com%3E"
       TITLE="pkcs12 cert and mac algorithms">frank.corrao at gmail.com
       </A><BR>
    <I>Thu Mar  9 22:15:08 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015986.html">issue with X509_issuer_and_serial_hash returning different values under OpenSSL 3
</A></li>
        <LI>Next message (by thread): <A HREF="015988.html">Problems importing keys and certs in Android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15987">[ date ]</a>
              <a href="thread.html#15987">[ thread ]</a>
              <a href="subject.html#15987">[ subject ]</a>
              <a href="author.html#15987">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I&#8217;m trying to create a pkcs12 bundle using openssl 1.1.1 that will contain a client cert, intermediate cert and private key and be usable on android 13.  When I try to import the pkcs12 bundle, android throws and error &quot;ASN.1 encoding routines:OPENSSL_internal:WRONG_TAG&#8221; and doesn't prompt for the export password, implying the issue is with the unencrypted data.  openssl asn1parse is able to read the file just fine and the bundle is useable on other platforms such as iOS and osx, but not android 13.  I&#8217;ve tried creating the pkcs12 using many variations of certpbe, keypbe and macalg, hoping to find something that would be accepted but all attempts result in the WRONG_TAG error.  Are there any other tags in the unencrypted portion of the bundle that android could be objecting to, or am I on the right track with the pbe and mac algorithms?

Frank
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015986.html">issue with X509_issuer_and_serial_hash returning different values under OpenSSL 3
</A></li>
	<LI>Next message (by thread): <A HREF="015988.html">Problems importing keys and certs in Android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15987">[ date ]</a>
              <a href="thread.html#15987">[ thread ]</a>
              <a href="subject.html#15987">[ subject ]</a>
              <a href="author.html#15987">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
