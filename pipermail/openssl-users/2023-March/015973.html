<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> encrypted client hello and openssl custom client hello extensions
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2023-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20encrypted%20client%20hello%20and%20openssl%20custom%20client%20hello%20extensions&In-Reply-To=%3C6b14adf6-cf12-60b1-a577-02eea63aafba%40cs.tcd.ie%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015972.html">
   <LINK REL="Next"  HREF="015974.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>encrypted client hello and openssl custom client hello extensions</H1>
    <B>Stephen Farrell</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20encrypted%20client%20hello%20and%20openssl%20custom%20client%20hello%20extensions&In-Reply-To=%3C6b14adf6-cf12-60b1-a577-02eea63aafba%40cs.tcd.ie%3E"
       TITLE="encrypted client hello and openssl custom client hello extensions">stephen.farrell at cs.tcd.ie
       </A><BR>
    <I>Mon Mar  6 21:38:11 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015972.html">[openssl 1.1.1n] My application acts as a SSL client and SSL server send 4 certificates in its Certificate packet and only the 3rd one has NULL algor in its public key.
</A></li>
        <LI>Next message (by thread): <A HREF="015974.html">Blog post about the forthcoming 3.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15973">[ date ]</a>
              <a href="thread.html#15973">[ thread ]</a>
              <a href="subject.html#15973">[ subject ]</a>
              <a href="author.html#15973">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi all,

I'm working on an implementation [1] of encrypted
client hello (ECH) [2] and so far discussion [3]
on another list hasn't turned up any uses of such
custom client hello extensions (handled via e.g.
``SSL_CTX_add_custom_ext()``) that have sensitive
values that'd benefit from being in the encrypted
&quot;inner&quot; client hello.

That means that it seems ok to handle all custom
extensions by sending them in the outer client
hello and (in compressed form) in the inner client
hello as well. The result is we should get interop,
and need no changes to APIs, but that ECH won't
provide any new benefit for such custom extension
values. (And that's what's implemented by [1].)

That all seems ok so far, but if there were any
deployments that sent sensitive values (e.g. PII)
in such custom client hello extension then it may
be that more work is warranted. (Not that sending
PII in a client hello extension would be a good
idea, but who knows what's been done?)

If you know of any such uses of custom extensions,
I'd be interested in finding out more about 'em. If
there are no such uses, then we're probably in an
ok place already. (It's fine to reply on or off list,
whichever's best.)

Thanks,
Stephen.

[1] 
<A HREF="https://github.com/sftcd/openssl/blob/ECH-draft-13c/doc/designs/ech-api.md">https://github.com/sftcd/openssl/blob/ECH-draft-13c/doc/designs/ech-api.md</A>
[2] <A HREF="https://datatracker.ietf.org/doc/draft-ietf-tls-esni/">https://datatracker.ietf.org/doc/draft-ietf-tls-esni/</A>
[3] <A HREF="../../ech/2023-March/000013.html">https://mta.openssl.org/pipermail/ech/2023-March/000013.html</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_0xE4D8E9F997A833DD.asc
Type: application/pgp-keys
Size: 1197 bytes
Desc: OpenPGP public key
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20230306/e983da73/attachment.asc">https://mta.openssl.org/pipermail/openssl-users/attachments/20230306/e983da73/attachment.asc</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 236 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20230306/e983da73/attachment.sig">https://mta.openssl.org/pipermail/openssl-users/attachments/20230306/e983da73/attachment.sig</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015972.html">[openssl 1.1.1n] My application acts as a SSL client and SSL server send 4 certificates in its Certificate packet and only the 3rd one has NULL algor in its public key.
</A></li>
	<LI>Next message (by thread): <A HREF="015974.html">Blog post about the forthcoming 3.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15973">[ date ]</a>
              <a href="thread.html#15973">[ thread ]</a>
              <a href="subject.html#15973">[ subject ]</a>
              <a href="author.html#15973">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
