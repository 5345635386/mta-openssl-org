<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> How to get NID value of a custom provider
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2023-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20How%20to%20get%20NID%20value%20of%20a%20custom%20provider&In-Reply-To=%3C41491268497e4c22b8df7dce26e4d04a%40ovtmail3.ovt.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016152.html">
   <LINK REL="Next"  HREF="016149.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>How to get NID value of a custom provider</H1>
    <B>Hareesh Das Ulleri</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20How%20to%20get%20NID%20value%20of%20a%20custom%20provider&In-Reply-To=%3C41491268497e4c22b8df7dce26e4d04a%40ovtmail3.ovt.com%3E"
       TITLE="How to get NID value of a custom provider">hareesh.ulleri at ovt.com
       </A><BR>
    <I>Mon Apr  3 01:45:30 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016152.html">Does algorithm fetching falls back if provider does not support algorithm parameters?
</A></li>
        <LI>Next message (by thread): <A HREF="016149.html">OpenSSL 1.1.1t cannot decrypt 1.0.2k-fips files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16148">[ date ]</a>
              <a href="thread.html#16148">[ thread ]</a>
              <a href="subject.html#16148">[ subject ]</a>
              <a href="author.html#16148">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear OpenSSL users,

  I am reposting my previous mail with what exactly my intention since it older post might be confused.

  I have my custom provider which support for HSM encryption on AES, DES. When an application uses the custom provider, it has to pass the respective cryption mode to driver.

  Can someone tell me how the custom provider get the nid value (or the cryption mode) from OpenSSL library (pls correct me if this is not the correct way !) ? Any hint is highly appreciated.

I tried below way, not sure correct way or not...but not successful.

  const EVP_CIPHER * evp = EVP_CIPHER_CTX_get0_cipher(custom_provider_ctx);
  int mode = EVP_CIPHER_get_nid(evp);

Thanks,
Hareesh

From: Hareesh Das Ulleri
Sent: Friday, March 31, 2023 2:37 PM
To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
Subject: Help needed: &quot;setting OSSL_PARAM Param[] values&quot;

Dear OpenSSL users,

  I have implemented a custom provider (OpenSSL 3.0.7) and its working when I hardcode with specific Cipher and blocksize in provider. I need to get this info from the application so that it can be settable in the custom provider. I have the function implemented for OSSL_FUNC_cipher_gettable_params, ... _get_ctx_params and _set_ctx_params etc in my provider.

  I tested with openssl command line utility program (e.g. openssl enc -cipher -aes-256-ctr -in in.bin -out out.bin -K ... -iv ... -nopad).  What I expect here or my understanding is openssl will pass or call the cipher operation parameters function in the custom provider so that it can set these values internally.

  Any help will appreciate if someone can give hint on what is missing here or needed to set cipher operation parameters !

Thanks,
Hareesh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20230403/38b3eca5/attachment-0001.htm">https://mta.openssl.org/pipermail/openssl-users/attachments/20230403/38b3eca5/attachment-0001.htm</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016152.html">Does algorithm fetching falls back if provider does not support algorithm parameters?
</A></li>
	<LI>Next message (by thread): <A HREF="016149.html">OpenSSL 1.1.1t cannot decrypt 1.0.2k-fips files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16148">[ date ]</a>
              <a href="thread.html#16148">[ thread ]</a>
              <a href="subject.html#16148">[ subject ]</a>
              <a href="author.html#16148">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
