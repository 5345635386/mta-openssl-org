<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Re: &#8203;Crash seen in tls13_enc API
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2023-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%3D%3FUTF-8%3FQ%3FRe%3D3a_%3De2%3D80%3D8bCrash_seen_in_tls13%3D5fenc_API%3F%3D&In-Reply-To=%3C551e29f0-b4fe-34ce-a826-146b4e95c026%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016232.html">
   <LINK REL="Next"  HREF="016236.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Re: &#8203;Crash seen in tls13_enc API</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%3D%3FUTF-8%3FQ%3FRe%3D3a_%3De2%3D80%3D8bCrash_seen_in_tls13%3D5fenc_API%3F%3D&In-Reply-To=%3C551e29f0-b4fe-34ce-a826-146b4e95c026%40openssl.org%3E"
       TITLE="Re: &#8203;Crash seen in tls13_enc API">matt at openssl.org
       </A><BR>
    <I>Thu Apr 20 06:53:38 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016232.html">Re: &#8203;Crash seen in tls13_enc API
</A></li>
        <LI>Next message (by thread): <A HREF="016236.html">OpenSSL Security Advisory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16233">[ date ]</a>
              <a href="thread.html#16233">[ thread ]</a>
              <a href="subject.html#16233">[ subject ]</a>
              <a href="author.html#16233">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 20/04/2023 07:47, Samiya Khanum via openssl-users wrote:
&gt;<i> Hi Viktor,
</I>&gt;<i> 
</I>&gt;<i> Thanks for the response.
</I>&gt;<i> After removing &quot;tls1_new&quot; and &quot;tls1_clear&quot;, I didn't see the crash.
</I>&gt;<i> 
</I>&gt;<i> Need some clarification..
</I>&gt;<i> The same code works fine with OpenSSL 1.0.2g&#160; version. We have been 
</I>&gt;<i> using this api's in older versions also, it works fine.
</I>&gt;<i> /&quot;tls1_new&quot;/ makes an /&quot;ssl3_new&quot;/ api call. SSLV3 is deprecated in 
</I>&gt;<i> openssl1.1.1 version.
</I>&gt;<i> Are we not supposed to use this api(tls1_new) in openssl1.1.1?
</I>
You were never supposed to make these calls in any version of OpenSSL. 
If it worked for you then it worked by accident. Those functions are 
purely internal and should never be called directly by an application.

Matt


&gt;<i> 
</I>&gt;<i> Thanks in&#160;advance.
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> Samiya khanum
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Thu, Apr 20, 2023 at 7:10&#8239;AM &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-request at openssl.org</A> 
</I>&gt;<i> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-request at openssl.org</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i>     Send openssl-users mailing list submissions to
</I>&gt;<i>     <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;
</I>&gt;<i> 
</I>&gt;<i>     To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>     <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>&gt;<i>     &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>&gt;
</I>&gt;<i>     or, via email, send a message with subject or body 'help' to
</I>&gt;<i>     <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-request at openssl.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-request at openssl.org</A>&gt;
</I>&gt;<i> 
</I>&gt;<i>     You can reach the person managing the list at
</I>&gt;<i>     <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-owner at openssl.org</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-owner at openssl.org</A>&gt;
</I>&gt;<i> 
</I>&gt;<i>     When replying, please edit your Subject line so it is more specific
</I>&gt;<i>     than &quot;Re: Contents of openssl-users digest...&quot;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     Today's Topics:
</I>&gt;<i> 
</I>&gt;<i>      &#160; &#160;1. Re: Crash seen in tls13_enc API (Viktor Dukhovni)
</I>&gt;<i>      &#160; &#160;2. Re: OpenSSL seeks feedback on draft mission &amp; values
</I>&gt;<i>      &#160; &#160; &#160; statement (Christian Heinrich)
</I>&gt;<i>      &#160; &#160;3. Re: RAND_Bytes() failed with RAND_R_ERROR_INSTANTIATING_DRBG
</I>&gt;<i>      &#160; &#160; &#160; (Dr Paul Dale)
</I>&gt;<i>      &#160; &#160;4. Re: OpenSSL 3.0.x + Python 3.9.x + Enable FIPS- Need
</I>&gt;<i>      &#160; &#160; &#160; help/inputs (Dr Paul Dale)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     ----------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i>     Message: 1
</I>&gt;<i>     Date: Wed, 19 Apr 2023 19:02:16 -0400
</I>&gt;<i>     From: Viktor Dukhovni &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at dukhovni.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at dukhovni.org</A>&gt;&gt;
</I>&gt;<i>     To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;
</I>&gt;<i>     Subject: Re: Crash seen in tls13_enc API
</I>&gt;<i>     Message-ID: &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">ZEBy-GeML2X8oLi5 at straasha.imrryr.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">ZEBy-GeML2X8oLi5 at straasha.imrryr.org</A>&gt;&gt;
</I>&gt;<i>     Content-Type: text/plain; charset=us-ascii
</I>&gt;<i> 
</I>&gt;<i>     On Thu, Apr 20, 2023 at 12:20:16AM +0530, Samiya Khanum via
</I>&gt;<i>     openssl-users wrote:
</I>&gt;<i> 
</I>&gt;<i>      &gt; *&#160; if(tls1_new(con) != 1)*
</I>&gt;<i>      &gt; *&#160; {*
</I>&gt;<i>      &gt; *&#160; &#160; SSL_shutdown(con);*
</I>&gt;<i>      &gt; *&#160; &#160; SSL_free(con);*
</I>&gt;<i>      &gt; *&#160; &#160; SocketClose(sd);*
</I>&gt;<i>      &gt; *&#160; &#160; return FAILURE;*
</I>&gt;<i>      &gt; *&#160; }*
</I>&gt;<i> 
</I>&gt;<i>     What is &quot;tls1_new&quot;?&#160; This does not look like a public OpenSSL API call.
</I>&gt;<i> 
</I>&gt;<i>      &gt; *&#160; err = SSL_connect(con);*
</I>&gt;<i>      &gt; *&#160; if(err == -1)*
</I>&gt;<i>      &gt; *&#160; {*
</I>&gt;<i>      &gt; *&#160; &#160; tls1_clear(con);*
</I>&gt;<i> 
</I>&gt;<i>     And what is tls1_clear()?&#160; Perhaps if you simply delete both calls,
</I>&gt;<i>     things will start to work.
</I>&gt;<i> 
</I>&gt;<i>     -- 
</I>&gt;<i>      &#160; &#160; Viktor.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     ------------------------------
</I>&gt;<i> 
</I>&gt;<i>     Message: 2
</I>&gt;<i>     Date: Thu, 20 Apr 2023 10:52:11 +0930
</I>&gt;<i>     From: Christian Heinrich &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">christian.heinrich at cmlh.id.au</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">christian.heinrich at cmlh.id.au</A>&gt;&gt;
</I>&gt;<i>     To: Hugo Landau &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">hlandau at openssl.org</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">hlandau at openssl.org</A>&gt;&gt;
</I>&gt;<i>     Cc: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-project at openssl.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-project at openssl.org</A>&gt;, <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;
</I>&gt;<i>     Subject: Re: OpenSSL seeks feedback on draft mission &amp; values
</I>&gt;<i>      &#160; &#160; &#160; &#160; statement
</I>&gt;<i>     Message-ID:
</I>&gt;<i>             
</I>&gt;<i>     &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">CAGKxTUROfvVh5RVKp1Si_KMfNCYbZjhBAUJwqF-oCDRz64-19Q at mail.gmail.com</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">CAGKxTUROfvVh5RVKp1Si_KMfNCYbZjhBAUJwqF-oCDRz64-19Q at mail.gmail.com</A>&gt;&gt;
</I>&gt;<i>     Content-Type: text/plain; charset=&quot;UTF-8&quot;
</I>&gt;<i> 
</I>&gt;<i>     Hugo,
</I>&gt;<i> 
</I>&gt;<i>     On Fri, 31 Mar 2023 at 20:09, Hugo Landau &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">hlandau at openssl.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">hlandau at openssl.org</A>&gt;&gt; wrote:
</I>&gt;<i>      &gt; For further information on the draft mission &amp; values statement and
</I>&gt;<i>      &gt; details on how to submit feedback, please see:
</I>&gt;<i> 
</I>&gt;<i>     Just an additional point that wasn't appropriate for the feedback form.
</I>&gt;<i> 
</I>&gt;<i>     Can you include a statement that clarifies the position on export
</I>&gt;<i>     restrictions in light of the fact OpenSSL is widely available and
</I>&gt;<i>     therefore does not strictly apply in most cases?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     --
</I>&gt;<i>     Regards,
</I>&gt;<i>     Christian Heinrich
</I>&gt;<i> 
</I>&gt;<i>     <A HREF="http://cmlh.id.au/contact">http://cmlh.id.au/contact</A> &lt;<A HREF="http://cmlh.id.au/contact">http://cmlh.id.au/contact</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     ------------------------------
</I>&gt;<i> 
</I>&gt;<i>     Message: 3
</I>&gt;<i>     Date: Thu, 20 Apr 2023 11:33:18 +1000
</I>&gt;<i>     From: Dr Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">pauli at openssl.org</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">pauli at openssl.org</A>&gt;&gt;
</I>&gt;<i>     To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;
</I>&gt;<i>     Subject: Re: RAND_Bytes() failed with RAND_R_ERROR_INSTANTIATING_DRBG
</I>&gt;<i>     Message-ID: &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">4bfa0629-e010-9335-4241-a92b07b5f9af at openssl.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">4bfa0629-e010-9335-4241-a92b07b5f9af at openssl.org</A>&gt;&gt;
</I>&gt;<i>     Content-Type: text/plain; charset=UTF-8; format=flowed
</I>&gt;<i> 
</I>&gt;<i>     My guess would be /dev/random is waiting to be seeded.? 3.0 waits for
</I>&gt;<i>     the operating system to have decent entropy.? 1.1.1 will run without
</I>&gt;<i>     (which is rather bad).
</I>&gt;<i> 
</I>&gt;<i>     You might be able to run one of the entropy gathering daemons.? CPU
</I>&gt;<i>     Jitter is my usual recommendation but there are others.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     Paul Dale
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     On 18/4/23 05:11, Manish Patel via openssl-users wrote:
</I>&gt;<i>      &gt; Hi,
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;&#160; ? I am trying to upgrade openssl-1.1.1c with openssl-3.0.8.
</I>&gt;<i>      &gt; We have an existing code that calls RAND_Bytes() which
</I>&gt;<i>      &gt; now fails with above error code:
</I>&gt;<i>     [error:1200006C:lib(36)::reason(108)]
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Tracing
</I>&gt;<i>      &gt; RAND_bytes_ex()
</I>&gt;<i>      &gt; seed_src_generate()
</I>&gt;<i>      &gt; ossl_pool_acquire_entropy() &lt;- this returns no entropy.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; The pool-&gt;len is always zero.
</I>&gt;<i>      &gt; I do not see ossl_rand_pool_add() or ossl_rand_pool_add_begin()
</I>&gt;<i>      &gt; ever called.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; What am I missing? Looks like the random code in openssl has changed
</I>&gt;<i>      &gt; significantly but can not figure out what do I need to do for the
</I>&gt;<i>      &gt; entropy pool
</I>&gt;<i>      &gt; to kick start.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Any help is appreciated.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Thank you
</I>&gt;<i>      &gt; Manish.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     ------------------------------
</I>&gt;<i> 
</I>&gt;<i>     Message: 4
</I>&gt;<i>     Date: Thu, 20 Apr 2023 11:39:37 +1000
</I>&gt;<i>     From: Dr Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">pauli at openssl.org</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">pauli at openssl.org</A>&gt;&gt;
</I>&gt;<i>     To: &quot;Prasad, PCRaghavendra&quot; &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">Pcraghavendra.Prasad at dell.com</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">Pcraghavendra.Prasad at dell.com</A>&gt;&gt;,
</I>&gt;<i>      &#160; &#160; &#160; &#160; &quot;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;&quot; &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;&gt;
</I>&gt;<i>     Cc: &quot;Ds, Pradeep Kumar&quot; &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">PradeepKumar.Ds at Dell.com</A>&gt;
</I>&gt;<i>     Subject: Re: OpenSSL 3.0.x + Python 3.9.x + Enable FIPS- Need
</I>&gt;<i>      &#160; &#160; &#160; &#160; help/inputs
</I>&gt;<i>     Message-ID: &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">5b7134db-07ad-c1b0-89cc-2639c4e1c6d5 at openssl.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">5b7134db-07ad-c1b0-89cc-2639c4e1c6d5 at openssl.org</A>&gt;&gt;
</I>&gt;<i>     Content-Type: text/plain; charset=&quot;utf-8&quot;; Format=&quot;flowed&quot;
</I>&gt;<i> 
</I>&gt;<i>     It looks like you're trying to access non-approved crypto.? My
</I>&gt;<i>     suggestion would be to create a new library context specifically for
</I>&gt;<i>     this using OSSL_LIB_CTX_new().? Load only the default provider into
</I>&gt;<i>     that
</I>&gt;<i>     context using OSSL_PROVIDER_load().? Do not call
</I>&gt;<i>     EVP_default_properties_enable_fips() on it.
</I>&gt;<i> 
</I>&gt;<i>     You should only use this new library context for non-FIPS operations.?
</I>&gt;<i>     If there is any doubt about what is permitted and what isn't, contact
</I>&gt;<i>     your FIPS lab for clarification.
</I>&gt;<i> 
</I>&gt;<i>     Paul Dale
</I>&gt;<i> 
</I>&gt;<i>     On 20/4/23 01:35, Prasad, PCRaghavendra wrote:
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Hi Dr.Paul/Team,
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Good Morning,
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; We have integrated OpenSSL 3.0.8 in our code along with fips
</I>&gt;<i>      &gt; enablement. We are using python 3.11 version.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; We have used the default search path as our application directory
</I>&gt;<i>      &gt; (OSSL_PROVIDER_set_default_search_path) and loaded the ?base? and
</I>&gt;<i>      &gt; ?fips? providers and not the default provider.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; OSSL_PROVIDER_load(None, b&quot;base&quot;)
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; OSSL_PROVIDER_load(None, b&quot;fips&quot;)
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; After that, we enabled the FIPS using
</I>&gt;<i>      &gt; libcrypto.EVP_default_properties_enable_fips() call.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Should we load the default provider as well or base and fips are
</I>&gt;<i>     good
</I>&gt;<i>      &gt; enough?
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Sometimes we are getting the below error message from Python
</I>&gt;<i>      &gt; cryptography package
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; cryptography.exceptions.InternalError: Unknown OpenSSL error. This
</I>&gt;<i>      &gt; error is commonly encountered when another library is not
</I>&gt;<i>     cleaning up
</I>&gt;<i>      &gt; the OpenSSL error stack. If you are using cryptography with another
</I>&gt;<i>      &gt; library that uses OpenSSL try disabling it before reporting a bug.
</I>&gt;<i>      &gt; Otherwise please file an issue at
</I>&gt;<i>      &gt; <A HREF="https://github.com/pyca/cryptography/issues">https://github.com/pyca/cryptography/issues</A>
</I>&gt;<i>     &lt;<A HREF="https://github.com/pyca/cryptography/issues">https://github.com/pyca/cryptography/issues</A>&gt; with information on
</I>&gt;<i>     how to
</I>&gt;<i>      &gt; reproduce this. ([_OpenSSLErrorWithText(code=50856204, lib=6,
</I>&gt;<i>      &gt; reason=524556, reason_text=b'error:0308010C:digital envelope
</I>&gt;<i>      &gt; routines::unsupported')])
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; This error is intermittent is what we are observing as we have
</I>&gt;<i>     already
</I>&gt;<i>      &gt; tested the complete application couple of times
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Any thoughts or inputs on this please will help us in debugging more
</I>&gt;<i>      &gt; on this issue.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Thanks,
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Raghavendra
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Internal Use - Confidential
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; *From:* Dr Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">pauli at openssl.org</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">pauli at openssl.org</A>&gt;&gt;
</I>&gt;<i>      &gt; *Sent:* Wednesday, March 8, 2023 11:02 AM
</I>&gt;<i>      &gt; *To:* Prasad, PCRaghavendra; <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i>     &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;
</I>&gt;<i>      &gt; *Cc:* Ds, Pradeep Kumar; Kuppam, Pradeep; Kappgal, Srinath
</I>&gt;<i>      &gt; *Subject:* Re: OpenSSL 3.0.x + Python 3.9.x + Enable FIPS- Need
</I>&gt;<i>      &gt; help/inputs
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; [EXTERNAL EMAIL]
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;&#160; &#160; &#160;Are there any specific .h files where we can refer to this method
</I>&gt;<i>      &gt;&#160; &#160; &#160;that needs to be used ( ex: evp.h )?
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; #include &quot;openssl/evp.h&quot; should be enough to get the EVP APIs.? You
</I>&gt;<i>      &gt; will need other includes for other parts of OpenSSL but that covers
</I>&gt;<i>      &gt; EVP well enough.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;&#160; &#160; &#160;still, are there any files that we can go through once before
</I>&gt;<i>      &gt;&#160; &#160; &#160;calling in the fips mode?
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Turn on -Wdeprecated or equivalent in your compile and the low level
</I>&gt;<i>      &gt; calls will be flagged.? They should all be deprecated.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;&#160; &#160; &#160;One more doubt is How can we set fips enabled for the complete
</I>&gt;<i>      &gt;&#160; &#160; &#160;application (process/service) while running so that if we are
</I>&gt;<i>      &gt;&#160; &#160; &#160;using non-compliant algorithms/methods it should throw errors? Is
</I>&gt;<i>      &gt;&#160; &#160; &#160;it possible in OpenSSL 3.0.x?
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; The call you are looking for is:
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; EVP_set_default_properties(libctx, &quot;fips=yes&quot;);
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; I strongly suggest reading the documentation about the FIPS provider
</I>&gt;<i>      &gt; [openssl.org &lt;<A HREF="http://openssl.org">http://openssl.org</A>&gt;]
</I>&gt;<i>      &gt;
</I>&gt;<i>     &lt;<A HREF="https://urldefense.com/v3/__https:/www.openssl.org/docs/man3.0/man7/fips_module.html__;!!LpKI!gwsGt_60jqaHzhWTEXZCwSn0frcRAuJbbxYQLrkbfBfkw9-Eg_mdOnYzU6EDHNOBOR25XSXKcqHcPO1X7_TtGA$">https://urldefense.com/v3/__https:/www.openssl.org/docs/man3.0/man7/fips_module.html__;!!LpKI!gwsGt_60jqaHzhWTEXZCwSn0frcRAuJbbxYQLrkbfBfkw9-Eg_mdOnYzU6EDHNOBOR25XSXKcqHcPO1X7_TtGA$</A> &lt;<A HREF="https://urldefense.com/v3/__https:/www.openssl.org/docs/man3.0/man7/fips_module.html__;!!LpKI!gwsGt_60jqaHzhWTEXZCwSn0frcRAuJbbxYQLrkbfBfkw9-Eg_mdOnYzU6EDHNOBOR25XSXKcqHcPO1X7_TtGA$">https://urldefense.com/v3/__https:/www.openssl.org/docs/man3.0/man7/fips_module.html__;!!LpKI!gwsGt_60jqaHzhWTEXZCwSn0frcRAuJbbxYQLrkbfBfkw9-Eg_mdOnYzU6EDHNOBOR25XSXKcqHcPO1X7_TtGA$</A>&gt;&gt;
</I>&gt;<i>      &gt; and the migration guide [openssl.org &lt;<A HREF="http://openssl.org">http://openssl.org</A>&gt;]
</I>&gt;<i>      &gt;
</I>&gt;<i>     &lt;<A HREF="https://urldefense.com/v3/__https:/www.openssl.org/docs/man3.0/man7/migration_guide.html__;!!LpKI!gwsGt_60jqaHzhWTEXZCwSn0frcRAuJbbxYQLrkbfBfkw9-Eg_mdOnYzU6EDHNOBOR25XSXKcqHcPO2zYsa_AA$">https://urldefense.com/v3/__https:/www.openssl.org/docs/man3.0/man7/migration_guide.html__;!!LpKI!gwsGt_60jqaHzhWTEXZCwSn0frcRAuJbbxYQLrkbfBfkw9-Eg_mdOnYzU6EDHNOBOR25XSXKcqHcPO2zYsa_AA$</A> &lt;<A HREF="https://urldefense.com/v3/__https:/www.openssl.org/docs/man3.0/man7/migration_guide.html__;!!LpKI!gwsGt_60jqaHzhWTEXZCwSn0frcRAuJbbxYQLrkbfBfkw9-Eg_mdOnYzU6EDHNOBOR25XSXKcqHcPO2zYsa_AA$">https://urldefense.com/v3/__https:/www.openssl.org/docs/man3.0/man7/migration_guide.html__;!!LpKI!gwsGt_60jqaHzhWTEXZCwSn0frcRAuJbbxYQLrkbfBfkw9-Eg_mdOnYzU6EDHNOBOR25XSXKcqHcPO2zYsa_AA$</A>&gt;&gt;.?
</I>&gt;<i>      &gt; Both the avoidance of low level calls and setting the default
</I>&gt;<i>      &gt; properties are covered therein.? There are a number of other nuances
</I>&gt;<i>      &gt; to trip over when using the FIPS provider.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Paul Dale
</I>&gt;<i>      &gt;
</I>&gt;<i>     -------------- next part --------------
</I>&gt;<i>     An HTML attachment was scrubbed...
</I>&gt;<i>     URL:
</I>&gt;<i>     &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20230420/d4a3c48a/attachment.htm">https://mta.openssl.org/pipermail/openssl-users/attachments/20230420/d4a3c48a/attachment.htm</A> &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20230420/d4a3c48a/attachment.htm">https://mta.openssl.org/pipermail/openssl-users/attachments/20230420/d4a3c48a/attachment.htm</A>&gt;&gt;
</I>&gt;<i> 
</I>&gt;<i>     ------------------------------
</I>&gt;<i> 
</I>&gt;<i>     Subject: Digest Footer
</I>&gt;<i> 
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     openssl-users mailing list
</I>&gt;<i>     <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;
</I>&gt;<i>     <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>&gt;<i>     &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     ------------------------------
</I>&gt;<i> 
</I>&gt;<i>     End of openssl-users Digest, Vol 101, Issue 30
</I>&gt;<i>     **********************************************
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> This electronic communication and the information and any files 
</I>&gt;<i> transmitted with it, or attached to it, are confidential and are 
</I>&gt;<i> intended solely for the use of the individual or entity to whom it is 
</I>&gt;<i> addressed and may contain information that is confidential, legally 
</I>&gt;<i> privileged, protected by privacy laws, or otherwise restricted from 
</I>&gt;<i> disclosure to anyone else. If you are not the intended recipient or the 
</I>&gt;<i> person responsible for delivering the e-mail to the intended recipient, 
</I>&gt;<i> you are hereby notified that any use, copying, distributing, 
</I>&gt;<i> dissemination, forwarding, printing, or copying of this e-mail is 
</I>&gt;<i> strictly prohibited. If you received this e-mail in error, please return 
</I>&gt;<i> the e-mail to the sender, delete it from your computer, and destroy any 
</I>&gt;<i> printed copy of it.
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016232.html">Re: &#8203;Crash seen in tls13_enc API
</A></li>
	<LI>Next message (by thread): <A HREF="016236.html">OpenSSL Security Advisory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16233">[ date ]</a>
              <a href="thread.html#16233">[ thread ]</a>
              <a href="subject.html#16233">[ subject ]</a>
              <a href="author.html#16233">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
