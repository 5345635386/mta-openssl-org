<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> What is 'trusted certificate'
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2022-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20What%20is%20%27trusted%20certificate%27&In-Reply-To=%3C43b118dc9622d28d757e63e62e18734c86b63a7b.camel%40von-Oheimb.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015311.html">
   <LINK REL="Next"  HREF="015313.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>What is 'trusted certificate'</H1>
    <B>David von Oheimb</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20What%20is%20%27trusted%20certificate%27&In-Reply-To=%3C43b118dc9622d28d757e63e62e18734c86b63a7b.camel%40von-Oheimb.de%3E"
       TITLE="What is 'trusted certificate'">it at von-Oheimb.de
       </A><BR>
    <I>Sat Jul 16 06:45:22 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015311.html">What is 'trusted certificate' 
</A></li>
        <LI>Next message (by thread): <A HREF="015313.html">What is 'trusted certificate'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15312">[ date ]</a>
              <a href="thread.html#15312">[ thread ]</a>
              <a href="subject.html#15312">[ subject ]</a>
              <a href="author.html#15312">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The below warning message looks a bit like it was produced by OpenSSL,
but pretty sure it actually comes from the freeradius server code, which
appears to use one of the OpenSSL certificate checking callback
mechanisms.&#160;So you should ask there what the exact intention for this
warning is and how to prevent it.

To me the below warnings looks strange because usually at depth 0 and 1
of a cert chain (i.e., at the positions of the end entity cert and any
subsequent intermediate cert) it is normal to have untrusted certs.
Usually only at the end of the chain you have a trusted cert that
represents the trust anchor for the chain.

Some information on the OpenSSL view on trusted/untrusted certs can be
fount
at&#160;<A HREF="https://beta.openssl.org/docs/manmaster/man1/openssl-verification-options.html">https://beta.openssl.org/docs/manmaster/man1/openssl-verification-options.html</A>

 David

On Fri, 2022-07-15 at 22:38 +0200, Kamil Jo&#324;ca wrote:
&gt;<i> 
</I>&gt;<i> I have freeradius server configured to use EAP-TLS
</I>&gt;<i> (certificate baset authn)
</I>&gt;<i> Since some time I have warning in logs:
</I>&gt;<i> 
</I>&gt;<i> --8&lt;---------------cut here---------------start-------------&gt;8---
</I>&gt;<i> Fri Jul 15 22:29:04 2022 : Warning: (TLS) untrusted certificate with
</I>&gt;<i> depth [1] subject name
</I>&gt;<i> /C=PL/ST=Mazowieckie/L=Warszawa/O=beta/OU=wifi/CN=beta-wifi-ca
</I>&gt;<i> Fri Jul 15 22:29:04 2022 : Warning: (TLS) untrusted certificate with
</I>&gt;<i> depth [0] subject name
</I>&gt;<i> /C=PL/ST=Mazowieckie/O=beta/OU=wifi/CN=salamandra
</I>&gt;<i> --8&lt;---------------cut here---------------end---------------&gt;8---
</I>&gt;<i> 
</I>&gt;<i> I took a look into code and it seems to be related to
</I>&gt;<i> &quot;X509_STORE_CTX_get0_untrusted(ctx)&quot; function.
</I>&gt;<i> I tried to search, but without success.
</I>&gt;<i> Can anyone tell me when certificate is &quot;trusted&quot; in this context?
</I>&gt;<i> (How to get rid this warning) or point to documentation/search keys
</I>&gt;<i> 
</I>&gt;<i> KJ
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> <A HREF="http://wolnelektury.pl/wesprzyj/teraz/">http://wolnelektury.pl/wesprzyj/teraz/</A>
</I>&gt;<i> 
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20220716/04f132ce/attachment.htm">https://mta.openssl.org/pipermail/openssl-users/attachments/20220716/04f132ce/attachment.htm</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015311.html">What is 'trusted certificate' 
</A></li>
	<LI>Next message (by thread): <A HREF="015313.html">What is 'trusted certificate'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15312">[ date ]</a>
              <a href="thread.html#15312">[ thread ]</a>
              <a href="subject.html#15312">[ subject ]</a>
              <a href="author.html#15312">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
