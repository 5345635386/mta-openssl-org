<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Windows Compile Fails
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Windows%20Compile%20Fails&In-Reply-To=%3C558439E5.10509%40roadrunner.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001593.html">
   <LINK REL="Next"  HREF="001595.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Windows Compile Fails</H1>
    <B>Jay Foster</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Windows%20Compile%20Fails&In-Reply-To=%3C558439E5.10509%40roadrunner.com%3E"
       TITLE="[openssl-users] Windows Compile Fails">jayf0ster at roadrunner.com
       </A><BR>
    <I>Fri Jun 19 15:48:53 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001593.html">[openssl-users] Windows Compile Fails
</A></li>
        <LI>Next message: <A HREF="001595.html">[openssl-users] Windows Compile Fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1594">[ date ]</a>
              <a href="thread.html#1594">[ thread ]</a>
              <a href="subject.html#1594">[ subject ]</a>
              <a href="author.html#1594">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/19/2015 8:30 AM, Jay Foster wrote:
&gt;<i> On 6/18/2015 7:55 PM, Thomas J. Hruska wrote:
</I>&gt;&gt;<i> On 6/18/2015 4:46 PM, Jay Foster wrote:
</I>&gt;&gt;&gt;<i> I'm new to building OpenSSL with Windows. I'm trying to build OpenSSL
</I>&gt;&gt;&gt;<i> 1.0.2c for Windows, but get a linking error
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> tmp32dll\x86cpuid.obj : fatal error LNK1112: module machine type 'X86'
</I>&gt;&gt;&gt;<i> conflicts with target machine type 'x64'
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I googled for this error, but the solutions mention changing parameters
</I>&gt;&gt;&gt;<i> in the VC Studio project, but I'm building from the command line with
</I>&gt;&gt;&gt;<i> nmake.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I'm configuring for 32-bit (perl Configure VC-WIN32 ...).  I think the
</I>&gt;&gt;&gt;<i> Windows system I'm compiling on is a 64-bit OS.  I know I have built
</I>&gt;&gt;&gt;<i> 32-bit applications on it in the past from VC Studio.  Is there some
</I>&gt;&gt;&gt;<i> obvious fix?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Jay
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What Command Prompt are you running?  You have to use the correct 
</I>&gt;&gt;<i> &quot;Native Tools&quot; for the target hardware type.  If you are building 
</I>&gt;&gt;<i> VC-WIN32, then you are targeting 32-bit hardware and need to run the 
</I>&gt;&gt;<i> x86 Native Tools Command Prompt (not the x64 version).  You can't mix 
</I>&gt;&gt;<i> and match targets.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If you don't want to build it yourself, there are also prebuilt 
</I>&gt;&gt;<i> binaries and libraries.
</I>&gt;&gt;<i>
</I>&gt;<i> I tried again, but it then failed trying to compile an assembly file 
</I>&gt;<i> (i586 something).  It complained about an unknown operand.
</I>&gt;<i>
</I>&gt;<i> I tried again adding &quot;no-asm&quot; to my configuration.  It seemed to 
</I>&gt;<i> compile fine, but again failed at the link with several undefined 
</I>&gt;<i> symbols:
</I>&gt;<i> _OPENSSL_ia32cap_P, _OPENSSL_ia32_cpuid, _md5_block_asm_data_order, 
</I>&gt;<i> _sha1_block_data_order, _sha256_block_data_order, and 
</I>&gt;<i> _sha512_block_data_order.
</I>&gt;<i>
</I>&gt;<i> My goal is to obtain a static library(ies) and associated header files 
</I>&gt;<i> that I can use to compile my application that uses OpenSSL on 
</I>&gt;<i> Windows.  Where can I obtain these pre-built binaries?
</I>&gt;<i>
</I>&gt;<i> Jay
</I>&gt;<i> _______________________________________________
</I>&gt;<i> openssl-users mailing list
</I>&gt;<i> To unsubscribe: <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>&gt;<i>
</I>I started over from a clean directory and the build completed.  On 
linux, I would end up with two libraries (libssl, libcrypto).  I don't 
see these on Windows in the out32dll directory.  Does Windows create 
different library names?  I'm looking for the equivalent static 
libraries for libssl and libcrypto to link with my application.

Jay
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001593.html">[openssl-users] Windows Compile Fails
</A></li>
	<LI>Next message: <A HREF="001595.html">[openssl-users] Windows Compile Fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1594">[ date ]</a>
              <a href="thread.html#1594">[ thread ]</a>
              <a href="subject.html#1594">[ subject ]</a>
              <a href="author.html#1594">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
