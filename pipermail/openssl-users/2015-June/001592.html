<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Windows Compile Fails
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Windows%20Compile%20Fails&In-Reply-To=%3CB550B44BF8AF314BB00C4E2AC1C18088014C2E263D%40Rock-Exchange1.microfocus.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001590.html">
   <LINK REL="Next"  HREF="001593.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Windows Compile Fails</H1>
    <B>Michael Wojcik</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Windows%20Compile%20Fails&In-Reply-To=%3CB550B44BF8AF314BB00C4E2AC1C18088014C2E263D%40Rock-Exchange1.microfocus.com%3E"
       TITLE="[openssl-users] Windows Compile Fails">Michael.Wojcik at microfocus.com
       </A><BR>
    <I>Fri Jun 19 14:32:50 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001590.html">[openssl-users] Windows Compile Fails
</A></li>
        <LI>Next message: <A HREF="001593.html">[openssl-users] Windows Compile Fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1592">[ date ]</a>
              <a href="thread.html#1592">[ thread ]</a>
              <a href="subject.html#1592">[ subject ]</a>
              <a href="author.html#1592">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On Behalf
</I>&gt;<i> Of Thomas J. Hruska
</I>&gt;<i> Sent: Thursday, June 18, 2015 22:56
</I>&gt;<i> 
</I>&gt;<i> On 6/18/2015 4:46 PM, Jay Foster wrote:
</I>&gt;<i> &gt; I'm new to building OpenSSL with Windows.  I'm trying to build OpenSSL
</I>&gt;<i> &gt; 1.0.2c for Windows, but get a linking error
</I>&gt;<i> 
</I>&gt;<i> What Command Prompt are you running?  You have to use the correct
</I>&gt;<i> &quot;Native Tools&quot; for the target hardware type.  If you are building
</I>&gt;<i> VC-WIN32, then you are targeting 32-bit hardware and need to run the x86
</I>&gt;<i> Native Tools Command Prompt (not the x64 version).  You can't mix and
</I>&gt;<i> match targets.
</I>
More generally, the compiler bitness has to match the bitness you configure the OpenSSL build for. The Visual Studio &quot;command prompt&quot; shortcuts set up the appropriate environment, but you can also do it using the various batch files supplied with VS (vcvars32.bat, etc), or by setting the appropriate paths and other environment variables manually. (I build OpenSSL for Windows from a Cygwin bash shell, using Visual Studio, and I have bash functions that set up the appropriate build environments.)

The bitness of the OS doesn't matter. You can cross-compile x64 binaries on 32-bit Windows and vice versa. When we build OpenSSL for Windows as part of our integration / automated build process, we have our own wrapper scripts that build both bitnesses in separate build directories, using the same build machine.

A quick check is to run &quot;cl&quot; with no parameters from the command line you're using for OpenSSL. It will say something like &quot;Microsoft (R) C/C++ Optimizing Compiler Version 17.00.61030 for x86&quot; or &quot;... for x64&quot;.

-- 
Michael Wojcik
Technology Specialist, Micro Focus

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001590.html">[openssl-users] Windows Compile Fails
</A></li>
	<LI>Next message: <A HREF="001593.html">[openssl-users] Windows Compile Fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1592">[ date ]</a>
              <a href="thread.html#1592">[ thread ]</a>
              <a href="subject.html#1592">[ subject ]</a>
              <a href="author.html#1592">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
