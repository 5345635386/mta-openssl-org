<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Bug 1.0.1f - selfsign ignores email_in_dn	setting
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Bug%201.0.1f%20-%20selfsign%20ignores%20email_in_dn%0A%09setting&In-Reply-To=%3C5589ED3D.9010702%40wisemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001591.html">
   <LINK REL="Next"  HREF="001663.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Bug 1.0.1f - selfsign ignores email_in_dn	setting</H1>
    <B>Jakob Bohm</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Bug%201.0.1f%20-%20selfsign%20ignores%20email_in_dn%0A%09setting&In-Reply-To=%3C5589ED3D.9010702%40wisemo.com%3E"
       TITLE="[openssl-users] Bug 1.0.1f - selfsign ignores email_in_dn	setting">jb-openssl at wisemo.com
       </A><BR>
    <I>Tue Jun 23 23:35:25 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001591.html">[openssl-users] Bug 1.0.1f - selfsign ignores email_in_dn setting
</A></li>
        <LI>Next message: <A HREF="001663.html">[openssl-users] Bug 1.0.1f - selfsign ignores email_in_dn	setting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1628">[ date ]</a>
              <a href="thread.html#1628">[ thread ]</a>
              <a href="subject.html#1628">[ subject ]</a>
              <a href="author.html#1628">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 19/06/2015 16:24, Ben Humpert wrote:
&gt;<i> When the CSR contains an email address and the email_in_dn setting in
</I>&gt;<i> the config file is set to &quot;no&quot; the email address is actually present
</I>&gt;<i> in the issuer DN but not in the subject DN. This causes errors when
</I>&gt;<i> verifying certificate chains since the subject hash is used to
</I>&gt;<i> identify a cert but the issuer hash is different.
</I>Are you sure, I have not seen this behavior in current
versions when making self-signed certificates, could
you provide step by step reproduction procedures to
cause this misbehavior?
&gt;<i> A dirty workaround is to 1) link the subject hash to the cert file and
</I>&gt;<i> additionally 2) link the issuer hash to the same cert file
</I>Such a workaround would be absolutely no help for
anyone using any other crypto library to verify the
certificate chain.

If OpenSSL certificate verification accepts an invalid
certificate chain by simply linking from the wrong
hash to a certificate with a different subject, then
that is a minor security vulnerability in the
verification code in OpenSSL, as that would also make
it fail for any fake issuer name chosen to have the
same (non-cryptographic) hash as an already trusted
certificate.  The limitation of such a vulnerability
would be that the cryptographic keys still need to
match.

Enjoy

Jakob
-- 
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="http://www.wisemo.com">http://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001591.html">[openssl-users] Bug 1.0.1f - selfsign ignores email_in_dn setting
</A></li>
	<LI>Next message: <A HREF="001663.html">[openssl-users] Bug 1.0.1f - selfsign ignores email_in_dn	setting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1628">[ date ]</a>
              <a href="thread.html#1628">[ thread ]</a>
              <a href="subject.html#1628">[ subject ]</a>
              <a href="author.html#1628">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
