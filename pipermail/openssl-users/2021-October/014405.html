<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Store Mgmt and keys loading ( keyform ENG )
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-October/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Store%20Mgmt%20and%20keys%20loading%20%28%20keyform%20ENG%20%29&In-Reply-To=%3CCACsVzKhfxJwkn6nhABvDPoxorxQuGAva36NKzebikA4QtqiQxg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014413.html">
   <LINK REL="Next"  HREF="014407.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Store Mgmt and keys loading ( keyform ENG )</H1>
    <B>Antonio Santagiuliana</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Store%20Mgmt%20and%20keys%20loading%20%28%20keyform%20ENG%20%29&In-Reply-To=%3CCACsVzKhfxJwkn6nhABvDPoxorxQuGAva36NKzebikA4QtqiQxg%40mail.gmail.com%3E"
       TITLE="Store Mgmt and keys loading ( keyform ENG )">santantonioswap at gmail.com
       </A><BR>
    <I>Mon Oct  4 11:12:29 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="014413.html">&quot;DST Root CA X3&quot; expiry workaround for OpenSSL 1.0.1, 1.0.0 and 0.9.8 client applications
</A></li>
        <LI>Next message: <A HREF="014407.html">Store Mgmt and keys loading ( keyform ENG )
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14405">[ date ]</a>
              <a href="thread.html#14405">[ thread ]</a>
              <a href="subject.html#14405">[ subject ]</a>
              <a href="author.html#14405">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
I am doing my own provider starting from the default provider's code.
I have now a question, I am seeing the STOREMGMT operation is required to
interpret the URI of input private key,  I would like that the string
passed by the user for input key is not interpret as file to open but just
my provider should save the string value to be used later .This is  when
invoking command options such as dgst sign -in &quot;text&quot; -keyform ENG.
With engines' architecture this is possible by passing option -keyform ENG
to dgst command. The string in that case is not interpreted as a file path
and just passed through.
There was engine_set_load_privkey_function that was getting this string.
How can I achieve this now with the provider architecture ? If I pass
-keyform ENG to dgst command together with --provider , it says &quot;no engine
specified to load private key&quot; Should I use OSSL_FUNC_store_load_fn and
OSSL_FUNC_store_open_fn ? .
Also, at low level I am using RSA_FLAG_EXT_PKEY flag set as I don't have a
real private key info to load and use from a Filesystem.
Is there anything to set in the KEYMGMT too ? I can see there is a flag
OSSL_KEYMGMT_SELECT_PRIVATE_KEY indicating the private key data in a key
object should be considered. Not really sure if this is something I should
set or not and how this keymgmt operation relates with storemgmt operation.

thank you if you can send some comment on this.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20211004/8be28bd3/attachment.html">https://mta.openssl.org/pipermail/openssl-users/attachments/20211004/8be28bd3/attachment.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014413.html">&quot;DST Root CA X3&quot; expiry workaround for OpenSSL 1.0.1, 1.0.0 and 0.9.8 client applications
</A></li>
	<LI>Next message: <A HREF="014407.html">Store Mgmt and keys loading ( keyform ENG )
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14405">[ date ]</a>
              <a href="thread.html#14405">[ thread ]</a>
              <a href="subject.html#14405">[ subject ]</a>
              <a href="author.html#14405">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
