<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> IMPLEMENT_ASN1_FUNCTIONS tutorial or help
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20IMPLEMENT_ASN1_FUNCTIONS%20tutorial%20or%20help&In-Reply-To=%3Csfmjj4%24l21%241%40ciao.gmane.io%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014116.html">
   <LINK REL="Next"  HREF="014101.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>IMPLEMENT_ASN1_FUNCTIONS tutorial or help</H1>
    <B>Ken Goldman</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20IMPLEMENT_ASN1_FUNCTIONS%20tutorial%20or%20help&In-Reply-To=%3Csfmjj4%24l21%241%40ciao.gmane.io%3E"
       TITLE="IMPLEMENT_ASN1_FUNCTIONS tutorial or help">kgoldman at us.ibm.com
       </A><BR>
    <I>Thu Aug 19 21:48:20 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="014116.html">[EXTERNAL] Re: IMPLEMENT_ASN1_FUNCTIONS tutorial or help
</A></li>
        <LI>Next message: <A HREF="014101.html">CMS_SIgnedData backwards-compatibility
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14124">[ date ]</a>
              <a href="thread.html#14124">[ thread ]</a>
              <a href="subject.html#14124">[ subject ]</a>
              <a href="author.html#14124">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 8/17/2021 9:47 PM, Sands, Daniel via openssl-users wrote:
&gt;<i> The dump you show below is:
</I>&gt;<i> Attributes (set, tagged with a 0, optional)
</I>&gt;<i> Version
</I>&gt;<i> privateKeyAlgorithm
</I>&gt;<i> privateKey
</I>&gt;<i> 
</I>&gt;<i> This is a PKCS#8 packet for a key.  The encapsulated data is the RSA public key in PKCS1 format.  I know OpenSSL has built-in PKCS#8 capability, though I do note that the optional attribute set is out of sequence.
</I>&gt;<i> 
</I>&gt;<i> Either way, you could look at the PKCS8 source code and simply move the attribute to the beginning and otherwise duplicate the ASN1 parts and structure there, even if OpenSSL fails to parse this not-quite-spec packet.
</I>
For the record, it was an inconsistency - ASN1_SIMPLE requires a pointer, ASN1_EMBED does not.

I used the example in x_x509.c, which uses EMBED, but I could not find the corresponding typedef.

(I have no opportunity to change the input.  It comes from a standard HSM.)

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014116.html">[EXTERNAL] Re: IMPLEMENT_ASN1_FUNCTIONS tutorial or help
</A></li>
	<LI>Next message: <A HREF="014101.html">CMS_SIgnedData backwards-compatibility
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14124">[ date ]</a>
              <a href="thread.html#14124">[ thread ]</a>
              <a href="subject.html#14124">[ subject ]</a>
              <a href="author.html#14124">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
