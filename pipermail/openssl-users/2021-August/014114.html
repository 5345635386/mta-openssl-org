<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [EXTERNAL] Re: IMPLEMENT_ASN1_FUNCTIONS tutorial or help
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5BEXTERNAL%5D%20Re%3A%20IMPLEMENT_ASN1_FUNCTIONS%20tutorial%20or%20help&In-Reply-To=%3Csfhc0i%24uhf%241%40ciao.gmane.io%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014112.html">
   <LINK REL="Next"  HREF="014115.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[EXTERNAL] Re: IMPLEMENT_ASN1_FUNCTIONS tutorial or help</H1>
    <B>Ken Goldman</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5BEXTERNAL%5D%20Re%3A%20IMPLEMENT_ASN1_FUNCTIONS%20tutorial%20or%20help&In-Reply-To=%3Csfhc0i%24uhf%241%40ciao.gmane.io%3E"
       TITLE="[EXTERNAL] Re: IMPLEMENT_ASN1_FUNCTIONS tutorial or help">kgoldman at us.ibm.com
       </A><BR>
    <I>Tue Aug 17 22:08:18 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="014112.html">[EXTERNAL] Re: IMPLEMENT_ASN1_FUNCTIONS tutorial or help
</A></li>
        <LI>Next message: <A HREF="014115.html">IMPLEMENT_ASN1_FUNCTIONS tutorial or help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14114">[ date ]</a>
              <a href="thread.html#14114">[ thread ]</a>
              <a href="subject.html#14114">[ subject ]</a>
              <a href="author.html#14114">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 8/17/2021 12:57 PM, Sands, Daniel via openssl-users wrote:
&gt;&gt;&gt;&gt;<i> Now I would like to do the other end, where I have der and I want to
</I>&gt;&gt;&gt;&gt;<i> parse back to the structure, using d2i()
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> 1 - Is there a tutorial on this?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Seems like you don't need one. If you got i2d working you should have d2i
</I>&gt;&gt;<i> already!
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I wasn't clear.  The input and output sides are different asn.1.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For the input side, a poster give me the structure and I only need the i2d().
</I>&gt;&gt;<i> That's done - amazing.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This worked so well that I would like to use the same pattern for the output side,
</I>&gt;&gt;<i> where I need d2i().
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I posted the DER dump below, but I don't know how to map that to the
</I>&gt;&gt;<i> structures that the openssl macros can consume.
</I>&gt;<i> 
</I>&gt;<i> If you want a generalized parser, you need the schema.  Yes, you could make an ASN1 structure to parse THAT input, but if you want to parse all input of that type, you need to know about optional values, arbitrary repeats, etc.  The schema would specify all of that.
</I>&gt;<i> 
</I>
I don't need a generalized parser, and there is no schema.  It's the output of an ISO standard HSM (a TPM).  It doesn't change, so I just want to part that specific output.

The only variation is that the public key could be ECC.

Any clue on how to code that structure?

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014112.html">[EXTERNAL] Re: IMPLEMENT_ASN1_FUNCTIONS tutorial or help
</A></li>
	<LI>Next message: <A HREF="014115.html">IMPLEMENT_ASN1_FUNCTIONS tutorial or help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14114">[ date ]</a>
              <a href="thread.html#14114">[ thread ]</a>
              <a href="subject.html#14114">[ subject ]</a>
              <a href="author.html#14114">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
