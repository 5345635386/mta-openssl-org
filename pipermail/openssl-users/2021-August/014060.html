<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Public key from TSS2 private key with OpenSSL 3.0.0-beta2
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Public%20key%20from%20TSS2%20private%20key%20with%20OpenSSL%203.0.0-beta2&In-Reply-To=%3CCADqLbz%2BiypSXNa_ru578EBgEQfvwyYTB%2BLcNN%2BxBYSL7OcyjyA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014059.html">
   <LINK REL="Next"  HREF="014061.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Public key from TSS2 private key with OpenSSL 3.0.0-beta2</H1>
    <B>Dmitry Belyavsky</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Public%20key%20from%20TSS2%20private%20key%20with%20OpenSSL%203.0.0-beta2&In-Reply-To=%3CCADqLbz%2BiypSXNa_ru578EBgEQfvwyYTB%2BLcNN%2BxBYSL7OcyjyA%40mail.gmail.com%3E"
       TITLE="Public key from TSS2 private key with OpenSSL 3.0.0-beta2">beldmit at gmail.com
       </A><BR>
    <I>Fri Aug  6 19:21:23 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="014059.html">Public key from TSS2 private key with OpenSSL 3.0.0-beta2
</A></li>
        <LI>Next message: <A HREF="014061.html">Public key from TSS2 private key with OpenSSL 3.0.0-beta2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14060">[ date ]</a>
              <a href="thread.html#14060">[ thread ]</a>
              <a href="subject.html#14060">[ subject ]</a>
              <a href="author.html#14060">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Nestor,

Could you please fill an issue on GitHub?
It's much simpler for us to follow the issues there.

On Fri, Aug 6, 2021 at 9:13 PM Nestor Melo &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">Nestor.Melo at zpesystems.com</A>&gt;
wrote:

&gt;<i> Greetings,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We use a TPM2 device to generate private keys with tpm2-tss-engine:
</I>&gt;<i> <A HREF="https://github.com/tpm2-software/tpm2-tss-engine">https://github.com/tpm2-software/tpm2-tss-engine</A>
</I>&gt;<i>
</I>&gt;<i> While attempting to extract the public key from a TSS2 private key using
</I>&gt;<i> OpenSSL 3.0.0-beta2 and tpm2-tss-engine, I received a message &quot;PEM format
</I>&gt;<i> not supported&quot;:
</I>&gt;<i>
</I>&gt;<i> openssl rsa -engine libtpm2tss -inform engine -in privkey.pem -pubout
</I>&gt;<i> -outform PEM -out pubkey.pem
</I>&gt;<i> Engine &quot;tpm2tss&quot; set.
</I>&gt;<i> writing RSA key
</I>&gt;<i> PEM format not supported
</I>&gt;<i>
</I>&gt;<i> Although it is recommended to use providers instead of engines with
</I>&gt;<i> OpenSSL 3.0.0, are engines still supported? Should the above operation be
</I>&gt;<i> expected to work?
</I>&gt;<i>
</I>&gt;<i> Here is an example of a private key was generated with tpm2-tss-engine's
</I>&gt;<i> tpm2tss-genkey:
</I>&gt;<i> -----BEGIN TSS2 PRIVATE KEY-----
</I>&gt;<i> MIIB8gYGZ4EFCgEDoAMBAQECBEAAAAEEggEYARYAAQALAAYEcgAAABAAEAgAAAEA
</I>&gt;<i> AQEAmT8O+ikRX5eTRUsDXrBAephW1YLEITkKxviFzIxF7R1K1jlDIXI8PKhc6tUE
</I>&gt;<i> sEDfgTNtldmc3nxPmJBxeAzIQrGAAUjGY74xtvbe6T6muU9FHGVpw1e3LelewFCQ
</I>&gt;<i> yR+t36GaOBY+S4Bc0DC0KhSoFakiwYt2vtQvm0W54cwxg7B4aSfcBUNHFPB5J90c
</I>&gt;<i> ere/o20QpNvb7mw/kwvoTSzsyQT5qMZALKZeRFZ42991dGWJpnfC30xieXCMoD7z
</I>&gt;<i> x5hhc5Uf5EbFtxeWaT2HTfs0h0OxigQSjXdmCJPeJVoMPOoF2FK+PbZwPn2UDKyo
</I>&gt;<i> SqhsmZ+9hvkUWylDYiXfm24TUwSBwAC+ACDJpk4p0h4Q3UEtwph3oNy5xR7hya4S
</I>&gt;<i> XHqabuThC+xX1AAQDTukmp9lruULdnZALN1Lyw1AMw+7F2BBx786jjOmg9rX+umB
</I>&gt;<i> ffGZSs187UAjmfe98XUk9oNsZkgB7HEsDRIOXoET+9R0KI48whV3Z/Kwag+UmErL
</I>&gt;<i> KRTOl5zEUenbQi8/CBDVpuxKMyKl6tYc38iNh2rA8Eju9tv+x6kPv/5/JxmXSpgQ
</I>&gt;<i> rCSHxBQFxnnITejU/RMqCHMZpCly2A==
</I>&gt;<i> -----END TSS2 PRIVATE KEY-----
</I>&gt;<i>
</I>&gt;<i> If I use instead the TPM2 provider tpm2-openssl
</I>&gt;<i> <A HREF="https://github.com/tpm2-software/tpm2-openssl">https://github.com/tpm2-software/tpm2-openssl</A>
</I>&gt;<i>
</I>&gt;<i> the command
</I>&gt;<i> openssl rsa -provider tpm2 -in privkey.pem -pubout -outform PEM -out
</I>&gt;<i> pubkey.pem
</I>&gt;<i>
</I>&gt;<i> works, producing:
</I>&gt;<i> -----BEGIN PUBLIC KEY-----
</I>&gt;<i> MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmT8O+ikRX5eTRUsDXrBA
</I>&gt;<i> ephW1YLEITkKxviFzIxF7R1K1jlDIXI8PKhc6tUEsEDfgTNtldmc3nxPmJBxeAzI
</I>&gt;<i> QrGAAUjGY74xtvbe6T6muU9FHGVpw1e3LelewFCQyR+t36GaOBY+S4Bc0DC0KhSo
</I>&gt;<i> FakiwYt2vtQvm0W54cwxg7B4aSfcBUNHFPB5J90cere/o20QpNvb7mw/kwvoTSzs
</I>&gt;<i> yQT5qMZALKZeRFZ42991dGWJpnfC30xieXCMoD7zx5hhc5Uf5EbFtxeWaT2HTfs0
</I>&gt;<i> h0OxigQSjXdmCJPeJVoMPOoF2FK+PbZwPn2UDKyoSqhsmZ+9hvkUWylDYiXfm24T
</I>&gt;<i> UwIDAQAB
</I>&gt;<i> -----END PUBLIC KEY-----
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thank you,
</I>&gt;<i>
</I>&gt;<i> Nestor Melo
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
-- 
SY, Dmitry Belyavsky
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20210806/bbc868a3/attachment-0001.html">https://mta.openssl.org/pipermail/openssl-users/attachments/20210806/bbc868a3/attachment-0001.html</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014059.html">Public key from TSS2 private key with OpenSSL 3.0.0-beta2
</A></li>
	<LI>Next message: <A HREF="014061.html">Public key from TSS2 private key with OpenSSL 3.0.0-beta2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14060">[ date ]</a>
              <a href="thread.html#14060">[ thread ]</a>
              <a href="subject.html#14060">[ subject ]</a>
              <a href="author.html#14060">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
