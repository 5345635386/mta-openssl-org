<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> AW: Test failed with openssl-1.1.1d ../test/recipes/20-test_enc.t
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20AW%3A%20Test%20failed%20with%20openssl-1.1.1d%20../test/recipes/20-test_enc.t&In-Reply-To=%3C87v9tx96yn.wl-levitte%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011157.html">
   <LINK REL="Next"  HREF="011161.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>AW: Test failed with openssl-1.1.1d ../test/recipes/20-test_enc.t</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20AW%3A%20Test%20failed%20with%20openssl-1.1.1d%20../test/recipes/20-test_enc.t&In-Reply-To=%3C87v9tx96yn.wl-levitte%40openssl.org%3E"
       TITLE="AW: Test failed with openssl-1.1.1d ../test/recipes/20-test_enc.t">levitte at openssl.org
       </A><BR>
    <I>Thu Sep 12 09:53:04 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="011157.html">AW: Test failed with openssl-1.1.1d ../test/recipes/20-test_enc.t
</A></li>
        <LI>Next message: <A HREF="011161.html">Openssl 1.0.2t build failed using Visual Studio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11162">[ date ]</a>
              <a href="thread.html#11162">[ thread ]</a>
              <a href="subject.html#11162">[ subject ]</a>
              <a href="author.html#11162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 12 Sep 2019 10:31:51 +0200,
Dr. Matthias St. Pierre wrote:
&gt;<i> 
</I>&gt;<i> &gt; &gt; I think this is a problem with the 20-test_enc.t Test and not with OPENSSL.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Can you please help me to fix the Test ?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Did you enable zlib by any chance? If so it could be this:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; <A HREF="https://github.com/openssl/openssl/issues/9866">https://github.com/openssl/openssl/issues/9866</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; No resolution as yet.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Matt
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> If you need a quick workaround, you have two options:
</I>&gt;<i> 
</I>&gt;<i> - Don't use the 'zlib' option when configuring OpenSSL
</I>&gt;<i> 
</I>&gt;<i> - Revert the offending commit 8be96f2369. It is dispensible, because it only fixes
</I>&gt;<i>   a 'cosmetical' problem, namely that in certain situations you have to press
</I>&gt;<i>   CTRL-D in the console more often than expected in order to indicate EOF to the
</I>&gt;<i>   openssl application.
</I>&gt;<i> 
</I>&gt;<i>    <A HREF="https://github.com/openssl/openssl/commit/8be96f236969caabf303bec389a2f812b4869c1c">https://github.com/openssl/openssl/commit/8be96f236969caabf303bec389a2f812b4869c1c</A>
</I>
Reverting the &quot;offending commit&quot; is a bad idea, because the code it
corrected was obviously hiding bugs, which would hit others who treat
BIO filters correctly (i.e. actually check if there's any pending
input or output).

Simply put, the zlib BIO filter doesn't behave correctly in this
regard.  Corrective PR here: <A HREF="https://github.com/openssl/openssl/pull/9876">https://github.com/openssl/openssl/pull/9876</A>

Cheers,
Richard

-- 
Richard Levitte         <A HREF="../../../mailman/listinfo/openssl-users.html">levitte at openssl.org</A>
OpenSSL Project         <A HREF="http://www.openssl.org/~levitte/">http://www.openssl.org/~levitte/</A>
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011157.html">AW: Test failed with openssl-1.1.1d ../test/recipes/20-test_enc.t
</A></li>
	<LI>Next message: <A HREF="011161.html">Openssl 1.0.2t build failed using Visual Studio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11162">[ date ]</a>
              <a href="thread.html#11162">[ thread ]</a>
              <a href="subject.html#11162">[ subject ]</a>
              <a href="author.html#11162">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
