<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> OpenSSL 1.1.1 Windows dependencies
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2022-October/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OpenSSL%201.1.1%20Windows%20dependencies&In-Reply-To=%3CDM6PR18MB2700393986E03DF72B0BCA49F92F9%40DM6PR18MB2700.namprd18.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015539.html">
   <LINK REL="Next"  HREF="015546.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>OpenSSL 1.1.1 Windows dependencies</H1>
    <B>Michael Wojcik</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OpenSSL%201.1.1%20Windows%20dependencies&In-Reply-To=%3CDM6PR18MB2700393986E03DF72B0BCA49F92F9%40DM6PR18MB2700.namprd18.prod.outlook.com%3E"
       TITLE="OpenSSL 1.1.1 Windows dependencies">Michael.Wojcik at microfocus.com
       </A><BR>
    <I>Sun Oct 23 15:16:18 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015539.html">OpenSSL 1.1.1 Windows dependencies
</A></li>
        <LI>Next message (by thread): <A HREF="015546.html">OpenSSL 1.1.1 Windows dependencies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15542">[ date ]</a>
              <a href="thread.html#15542">[ thread ]</a>
              <a href="subject.html#15542">[ subject ]</a>
              <a href="author.html#15542">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: openssl-users &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>&gt; On Behalf Of David
</I>&gt;<i> Harris
</I>&gt;<i> Sent: Saturday, 22 October, 2022 09:02
</I>&gt;<i> 
</I>&gt;<i> I now have wireshark captures showing the exchanges between the working
</I>&gt;<i> instance and the non-working instance respectively; the problem is definitely
</I>&gt;<i> happening after STARTTLS has been issued and during the TLS handshake.
</I>
A packet-inspecting firewall can monitor a TLS handshake (for TLS prior to 1.3) and terminate the conversation if it sees something in the unencrypted messages - ClientHello, ServerHello, ServerCertificate, etc - that it doesn't like. It's not beyond imagining that an organization would have a packet-inspecting firewall that terminates conversations using particular cipher suites, for example.

&gt;<i> I'm not high-level enough to be able to make any sense of the negotiation
</I>&gt;<i> data though. The wireshark capture is quite short (22 items in the list)
</I>&gt;<i> and I don't mind making it available if it would be useful to anyone.
</I>
Someone might be able to tell something from it.

Not much else is coming to mind, I'm afraid. It would help to know what system call is failing, with what errno value, but that's going to be a bit tough to determine on Windows. ProcMon, maybe? And it's curious that the OpenSSL error stack is empty, but without being able to debug you probably couldn't track that down, short of instrumenting a bunch of the OpenSSL code.

-- 
Michael Wojcik
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015539.html">OpenSSL 1.1.1 Windows dependencies
</A></li>
	<LI>Next message (by thread): <A HREF="015546.html">OpenSSL 1.1.1 Windows dependencies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15542">[ date ]</a>
              <a href="thread.html#15542">[ thread ]</a>
              <a href="subject.html#15542">[ subject ]</a>
              <a href="author.html#15542">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
