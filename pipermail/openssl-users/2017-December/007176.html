<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Sudden control data sent during large transfer.
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Sudden%20control%20data%20sent%20during%20large%20transfer.&In-Reply-To=%3CCAA2GJqUKguBWew-kCsx1nLL0XCYZQ0x4Jt-AUrf9UdbW_a6kJw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007172.html">
   <LINK REL="Next"  HREF="007183.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Sudden control data sent during large transfer.</H1>
    <B>J Decker</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Sudden%20control%20data%20sent%20during%20large%20transfer.&In-Reply-To=%3CCAA2GJqUKguBWew-kCsx1nLL0XCYZQ0x4Jt-AUrf9UdbW_a6kJw%40mail.gmail.com%3E"
       TITLE="[openssl-users] Sudden control data sent during large transfer.">d3ck0r at gmail.com
       </A><BR>
    <I>Sat Dec 23 03:06:13 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="007172.html">[openssl-users] [openssl-security] Openssl Vulnerability	detected
</A></li>
        <LI>Next message: <A HREF="007183.html">[openssl-users] Sudden control data sent during large transfer.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7176">[ date ]</a>
              <a href="thread.html#7176">[ thread ]</a>
              <a href="subject.html#7176">[ subject ]</a>
              <a href="author.html#7176">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>How can I know what/why openssl is sending control data?
I have this Node addon that uses TLS 1.2 to communicate.  I'm sending a
large file transfer (100M), which is chunked into 8100 byte blocks and sent
on websocket protocol.  It's additionally chunked into 4327 byte blocks
(which after encoding is 4356 bytes or 1452*3)  All of the data is encoded
into blocks and queued to transfer before I have a problem.
After some amount of data transfer OpenSSL starts sending 31 byte control
packets after basically each block received... when the other side receives
that data it doesn't do anything, but the ssl layer does stop giving me
completed packets (instead opting to generate 31 byte packets) when the
other side receives those, it doesn't do anything.... (doesn't generate
control sends back).

Ad I mentioned all of the pendijng data is already queued to send, so even
if I received a control packet and it generated a response it wouldn't get
received for quite some time.

I don't have control over what version of SSL is being used... but this
current test is 1.0.1m

It's variable by the time it starts sending 31 byte packets... Also depends
on the connection; although at this time I'm able to generate the problem
on localhost... I was able to transfer from a remote server to myself with
no issues...
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20171222/c94d608b/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20171222/c94d608b/attachment.html</A>&gt;
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007172.html">[openssl-users] [openssl-security] Openssl Vulnerability	detected
</A></li>
	<LI>Next message: <A HREF="007183.html">[openssl-users] Sudden control data sent during large transfer.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7176">[ date ]</a>
              <a href="thread.html#7176">[ thread ]</a>
              <a href="subject.html#7176">[ subject ]</a>
              <a href="author.html#7176">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
