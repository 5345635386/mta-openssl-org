<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] How to form a proper hash after writing somethinginto SSL handshake.
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20How%20to%20form%20a%20proper%20hash%20after%20writing%0A%20somethinginto%20SSL%20handshake.&In-Reply-To=%3C7d7e5da5-7ddb-4278-987b-21ce9f7b3cfb%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007218.html">
   <LINK REL="Next"  HREF="007228.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] How to form a proper hash after writing somethinginto SSL handshake.</H1>
    <B>Marty G</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20How%20to%20form%20a%20proper%20hash%20after%20writing%0A%20somethinginto%20SSL%20handshake.&In-Reply-To=%3C7d7e5da5-7ddb-4278-987b-21ce9f7b3cfb%40gmail.com%3E"
       TITLE="[openssl-users] How to form a proper hash after writing somethinginto SSL handshake.">martygalyean at gmail.com
       </A><BR>
    <I>Fri Dec 29 14:00:00 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="007218.html">[openssl-users] How to form a proper hash after writing somethinginto SSL handshake.
</A></li>
        <LI>Next message: <A HREF="007228.html">[openssl-users] How to form a proper hash after writing somethinginto SSL handshake.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7219">[ date ]</a>
              <a href="thread.html#7219">[ thread ]</a>
              <a href="subject.html#7219">[ subject ]</a>
              <a href="author.html#7219">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>For the same reason one doesn't wear a halloween costume to a technical 
meeting, Comic Sans is looked down upon when used outside comics and 
day-care centers.&#160; It is considered a snub to use it in non-trivial 
settings.

Much as lifting up your middle finger has no inherent meaning per se, 
but once one realizes that it definitely has meaning to others and one 
lifts one's middle finger to others anyway, it can only be assumed that 
one has intended to send the message others have assigned to it.&#160; So, 
for whatever vague societal reasons, comic sans has become equivalent to 
wearing a speedo to a formal wedding, giggling hysterically during one's 
performance review, or skipping around the track in a tu-tu and 
clownface during the 440 meter track event at the Olympics.&#160; Those are 
the breaks!&#160; Sorry for your loss of a connotation free comic sans.&#160; I 
feel your pain.&#160; Herd dynamics can be brutal and bleak.

<A HREF="http://knowyourmeme.com/memes/comic-sans">http://knowyourmeme.com/memes/comic-sans</A>
&quot;...While adequate for certain industry sectors like childcare and 
entertainment, its usage in business or professional settings has been 
criticized by many aesthetic-conscious Internet users, who say Comic 
Sans conveys silliness and irreverence that is hardly suitable for 
serious matters....:

On 12/29/2017 08:14 AM, Sai Teja Chowdary wrote:
&gt;<i>
</I>&gt;<i> Why? What is the problem with Comic Sans. I like it!
</I>&gt;<i>
</I>&gt;<i> You can say more if you have something useful.
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> Saiteja.
</I>&gt;<i>
</I>&gt;<i> *From: *Michael Sierchio &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">kudzu at tenebras.com</A>&gt;
</I>&gt;<i> *Sent: *Friday, December 29, 2017 10:38 AM
</I>&gt;<i> *To: *<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;
</I>&gt;<i> *Subject: *Re: [openssl-users] How to form a proper hash after writing 
</I>&gt;<i> somethinginto SSL handshake.
</I>&gt;<i>
</I>&gt;<i> Comic Sans. Need I say more?
</I>&gt;<i>
</I>&gt;<i> On Tue, Dec 26, 2017 at 4:53 AM, Sai Teja Chowdary 
</I>&gt;<i> &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">asteja.chowdary.ece13 at itbhu.ac.in</A> 
</I>&gt;<i> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">asteja.chowdary.ece13 at itbhu.ac.in</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     Hi,
</I>&gt;<i>
</I>&gt;<i>     Happy Holidays everyone.
</I>&gt;<i>
</I>&gt;<i>     I want to send client certificate, client key exchange and client
</I>&gt;<i>     verify in a single handshake message which appears as multiple
</I>&gt;<i>     handshake messages in a single record. But to sent the client
</I>&gt;<i>     verify I need to first make a hash of previous messages(client
</I>&gt;<i>     certificate and client key exchange) to create the signature.
</I>&gt;<i>
</I>&gt;<i>     Can anyone help me to find the function in OpenSSL 1.1.1-dev&#160; xx
</I>&gt;<i>     XXX xxxx (or right procedure that needs to be done before creating
</I>&gt;<i>     a certificate verify message)that can do a proper
</I>&gt;<i>     transcript(digest or hash not clear). I tried using
</I>&gt;<i>     *ssl3_finish_mac() *on the message containing client certificate
</I>&gt;<i>     and client key exchange and then tried to generate the signature
</I>&gt;<i>     in certificate verify message.
</I>&gt;<i>
</I>&gt;<i>     But it is giving me a digest error. I am new to the mailing list
</I>&gt;<i>     want a bit of help to proceed forward stuck here. Please reply in
</I>&gt;<i>     case if anything is not clear.
</I>&gt;<i>
</I>&gt;<i>     Here is a code snippet, how I am forming the data containing all
</I>&gt;<i>     client certificate , client key exchange and certificate verify
</I>&gt;<i>     messages inside write_state_machine().
</I>&gt;<i>
</I>&gt;<i>     if(WPACKET_init(&amp;pkt, s-&gt;init_buf)){
</I>&gt;<i>
</I>&gt;<i>     //Client certificate formation
</I>&gt;<i>
</I>&gt;<i>     if(!ssl_set_handshake_header(s,&amp;pkt,mt) || confunc != NULL &amp;&amp;
</I>&gt;<i>     !confunc(s,&amp;pkt) || !ssl_close_construct_packet(s,&amp;pkt,mt)){
</I>&gt;<i>
</I>&gt;<i>     &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;printf(&quot;PROBLEM\n&quot;);
</I>&gt;<i>
</I>&gt;<i>     &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }
</I>&gt;<i>
</I>&gt;<i>     &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; transition(s); //transition to next state i.e client
</I>&gt;<i>     key exchange
</I>&gt;<i>
</I>&gt;<i>     get_construct_message_f(s, &amp;pkt, &amp;confunc, &amp;mt);
</I>&gt;<i>
</I>&gt;<i>     //client key exchange formation
</I>&gt;<i>
</I>&gt;<i>     &#160;&#160;&#160;&#160;if(!ssl_set_handshake_header(s,&amp;pkt,mt) || confunc != NULL &amp;&amp;
</I>&gt;<i>     !confunc(s,&amp;pkt) || !ssl_close_construct_packet(s,&amp;pkt,mt)){
</I>&gt;<i>
</I>&gt;<i>     &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; printf(&quot;AGAIN A PROBLEMO\n&quot;);
</I>&gt;<i>
</I>&gt;<i>     &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }
</I>&gt;<i>
</I>&gt;<i>     //ssl3_finish_mac(s, &amp;s-&gt;init_buf-&gt;data[s-&gt;init_off], s-&gt;init_num);
</I>&gt;<i>
</I>&gt;<i>     st-&gt;write_state_work = post_work(s, st-&gt;write_state_work);
</I>&gt;<i>
</I>&gt;<i>     &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; transition(s); &#160;// transition to next state i.e
</I>&gt;<i>     &#160;certificate verify
</I>&gt;<i>
</I>&gt;<i>     get_construct_message_f(s, &amp;pkt, &amp;confunc, &amp;mt);
</I>&gt;<i>
</I>&gt;<i>     //certificate verify message formation.
</I>&gt;<i>
</I>&gt;<i>     if(!ssl_set_handshake_header(s,&amp;pkt,mt) || confunc != NULL &amp;&amp;
</I>&gt;<i>     !confunc(s,&amp;pkt) || !ssl_close_construct_packet(s,&amp;pkt,mt)){
</I>&gt;<i>
</I>&gt;<i>     &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; printf(&quot;AGAIN A PROBLEMO\n&quot;);
</I>&gt;<i>
</I>&gt;<i>     &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }
</I>&gt;<i>
</I>&gt;<i>     WPACKET_finish(&amp;pkt);
</I>&gt;<i>
</I>&gt;<i>     Please take a look at it, appreciate every bit of help.
</I>&gt;<i>
</I>&gt;<i>     Regards,
</I>&gt;<i>
</I>&gt;<i>     Saiteja
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     --
</I>&gt;<i>     openssl-users mailing list
</I>&gt;<i>     To unsubscribe: <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i>
</I>&gt;<i> &quot;Well,&quot; Brahma said, &quot;even after ten thousand explanations, a fool is 
</I>&gt;<i> no wiser, but an intelligent person requires only two thousand five 
</I>&gt;<i> hundred.&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> - The Mah&#257;bh&#257;rata
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20171229/fac803bd/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20171229/fac803bd/attachment-0001.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007218.html">[openssl-users] How to form a proper hash after writing somethinginto SSL handshake.
</A></li>
	<LI>Next message: <A HREF="007228.html">[openssl-users] How to form a proper hash after writing somethinginto SSL handshake.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7219">[ date ]</a>
              <a href="thread.html#7219">[ thread ]</a>
              <a href="subject.html#7219">[ subject ]</a>
              <a href="author.html#7219">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
