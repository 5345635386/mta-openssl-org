<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] VS2017 15.5 hangs indefinitely with Blake2b.c
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20VS2017%2015.5%20hangs%20indefinitely%20with%20Blake2b.c&In-Reply-To=%3C40fde8c3-946d-d0e2-1831-67a13ed7f265%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007055.html">
   <LINK REL="Next"  HREF="007058.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] VS2017 15.5 hangs indefinitely with Blake2b.c</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20VS2017%2015.5%20hangs%20indefinitely%20with%20Blake2b.c&In-Reply-To=%3C40fde8c3-946d-d0e2-1831-67a13ed7f265%40openssl.org%3E"
       TITLE="[openssl-users] VS2017 15.5 hangs indefinitely with Blake2b.c">matt at openssl.org
       </A><BR>
    <I>Wed Dec  6 12:06:17 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="007055.html">[openssl-users] VS2017 15.5 hangs indefinitely with Blake2b.c
</A></li>
        <LI>Next message: <A HREF="007058.html">[openssl-users] VS2017 15.5 hangs indefinitely with Blake2b.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7057">[ date ]</a>
              <a href="thread.html#7057">[ thread ]</a>
              <a href="subject.html#7057">[ subject ]</a>
              <a href="author.html#7057">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 06/12/17 08:24, Oliver Niebuhr wrote:
&gt;<i> Hello.
</I>&gt;<i> 
</I>&gt;<i> I am not sure if it is a VS Compiler Bug or a Bug in OpenSSL.
</I>&gt;<i> 
</I>&gt;<i> When the Compiler reaches 'Blake2b.c', it creates the 'Blake2b.obj' and
</I>&gt;<i> then hangs indefinitely.
</I>&gt;<i> 
</I>&gt;<i> CPU usage for CL stays at 27-28 Percent. Used RAM stays at 34-35 Megabyte.
</I>&gt;<i> 
</I>&gt;<i> OpenSSL Version: 1.1.0 Git up2date, Static and Dynamic build
</I>&gt;<i> Windows: Windows 10, X64, FCU, up2date
</I>&gt;<i> Windows 10 SDK: 16299
</I>&gt;<i> VS Compiler Version: 14.11 and 14.12, running from VS native CMD Line
</I>&gt;<i> NASM: 2.13.02 (also happens without NASM)
</I>&gt;<i> Perl Version: Strawberry Perl 5.26.1.1
</I>&gt;<i> Perl Configure:
</I>&gt;<i> no-comp no-rc5 no-idea no-mdc2 no-tls1 no-tls1-method no-tls1_1
</I>&gt;<i> no-tls1_1-method no-dtls no-dtls1-method no-dtls1_2 no-dtls1_2-method
</I>&gt;<i> no-deprecated no-weak-ssl-ciphers VC-WIN64A
</I>&gt;<i> --prefix=%SystemDrive%\openssl11x64\
</I>&gt;<i> --openssldir=%SystemDrive%\openssl11x64\ &amp;&amp; nmake
</I>&gt;<i> 
</I>&gt;<i> When I add 'no-blake2' OpenSSL compiles fine.
</I>&gt;<i> 
</I>&gt;<i> Does anyone else have this Issue? Last build I did was at 23rd November
</I>&gt;<i> and then today. So I am not sure which commit (if at all??) probably
</I>&gt;<i> introduces this Problem.
</I>
There haven't been any changes to that file since May. AFAICT there also
haven't been any changes to any of the header files (directly or
indirectly included) in that time period. Did you update anything on the
compiler side?

In any case a compiler hang sounds very much like a compiler bug. No
matter what we write in our code it should not cause the compiler to
hang. That said we have made changes in the past to workaround such
issues if someone is able to figure out exactly what bit of the code it
is having trouble with.


&gt;<i> 
</I>&gt;<i> BTW: Unrelated to this: Since 2 or 3 Months, the Fuzz Test always ends
</I>&gt;<i> with &quot;Error: wstat10 (2560, 0x0)&quot; (Sorry dont remember the full Error -
</I>&gt;<i> compiling something else right now). All other Tests are ok. Can I keep
</I>&gt;<i> ignoring this or should I create a BR on Github?
</I>

Please raise this as an issue in github.

Matt

</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007055.html">[openssl-users] VS2017 15.5 hangs indefinitely with Blake2b.c
</A></li>
	<LI>Next message: <A HREF="007058.html">[openssl-users] VS2017 15.5 hangs indefinitely with Blake2b.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7057">[ date ]</a>
              <a href="thread.html#7057">[ thread ]</a>
              <a href="subject.html#7057">[ subject ]</a>
              <a href="author.html#7057">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
