<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] How to form a proper hash after writing somethinginto SSL handshake.
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20How%20to%20form%20a%20proper%20hash%20after%20writing%0A%20somethinginto%20SSL%20handshake.&In-Reply-To=%3C20171229.183414.1279570989098595096.levitte%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007225.html">
   <LINK REL="Next"  HREF="007227.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] How to form a proper hash after writing somethinginto SSL handshake.</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20How%20to%20form%20a%20proper%20hash%20after%20writing%0A%20somethinginto%20SSL%20handshake.&In-Reply-To=%3C20171229.183414.1279570989098595096.levitte%40openssl.org%3E"
       TITLE="[openssl-users] How to form a proper hash after writing somethinginto SSL handshake.">levitte at openssl.org
       </A><BR>
    <I>Fri Dec 29 17:34:14 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="007225.html">[openssl-users] How to form a proper hash after writing somethinginto SSL handshake.
</A></li>
        <LI>Next message: <A HREF="007227.html">[openssl-users] How to form a proper hash after writing somethinginto SSL handshake.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7226">[ date ]</a>
              <a href="thread.html#7226">[ thread ]</a>
              <a href="subject.html#7226">[ subject ]</a>
              <a href="author.html#7226">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Marty, you might want to consider that the values of western society
are hardly universal.  Comic Sans isn't as badly seen everywhere, and
there's no reason why western society biases should trump any other.

Also, I'd like to remind everyone that we have a code of conduct,
<A HREF="https://www.openssl.org/community/conduct.html">https://www.openssl.org/community/conduct.html</A>

Cordially,
Richard

In message &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">7d7e5da5-7ddb-4278-987b-21ce9f7b3cfb at gmail.com</A>&gt; on Fri, 29 Dec 2017 09:00:00 -0500, Marty G &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">martygalyean at gmail.com</A>&gt; said:

martygalyean&gt; For the same reason one doesn't wear a halloween costume to a technical meeting, Comic Sans is
martygalyean&gt; looked down upon when used outside comics and day-care centers. It is considered a snub to use
martygalyean&gt; it in non-trivial settings.
martygalyean&gt; 
martygalyean&gt; Much as lifting up your middle finger has no inherent meaning per se, but once one realizes that it
martygalyean&gt; definitely has meaning to others and one lifts one's middle finger to others anyway, it can only be
martygalyean&gt; assumed that one has intended to send the message others have assigned to it. So, for whatever
martygalyean&gt; vague societal reasons, comic sans has become equivalent to wearing a speedo to a formal
martygalyean&gt; wedding, giggling hysterically during one's performance review, or skipping around the track in a
martygalyean&gt; tu-tu and clownface during the 440 meter track event at the Olympics. Those are the breaks!
martygalyean&gt; Sorry for your loss of a connotation free comic sans. I feel your pain. Herd dynamics can be brutal
martygalyean&gt; and bleak.
martygalyean&gt; 
martygalyean&gt; <A HREF="http://knowyourmeme.com/memes/comic-sans">http://knowyourmeme.com/memes/comic-sans</A>
martygalyean&gt; &quot;...While adequate for certain industry sectors like childcare and entertainment, its usage in
martygalyean&gt; business or professional settings has been criticized by many aesthetic-conscious Internet users,
martygalyean&gt; who say Comic Sans conveys silliness and irreverence that is hardly suitable for serious
martygalyean&gt; matters....:
martygalyean&gt; 
martygalyean&gt; On 12/29/2017 08:14 AM, Sai Teja Chowdary wrote:
martygalyean&gt; 
martygalyean&gt;  Why? What is the problem with Comic Sans. I like it!
martygalyean&gt; 
martygalyean&gt;  You can say more if you have something useful.
martygalyean&gt; 
martygalyean&gt;  Thanks
martygalyean&gt; 
martygalyean&gt;  Saiteja.
martygalyean&gt; 
martygalyean&gt;  From: Michael Sierchio
martygalyean&gt;  Sent: Friday, December 29, 2017 10:38 AM
martygalyean&gt;  To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
martygalyean&gt;  Subject: Re: [openssl-users] How to form a proper hash after writing somethinginto SSL
martygalyean&gt;  handshake.
martygalyean&gt; 
martygalyean&gt;  Comic Sans. Need I say more?
martygalyean&gt; 
martygalyean&gt;  On Tue, Dec 26, 2017 at 4:53 AM, Sai Teja Chowdary &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">asteja.chowdary.ece13 at itbhu.ac.in</A>&gt;
martygalyean&gt;  wrote:
martygalyean&gt; 
martygalyean&gt;  Hi,
martygalyean&gt; 
martygalyean&gt;  Happy Holidays everyone.
martygalyean&gt; 
martygalyean&gt;  I want to send client certificate, client key exchange and client verify in a single handshake
martygalyean&gt;  message which appears as multiple handshake messages in a single record. But to sent
martygalyean&gt;  the client verify I need to first make a hash of previous messages(client certificate and
martygalyean&gt;  client key exchange) to create the signature.
martygalyean&gt; 
martygalyean&gt;  Can anyone help me to find the function in OpenSSL 1.1.1-dev xx XXX xxxx (or right
martygalyean&gt;  procedure that needs to be done before creating a certificate verify message)that can do
martygalyean&gt;  a proper transcript(digest or hash not clear). I tried using ssl3_finish_mac() on the
martygalyean&gt;  message containing client certificate and client key exchange and then tried to generate
martygalyean&gt;  the signature in certificate verify message.
martygalyean&gt; 
martygalyean&gt;  But it is giving me a digest error. I am new to the mailing list want a bit of help to proceed
martygalyean&gt;  forward stuck here. Please reply in case if anything is not clear.
martygalyean&gt; 
martygalyean&gt;  Here is a code snippet, how I am forming the data containing all client certificate , client
martygalyean&gt;  key exchange and certificate verify messages inside write_state_machine().
martygalyean&gt; 
martygalyean&gt;  if(WPACKET_init(&amp;pkt, s-&gt;init_buf)){
martygalyean&gt; 
martygalyean&gt;  //Client certificate formation
martygalyean&gt; 
martygalyean&gt;  if(!ssl_set_handshake_header(s,&amp;pkt,mt) || confunc != NULL &amp;&amp; !confunc(s,&amp;pkt) ||
martygalyean&gt;  !ssl_close_construct_packet(s,&amp;pkt,mt)){
martygalyean&gt; 
martygalyean&gt;  printf(&quot;PROBLEM\n&quot;);
martygalyean&gt; 
martygalyean&gt;  }
martygalyean&gt; 
martygalyean&gt;  transition(s); //transition to next state i.e client key exchange
martygalyean&gt; 
martygalyean&gt;  get_construct_message_f(s, &amp;pkt, &amp;confunc, &amp;mt);
martygalyean&gt; 
martygalyean&gt;  //client key exchange formation
martygalyean&gt; 
martygalyean&gt;  if(!ssl_set_handshake_header(s,&amp;pkt,mt) || confunc != NULL &amp;&amp; !confunc(s,&amp;pkt) ||
martygalyean&gt;  !ssl_close_construct_packet(s,&amp;pkt,mt)){
martygalyean&gt; 
martygalyean&gt;  printf(&quot;AGAIN A PROBLEMO\n&quot;);
martygalyean&gt; 
martygalyean&gt;  }
martygalyean&gt; 
martygalyean&gt;  //ssl3_finish_mac(s, &amp;s-&gt;init_buf-&gt;data[s-&gt;init_off], s-&gt;init_num);
martygalyean&gt; 
martygalyean&gt;  st-&gt;write_state_work = post_work(s, st-&gt;write_state_work);
martygalyean&gt; 
martygalyean&gt;  transition(s); // transition to next state i.e certificate verify
martygalyean&gt; 
martygalyean&gt;  get_construct_message_f(s, &amp;pkt, &amp;confunc, &amp;mt);
martygalyean&gt; 
martygalyean&gt;  //certificate verify message formation.
martygalyean&gt; 
martygalyean&gt;  if(!ssl_set_handshake_header(s,&amp;pkt,mt) || confunc != NULL &amp;&amp; !confunc(s,&amp;pkt) ||
martygalyean&gt;  !ssl_close_construct_packet(s,&amp;pkt,mt)){
martygalyean&gt; 
martygalyean&gt;  printf(&quot;AGAIN A PROBLEMO\n&quot;);
martygalyean&gt; 
martygalyean&gt;  }
martygalyean&gt; 
martygalyean&gt;  WPACKET_finish(&amp;pkt);
martygalyean&gt; 
martygalyean&gt;  Please take a look at it, appreciate every bit of help.
martygalyean&gt; 
martygalyean&gt;  Regards,
martygalyean&gt; 
martygalyean&gt;  Saiteja
martygalyean&gt; 
martygalyean&gt;  --
martygalyean&gt;  openssl-users mailing list
martygalyean&gt;  To unsubscribe: <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
martygalyean&gt; 
martygalyean&gt;  --
martygalyean&gt; 
martygalyean&gt;  &quot;Well,&quot; Brahma said, &quot;even after ten thousand explanations, a fool is no wiser, but an
martygalyean&gt;  intelligent person requires only two thousand five hundred.&quot;
martygalyean&gt; 
martygalyean&gt;  - The Mah&#257;bh&#257;rata
martygalyean&gt; 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007225.html">[openssl-users] How to form a proper hash after writing somethinginto SSL handshake.
</A></li>
	<LI>Next message: <A HREF="007227.html">[openssl-users] How to form a proper hash after writing somethinginto SSL handshake.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7226">[ date ]</a>
              <a href="thread.html#7226">[ thread ]</a>
              <a href="subject.html#7226">[ subject ]</a>
              <a href="author.html#7226">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
