<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] A question DH parameter generation and usage
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20A%20question%20DH%20parameter%20generation%20and%20usage&In-Reply-To=%3C98536b7d-4006-188c-85b0-53014e0d3340%40wisemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007053.html">
   <LINK REL="Next"  HREF="007056.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] A question DH parameter generation and usage</H1>
    <B>Jakob Bohm</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20A%20question%20DH%20parameter%20generation%20and%20usage&In-Reply-To=%3C98536b7d-4006-188c-85b0-53014e0d3340%40wisemo.com%3E"
       TITLE="[openssl-users] A question DH parameter generation and usage">jb-openssl at wisemo.com
       </A><BR>
    <I>Wed Dec  6 07:48:26 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="007053.html">[openssl-users] [openssl-dev] A question DH parameter	generation and usage
</A></li>
        <LI>Next message: <A HREF="007056.html">[openssl-users] A question DH parameter generation and usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7054">[ date ]</a>
              <a href="thread.html#7054">[ thread ]</a>
              <a href="subject.html#7054">[ subject ]</a>
              <a href="author.html#7054">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/12/2017 07:02, Jayalakshmi bhat wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> We are planning to use DHE_RSA TLS ciphers into our product. I have 
</I>&gt;<i> few questions on using DH parameter. We would like to use DH-2048.
</I>&gt;<i>
</I>&gt;<i> our product includes both TLS client and server applications. Thus any 
</I>&gt;<i> time there will be considerable number of active connectioons.
</I>&gt;<i>
</I>&gt;<i> I believe we can use same DH parameter for all the server connections. 
</I>&gt;<i> Is my understanding correct? Is there any risk in using same parameter 
</I>&gt;<i> for all the server connections.
</I>&gt;<i>
</I>&gt;<i> Another question is what is guidelines/document should be followed to 
</I>&gt;<i> derive DH parameter.
</I>&gt;<i>
</I>&gt;<i> Any input is appreciated.
</I>&gt;<i>
</I>&gt;<i>
</I>In TLS and SSL 3 (current versions, not sure about GoogleTLS 1.3),
DHE parameters are chosen exclusively by the server, so most rules
will be about servers.

Current best practice on clients is to reject parameters of less
than 1000 bits, parameters with fewer bits than they pretend (e.g.
parameters claiming to be 1024 bits, but the most significant 32
bits are all 0, making them really less than 993 bits), parameters
that are glaringly non-prime (e.g. even numbers) and parameters
that cause the DHE calculation to result in an unreasonably number
such as 1 (indicating rigged parameters).&#160; I hope that OpenSSL
client code already does such checks by default, otherwise someone
should point out how to make it do so.

Current best practice on servers is to use DHE parameters such as
those generated by openssl dhparam, or the equivalent API function.

Current best practice on general purpose servers is to use at least
2048 bit DH parameters except when talking to clients that can't do
that, such as the TLS code in Oracle Java 6.&#160; Going above 2048 bits
is good, but some common clients don't work significantly above
that number (for example, some versions of the Mozilla NSS code
have a built in maximum of 2236 bits).

Current best practice on servers is to use DHE parameters that are
used by few other servers, at least in a given timespan.&#160; Thus for
servers that will be deployed in small numbers, just generate your
own parameters at build time using
 &#160;&#160; openssl dhparam -C xxxx &gt; dhxxxx.inc
then include dhxxxx.inc in your source code.&#160; For servers that will
be deployed in large numbers, load the dh parameters from files in
the format generated by
 &#160; openssl dhparam xxxx &gt; dhxxxx.pem
and include scripts or other code that will replace the file
contents daily or weekly (overwriting the old parameters only after
the new ones are ready).&#160; The exim mail server does this if you
follow the instructions.

Enjoy

Jakob
-- 
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007053.html">[openssl-users] [openssl-dev] A question DH parameter	generation and usage
</A></li>
	<LI>Next message: <A HREF="007056.html">[openssl-users] A question DH parameter generation and usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7054">[ date ]</a>
              <a href="thread.html#7054">[ thread ]</a>
              <a href="subject.html#7054">[ subject ]</a>
              <a href="author.html#7054">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
