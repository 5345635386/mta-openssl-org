<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Can't build OpenSSL on Windows
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Can%27t%20build%20OpenSSL%20on%20Windows&In-Reply-To=%3C20171228221837.2608-1-martin%40eclypsium.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007210.html">
   <LINK REL="Next"  HREF="007217.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Can't build OpenSSL on Windows</H1>
    <B>Martin Galvan</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Can%27t%20build%20OpenSSL%20on%20Windows&In-Reply-To=%3C20171228221837.2608-1-martin%40eclypsium.com%3E"
       TITLE="[openssl-users] Can't build OpenSSL on Windows">omgalvan.86 at gmail.com
       </A><BR>
    <I>Thu Dec 28 22:18:37 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="007210.html">[openssl-users] New usability feature
</A></li>
        <LI>Next message: <A HREF="007217.html">[openssl-users] Can't build OpenSSL on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7209">[ date ]</a>
              <a href="thread.html#7209">[ thread ]</a>
              <a href="subject.html#7209">[ subject ]</a>
              <a href="author.html#7209">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm trying to build OpenSSL on Windows. I'm using the nmake that came with
Visual Studio 2017, NASM, ActivePerl and have installed the Test::More and
Test::Template modules. nmake, perl and nasm are all visible in my system Path
variable. This is what I'm seeing:

C:\Users\e1\openssl\source&gt;perl Configure VC-WIN64A --prefix=\c\Users\e1\openssl\install-windows no-comp no-zlib
Configuring OpenSSL version 1.1.0g (0x1010007fL)
    no-asan         [default]  OPENSSL_NO_ASAN
    no-comp         [option]   OPENSSL_NO_COMP (skip dir)
    no-crypto-mdebug [default]  OPENSSL_NO_CRYPTO_MDEBUG
    no-crypto-mdebug-backtrace [default]  OPENSSL_NO_CRYPTO_MDEBUG_BACKTRACE
    no-ec_nistp_64_gcc_128 [default]  OPENSSL_NO_EC_NISTP_64_GCC_128
    no-egd          [default]  OPENSSL_NO_EGD
    no-fuzz-afl     [default]  OPENSSL_NO_FUZZ_AFL
    no-fuzz-libfuzzer [default]  OPENSSL_NO_FUZZ_LIBFUZZER
    no-heartbeats   [default]  OPENSSL_NO_HEARTBEATS
    no-md2          [default]  OPENSSL_NO_MD2 (skip dir)
    no-msan         [default]  OPENSSL_NO_MSAN
    no-rc5          [default]  OPENSSL_NO_RC5 (skip dir)
    no-sctp         [default]  OPENSSL_NO_SCTP
    no-ssl-trace    [default]  OPENSSL_NO_SSL_TRACE
    no-ssl3         [default]  OPENSSL_NO_SSL3
    no-ssl3-method  [default]  OPENSSL_NO_SSL3_METHOD
    no-ubsan        [default]  OPENSSL_NO_UBSAN
    no-unit-test    [default]  OPENSSL_NO_UNIT_TEST
    no-weak-ssl-ciphers [default]  OPENSSL_NO_WEAK_SSL_CIPHERS
    no-zlib         [option]
    no-zlib-dynamic [default]
Configuring for VC-WIN64A
CC            =cl
CFLAG         =-W3 -wd4090 -Gs0 -GF -Gy -nologo -DOPENSSL_SYS_WIN32 -DWIN32_LEAN_AND_MEAN -DL_ENDIAN -D_CRT_SECURE_NO_DEPRECATE -DUNICODE -D_UNICODE /MD /O2
SHARED_CFLAG  =
DEFINES       =OPENSSL_USE_APPLINK DSO_WIN32 NDEBUG OPENSSL_THREADS OPENSSL_NO_STATIC_ENGINE OPENSSL_PIC OPENSSL_IA32_SSE2 OPENSSL_BN_ASM_MONT OPENSSL_BN_ASM_MONT5 OPENSSL_BN_ASM_GF2m SHA1_ASM SHA256_ASM SHA512_ASM RC4_ASM MD5_ASM AES_ASM VPAES_ASM BSAES_ASM GHASH_ASM ECP_NISTZ256_ASM PADLOCK_ASM POLY1305_ASM
LFLAG         =/nologo /debug
PLIB_LFLAG    =
EX_LIBS       =ws2_32.lib gdi32.lib advapi32.lib crypt32.lib user32.lib
APPS_OBJ      =win32_init.o ../ms/applink.o
CPUID_OBJ     =x86_64cpuid.o
UPLINK_OBJ    =../ms/uplink.o uplink-x86_64.o
BN_ASM        =bn_asm.o x86_64-mont.o x86_64-mont5.o x86_64-gf2m.o rsaz_exp.o rsaz-x86_64.o rsaz-avx2.o
EC_ASM        =ecp_nistz256.o ecp_nistz256-x86_64.o
DES_ENC       =des_enc.o fcrypt_b.o
AES_ENC       =aes-x86_64.o vpaes-x86_64.o bsaes-x86_64.o aesni-x86_64.o aesni-sha1-x86_64.o aesni-sha256-x86_64.o aesni-mb-x86_64.o
BF_ENC        =bf_enc.o
CAST_ENC      =c_enc.o
RC4_ENC       =rc4-x86_64.o rc4-md5-x86_64.o
RC5_ENC       =rc5_enc.o
MD5_OBJ_ASM   =md5-x86_64.o
SHA1_OBJ_ASM  =sha1-x86_64.o sha256-x86_64.o sha512-x86_64.o sha1-mb-x86_64.o sha256-mb-x86_64.o
RMD160_OBJ_ASM=
CMLL_ENC      =cmll-x86_64.o cmll_misc.o
MODES_OBJ     =ghash-x86_64.o aesni-gcm-x86_64.o
PADLOCK_OBJ   =e_padlock-x86_64.o
CHACHA_ENC    =chacha-x86_64.o
POLY1305_OBJ  =poly1305-x86_64.o
BLAKE2_OBJ    =
PROCESSOR     =
RANLIB        =true
ARFLAGS       =/nologo
PERL          =C:\Perl64\bin\perl.exe

SIXTY_FOUR_BIT mode

Configured for VC-WIN64A.

And then:

C:\Users\e1\openssl\source&gt;nmake

Microsoft (R) Program Maintenance Utility Version 14.11.25547.0
Copyright (C) Microsoft Corporation.  All rights reserved.

&quot;Detected changed: &quot;.\Configure&quot; &quot;Configurations\windows-makefile.tmpl&quot; &quot;Configurations\common.tmpl&quot;
&quot;build.info&quot; &quot;crypto\build.info&quot; &quot;ssl\build.info&quot; &quot;engines\build.info&quot; &quot;apps\build.info&quot;
&quot;test\build.info&quot; &quot;util\build.info&quot; &quot;tools\build.info&quot; &quot;fuzz\build.info&quot; &quot;crypto\objects\build.info&quot;
&quot;crypto\md4\build.info&quot; &quot;crypto\md5\build.info&quot; &quot;crypto\sha\build.info&quot; &quot;crypto\mdc2\build.info&quot;
&quot;crypto\hmac\build.info&quot; &quot;crypto\ripemd\build.info&quot; &quot;crypto\whrlpool\build.info&quot;
&quot;crypto\poly1305\build.info&quot; &quot;crypto\blake2\build.info&quot; &quot;crypto\des\build.info&quot; &quot;crypto\aes\build.info&quot;
&quot;crypto\rc2\build.info&quot; &quot;crypto\rc4\build.info&quot; &quot;crypto\idea\build.info&quot; &quot;crypto\bf\build.info&quot;
&quot;crypto\cast\build.info&quot; &quot;crypto\camellia\build.info&quot; &quot;crypto\seed\build.info&quot; &quot;crypto\chacha\build.info&quot;
&quot;crypto\modes\build.info&quot; &quot;crypto\bn\build.info&quot; &quot;crypto\ec\build.info&quot; &quot;crypto\rsa\build.info&quot;
&quot;crypto\dsa\build.info&quot; &quot;crypto\dh\build.info&quot; &quot;crypto\dso\build.info&quot; &quot;crypto\engine\build.info&quot;
&quot;crypto\buffer\build.info&quot; &quot;crypto\bio\build.info&quot; &quot;crypto\stack\build.info&quot; &quot;crypto\lhash\build.info&quot;
&quot;crypto\rand\build.info&quot; &quot;crypto\err\build.info&quot; &quot;crypto\evp\build.info&quot; &quot;crypto\asn1\build.info&quot;
&quot;crypto\pem\build.info&quot; &quot;crypto\x509\build.info&quot; &quot;crypto\x509v3\build.info&quot; &quot;crypto\conf\build.info&quot;
&quot;crypto\txt_db\build.info&quot; &quot;crypto\pkcs7\build.info&quot; &quot;crypto\pkcs12\build.info&quot; &quot;crypto\ocsp\build.info&quot;
&quot;crypto\ui\build.info&quot; &quot;crypto\cms\build.info&quot; &quot;crypto\ts\build.info&quot; &quot;crypto\srp\build.info&quot;
&quot;crypto\cmac\build.info&quot; &quot;crypto\ct\build.info&quot; &quot;crypto\async\build.info&quot; &quot;crypto\kdf\build.info&quot;
&quot;Configurations\00-base-templates.conf&quot; &quot;Configurations\10-main.conf&quot;&quot;
&quot;Reconfiguring...&quot;
        &quot;C:\Perl64\bin\perl.exe&quot; &quot;.\Configure&quot; reconf
Reconfiguring with: VC-WIN64A --prefix=\c\Users\e1\openssl\install-windows no-comp no-zlib
    CC = cl
    BUILDFILE = makefile
Configuring OpenSSL version 1.1.0g (0x1010007fL)
    no-asan         [default]  OPENSSL_NO_ASAN
    no-comp         [option]   OPENSSL_NO_COMP (skip dir)
    no-crypto-mdebug [default]  OPENSSL_NO_CRYPTO_MDEBUG
    no-crypto-mdebug-backtrace [default]  OPENSSL_NO_CRYPTO_MDEBUG_BACKTRACE
    no-ec_nistp_64_gcc_128 [default]  OPENSSL_NO_EC_NISTP_64_GCC_128
    no-egd          [default]  OPENSSL_NO_EGD
    no-fuzz-afl     [default]  OPENSSL_NO_FUZZ_AFL
    no-fuzz-libfuzzer [default]  OPENSSL_NO_FUZZ_LIBFUZZER
    no-heartbeats   [default]  OPENSSL_NO_HEARTBEATS
    no-md2          [default]  OPENSSL_NO_MD2 (skip dir)
    no-msan         [default]  OPENSSL_NO_MSAN
    no-rc5          [default]  OPENSSL_NO_RC5 (skip dir)
    no-sctp         [default]  OPENSSL_NO_SCTP
    no-ssl-trace    [default]  OPENSSL_NO_SSL_TRACE
    no-ssl3         [default]  OPENSSL_NO_SSL3
    no-ssl3-method  [default]  OPENSSL_NO_SSL3_METHOD
    no-ubsan        [default]  OPENSSL_NO_UBSAN
    no-unit-test    [default]  OPENSSL_NO_UNIT_TEST
    no-weak-ssl-ciphers [default]  OPENSSL_NO_WEAK_SSL_CIPHERS
    no-zlib         [option]
    no-zlib-dynamic [default]
Configuring for VC-WIN64A
CC            =cl
CFLAG         =-W3 -wd4090 -Gs0 -GF -Gy -nologo -DOPENSSL_SYS_WIN32 -DWIN32_LEAN_AND_MEAN -DL_ENDIAN -D_CRT_SECURE_NO_DEPRECATE -DUNICODE -D_UNICODE /MD /O2
SHARED_CFLAG  =
DEFINES       =OPENSSL_USE_APPLINK DSO_WIN32 NDEBUG OPENSSL_THREADS OPENSSL_NO_STATIC_ENGINE OPENSSL_PIC OPENSSL_IA32_SSE2 OPENSSL_BN_ASM_MONT OPENSSL_BN_ASM_MONT5 OPENSSL_BN_ASM_GF2m SHA1_ASM SHA256_ASM SHA512_ASM RC4_ASM MD5_ASM AES_ASM VPAES_ASM BSAES_ASM GHASH_ASM ECP_NISTZ256_ASM PADLOCK_ASM POLY1305_ASM
LFLAG         =/nologo /debug
PLIB_LFLAG    =
EX_LIBS       =ws2_32.lib gdi32.lib advapi32.lib crypt32.lib user32.lib
APPS_OBJ      =win32_init.o ../ms/applink.o
CPUID_OBJ     =x86_64cpuid.o
UPLINK_OBJ    =../ms/uplink.o uplink-x86_64.o
BN_ASM        =bn_asm.o x86_64-mont.o x86_64-mont5.o x86_64-gf2m.o rsaz_exp.o rsaz-x86_64.o rsaz-avx2.o
EC_ASM        =ecp_nistz256.o ecp_nistz256-x86_64.o
DES_ENC       =des_enc.o fcrypt_b.o
AES_ENC       =aes-x86_64.o vpaes-x86_64.o bsaes-x86_64.o aesni-x86_64.o aesni-sha1-x86_64.o aesni-sha256-x86_64.o aesni-mb-x86_64.o
BF_ENC        =bf_enc.o
CAST_ENC      =c_enc.o
RC4_ENC       =rc4-x86_64.o rc4-md5-x86_64.o
RC5_ENC       =rc5_enc.o
MD5_OBJ_ASM   =md5-x86_64.o
SHA1_OBJ_ASM  =sha1-x86_64.o sha256-x86_64.o sha512-x86_64.o sha1-mb-x86_64.o sha256-mb-x86_64.o
RMD160_OBJ_ASM=
CMLL_ENC      =cmll-x86_64.o cmll_misc.o
MODES_OBJ     =ghash-x86_64.o aesni-gcm-x86_64.o
PADLOCK_OBJ   =e_padlock-x86_64.o
CHACHA_ENC    =chacha-x86_64.o
POLY1305_OBJ  =poly1305-x86_64.o
BLAKE2_OBJ    =
PROCESSOR     =
RANLIB        =true
ARFLAGS       =/nologo
PERL          =C:\Perl64\bin\perl.exe

SIXTY_FOUR_BIT mode

Configured for VC-WIN64A.
&quot;**************************************************&quot;
&quot;***                                            ***&quot;
&quot;***   Please run the same make command again   ***&quot;
&quot;***                                            ***&quot;
&quot;**************************************************&quot;
NMAKE : fatal error U1077: 'exit' : return code '0x1'
Stop.

What am I doing wrong?
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007210.html">[openssl-users] New usability feature
</A></li>
	<LI>Next message: <A HREF="007217.html">[openssl-users] Can't build OpenSSL on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7209">[ date ]</a>
              <a href="thread.html#7209">[ thread ]</a>
              <a href="subject.html#7209">[ subject ]</a>
              <a href="author.html#7209">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
