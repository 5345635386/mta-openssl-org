<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> TLSv1.3, AES and Apache2 on opensuse leap 15.2
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20TLSv1.3%2C%20AES%20and%20Apache2%20on%20opensuse%20leap%2015.2&In-Reply-To=%3C3d777797-eaec-9be0-26bd-589e4b08cc42%40cryptearth.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012774.html">
   <LINK REL="Next"  HREF="012777.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>TLSv1.3, AES and Apache2 on opensuse leap 15.2</H1>
    <B>cryptearth</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20TLSv1.3%2C%20AES%20and%20Apache2%20on%20opensuse%20leap%2015.2&In-Reply-To=%3C3d777797-eaec-9be0-26bd-589e4b08cc42%40cryptearth.de%3E"
       TITLE="TLSv1.3, AES and Apache2 on opensuse leap 15.2">cryptearth at cryptearth.de
       </A><BR>
    <I>Tue Jul 21 02:20:27 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="012774.html">Memory leak
</A></li>
        <LI>Next message: <A HREF="012777.html">TLSv1.3, AES and Apache2 on opensuse leap 15.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12776">[ date ]</a>
              <a href="thread.html#12776">[ thread ]</a>
              <a href="subject.html#12776">[ subject ]</a>
              <a href="author.html#12776">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>first of: as I'm not sure what's causing this issue I'll post this 
question on these locations:
opensuse official forums 
<A HREF="https://forums.opensuse.org/showthread.php/541909-TLSv1-3-AES-and-Apache2">https://forums.opensuse.org/showthread.php/541909-TLSv1-3-AES-and-Apache2</A>
apache httpd mailing list
openssl mailing list

As OpenSuSE 15.2 recently released with openssl 1.1.1 in its repos it's 
now possible to use TLSv1.3 with Apache2 out of the box. As I use the 
TLS test on ssllabs.com as a reference I encountered some issues I'd 
like to ask for help to fix.
First of, as most important, the used versions:

apache2: 2.4.43-lp152.1.1
openssl: 1.1.1d-lp152.1.1

And here's the config (only used ssl-global.conf for this test):

SSLProtocol -all +TLSv1.2 +TLSv1.3
SSLCipherSuite 
TLS_CHACHA20_POLY1305_SHA256:TLS_AES_256_GCM_SHA384:ECDHE-RSA-CHACHA20-POLY1305HE-RSA-CHACHA20-POLY1305:ECDHE-RSA-AES256-GCM-SHA384HE-RSA-AES256-GCM-SHA384
SSLOpenSSLConfCmd Curves secp521r1:secp384r1

There were no other changes made to any other conf.
As one can see I only enabled AES with 256 bit keylength and ordered 
chacha20 preferred over AES. But when testing with ssllabs.com server 
test it shows two issues I'm unable to solve myself:

1) although not enabled the server test also shows AES with only 128 bit 
keylength enabled and working - hence capping the score to only 90% for 
cipher strength (only ciphers with an equivalent of at least RSA 4096 
give one full 100%)
2) the order doesn'T match the config - it shows AES256 as the most 
preferred one, then followed by the chacha20 and finally the AES128

As I don't know if this is an issue with apache, openssl or opensuse I 
posted it on all three to reach most group of people, so, if you're 
member of more than one of the mentioned I apologize if you get this 
topic multiple times.

Thanks in advance to anyone,

Matt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20200721/345de52e/attachment-0001.html">https://mta.openssl.org/pipermail/openssl-users/attachments/20200721/345de52e/attachment-0001.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012774.html">Memory leak
</A></li>
	<LI>Next message: <A HREF="012777.html">TLSv1.3, AES and Apache2 on opensuse leap 15.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12776">[ date ]</a>
              <a href="thread.html#12776">[ thread ]</a>
              <a href="subject.html#12776">[ subject ]</a>
              <a href="author.html#12776">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
