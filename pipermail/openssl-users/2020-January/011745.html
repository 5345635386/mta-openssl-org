<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Cloning a CSR or Cert. for a new CSR with a new key?
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Cloning%20a%20CSR%20or%20Cert.%20for%20a%20new%20CSR%20with%20a%20new%20key%3F&In-Reply-To=%3C1630650518.390012.1580416705766%40mail.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011744.html">
   <LINK REL="Next"  HREF="011746.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Cloning a CSR or Cert. for a new CSR with a new key?</H1>
    <B>Douglas Morris</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Cloning%20a%20CSR%20or%20Cert.%20for%20a%20new%20CSR%20with%20a%20new%20key%3F&In-Reply-To=%3C1630650518.390012.1580416705766%40mail.yahoo.com%3E"
       TITLE="Cloning a CSR or Cert. for a new CSR with a new key?">dougbmorris at yahoo.com
       </A><BR>
    <I>Thu Jan 30 20:38:25 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="011744.html">And that's how text-ish PEM files are.
</A></li>
        <LI>Next message: <A HREF="011746.html">Cloning a CSR or Cert. for a new CSR with a new key?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11745">[ date ]</a>
              <a href="thread.html#11745">[ thread ]</a>
              <a href="subject.html#11745">[ subject ]</a>
              <a href="author.html#11745">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am trying to implement automated domain certificate renewal. A certificate signing request is sent to an ACME server and on success a certificate is returned. I'd like to be able to call OpenSSL to make a new key and then make a new certificate signing request just like the old one except for the replacement key pair file.
I suppose the complete information beyond the new key data is available both in the old crs and the old certificate. I'm looking at the manpages of OpenSSL subcommands 'req' and 'x509'. The openssl x509 option '-x509toreq' gave me a momentary rush of hope, but then I read about the '-signkey' option, which seems to be exclusively about self-signing.

Is 'cloning' the csr or cert. information semantically logical? Is it possible with OpenSSL?

If I can't reliably extract the relevant data from the old csr or old certification, I suppose I must do it as usual with a dedicated config file and the '-batch' option:&#160;&#160;&#160;&#160; openssl req -key &lt;key&gt; -new -config &lt;config.ini&gt; -outform PEM -out &lt;outfile&gt; -batch

Any do's or don't on managing the input data of a signing request for automatic renewal (non-interactive execution)? I'm trying to minimize the file management requirements without losing generality.

Douglas Morris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20200130/946d05b2/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20200130/946d05b2/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011744.html">And that's how text-ish PEM files are.
</A></li>
	<LI>Next message: <A HREF="011746.html">Cloning a CSR or Cert. for a new CSR with a new key?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11745">[ date ]</a>
              <a href="thread.html#11745">[ thread ]</a>
              <a href="subject.html#11745">[ subject ]</a>
              <a href="author.html#11745">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
