<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Decryption slower in 1.1.1 branch?
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Decryption%20slower%20in%201.1.1%20branch%3F&In-Reply-To=%3CBN7PR06MB6401619418224C14BB46571AD90B0%40BN7PR06MB6401.namprd06.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011739.html">
   <LINK REL="Next"  HREF="011726.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Decryption slower in 1.1.1 branch?</H1>
    <B>Dan Heinz</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Decryption%20slower%20in%201.1.1%20branch%3F&In-Reply-To=%3CBN7PR06MB6401619418224C14BB46571AD90B0%40BN7PR06MB6401.namprd06.prod.outlook.com%3E"
       TITLE="Decryption slower in 1.1.1 branch?">dheinz at softwarekey.com
       </A><BR>
    <I>Mon Jan 27 18:20:27 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="011739.html">Determine that there is no forward progress with non blocking SSL socket
</A></li>
        <LI>Next message: <A HREF="011726.html">Decryption slower in 1.1.1 branch?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11724">[ date ]</a>
              <a href="thread.html#11724">[ thread ]</a>
              <a href="subject.html#11724">[ subject ]</a>
              <a href="author.html#11724">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I upgraded a library that used OpenSSL 1.0.2 to the OpenSSL 1.1.1d.  On Windows, I have found that the time to decrypt had doubled.
After a bit of timestamp logging, I found the RSA_private_decrypt function is taking twice as long with 1.1.1d as it did with 1.0.2t.  This is being called from a Windows 64-bit DLL.

For example, decrypting 8680 bytes of data averages about .3 seconds with the OpenSSL 1.0.2t library (statically linked).  Decrypting the same data with the OpenSSL 1.1.1d library averages about .6 seconds.
I'm wondering if perhaps my build configuration is incorrect or missing something for the 1.1.1d build.  Here are the configuration parameters for the 64-bit build:
Configure VC-WIN64A --prefix=%RootPath_ThirdParty%\%OPENSSL_VERSION% -DPURIFY -DOPENSSL_NO_COMP -D_USING_V110_SDK71_ no-shared no-asm no-idea no-mdc2 no-rc5 no-ssl2 no-ssl3 no-zlib no-comp no-pinshared

I logged things granular enough to see the speed difference was in RSA_private_decrypt, but I'm not sure why it is so much slower with 1.1.1d.  Any help or ideas would be appreciated!

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20200127/086f8561/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20200127/086f8561/attachment-0001.html</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011739.html">Determine that there is no forward progress with non blocking SSL socket
</A></li>
	<LI>Next message: <A HREF="011726.html">Decryption slower in 1.1.1 branch?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11724">[ date ]</a>
              <a href="thread.html#11724">[ thread ]</a>
              <a href="subject.html#11724">[ subject ]</a>
              <a href="author.html#11724">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
