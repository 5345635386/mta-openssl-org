<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Building x32 libraries on x64 windows machine
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2024-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Building%20x32%20libraries%20on%20x64%20windows%20machine&In-Reply-To=%3Cd81455094eca40efb2d870c6922cd1bf%403ds.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017294.html">
   <LINK REL="Next"  HREF="017292.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Building x32 libraries on x64 windows machine</H1>
    <B>BENTLEY Thom</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Building%20x32%20libraries%20on%20x64%20windows%20machine&In-Reply-To=%3Cd81455094eca40efb2d870c6922cd1bf%403ds.com%3E"
       TITLE="Building x32 libraries on x64 windows machine">Thom.BENTLEY at 3ds.com
       </A><BR>
    <I>Fri Jul 19 19:47:57 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="017294.html">Own HW Supported RSA provider
</A></li>
        <LI>Next message (by thread): <A HREF="017292.html">Building x32 libraries on x64 windows machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17291">[ date ]</a>
              <a href="thread.html#17291">[ thread ]</a>
              <a href="subject.html#17291">[ subject ]</a>
              <a href="author.html#17291">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I trying to build openssl 3.0.8  to generate x32/win32 libraries and header files.
I used the following steps:
Opened the x86 Native Tools Command Prompt  (Sets the environment to use 32-bit, x86-native tools to build 32-bit, x86-native code)
perl Configure --debug --openssldir=&quot;C:\OpenSSLW32\CommonFiles\SSL&quot; --prefix=C:\OpenSSLW32 VC-WIN32
nmake

However, I get the following error.

       cmd /C &quot;&quot;cl&quot; /Zs /showIncludes  /Zi /Fdossl_static.pdb /Gs0 /GF /Gy /MDd /W3 /wd4090 /nologo /Od -I&quot;.&quot; -I&quot;include&quot; -I&quot;apps\include&quot; -D&quot;L_ENDIAN&quot; -D&quot;OPENSSL_PIC&quot; -D&quot;OPENSSLDIR=\&quot;C:\\OpenSSLW32\\CommonFiles\\SSL\&quot;&quot; -D&quot;ENGINESDIR=\&quot;C:\\OpenSSLW32\\lib\\engines-3\&quot;&quot; -D&quot;MODULESDIR=\&quot;C:\\OpenSSLW32\\lib\\ossl-modules\&quot;&quot; -D&quot;OPENSSL_BUILDING_OPENSSL&quot; -D&quot;OPENSSL_SYS_WIN32&quot; -D&quot;WIN32_LEAN_AND_MEAN&quot; -D&quot;UNICODE&quot; -D&quot;_UNICODE&quot; -D&quot;_CRT_SECURE_NO_DEPRECATE&quot; -D&quot;_WINSOCK_DEPRECATED_NO_WARNINGS&quot; -D&quot;DEBUG&quot; -D&quot;_DEBUG&quot;   &quot;apps\lib\tlssrp_depr.c&quot; &gt; apps\lib\libapps-lib-tlssrp_depr.d 2&gt;&amp;1&quot;
        &quot;lib&quot; /nologo /out:apps\libapps.lib @C:\Users\user\AppData\Local\Temp\1\nmB79E.tmp
apps\lib\libapps-lib-fmt.obj : fatal error LNK1112: module machine type 'x64' conflicts with target machine type 'x86'
NMAKE : fatal error U1077: '&quot;lib&quot; /nologo /out:apps\libapps.lib @C:\Users\user\AppData\Local\Temp\1\nmB79E.tmp' : return code '0x458'
Stop.
NMAKE : fatal error U1077: '&quot;C:\Program Files\Microsoft Visual Studio\2022\Professional\VC\Tools\MSVC\14.38.33130\bin\HostX86\x86\nmake.exe&quot; /                   _build_sw' : return code '0x2'
Stop.

I also tried the x64_x86 Cross Tools Command Prompt - Sets the environment to use 64-bit, x64-native tools to build 32-bit, x86-native code.  That gave the same error.

I would have expected that setup to be able to build the win32 version of the objects and libraries.
What did I miss or is this not supported?
Thanks.

P.S.  This all worked fine when I setup to build x64.  Not errors and got libs and objects for x64.


Thom Bentley | Senior Software Engineer | Medidata, a Dassault Syst&#232;mes company&lt;<A HREF="http://www.mdsol.com/">http://www.mdsol.com/</A>&gt;


This email and any attachments are intended solely for the use of the individual or entity to whom it is addressed and may be confidential and/or privileged.

If you are not one of the named recipients or have received this email in error,

(i) you should not read, disclose, or copy it,

(ii) please notify sender of your receipt by reply email and delete this email and all attachments,

(iii) Dassault Syst&#232;mes does not accept or assume any liability or responsibility for any use of or reliance on this email.


Please be informed that your personal data are processed according to our data privacy policy as described on our website. Should you have any questions related to personal data protection, please contact 3DS Data Protection Officer <A HREF="https://www.3ds.com/privacy-policy/contact/">https://www.3ds.com/privacy-policy/contact/</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20240719/2bcd7c7d/attachment.htm">https://mta.openssl.org/pipermail/openssl-users/attachments/20240719/2bcd7c7d/attachment.htm</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="017294.html">Own HW Supported RSA provider
</A></li>
	<LI>Next message (by thread): <A HREF="017292.html">Building x32 libraries on x64 windows machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17291">[ date ]</a>
              <a href="thread.html#17291">[ thread ]</a>
              <a href="subject.html#17291">[ subject ]</a>
              <a href="author.html#17291">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
