<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Fwd: basic constraints check
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2018-May/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Fwd%3A%20basic%20constraints%20check&In-Reply-To=%3C20C1F338-AC6B-4CE2-883C-CA1CD716A6FD%40akamai.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008101.html">
   <LINK REL="Next"  HREF="008100.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Fwd: basic constraints check</H1>
    <B>Salz, Rich</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Fwd%3A%20basic%20constraints%20check&In-Reply-To=%3C20C1F338-AC6B-4CE2-883C-CA1CD716A6FD%40akamai.com%3E"
       TITLE="[openssl-users] Fwd: basic constraints check">rsalz at akamai.com
       </A><BR>
    <I>Thu May 31 22:22:43 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="008101.html">[openssl-users] Fwd: basic constraints check
</A></li>
        <LI>Next message: <A HREF="008100.html">[openssl-users] Fwd: basic constraints check
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8099">[ date ]</a>
              <a href="thread.html#8099">[ thread ]</a>
              <a href="subject.html#8099">[ subject ]</a>
              <a href="author.html#8099">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I don&#8217;t recall the details of 1.0.2, sorry.  Maybe someone else on this list knows the best place to insert your checks.

From: Sandeep Deshpande &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">sandeep.bvb at gmail.com</A>&gt;
Date: Thursday, May 31, 2018 at 6:08 PM
To: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">rsalz at akamai.com</A>&gt;, openssl-users &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;
Subject: Re: [openssl-users] Fwd: basic constraints check

Hi Rich.. Thanks..
We want to add a check in our openssl library on client side to reject such server certificate which are generated by the intermediate CA with missing extensions like basic constraints..
How do we go about it?

I looked at the code. In crypto/x509v3/v3_purp.c I see that check_ca is there. But it is getting called only for server certificate.


Thanks
Sandeep

On Thu, May 31, 2018, 11:39 PM Salz, Rich via openssl-users &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;&gt; wrote:

  *   We generated intermediate02 such that it has &quot;basicConstraints&quot; extension and &quot;keyUsage&quot; missing. Now we used this intermediate 02 CA to sign server certificate.

If those extensions, which are *optional,* are not present, then there is no limit on how the keys may be used, or how long the cert chain may be.  OpenSSL is doing the right thing.

If you want to add them, and you cannot upgrade, then read about the openssl config file syntax.  Good luck.
--
openssl-users mailing list
To unsubscribe: <A HREF="https://mta.openssl.org/mailman/listinfo/openssl-users&lt;https://urldefense.proofpoint.com/v2/url?u=https-3A__mta.openssl.org_mailman_listinfo_openssl-2Dusers&amp;d=DwMFaQ&amp;c=96ZbZZcaMF4w0F4jpN6LZg&amp;r=4LM0GbR0h9Fvx86FtsKI-w&amp;m=DKOBwoCo7ectmyCA7_m3cOyRKCM9lxSO6nxCei8nOK4&amp;s=RwnA-oRy8UC_wVuu40XbIthr0H-ML6HQhIGGl1uc3d4&amp;e=">https://mta.openssl.org/mailman/listinfo/openssl-users&lt;https://urldefense.proofpoint.com/v2/url?u=https-3A__mta.openssl.org_mailman_listinfo_openssl-2Dusers&amp;d=DwMFaQ&amp;c=96ZbZZcaMF4w0F4jpN6LZg&amp;r=4LM0GbR0h9Fvx86FtsKI-w&amp;m=DKOBwoCo7ectmyCA7_m3cOyRKCM9lxSO6nxCei8nOK4&amp;s=RwnA-oRy8UC_wVuu40XbIthr0H-ML6HQhIGGl1uc3d4&amp;e=</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20180531/cbece254/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20180531/cbece254/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008101.html">[openssl-users] Fwd: basic constraints check
</A></li>
	<LI>Next message: <A HREF="008100.html">[openssl-users] Fwd: basic constraints check
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8099">[ date ]</a>
              <a href="thread.html#8099">[ thread ]</a>
              <a href="subject.html#8099">[ subject ]</a>
              <a href="author.html#8099">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
