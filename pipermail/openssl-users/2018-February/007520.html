<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] TLS 1.3 PSK test server setup
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2018-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20TLS%201.3%20PSK%20test%20server%20setup&In-Reply-To=%3C5498425e-05dd-3b8e-2a4d-15a01cf52bef%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007503.html">
   <LINK REL="Next"  HREF="007522.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] TLS 1.3 PSK test server setup</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20TLS%201.3%20PSK%20test%20server%20setup&In-Reply-To=%3C5498425e-05dd-3b8e-2a4d-15a01cf52bef%40openssl.org%3E"
       TITLE="[openssl-users] TLS 1.3 PSK test server setup">matt at openssl.org
       </A><BR>
    <I>Thu Feb 15 14:57:20 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="007503.html">[openssl-users] TLS 1.3 PSK test server setup
</A></li>
        <LI>Next message: <A HREF="007522.html">[openssl-users] TLS 1.3 PSK test server setup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7520">[ date ]</a>
              <a href="thread.html#7520">[ thread ]</a>
              <a href="subject.html#7520">[ subject ]</a>
              <a href="author.html#7520">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 14/02/18 23:33, Viktor Dukhovni wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> On Feb 14, 2018, at 6:14 PM, Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For a PSK to be used in needs to be the correct length for the selected
</I>&gt;&gt;<i> ciphersuite. The ciphersuite is selected *first*. Next the available
</I>&gt;&gt;<i> PSKs are checked to see if they are usable with that ciphersuite.
</I>&gt;<i> 
</I>&gt;<i> Is that (choosing the cipher first) correct behaviour?  If the server
</I>&gt;<i> is given a specific certificate it limits its ciphers to those that
</I>&gt;<i> are compatible with the certificate's public key. It seems to me that
</I>&gt;<i> &quot;-psk&quot; should not be different.  If we are doing PSK, we should likely
</I>&gt;<i> filter the ciphers to those that work with the supplied PSK first.
</I>&gt;<i> 
</I>
As pointed out by Hubert in #5378 this is in accordance with the
recommendations in the spec:

   &quot;Implementor's note: the most straightforward way to implement the
   PSK/cipher suite matching requirements is to negotiate the cipher
   suite first and then exclude any incompatible PSKs.  Any unknown PSKs
   (e.g., they are not in the PSK database or are encrypted with an
   unknown key) SHOULD simply be ignored.  If no acceptable PSKs are
   found, the server SHOULD perform a non-PSK handshake if possible.&quot;


Matt
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007503.html">[openssl-users] TLS 1.3 PSK test server setup
</A></li>
	<LI>Next message: <A HREF="007522.html">[openssl-users] TLS 1.3 PSK test server setup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7520">[ date ]</a>
              <a href="thread.html#7520">[ thread ]</a>
              <a href="subject.html#7520">[ subject ]</a>
              <a href="author.html#7520">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
