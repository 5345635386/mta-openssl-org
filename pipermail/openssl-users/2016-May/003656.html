<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] While ssl handshake happens, getting error Operation not allowed in fips mode
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-May/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20While%20ssl%20handshake%20happens%2C%0A%20getting%20error%20Operation%20not%20allowed%20in%20fips%20mode&In-Reply-To=%3CCA%2BOwv%2BDqvgBvzB12PeNzcP5r32Z%2BYr_4JY7q1LkrnXrSHtty_Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003666.html">
   <LINK REL="Next"  HREF="003657.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] While ssl handshake happens, getting error Operation not allowed in fips mode</H1>
    <B>mani kanta</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20While%20ssl%20handshake%20happens%2C%0A%20getting%20error%20Operation%20not%20allowed%20in%20fips%20mode&In-Reply-To=%3CCA%2BOwv%2BDqvgBvzB12PeNzcP5r32Z%2BYr_4JY7q1LkrnXrSHtty_Q%40mail.gmail.com%3E"
       TITLE="[openssl-users] While ssl handshake happens, getting error Operation not allowed in fips mode">venki.manikanta at gmail.com
       </A><BR>
    <I>Wed May  4 06:15:56 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003666.html">[openssl-users] i2d_PKCS7_bio() very slow for large file when	reading in memory
</A></li>
        <LI>Next message: <A HREF="003657.html">[openssl-users] While ssl handshake happens, getting error Operation not allowed in fips mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3656">[ date ]</a>
              <a href="thread.html#3656">[ thread ]</a>
              <a href="subject.html#3656">[ subject ]</a>
              <a href="author.html#3656">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

   While the SSL handshake is happening,I am getting the error as below
SSL_connect error:0408E09E:rsa routines:PKEY_RSA_SIGN:operation not allowed
in fips mode.
ssl handshake went well up to client sending key exchange to server and
failing in the process of send client verify. Why this error happens ? and
How to overcome this ?

Background:
 1.  I built Openssl in FIPS mode. From the supplicant (application) I
called FIPS_mode_set(1) API. In my use-case I am trying to connect WPA2
Enterprise Wi-Fi network which has EAP-TLS configured (used radius server
to setup EAP-TLS).

2. From the network packets it is confirmed that the client and the server
agreed on to use TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 cipher suit. Also
found that if in case TLS_RSA_WITH_AES_256_CBC_SHA256 cipher suit is
selected  then also it throws the same above mentioned error.

3. I am using openssl verson 1.0.2f(client side). radius server(3.0.11) .
Server is running in ubuntu 14.04

  Please let me know if you need any further information.

                              Thank you in advance.

Regards,
Venkat.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20160504/56db75b9/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20160504/56db75b9/attachment.html</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003666.html">[openssl-users] i2d_PKCS7_bio() very slow for large file when	reading in memory
</A></li>
	<LI>Next message: <A HREF="003657.html">[openssl-users] While ssl handshake happens, getting error Operation not allowed in fips mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3656">[ date ]</a>
              <a href="thread.html#3656">[ thread ]</a>
              <a href="subject.html#3656">[ subject ]</a>
              <a href="author.html#3656">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
