<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] [openssl-dev] Storing session in file and	reusing at client side
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-May/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20%5Bopenssl-dev%5D%20Storing%20session%20in%20file%20and%0A%09reusing%20at%20client%20side&In-Reply-To=%3C20160502140408.GP3300%40mournblade.imrryr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003640.html">
   <LINK REL="Next"  HREF="003643.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] [openssl-dev] Storing session in file and	reusing at client side</H1>
    <B>Viktor Dukhovni</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20%5Bopenssl-dev%5D%20Storing%20session%20in%20file%20and%0A%09reusing%20at%20client%20side&In-Reply-To=%3C20160502140408.GP3300%40mournblade.imrryr.org%3E"
       TITLE="[openssl-users] [openssl-dev] Storing session in file and	reusing at client side">openssl-users at dukhovni.org
       </A><BR>
    <I>Mon May  2 14:04:08 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003640.html">[openssl-users] Storing session in file and reusing at client side
</A></li>
        <LI>Next message: <A HREF="003643.html">[openssl-users] [openssl-dev] Storing session in file and reusing at client side
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3642">[ date ]</a>
              <a href="thread.html#3642">[ thread ]</a>
              <a href="subject.html#3642">[ subject ]</a>
              <a href="author.html#3642">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, May 02, 2016 at 12:23:25PM +0530, Shubham Chauhan wrote:

&gt;<i> I wanted to store the freshly negotiated ssl/tls session in a file and
</I>&gt;<i> reuse it (via SSL_set_session()), in the next handshake. I was not able to
</I>&gt;<i> do that since the handshake got terminated giving a fatal error - illegal
</I>&gt;<i> parameters (47).
</I>
Client-side sessions can be serialized via i2d_SSL_SESSION and the
resulting binary data can be stored in a file for reuse by a client
via d2i_SSL_SESSION() followed by SSL_set_session() (which copies
the session, so you can free the session obtained via d2i at that
point).

Of course the client needs to want to reconnect to the same SSL
peer with the same security policy, otherwise session reuse is
unwise.

-- 
	Viktor.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003640.html">[openssl-users] Storing session in file and reusing at client side
</A></li>
	<LI>Next message: <A HREF="003643.html">[openssl-users] [openssl-dev] Storing session in file and reusing at client side
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3642">[ date ]</a>
              <a href="thread.html#3642">[ thread ]</a>
              <a href="subject.html#3642">[ subject ]</a>
              <a href="author.html#3642">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
