<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] OpenSSL non-blocking epoll hanging on data	receiving
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-May/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20OpenSSL%20non-blocking%20epoll%20hanging%20on%20data%0A%09receiving&In-Reply-To=%3C1464362448049-66396.post%40n7.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003788.html">
   <LINK REL="Next"  HREF="003790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] OpenSSL non-blocking epoll hanging on data	receiving</H1>
    <B>counterpoint</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20OpenSSL%20non-blocking%20epoll%20hanging%20on%20data%0A%09receiving&In-Reply-To=%3C1464362448049-66396.post%40n7.nabble.com%3E"
       TITLE="[openssl-users] OpenSSL non-blocking epoll hanging on data	receiving">martin at black-sheep-research.com
       </A><BR>
    <I>Fri May 27 15:20:48 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003788.html">[openssl-users] OpenSSL non-blocking epoll hanging on data receiving
</A></li>
        <LI>Next message: <A HREF="003790.html">[openssl-users] OpenSSL non-blocking epoll hanging on data receiving
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3789">[ date ]</a>
              <a href="thread.html#3789">[ thread ]</a>
              <a href="subject.html#3789">[ subject ]</a>
              <a href="author.html#3789">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Matt, good points. Not easy to implement though!

In the problem case, my code is the server (it is a proxy), and the standard
MariaDB command line client is the client. Yes, it does look as if
everything is happening as it should, except that the process stops before
all the data has been handled.

The client is sending a large query (about 500 KB, using &quot;load data local
infile '/root/bigdata.txt' into table upload;&quot;).

If the client is connected directly to the database, using SSL, the query
runs successfully.

If the client is connected through the proxy without SSL (most of the logic
exactly the same), the query runs successfully.

If a shorter query is chosen, it works with SSL.

Looking at the data flows with Wireshark, it looks about right, but I can't
see the data in detail because of the SSL :)

I thought the read ahead issue would have fixed both sides, but somehow the
interface to the client still doesn't work. So it's hard to find things to
diagnose, leaving me scratching round for inspiration and something to
change that might fix things. And ideally, I need a quick result! Such is
life.





--
View this message in context: <A HREF="http://openssl.6102.n7.nabble.com/OpenSSL-non-blocking-epoll-hanging-on-data-receiving-tp66355p66396.html">http://openssl.6102.n7.nabble.com/OpenSSL-non-blocking-epoll-hanging-on-data-receiving-tp66355p66396.html</A>
Sent from the OpenSSL - User mailing list archive at Nabble.com.
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003788.html">[openssl-users] OpenSSL non-blocking epoll hanging on data receiving
</A></li>
	<LI>Next message: <A HREF="003790.html">[openssl-users] OpenSSL non-blocking epoll hanging on data receiving
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3789">[ date ]</a>
              <a href="thread.html#3789">[ thread ]</a>
              <a href="subject.html#3789">[ subject ]</a>
              <a href="author.html#3789">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
