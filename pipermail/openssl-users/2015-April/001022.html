<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Fwd to openssl-users Re: [openssl-dev] Why the issuer cannot be found?
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Fwd%20to%20openssl-users%20Re%3A%20%5Bopenssl-dev%5D%20Why%20the%0A%20issuer%20cannot%20be%20found%3F&In-Reply-To=%3C5522B6FC.8030501%40opentrust.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000993.html">
   <LINK REL="Next"  HREF="001023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Fwd to openssl-users Re: [openssl-dev] Why the issuer cannot be found?</H1>
    <B>Erwann Abalea</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Fwd%20to%20openssl-users%20Re%3A%20%5Bopenssl-dev%5D%20Why%20the%0A%20issuer%20cannot%20be%20found%3F&In-Reply-To=%3C5522B6FC.8030501%40opentrust.com%3E"
       TITLE="[openssl-users] Fwd to openssl-users Re: [openssl-dev] Why the issuer cannot be found?">erwann.abalea at opentrust.com
       </A><BR>
    <I>Mon Apr  6 16:40:28 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000993.html">[openssl-users] Fwd to openssl-users Re: [openssl-dev] Why the issuer cannot be found?
</A></li>
        <LI>Next message: <A HREF="001023.html">[openssl-users] Fwd to openssl-users Re: [openssl-dev] Why the issuer cannot be found?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1022">[ date ]</a>
              <a href="thread.html#1022">[ thread ]</a>
              <a href="subject.html#1022">[ subject ]</a>
              <a href="author.html#1022">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Le 04/04/2015 05:31, Jakob Bohm a &#233;crit :
&gt;<i> (top posting like the rest of the thread)
</I>
(I don't like it either, but that's what Thunderbird proposes by default).

&gt;<i> What makes you think it is incorrect to check the Key
</I>&gt;<i> Identifier (where present) before checking a signature
</I>&gt;<i> against a key?
</I>
Because the presented file4.pem is a valid issuer certificate for the 
one found in file3.pem?
RFC5280 section 6.1 gives the validation algorithm, and the Key 
Identifier isn't mentioned.
6.1.3(a) checks for signature, validity, revocation status, and names 
(i.e. that issuercert.subjectName = cert.issuerName).

You're not supposed to follow exactly the same algorithm (or the one 
described in X.509), but whatever you choose, the result MUST be equivalent.

&gt;<i> What other reasonable purpose could the Key Identifier
</I>&gt;<i> fields serve?
</I>
A helper to build a certificate chain to be passed to the validation 
algorithm.

&gt;<i> On 03/04/2015 10:56, Erwann Abalea wrote:
</I>&gt;<i> &gt; (Forwarded to openssl-users)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The subjectName of file4.pem matches the issuerName of
</I>&gt;<i> &gt; file3.pem, the signature block in file3.pem, when verified
</I>&gt;<i> &gt; with the public key of file4.pem, gives a correct signature
</I>&gt;<i> &gt; for the tbsCertificate of file3.pem. But Openssl also
</I>&gt;<i> &gt; (incorrectly, IMO) checks that file4.pem.SKI matches
</I>&gt;<i> &gt; file3.pem.AKI, and refuses to go further (here, AKI doesn't
</I>&gt;<i> &gt; match SKI).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Le 03/04/2015 03:10, Yuting Chen a &#233;crit :
</I>&gt;<i> &gt; &gt; I used OpenSSL to verify a certificate file (file3.pem)
</I>&gt;<i> &gt; &gt; against another certificate file (file4.pem). OpenSSL
</I>&gt;<i> &gt; &gt; reports that it cannot find the issuer of the cert in
</I>&gt;<i> &gt; &gt; file3.pem; while when I displays file3.pem and file4.pem,
</I>&gt;<i> &gt; &gt; it appears that the issuer of the cert in file3.pem is the
</I>&gt;<i> &gt; &gt; same as the subject of the cert in file4.pem. Did I miss
</I>&gt;<i> &gt; &gt; anything?
</I>&gt;<i>
</I>&gt;<i> P.S.
</I>&gt;<i>
</I>&gt;<i> Don't put your e-mail sig in the middle of the mail, it causes
</I>&gt;<i> standards-compliant mail programs to cut off everything below
</I>&gt;<i> it when replying (because everyting below the --&lt;space&gt; marker
</I>&gt;<i> is, by definition, just the e-mail sig).
</I>
I know, I often forget to manually switch between &quot;corporate&quot; and &quot;hard 
core&quot; modes. And Thunderbird doesn't help.

-- 
Erwann ABALEA

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000993.html">[openssl-users] Fwd to openssl-users Re: [openssl-dev] Why the issuer cannot be found?
</A></li>
	<LI>Next message: <A HREF="001023.html">[openssl-users] Fwd to openssl-users Re: [openssl-dev] Why the issuer cannot be found?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1022">[ date ]</a>
              <a href="thread.html#1022">[ thread ]</a>
              <a href="subject.html#1022">[ subject ]</a>
              <a href="author.html#1022">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
