<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> client certs with no subjectName only SAN
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20client%20certs%20with%20no%20subjectName%20only%20SAN&In-Reply-To=%3C7d1d818c-d21c-c506-a9fd-c546fb2c3b68%40htt-consult.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011042.html">
   <LINK REL="Next"  HREF="011046.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>client certs with no subjectName only SAN</H1>
    <B>Robert Moskowitz</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20client%20certs%20with%20no%20subjectName%20only%20SAN&In-Reply-To=%3C7d1d818c-d21c-c506-a9fd-c546fb2c3b68%40htt-consult.com%3E"
       TITLE="client certs with no subjectName only SAN">rgm at htt-consult.com
       </A><BR>
    <I>Thu Aug 15 20:06:48 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="011042.html">Difference ASN1_item_d2i_bio / ASN1_d2i_bio_of ?
</A></li>
        <LI>Next message: <A HREF="011046.html">client certs with no subjectName only SAN
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11045">[ date ]</a>
              <a href="thread.html#11045">[ thread ]</a>
              <a href="subject.html#11045">[ subject ]</a>
              <a href="author.html#11045">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There are a number of things I am not clear on, and so far my searching 
and reading is coming up short.

If there is no subjectName, only subjectAltName, is the subjectName 
still present in the cert only empty or is it totally gone.

I have found that if I put

-subj /

in the openssl req, I end up with an empty subjectName.&#160; Or is there 
someway to totally remove this from the cert?

For the subjectAltName, is it suppose to be flagged critical?&#160; I have 
seen references of:

subjectAltName=critical,email:<A HREF="../../../mailman/listinfo/openssl-users.html">certtest at example.com</A>

Is this correct and the way to set SAN as critical?

thanks

The cert I have made so far is:

$openssl x509 -noout -text -in $dir/certs/device1.cert.pem
Certificate:
 &#160;&#160;&#160; Data:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160; Version: 3 (0x2)
 &#160;&#160;&#160;&#160;&#160;&#160;&#160; Serial Number:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; c9:8f:b2:7b:e1:95:74:cf
 &#160;&#160;&#160;&#160;&#160;&#160;&#160; Signature Algorithm: ED25519
 &#160;&#160;&#160;&#160;&#160;&#160;&#160; Issuer: CN = 2001:24:28:14::/64
 &#160;&#160;&#160;&#160;&#160;&#160;&#160; Validity
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Not Before: Aug 15 19:51:17 2019 GMT
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Not After : Aug 24 19:51:17 2020 GMT
 &#160;&#160;&#160;&#160;&#160;&#160;&#160; Subject:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160; Subject Public Key Info:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Public Key Algorithm: ED25519
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ED25519 Public-Key:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; pub:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 7a:a6:f2:7d:14:8f:fd:a9:55:d9:6f:d6:04:a1:e6:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 6d:9e:34:1f:d3:2b:59:80:cc:2f:4c:83:4f:81:a0:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 10:36
 &#160;&#160;&#160;&#160;&#160;&#160;&#160; X509v3 extensions:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; X509v3 Basic Constraints:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; CA:FALSE
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Netscape Cert Type:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SSL Client, S/MIME
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Netscape Comment:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; OpenSSL Generated Client Certificate
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; X509v3 Subject Key Identifier:
97:B0:DC:A2:74:93:CF:76:5E:82:6C:08:9C:46:73:83:D3:86:8E:9A
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; X509v3 Authority Key Identifier:
keyid:B1:45:18:9B:33:82:6C:74:29:69:2A:15:93:3B:1C:31:D2:37:D6:CA

 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; X509v3 Key Usage: critical
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Digital Signature, Non Repudiation, Key Encipherment
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; X509v3 Extended Key Usage:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TLS Web Client Authentication, E-mail Protection
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; X509v3 Subject Alternative Name:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IP Address:2001:24:28:14:B8AF:2789:CBB9:F7AC
 &#160;&#160;&#160; Signature Algorithm: ED25519
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 32:2e:7d:4d:ad:4d:87:4c:57:1a:df:ef:e3:ec:2b:b5:a7:fe:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 2f:48:73:32:72:1a:b6:4a:cd:e4:88:75:98:4d:b0:9a:79:48:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 2b:2c:12:68:0f:c0:86:bd:d9:4e:4b:85:fb:f3:91:68:f4:ec:
 &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 18:99:dd:7e:d5:f8:b6:f0:08:0e

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011042.html">Difference ASN1_item_d2i_bio / ASN1_d2i_bio_of ?
</A></li>
	<LI>Next message: <A HREF="011046.html">client certs with no subjectName only SAN
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11045">[ date ]</a>
              <a href="thread.html#11045">[ thread ]</a>
              <a href="subject.html#11045">[ subject ]</a>
              <a href="author.html#11045">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
