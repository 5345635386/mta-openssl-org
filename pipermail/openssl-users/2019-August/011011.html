<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Serialize/Deserialize SSL state
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Serialize/Deserialize%20SSL%20state&In-Reply-To=%3Ce856a9c2-ef65-111b-f038-5558c0a9b989%40wisemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011010.html">
   <LINK REL="Next"  HREF="011012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Serialize/Deserialize SSL state</H1>
    <B>Jakob Bohm</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Serialize/Deserialize%20SSL%20state&In-Reply-To=%3Ce856a9c2-ef65-111b-f038-5558c0a9b989%40wisemo.com%3E"
       TITLE="Serialize/Deserialize SSL state">jb-openssl at wisemo.com
       </A><BR>
    <I>Sat Aug 10 09:03:25 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="011010.html">Serialize/Deserialize SSL state
</A></li>
        <LI>Next message: <A HREF="011012.html">structure reference counter read-only access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11011">[ date ]</a>
              <a href="thread.html#11011">[ thread ]</a>
              <a href="subject.html#11011">[ subject ]</a>
              <a href="author.html#11011">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/08/2019 23:21, Felipe Gasper wrote:
&gt;&gt;<i> On Aug 9, 2019, at 3:42 PM, Osama Mazahir via openssl-users &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is there a way to serialize and deserialize the ssl_st state (i.e. including any child objects)?
</I>&gt;&gt;<i>   
</I>&gt;&gt;<i> Background: I would like to handoff all the SSL state (along my own managed state, file descriptors, etc) to another Linux running process (I will handle the IPC handoff).  The connection already had its handshake completed, app data flow had already occurred (i.e. it is not a new or early&#8217;ish context).  So, trying to see if it is possible to serialize the openssl state, shove it through a unix domain socket to the target process and then have the target process unpack the openssl state and resume IO.
</I>&gt;<i> For what it&#8217;s worth, I have also wished for something like this, where I could pass a file descriptor as well as the OpenSSL state over a socket to a separate process.
</I>&gt;<i>
</I>A possible workaround is to run the SSL code in a dedicated process
and hand around a pipe or unix domain socket carrying the plaintext.

If this is server side, the SSL process could be run under a
dedicated UID which has exclusive access to load the private key etc.,
but no access to the stored application data.

Enjoy

Jakob
-- 
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011010.html">Serialize/Deserialize SSL state
</A></li>
	<LI>Next message: <A HREF="011012.html">structure reference counter read-only access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11011">[ date ]</a>
              <a href="thread.html#11011">[ thread ]</a>
              <a href="subject.html#11011">[ subject ]</a>
              <a href="author.html#11011">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
