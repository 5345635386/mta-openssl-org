<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> OPENSSL_init_crypto with OPENSSL_INIT_NO_ATEXIT issue
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OPENSSL_init_crypto%20with%20OPENSSL_INIT_NO_ATEXIT%20issue&In-Reply-To=%3CBYAPR18MB2918B9DB53CA6BB62A01DEF8F9AC0%40BYAPR18MB2918.namprd18.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011043.html">
   <LINK REL="Next"  HREF="011023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>OPENSSL_init_crypto with OPENSSL_INIT_NO_ATEXIT issue</H1>
    <B>Michael Wojcik</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OPENSSL_init_crypto%20with%20OPENSSL_INIT_NO_ATEXIT%20issue&In-Reply-To=%3CBYAPR18MB2918B9DB53CA6BB62A01DEF8F9AC0%40BYAPR18MB2918.namprd18.prod.outlook.com%3E"
       TITLE="OPENSSL_init_crypto with OPENSSL_INIT_NO_ATEXIT issue">Michael.Wojcik at microfocus.com
       </A><BR>
    <I>Thu Aug 15 18:53:16 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="011043.html">OPENSSL_init_crypto with OPENSSL_INIT_NO_ATEXIT issue
</A></li>
        <LI>Next message: <A HREF="011023.html">Openssl and tls 1.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11044">[ date ]</a>
              <a href="thread.html#11044">[ thread ]</a>
              <a href="subject.html#11044">[ subject ]</a>
              <a href="author.html#11044">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On Behalf Of
</I>&gt;<i> Dan Heinz
</I>&gt;<i> Sent: Thursday, August 15, 2019 13:19
</I>&gt;<i> blows up. Not entirely conventional, but it might be revealing.
</I>&gt;<i>
</I>&gt;<i> It is actually in a call to libxml2 and does not
</I>&gt;<i> appear to be related to OpenSSL.  Now I just need to figure out why libxml2
</I>&gt;<i> is not freeing it.
</I>
Some quick online searching (I don't have the source for libxml2 handy on this machine) suggests it may be the globalkey variable, allocated in xmlOnceInit. Some old messages from the libxml2 mailing list suggest it ought to be TlsFree'd in the DLL_PROCESS_DETACH case of libxml2's DllMain.

If I were investigating this, I'd grab the libxml2 sources and build it for debug, then debug the process at fault with breakpoints set appropriately.

--
Michael Wojcik
Distinguished Engineer, Micro Focus



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011043.html">OPENSSL_init_crypto with OPENSSL_INIT_NO_ATEXIT issue
</A></li>
	<LI>Next message: <A HREF="011023.html">Openssl and tls 1.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11044">[ date ]</a>
              <a href="thread.html#11044">[ thread ]</a>
              <a href="subject.html#11044">[ subject ]</a>
              <a href="author.html#11044">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
