<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> AW: FIPS_selftest() Usage
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20AW%3A%20FIPS_selftest%28%29%20Usage&In-Reply-To=%3Cf354bc75c0db402397a3474407708b1f%40Ex13.ncp.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010998.html">
   <LINK REL="Next"  HREF="011001.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>AW: FIPS_selftest() Usage</H1>
    <B>Dr. Matthias St. Pierre</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20AW%3A%20FIPS_selftest%28%29%20Usage&In-Reply-To=%3Cf354bc75c0db402397a3474407708b1f%40Ex13.ncp.local%3E"
       TITLE="AW: FIPS_selftest() Usage">Matthias.St.Pierre at ncp-e.com
       </A><BR>
    <I>Wed Aug  7 22:41:57 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="010998.html">FIPS_selftest() Usage
</A></li>
        <LI>Next message: <A HREF="011001.html">Query related to obtaining of temp key
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10999">[ date ]</a>
              <a href="thread.html#10999">[ thread ]</a>
              <a href="subject.html#10999">[ subject ]</a>
              <a href="author.html#10999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> For an application linked to FIPS capable OpenSSL,&#160;
</I>
&gt;<i> 1) After calls to FIPS_mode_set() and FIPS_mode() both succeed, is it good practice to call FIPS_selftest()? Or is this redundant call?
</I>&gt;<i>
</I>&gt;<i> 2) Did come across documentation which only hinted that FIPS_mode_set() calls FIPS_selftest() internally. Is this correct?
</I>
&gt;<i> Regards.
</I>
Indeed, FIPS_mode_set() calls FIPS_selftest() internally(*), and if the selftest fails, FIPS mode will not be enabled. So there is no
need to run the selftest immediately after FIPS_mode_set() again. If your program is a long-running service, it might be a good idea
to  re-run the selftest on a regular base, but I have no particular recommendations about how often would be reasonable.

(*) It is stated explicitly in the manual pages, which are printed in Appendix D.2 of the OpenSSL FIPS 2.0 User Guide:

&gt;<i>Appendix D.2  FIPS_mode_set(), FIPS_selftest() 
</I>&gt;<i> FIPS_mode_set() enables the FIPS mode of operation for applications
</I>&gt;<i> that have complied with all the provisions of the OpenSSL FIPS 140-2 Security
</I>&gt;<i> Policy. Successful execution of this function call with non-zero ONOFF is the
</I>&gt;<i> only way to enable FIPS mode. After verifying the integrity of the executable
</I>&gt;<i> object code using the stored digest FIPS_mode_set() performs the power-up self-test.
</I>
<A HREF="https://www.openssl.org/docs/fips/UserGuide-2.0.pdf">https://www.openssl.org/docs/fips/UserGuide-2.0.pdf</A>

This document is the official documentation and most comprehensive guide for the OpenSSL FIPS 2.0
object module. Anything you need to know you should be able to find in there.

Regards,
Matthias








</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010998.html">FIPS_selftest() Usage
</A></li>
	<LI>Next message: <A HREF="011001.html">Query related to obtaining of temp key
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10999">[ date ]</a>
              <a href="thread.html#10999">[ thread ]</a>
              <a href="subject.html#10999">[ subject ]</a>
              <a href="author.html#10999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
