<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> question about certificate verify
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20question%20about%20certificate%20verify&In-Reply-To=%3C8511ACAA-85A5-4FFD-9D68-DA34EF29D087%40ll.mit.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011082.html">
   <LINK REL="Next"  HREF="011085.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>question about certificate verify</H1>
    <B>Blumenthal, Uri - 0553 - MITLL</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20question%20about%20certificate%20verify&In-Reply-To=%3C8511ACAA-85A5-4FFD-9D68-DA34EF29D087%40ll.mit.edu%3E"
       TITLE="question about certificate verify">uri at ll.mit.edu
       </A><BR>
    <I>Mon Aug 26 14:39:40 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="011082.html">question about certificate verify
</A></li>
        <LI>Next message: <A HREF="011085.html">question about certificate verify
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11083">[ date ]</a>
              <a href="thread.html#11083">[ thread ]</a>
              <a href="subject.html#11083">[ subject ]</a>
              <a href="author.html#11083">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Is there a potential problem - if a certificate has multiple issues, such as bad signature and certificate expired? Would all of these conditions be reported, or only the first one detected?

Regards,
Uri

Sent from my iPhone

On Aug 26, 2019, at 10:11, Viktor Dukhovni &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at dukhovni.org</A>&gt; wrote:

&gt;&gt;<i> On Aug 26, 2019, at 5:24 AM, <A HREF="../../../mailman/listinfo/openssl-users.html">forston_shi at trendmicro.com</A> wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> We check a sub-certificate with a lot of root certificates.
</I>&gt;&gt;<i> We don&#8217;t want to check sub-certificate&#8217;s expire time, but we want to get an error when root certificate expired.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I try to verify it by following option,
</I>&gt;&gt;<i>  X509_VERIFY_PARAM* pm = X509_STORE_CTX_get0_param(xstore_ctx);
</I>&gt;&gt;<i>  X509_VERIFY_PARAM_set_flags(pm, X509_V_FLAG_NO_CHECK_TIME);
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>  iret = X509_verify_cert(xstore_ctx); 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> But it also will ignore root certificate&#8217;s expire.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> So, can you give me some suggestion for my question.
</I>&gt;<i> 
</I>&gt;<i> To ignore expiration of only the leaf certificate, you
</I>&gt;<i> need a verification callback that checks the error
</I>&gt;<i> reason at depth 0 and if it is expiration, returns
</I>&gt;<i> &quot;ok = 1&quot; anyway.
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i>    Viktor.
</I>&gt;<i> 
</I>-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 5821 bytes
Desc: not available
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20190826/464d8393/attachment.bin">http://mta.openssl.org/pipermail/openssl-users/attachments/20190826/464d8393/attachment.bin</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011082.html">question about certificate verify
</A></li>
	<LI>Next message: <A HREF="011085.html">question about certificate verify
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11083">[ date ]</a>
              <a href="thread.html#11083">[ thread ]</a>
              <a href="subject.html#11083">[ subject ]</a>
              <a href="author.html#11083">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
