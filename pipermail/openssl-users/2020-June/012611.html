<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> server key exchange signature behavior
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20server%20key%20exchange%20signature%20behavior&In-Reply-To=%3C3ecb8c91-f32d-01e4-03c3-bfc64aa7767b%40integpg.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012606.html">
   <LINK REL="Next"  HREF="012612.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>server key exchange signature behavior</H1>
    <B>Bruce Cloutier</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20server%20key%20exchange%20signature%20behavior&In-Reply-To=%3C3ecb8c91-f32d-01e4-03c3-bfc64aa7767b%40integpg.com%3E"
       TITLE="server key exchange signature behavior">bcloutier at integpg.com
       </A><BR>
    <I>Tue Jun 23 12:03:15 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="012606.html">Compiling OpenSSL on Solaris sparcv9 using cc with FIPS support - Issues
</A></li>
        <LI>Next message: <A HREF="012612.html">server key exchange signature behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12611">[ date ]</a>
              <a href="thread.html#12611">[ thread ]</a>
              <a href="subject.html#12611">[ subject ]</a>
              <a href="author.html#12611">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

We administer a server (Windows) with a Bitnami stack for a Wordpress
implementation and that uses Apache Httpd and OpenSSL. Separately I am
developing the TLS ECC aspect of a controller device implementation and
note a problematic behavior with the server_key_exchange for ECDHE_RSA.
The developed device ECDHE_RSA suite works properly and as expected with
all of the other servers thus far tested. There is likely a
configuration issue with this Apache installation and I am fishing for a
hint.

The issue is that the RSA signature as part of the server_key_exchange
does not decrypt with the supplied certificate public RSA key. It does
indicate an rsa_pkcs1_sha256 signature.

With a fresh Bitnami install that still uses the default key and
certificate files, the protocol provides a valid digital signature. When
we change the server's certificate (and confirm this with the browser)
the server_key_exchange signature no longer validates. It is as if the
server continues to use the default key for the signature. I have not
tried to confirm that specific point.

My immediate question for someone close to the code is where does
Apache/OpenSSL look for the key file for this signature at this point in
the protocol?

I am hoping that there is just some additional configuration location
that needs to be given our new key file and/or certificate. Can anyone
confirm?

We noted this concern on a production server. We then installed the
stack on a different machine to confirm the fresh install operation. In
adding different key and certificate files we confirm that the signature
then fails. If I ignore the bad signature the secure communications
succeed.

I have been searching the net for this issue for weeks. That has been
fruitless. So I am turning to this list.

Bruce



-- 
Sent using Thunderbird on Ubuntu 16.04LTS




-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 228 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20200623/001df037/attachment-0001.sig">https://mta.openssl.org/pipermail/openssl-users/attachments/20200623/001df037/attachment-0001.sig</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012606.html">Compiling OpenSSL on Solaris sparcv9 using cc with FIPS support - Issues
</A></li>
	<LI>Next message: <A HREF="012612.html">server key exchange signature behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12611">[ date ]</a>
              <a href="thread.html#12611">[ thread ]</a>
              <a href="subject.html#12611">[ subject ]</a>
              <a href="author.html#12611">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
