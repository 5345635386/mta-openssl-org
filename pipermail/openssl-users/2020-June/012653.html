<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> OpenSSL 1.1.1g test failures
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OpenSSL%201.1.1g%20test%20failures&In-Reply-To=%3C5EF5FFA5.24568.C5F7E5FB%40openssl.pmail.gen.nz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012649.html">
   <LINK REL="Next"  HREF="012663.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>OpenSSL 1.1.1g test failures</H1>
    <B>David Harris</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OpenSSL%201.1.1g%20test%20failures&In-Reply-To=%3C5EF5FFA5.24568.C5F7E5FB%40openssl.pmail.gen.nz%3E"
       TITLE="OpenSSL 1.1.1g test failures">openssl at pmail.gen.nz
       </A><BR>
    <I>Fri Jun 26 14:01:09 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="012649.html">OpenSSL 1.1.1g test failures
</A></li>
        <LI>Next message: <A HREF="012663.html">OpenSSL 1.1.1g test failures
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12653">[ date ]</a>
              <a href="thread.html#12653">[ thread ]</a>
              <a href="subject.html#12653">[ subject ]</a>
              <a href="author.html#12653">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 26 Jun 2020 at 11:55, Matt Caswell wrote:

&gt;<i> No - this is not normal output. We would expect the self tests to pass
</I>&gt;<i> on Windows
</I>
&gt;<i> &gt;  The ONLY
</I>&gt;<i> &gt; non-standard thing I do is change the /MD switch (link to the DLL
</I>&gt;<i> &gt; versions of the runtime libraries) to /MT (static link the runtimes)
</I>&gt;<i> &gt; because I don't want to have external dependencies in my production
</I>&gt;<i> &gt; environments
</I>&gt;<i> 
</I>&gt;<i> How exactly do you make this change? By editing the Makefile? Have you
</I>&gt;<i> tried it without doing this? My guess is that this is exactly the
</I>&gt;<i> cause of the problem. AppLink is all about dealing with differences in
</I>&gt;<i> MS runtimes.
</I>
Assumption, as they say, is the mother of all fu??ups...

In this case, the failed assumption was that a non-standard modification I had 
been making for many years would continue to work simply because it had in 
the past.

Matt is, of course, quite right. When I changed the &quot;/MT&quot; back to &quot;/MD&quot; in 
CNF_CFLAGS and rebuilt everything, it all worked like clockwork.

My thanks to you Matt - you've solved my problem.

Is there a standard (i.e, approved) way of using the static RTLs instead of the 
DLL ones? Or is my only option to modify the applink code so that it checks its 
environment in a different way? The problem with the dynamic RTLs is that my 
application is often used in environments where the user may not have sufficient 
rights to install the redistributables - whereas, if I use the static versions, the 
code is a little bigger, but there's no redistributable installation required and I 
never run into rights issues.

Again, thank you for the assistance, Matt - I appreciate it.

Cheers!

-- David --

</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012649.html">OpenSSL 1.1.1g test failures
</A></li>
	<LI>Next message: <A HREF="012663.html">OpenSSL 1.1.1g test failures
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12653">[ date ]</a>
              <a href="thread.html#12653">[ thread ]</a>
              <a href="subject.html#12653">[ subject ]</a>
              <a href="author.html#12653">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
