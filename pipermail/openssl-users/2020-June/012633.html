<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> server key exchange signature behavior
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20server%20key%20exchange%20signature%20behavior&In-Reply-To=%3C4c0d0084-5fd0-4f1b-5355-318fe32c29cc%40integpg.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012631.html">
   <LINK REL="Next"  HREF="012634.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>server key exchange signature behavior</H1>
    <B>Bruce Cloutier</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20server%20key%20exchange%20signature%20behavior&In-Reply-To=%3C4c0d0084-5fd0-4f1b-5355-318fe32c29cc%40integpg.com%3E"
       TITLE="server key exchange signature behavior">bcloutier at integpg.com
       </A><BR>
    <I>Thu Jun 25 17:04:10 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="012631.html">server key exchange signature behavior
</A></li>
        <LI>Next message: <A HREF="012634.html">server key exchange signature behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12633">[ date ]</a>
              <a href="thread.html#12633">[ thread ]</a>
              <a href="subject.html#12633">[ subject ]</a>
              <a href="author.html#12633">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yeah. I doubt it is an OpenSSL issue directly as Apache might be feeding
the wrong key. Just need confirmation that there isn't a default key
configuration setting for OpenSSL that might be taking precedence for
who knows why.

I can connect successfully with the browser so I cannot rule out that my
TLS implementation is faulty. However, it validates with every other
site and it validates with the default install of this bitnami stack.
Once we reconfigure for the new key and certificate, this signature in
the server_key_exchange message fails. Nothing else seems to complain.
My code does, well, because I know that I actually do verify that
signature against the supplied certificate.

So to everyone else it appears that we have configured the new
certificates properly (manually achieved Let's Encrypt cert). If OpenSSL
fails to validate this particular digital signature that would be the
case. If in my TLS implementation I skip this check (actually now I just
post a warning) everything negotiates and proceeds just fine.

Obviously, THAT signature is there for a reason. I should expect if to
validate. Just don't know what key it is using?

I am not sure how to get to the Apache people or, might be, the Bitnami
folks?

Bruce

On 6/25/20 12:07 PM, Michael Wojcik wrote:
&gt;&gt;<i> From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On Behalf Of
</I>&gt;&gt;<i> Bruce Cloutier
</I>&gt;&gt;<i> Sent: Thursday, June 25, 2020 10:11
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Has anyone thought about this question?
</I>&gt;<i> From your description, it sounds like an Apache issue, not an OpenSSL one. I don't know enough about Apache configuration to comment. (I've configured a few Apache instances in my day, but never had any real issues with it, so I've never done more than search the docs for what I needed and implemented it.)
</I>&gt;<i>
</I>&gt;&gt;<i> The site is <A HREF="https://jnior.com">https://jnior.com</A> if
</I>&gt;&gt;<i> anyone wants to hit it. For me the digital signature in the
</I>&gt;&gt;<i> server_key_exchange does not verify.
</I>&gt;<i> I just tried openssl s_client, and it didn't complain about anything. Negotiated a TLSv1.2 session with ECDHE-RSA-AES256-GCM-SHA384 and verified the chain.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Michael Wojcik
</I>&gt;<i> Distinguished Engineer, Micro Focus
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-- 
Sent using Thunderbird on Ubuntu 16.04LTS


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 228 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20200625/f82eaf68/attachment.sig">https://mta.openssl.org/pipermail/openssl-users/attachments/20200625/f82eaf68/attachment.sig</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012631.html">server key exchange signature behavior
</A></li>
	<LI>Next message: <A HREF="012634.html">server key exchange signature behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12633">[ date ]</a>
              <a href="thread.html#12633">[ thread ]</a>
              <a href="subject.html#12633">[ subject ]</a>
              <a href="author.html#12633">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
