<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Monolith compile verify.c
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Monolith%20compile%20verify.c&In-Reply-To=%3CDM6PR18MB27004A98DB4CA873806F60ACF9920%40DM6PR18MB2700.namprd18.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012617.html">
   <LINK REL="Next"  HREF="012623.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Monolith compile verify.c</H1>
    <B>Michael Wojcik</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Monolith%20compile%20verify.c&In-Reply-To=%3CDM6PR18MB27004A98DB4CA873806F60ACF9920%40DM6PR18MB2700.namprd18.prod.outlook.com%3E"
       TITLE="Monolith compile verify.c">Michael.Wojcik at microfocus.com
       </A><BR>
    <I>Thu Jun 25 13:38:20 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="012617.html">Monolith compile verify.c
</A></li>
        <LI>Next message: <A HREF="012623.html">Monolith compile verify.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12620">[ date ]</a>
              <a href="thread.html#12620">[ thread ]</a>
              <a href="subject.html#12620">[ subject ]</a>
              <a href="author.html#12620">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On Behalf Of
</I>&gt;<i> Matt Caswell
</I>&gt;<i> Sent: Thursday, June 25, 2020 04:51
</I>&gt;<i>
</I>&gt;<i> On 24/06/2020 20:20, Michael Mueller wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Questions
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 1. Is the fix valid?
</I>&gt;<i>
</I>&gt;<i> Seems ok, but it looks like the compiler warning is a bit over zealous.
</I>
It's valid, but I'd argue it's not a &quot;fix&quot;.

As Rich Salz pointed out, omitting initializers is permitted by the C standard. In fact it's endorsed, in the sense that the standard makes this behavior explicit (see e.g. ISO 9899-1999 6.7.8 #21 for arrays, or in the case of subobjects #19), and the Rationale (I'm referring to 5.10, published 2003) does not discourage its use, as it does for e.g. omitting braces for compound object initializers and relying on the mandated top-down-parse semantics.

In his monumental /The New C Standard: An Economic and Cultural Commentary/ (2005), Derek M. Jones comments on this aspect of the language by noting some costs involved in requiring all members be explicitly initialized, and concludes: &quot; Given these costs and the fact that developers are generally aware of the default behavior, there does not appear to be a worthwhile benefit in a guideline recommending that the behavior be made explicit.&quot; (1669) The GCC developers (like all C implementors) would have done well to read Jones.

&gt;<i> We have the same pattern in many parts of the code I think without problems.
</I>
Yes, as it should be.

&gt;<i> &gt; 2.  If fix is valid, what are the chances of getting the change accepted?
</I>&gt;<i>
</I>&gt;<i> Doubtful.
</I>
And I'd say that's appropriate. Some of the GCC developers would prefer programmers use a language which is similar to, but distinctly not C, eschewing useful constructs and employing various others which are not part of the C language. OpenSSL is written in C.

--
Michael Wojcik
Distinguished Engineer, Micro Focus

</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012617.html">Monolith compile verify.c
</A></li>
	<LI>Next message: <A HREF="012623.html">Monolith compile verify.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12620">[ date ]</a>
              <a href="thread.html#12620">[ thread ]</a>
              <a href="subject.html#12620">[ subject ]</a>
              <a href="author.html#12620">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
