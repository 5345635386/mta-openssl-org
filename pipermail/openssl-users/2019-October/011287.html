<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> EVP_PKEY_CTX* Best Practices
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-October/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20EVP_PKEY_CTX%2A%20Best%20Practices&In-Reply-To=%3Cdb16e271-a6a4-fd1f-ffc9-cf872f7be047%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011286.html">
   <LINK REL="Next"  HREF="011288.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>EVP_PKEY_CTX* Best Practices</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20EVP_PKEY_CTX%2A%20Best%20Practices&In-Reply-To=%3Cdb16e271-a6a4-fd1f-ffc9-cf872f7be047%40openssl.org%3E"
       TITLE="EVP_PKEY_CTX* Best Practices">matt at openssl.org
       </A><BR>
    <I>Wed Oct  2 09:19:44 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="011286.html">EVP_PKEY_CTX* Best Practices
</A></li>
        <LI>Next message: <A HREF="011288.html">Windows 10 run-time issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11287">[ date ]</a>
              <a href="thread.html#11287">[ thread ]</a>
              <a href="subject.html#11287">[ subject ]</a>
              <a href="author.html#11287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 02/10/2019 03:10, Christian Mazakas wrote:
&gt;<i> I'm relatively new to the world of OpenSSL.
</I>&gt;<i> 
</I>&gt;<i> I'm trying to write a QUIC stream class and for that, I need to use the
</I>&gt;<i> EVP_PKEY_CTX and I'm not sure what's the optimal way of scoping instances of
</I>&gt;<i> this context.
</I>&gt;<i> 
</I>&gt;<i> For example, should I have a CTX per Quic connection? Or rather one that's
</I>&gt;<i> shared by many in a thread-safe manner? What's the cost of generating one per
</I>&gt;<i> connection? Are there docs where I can read about this kind of stuff?
</I>
There are no hard and fast rules on this as much is going to depend on the
particular application. However EVP_PKEY_CTX creation is not particularly
expensive. As a point of reference libssl creates and destroys these on a
temporary basis per connection. Most likely the overhead of trying to share
these between multiple threads, and the locking that would therefore be
required, is not going to be worth it.

Matt

</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011286.html">EVP_PKEY_CTX* Best Practices
</A></li>
	<LI>Next message: <A HREF="011288.html">Windows 10 run-time issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11287">[ date ]</a>
              <a href="thread.html#11287">[ thread ]</a>
              <a href="subject.html#11287">[ subject ]</a>
              <a href="author.html#11287">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
