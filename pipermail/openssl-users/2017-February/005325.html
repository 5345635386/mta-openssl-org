<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Compiling OpenSSL 1.1.0e with AF_ALG engine
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Compiling%20OpenSSL%201.1.0e%20with%20AF_ALG%20engine&In-Reply-To=%3CCAH8yC8%3Dy_RsRWv250MmA2xY6fH7OdUgGYKMOM%2BwdDjpQSfNJCw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005324.html">
   <LINK REL="Next"  HREF="005322.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Compiling OpenSSL 1.1.0e with AF_ALG engine</H1>
    <B>Jeffrey Walton</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Compiling%20OpenSSL%201.1.0e%20with%20AF_ALG%20engine&In-Reply-To=%3CCAH8yC8%3Dy_RsRWv250MmA2xY6fH7OdUgGYKMOM%2BwdDjpQSfNJCw%40mail.gmail.com%3E"
       TITLE="[openssl-users] Compiling OpenSSL 1.1.0e with AF_ALG engine">noloader at gmail.com
       </A><BR>
    <I>Thu Feb 23 04:43:46 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="005324.html">[openssl-users] Compiling OpenSSL 1.1.0e with AF_ALG engine
</A></li>
        <LI>Next message: <A HREF="005322.html">[openssl-users] OpenSSL handshake failure with RSA bad signature	error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5325">[ date ]</a>
              <a href="thread.html#5325">[ thread ]</a>
              <a href="subject.html#5325">[ subject ]</a>
              <a href="author.html#5325">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> Sorry, never mind. After taking a closer look at the source code I saw
</I>&gt;&gt;<i> that there are further compile time and run-time kernel version
</I>&gt;&gt;<i> checks in e_afalg.c. I adjusted the version number and got that to
</I>&gt;&gt;<i> work now.
</I>&gt;<i>
</I>&gt;<i> Well, why does the afalg engine depend on Linux 4.1?
</I>&gt;<i> AF_ALG is part of Linux since 2.6.38.
</I>&gt;<i>
</I>&gt;<i> Furthermore it is not clear to me why the Kernel version is being
</I>&gt;<i> checked during the build.
</I>&gt;<i> What if I build on an older kernel?
</I>&gt;<i> Does your build system offer a config option for that?
</I>
Also see <A HREF="https://mta.openssl.org/pipermail/openssl-dev/2016-March/006171.html">https://mta.openssl.org/pipermail/openssl-dev/2016-March/006171.html</A>

Its been my experience that most AFALG issues are due to the kernel
and problems with its implementation, and not OpenSSL.

Kernel test vectors are virtually non-existent, so things randomly
move in and out of a state of &quot;it works as expected&quot; to other various
states. For example, here are the AFALG test vectors:
<A HREF="https://github.com/tstruk/afalg_async_test.">https://github.com/tstruk/afalg_async_test.</A> They are not in the kernel
proper, they are incomplete, and its hits or miss whether they will
work as expected.

You can learn if an async driver is available with:

   cat /proc/crypto | egrep '^(name|driver|async|$)'

Jeff
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005324.html">[openssl-users] Compiling OpenSSL 1.1.0e with AF_ALG engine
</A></li>
	<LI>Next message: <A HREF="005322.html">[openssl-users] OpenSSL handshake failure with RSA bad signature	error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5325">[ date ]</a>
              <a href="thread.html#5325">[ thread ]</a>
              <a href="subject.html#5325">[ subject ]</a>
              <a href="author.html#5325">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
