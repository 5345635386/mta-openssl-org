<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] openssl crl fails to parse a CRL file,	which seems correct
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20openssl%20crl%20fails%20to%20parse%20a%20CRL%20file%2C%0A%09which%20seems%20correct&In-Reply-To=%3Cea251e09-aa72-aa00-93e5-ca1bd342c2f5%40fedict.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004443.html">
   <LINK REL="Next"  HREF="004449.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] openssl crl fails to parse a CRL file,	which seems correct</H1>
    <B>Wouter Verhelst</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20openssl%20crl%20fails%20to%20parse%20a%20CRL%20file%2C%0A%09which%20seems%20correct&In-Reply-To=%3Cea251e09-aa72-aa00-93e5-ca1bd342c2f5%40fedict.be%3E"
       TITLE="[openssl-users] openssl crl fails to parse a CRL file,	which seems correct">wouter.verhelst at fedict.be
       </A><BR>
    <I>Wed Sep 14 12:31:22 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="004443.html">[openssl-users] openssl-1.0.2i?
</A></li>
        <LI>Next message: <A HREF="004449.html">[openssl-users] openssl crl fails to parse a CRL file, which seems correct
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4444">[ date ]</a>
              <a href="thread.html#4444">[ thread ]</a>
              <a href="subject.html#4444">[ subject ]</a>
              <a href="author.html#4444">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

(this is a resend because my MUA crashed while I tried to send this mail 
earlier. If you get it twice, my apologies)

When I try to parse some of the CRLs at &lt;<A HREF="http://crl.eid.belgium.be/">http://crl.eid.belgium.be/</A>&gt;, I 
sometimes get this error:

<A HREF="../../../mailman/listinfo/openssl-users.html">wouter at gangtai</A>:~$ openssl version
OpenSSL 1.0.2h  3 May 2016
<A HREF="../../../mailman/listinfo/openssl-users.html">wouter at gangtai</A>:~$ openssl crl -in eidc201203.crl -inform der -noout -text
unable to load CRL
140694432685592:error:0D09E09B:asn1 encoding 
routines:X509_NAME_EX_D2I:too long:x_name.c:203:
140694432685592:error:0D08303A:asn1 encoding 
routines:ASN1_TEMPLATE_NOEXP_D2I:nested asn1 
error:tasn_dec.c:697:Field=issuer, Type=X509_CRL_INFO
140694432685592:error:0D08303A:asn1 encoding 
routines:ASN1_TEMPLATE_NOEXP_D2I:nested asn1 
error:tasn_dec.c:697:Field=crl, Type=X509_CRL

This isn't the case for all of the CRLs, just for some of them; e.g., 
everything works fine for eidc201503.crl

However, if I try the same on another machine nearby, which has a much 
older version of OpenSSL, then things seem to work fine:

eidmac:~ buildslave$ openssl version
OpenSSL 0.9.8zh 14 Jan 2016
eidmac:~ buildslave$ openssl crl -in eidc201203.crl -inform der -noout 
-text | head
Certificate Revocation List (CRL):
          Version 2 (0x1)
          Signature Algorithm: sha1WithRSAEncryption
          Issuer: /C=BE/CN=Citizen CA/serialNumber=201203
          Last Update: Sep 14 10:22:50 2016 GMT
          Next Update: Sep 21 10:22:50 2016 GMT
          CRL extensions:
              X509v3 Authority Key Identifier:
  keyid:7A:5F:3A:FF:2D:46:91:90:53:3F:BB:91:2D:29:82:ED:BB:78:6A:E0

This machine is a mac running OSX 10.11, the OpenSSL is the default as 
shipped with that OS; the other is my personal laptop, which runs Debian 
unstable (and the openssl is again the default). I've reproduced the 
same issue on Debian stable, haven't tried much else yet.

I've been trying to figure out why my OpenSSL fails to parse the CRL, 
whereas others do not,. Any hints would be greatly appreciated.

Thanks,

-- 
Wouter Verhelst
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004443.html">[openssl-users] openssl-1.0.2i?
</A></li>
	<LI>Next message: <A HREF="004449.html">[openssl-users] openssl crl fails to parse a CRL file, which seems correct
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4444">[ date ]</a>
              <a href="thread.html#4444">[ thread ]</a>
              <a href="subject.html#4444">[ subject ]</a>
              <a href="author.html#4444">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
