<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] OpenSSL Dragino Yun Issues
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20OpenSSL%20Dragino%20Yun%20Issues&In-Reply-To=%3C1702bdd3-96ab-7367-0a10-db4c825e1ae4%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004332.html">
   <LINK REL="Next"  HREF="004337.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] OpenSSL Dragino Yun Issues</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20OpenSSL%20Dragino%20Yun%20Issues&In-Reply-To=%3C1702bdd3-96ab-7367-0a10-db4c825e1ae4%40openssl.org%3E"
       TITLE="[openssl-users] OpenSSL Dragino Yun Issues">matt at openssl.org
       </A><BR>
    <I>Fri Sep  2 08:32:19 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="004332.html">[openssl-users] OpenSSL Dragino Yun Issues
</A></li>
        <LI>Next message: <A HREF="004337.html">[openssl-users] OpenSSL Dragino Yun Issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4333">[ date ]</a>
              <a href="thread.html#4333">[ thread ]</a>
              <a href="subject.html#4333">[ subject ]</a>
              <a href="author.html#4333">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 02/09/16 09:15, Nikola Milev wrote:
&gt;<i> Matt,
</I>&gt;<i> 
</I>&gt;<i> I have not compiled it myself. Compiling simpler applications for my
</I>&gt;<i> Dragino Yun shield is complicated enough.
</I>&gt;<i> 
</I>&gt;<i> One thing that did come to mind was: could the cross compilation for
</I>&gt;<i> Dragino be messing with the program in any way? Also quite new in all of it.
</I>

Possibly, but I'm not familiar with Dragino so I can't really comment.

&gt;<i> 
</I>&gt;<i> Back to OpenSSL, are there any additional settings that could have
</I>&gt;<i> caused the error?
</I>
None that spring to mind.

&gt;<i> 
</I>&gt;<i> Also, I have a question about this issue on Stack Overflow. If we
</I>&gt;<i> resolve the issue, I think it would be good to post it there as an
</I>&gt;<i> answer, if you agree.
</I>
Sure.

If you are unable to compile OpenSSL and it doesn't have debugging
symbols then its going to be difficult to take the diagnosis of this
problem much further.

An alternative solution for you might be a &quot;workaround&quot;. Rather than
calling BIO_do_accept(), you could create the socket yourself directly
(i.e. not using the BIO calls). Once you have the have the socket file
descriptor you can create a BIO from it using BIO_new_socket().

Matt


&gt;<i> Best regards,
</I>&gt;<i> Nikola
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Sep 2, 2016 9:51 AM, &quot;Matt Caswell&quot; &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>
</I>&gt;<i> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     On 01/09/16 12:36, Nikola Milev wrote:
</I>&gt;<i>     &gt;     listenfd = socket (AF_INET, SOCK_STREAM, PROTOCOL);
</I>&gt;<i>     &gt;     if(listenfd &lt; 0)
</I>&gt;<i>     &gt;     {
</I>&gt;<i>     &gt;         exit_msg(&quot;socket() error&quot;);
</I>&gt;<i>     &gt;     }
</I>&gt;<i> 
</I>&gt;<i>     The fact that this worked suggests that maybe we aren't sending what we
</I>&gt;<i>     think we are sending as the parameters to the equivalent socket call in
</I>&gt;<i>     OpenSSL. Either that or something really weird is happening that causes
</I>&gt;<i>     it to fail when called from OpenSSL, but not from a standalone program!!
</I>&gt;<i> 
</I>&gt;<i>     Did you compile OpenSSL yourself, or are you using pre-built binaries?
</I>&gt;<i>     If you compiled it yourself then I could provide you with a small patch
</I>&gt;<i>     to instrument the code to figure out what parameters are being sent to
</I>&gt;<i>     &quot;socket&quot;...either that or you could take a look at it in a debugger if
</I>&gt;<i>     it has been compiled with debugging symbols.
</I>&gt;<i> 
</I>&gt;<i>     Matt
</I>&gt;<i> 
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004332.html">[openssl-users] OpenSSL Dragino Yun Issues
</A></li>
	<LI>Next message: <A HREF="004337.html">[openssl-users] OpenSSL Dragino Yun Issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4333">[ date ]</a>
              <a href="thread.html#4333">[ thread ]</a>
              <a href="subject.html#4333">[ subject ]</a>
              <a href="author.html#4333">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
