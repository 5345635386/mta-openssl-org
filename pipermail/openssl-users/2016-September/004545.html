<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Can't compile Apache 2.4.23 with OpenSSL 1.1.0b
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Can%27t%20compile%20Apache%202.4.23%20with%20OpenSSL%201.1.0b&In-Reply-To=%3Cab9118c2-583a-6d2b-d882-aa1ac40adff5%40akamai.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004543.html">
   <LINK REL="Next"  HREF="004546.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Can't compile Apache 2.4.23 with OpenSSL 1.1.0b</H1>
    <B>Benjamin Kaduk</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Can%27t%20compile%20Apache%202.4.23%20with%20OpenSSL%201.1.0b&In-Reply-To=%3Cab9118c2-583a-6d2b-d882-aa1ac40adff5%40akamai.com%3E"
       TITLE="[openssl-users] Can't compile Apache 2.4.23 with OpenSSL 1.1.0b">bkaduk at akamai.com
       </A><BR>
    <I>Tue Sep 27 19:23:15 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="004543.html">[openssl-users] Can't compile Apache 2.4.23 with OpenSSL 1.1.0b
</A></li>
        <LI>Next message: <A HREF="004546.html">[openssl-users] Can't compile Apache 2.4.23 with OpenSSL 1.1.0b
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4545">[ date ]</a>
              <a href="thread.html#4545">[ thread ]</a>
              <a href="subject.html#4545">[ subject ]</a>
              <a href="author.html#4545">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The library is mostly self-initializing now, so the malloc_init call is
probably not needed.

SSLv2 support is entirely removed.

There are very drastic changes between the 1.0.x series and the 1.1.0
series, you really should read at least the NEWS file entries and maybe
the CHANGES as well.  Porting a large application such as Apache to the
new library will be a nontrivial work, but as you suspect, is probably
best discussed on the httpd mailing list.

-Ben

On 09/27/2016 12:14 PM, Paquin, Brian wrote:
&gt;<i> When I try to compile Apache 2.4.23 with OpenSSL 1.1.0b I get:
</I>&gt;<i>
</I>&gt;<i> secure:httpd-2.4.23 administrator$ sudo make
</I>&gt;<i> &lt;--many lines cut out--&gt;
</I>&gt;<i> /Users/administrator/Downloads/httpd-2.4.23/srclib/apr/libtool --silent --mode=link gcc    -arch x86_64 -L/usr/local/openssl/lib -lssl -lcrypto -lpthread  \
</I>&gt;<i> 	         -o ab  ab.lo       /Users/administrator/Downloads/httpd-2.4.23/srclib/apr-util/libaprutil-1.la -lexpat -liconv /Users/administrator/Downloads/httpd-2.4.23/srclib/apr/libapr-1.la -lpthread 
</I>&gt;<i> Undefined symbols for architecture x86_64:
</I>&gt;<i>   &quot;_CRYPTO_malloc_init&quot;, referenced from:
</I>&gt;<i>       _main in ab.o
</I>&gt;<i>   &quot;_SSLv2_client_method&quot;, referenced from:
</I>&gt;<i>       _main in ab.o
</I>&gt;<i> ld: symbol(s) not found for architecture x86_64
</I>&gt;<i> clang: error: linker command failed with exit code 1 (use -v to see invocation)
</I>&gt;<i> make[2]: *** [ab] Error 1
</I>&gt;<i> make[1]: *** [all-recursive] Error 1
</I>&gt;<i> make: *** [all-recursive] Error 1
</I>&gt;<i>
</I>&gt;<i> It compiles fine with 1.0.1j, but I am curious what I need to change to get 1.1.0b working&#8230;
</I>&gt;<i> (this may be for the httpd mailing list, but since it was specific to v1.1.0 I thought I would start here.
</I>&gt;<i>
</I>&gt;<i> OS is Mac OS X 10.11.6.
</I>&gt;<i>
</I>&gt;<i> Thank you,
</I>&gt;<i>
</I>&gt;<i> Brian
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20160927/69e52365/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20160927/69e52365/attachment.html</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004543.html">[openssl-users] Can't compile Apache 2.4.23 with OpenSSL 1.1.0b
</A></li>
	<LI>Next message: <A HREF="004546.html">[openssl-users] Can't compile Apache 2.4.23 with OpenSSL 1.1.0b
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4545">[ date ]</a>
              <a href="thread.html#4545">[ thread ]</a>
              <a href="subject.html#4545">[ subject ]</a>
              <a href="author.html#4545">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
