<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] &#22238;&#22797;&#65306;  [help]SSL_CTX_use_certificate_file failed!
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20%3D%3Futf-8%3Fb%3F5Zue5aSN77yaICBbaGVscF1TU0xfQ1RYX3Vz%3F%3D%0A%20%3D%3Futf-8%3Fq%3Fe%3D5Fcertificate%3D5Ffile_failed%21%3F%3D&In-Reply-To=%3C20160913154548.GH4670%40mournblade.imrryr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004434.html">
   <LINK REL="Next"  HREF="004436.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] &#22238;&#22797;&#65306;  [help]SSL_CTX_use_certificate_file failed!</H1>
    <B>Viktor Dukhovni</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20%3D%3Futf-8%3Fb%3F5Zue5aSN77yaICBbaGVscF1TU0xfQ1RYX3Vz%3F%3D%0A%20%3D%3Futf-8%3Fq%3Fe%3D5Fcertificate%3D5Ffile_failed%21%3F%3D&In-Reply-To=%3C20160913154548.GH4670%40mournblade.imrryr.org%3E"
       TITLE="[openssl-users] &#22238;&#22797;&#65306;  [help]SSL_CTX_use_certificate_file failed!">openssl-users at dukhovni.org
       </A><BR>
    <I>Tue Sep 13 15:45:49 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="004434.html">[openssl-users] &#22238;&#22797;&#65306; &#22238;&#22797;&#65306; [help]SSL_CTX_use_certificate_file failed!
</A></li>
        <LI>Next message: <A HREF="004436.html">[openssl-users] &#22238;&#22797;&#65306; &#22238;&#22797;&#65306;  [help]SSL_CTX_use_certificate_file failed!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4435">[ date ]</a>
              <a href="thread.html#4435">[ thread ]</a>
              <a href="subject.html#4435">[ subject ]</a>
              <a href="author.html#4435">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Sep 13, 2016 at 10:53:57PM +0800, zy_chongqing wrote:

&gt;<i> thanks for your reply. please kindly find the attached to get the certificate.
</I>
Firstly, you posted a 2048-bit certificate, which would not normally
fail with a &quot;key too small&quot; error, other than by failure to parse
the public key.

Secondly, when I start the OpenSSL 1.1.0 s_server(1) with the posted
certificate as the chain file, and a random 2048-bit RSA key as
the key file, the error is that the key and certificate don't match.
This means that at least s_server *is* able to parse the public
key.  Are there some other certificates in the chain file, in
addition to the leaf certificate you posted?  Please post all
the certificates (but not the private key) from that chain file.

    $ openssl genrsa 2048 &gt;&gt; /tmp/cert.pem
    Generating RSA private key, 2048 bit long modulus
    ........................................................................+++
    ...............+++
    e is 65537 (0x010001)

    $ openssl s_server -cert /tmp/cert.pem -accept 12345
    Using default temp DH parameters
    error setting private key
    140735148003328:error:0B080074:x509 certificate routines:X509_check_private_key:key values mismatch:../openssl/crypto/x509/x509_cmp.c:295:

-- 
	Viktor.
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004434.html">[openssl-users] &#22238;&#22797;&#65306; &#22238;&#22797;&#65306; [help]SSL_CTX_use_certificate_file failed!
</A></li>
	<LI>Next message: <A HREF="004436.html">[openssl-users] &#22238;&#22797;&#65306; &#22238;&#22797;&#65306;  [help]SSL_CTX_use_certificate_file failed!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4435">[ date ]</a>
              <a href="thread.html#4435">[ thread ]</a>
              <a href="subject.html#4435">[ subject ]</a>
              <a href="author.html#4435">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
