<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> OpenSSL-3.+ how to configure [random]?
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OpenSSL-3.%2B%20how%20to%20configure%20%5Brandom%5D%3F&In-Reply-To=%3C2160eee010a7b6df75acc5f0766e6e9fb75c7eeb.camel%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014580.html">
   <LINK REL="Next"  HREF="014584.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>OpenSSL-3.+ how to configure [random]?</H1>
    <B>Tomas Mraz</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OpenSSL-3.%2B%20how%20to%20configure%20%5Brandom%5D%3F&In-Reply-To=%3C2160eee010a7b6df75acc5f0766e6e9fb75c7eeb.camel%40openssl.org%3E"
       TITLE="OpenSSL-3.+ how to configure [random]?">tomas at openssl.org
       </A><BR>
    <I>Wed Nov 10 08:32:41 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="014580.html">OpenSSL-3.+ how to configure [random]?
</A></li>
        <LI>Next message: <A HREF="014584.html">OpenSSL-3.+ how to configure [random]?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14581">[ date ]</a>
              <a href="thread.html#14581">[ thread ]</a>
              <a href="subject.html#14581">[ subject ]</a>
              <a href="author.html#14581">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2021-11-10 at 03:38 +0000, Blumenthal, Uri - 0553 - MITLL
wrote:
&gt;<i> On 11/9/21, 22:23, &quot;Dr Paul Dale&quot; &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">pauli at openssl.org</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; &#160;&#160; Currently I've no idea and can't reproduce locally :(
</I>&gt;<i> 
</I>&gt;<i> Maybe you'd know how to force the &quot;-engine rdrand&quot; path through
</I>&gt;<i> &quot;openssl.cnf&quot;?
</I>&gt;<i> 
</I>&gt;<i> &gt; &#160;&#160; A rogue configuration file could cause the DRBGs/seeds to fail.&#160;
</I>&gt;<i> &gt; Do you 
</I>&gt;<i> &gt; &#160;&#160; have seed=rdrand line in the random section?&#160; That will cause
</I>&gt;<i> &gt; the 
</I>&gt;<i> &gt; &#160;&#160; seeding source to fail to load at all.
</I>&gt;<i> 
</I>&gt;<i> No, I don't - and providing empty config causes the same result:
</I>&gt;<i> 
</I>&gt;<i> $ OPENSSL_CONF=/dev/null openssl3 rand -hex 4
</I>&gt;<i> $ OPENSSL_CONF=/dev/null openssl3 rand -engine rdrand -hex 4
</I>&gt;<i> Engine &quot;rdrand&quot; set.
</I>&gt;<i> 61f1666d
</I>
How did you configure the rand seed sources when building OpenSSL? I
think rather than trying to make the rdrand engine default it would
make more sense to try to resolve the problem with the rand provider
and its seeding. What is the exit code of the first execution of the
rand command? Could you try to run it under strace and/or gdb to
investigate?
-- 
Tom&#225;&#353; Mr&#225;z
No matter how far down the wrong road you've gone, turn back.
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Turkish proverb
[You'll know whether the road is wrong if you carefully listen to your
conscience.]


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014580.html">OpenSSL-3.+ how to configure [random]?
</A></li>
	<LI>Next message: <A HREF="014584.html">OpenSSL-3.+ how to configure [random]?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14581">[ date ]</a>
              <a href="thread.html#14581">[ thread ]</a>
              <a href="subject.html#14581">[ subject ]</a>
              <a href="author.html#14581">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
