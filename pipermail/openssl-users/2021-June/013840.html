<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Re: Compile openssl&#223;1.1.1k on CentOS8
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%3D%3FUTF-8%3FQ%3FRe%3A_Compile_openssl%3Dc3%3D9f1.1.1k_on_CentOS8%3F%3D&In-Reply-To=%3Ce86b12ee-7b4f-911b-f6b2-661a6ad98015%40nikhef.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013835.html">
   <LINK REL="Next"  HREF="013841.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Re: Compile openssl&#223;1.1.1k on CentOS8</H1>
    <B>Jan Just Keijser</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%3D%3FUTF-8%3FQ%3FRe%3A_Compile_openssl%3Dc3%3D9f1.1.1k_on_CentOS8%3F%3D&In-Reply-To=%3Ce86b12ee-7b4f-911b-f6b2-661a6ad98015%40nikhef.nl%3E"
       TITLE="Re: Compile openssl&#223;1.1.1k on CentOS8">janjust at nikhef.nl
       </A><BR>
    <I>Tue Jun  8 07:35:58 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="013835.html">Compile openssl&#223;1.1.1k on CentOS8
</A></li>
        <LI>Next message: <A HREF="013841.html">Re: Compile openssl&#223;1.1.1k on CentOS8
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13840">[ date ]</a>
              <a href="thread.html#13840">[ thread ]</a>
              <a href="subject.html#13840">[ subject ]</a>
              <a href="author.html#13840">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On 07/06/21 20:26, Lothar Belle wrote:
&gt;<i> Hi,
</I>&gt;<i> recently I compiled openssl-1.1.1k on CentOS-8
</I>&gt;<i> but when I am using libcrypto.so.1.1 I get errors like:
</I>&gt;<i>
</I>&gt;<i> libk5crypto.so.3: undefined symbol: EVP_KDF_ctrl, version OPENSSL_1_1_1b
</I>&gt;<i>
</I>&gt;<i> Obviously RedHat added additional features into there own libraries,
</I>&gt;<i> but using the same version/naming.
</I>&gt;<i> See <A HREF="https://bugzilla.redhat.com/show_bug.cgi?id=1829790">https://bugzilla.redhat.com/show_bug.cgi?id=1829790</A>
</I>&gt;<i>
</I>&gt;<i> I tried also to apply the patches, but they don&#8216;t work with the latest
</I>&gt;<i> source code
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://git.centos.org/rpms/openssl/blob/c8/f/SOURCES/openssl-1.1.1-evp-kdf.patch">https://git.centos.org/rpms/openssl/blob/c8/f/SOURCES/openssl-1.1.1-evp-kdf.patch</A>
</I>&gt;<i>
</I>&gt;<i> The suggested solution renaming the libraries didn&#8216;t work neither for me.
</I>&gt;<i>
</I>&gt;<i> But we want to use the latest version, including all security fixes,
</I>&gt;<i> therefore I can&#8216;t use the build-in version.
</I>&gt;<i>
</I>&gt;<i> Has anybody a solution for this?
</I>&gt;<i> Is it planned to implement such features in official OpenSSL in the near future?
</I>&gt;<i>
</I>CentOS 8(.3) uses openssl 1.1.1g *with security backports*&#160; . The whole 
idea of an enterprise OS like RHEL 8 is that you fix packages at certain 
version (e.g. kernel 4.18.0, gcc 8.3.1, openssl 1.1.1g) and that those 
versions will remain (mostly) constant throughout the life cycle of the OS.
Redhat backports security fixes from newer releases into this 1.1.1g 
release, thus one can claim that &quot;rhel8 openssl 1.1.1g&quot; is as safe (or 
unsafe) as the stock version of openssl 1.1.1k.

If you don't like this, then switch to a distro that does not use this 
&quot;version pinning&quot; - the downside of that will that you will be doing 
upgrades very frequently.

As you found out, it is nearly impossible to swap out the existing 
openssl 1.1.1g with a &quot;stock&quot; openssl version, as RedHat/CentOS have 
applied patches to it. My advice would be: don't even try. If you *have 
to* use openssl 1.1.1k, then switch to Fedora or to Ubuntu (not the LTS 
releases). But keep in mind:
- debian 10 uses openssl 1.1.1d
- ubuntu seems to be at openssl 1.1.1j
etc.

HTH,

JJK


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013835.html">Compile openssl&#223;1.1.1k on CentOS8
</A></li>
	<LI>Next message: <A HREF="013841.html">Re: Compile openssl&#223;1.1.1k on CentOS8
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13840">[ date ]</a>
              <a href="thread.html#13840">[ thread ]</a>
              <a href="subject.html#13840">[ subject ]</a>
              <a href="author.html#13840">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
