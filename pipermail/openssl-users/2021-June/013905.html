<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [EXTERNAL] RE: Can OpenSSL handle multiple authentication mechanisms on the same SSL context?
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5BEXTERNAL%5D%20RE%3A%20Can%20OpenSSL%20handle%20multiple%20authentication%0A%20mechanisms%20on%20the%20same%20SSL%20context%3F&In-Reply-To=%3CPH0PR10MB44536C6D6186BA4F6437B3ADE7049%40PH0PR10MB4453.namprd10.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013904.html">
   <LINK REL="Next"  HREF="013888.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[EXTERNAL] RE: Can OpenSSL handle multiple authentication mechanisms on the same SSL context?</H1>
    <B>Revestual, Raffy [AUTOSOL/PSS/MNL]</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5BEXTERNAL%5D%20RE%3A%20Can%20OpenSSL%20handle%20multiple%20authentication%0A%20mechanisms%20on%20the%20same%20SSL%20context%3F&In-Reply-To=%3CPH0PR10MB44536C6D6186BA4F6437B3ADE7049%40PH0PR10MB4453.namprd10.prod.outlook.com%3E"
       TITLE="[EXTERNAL] RE: Can OpenSSL handle multiple authentication mechanisms on the same SSL context?">Raffy.Revestual at Emerson.com
       </A><BR>
    <I>Sun Jun 27 18:26:07 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="013904.html">Can OpenSSL handle multiple authentication mechanisms on the same SSL context?
</A></li>
        <LI>Next message: <A HREF="013888.html">How to query current settings/policies?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13905">[ date ]</a>
              <a href="thread.html#13905">[ thread ]</a>
              <a href="subject.html#13905">[ subject ]</a>
              <a href="author.html#13905">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the reply Michel! Looks like both SRP and PSK could co-exist on the same context.

I also just got this to work. The only quirk that made this work is that I had to set the maximum version of the TLS version to 1.2 from the client side via SSL_CTX_set_max_proto_version. This was a peculiar thing as if the binaries you're using has TLS 1.3 support( I'm on 1.1.1k and knowing SRP doesn't work anymore in 1.3) this might have messed something along the way.

Raffy

From: Michel &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">michel.sales at OnLine.fr</A>&gt;
Sent: Sunday, June 27, 2021 6:20 AM
To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
Cc: Revestual, Raffy [AUTOSOL/PSS/MNL] &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">Raffy.Revestual at Emerson.com</A>&gt;
Subject: [EXTERNAL] RE: Can OpenSSL handle multiple authentication mechanisms on the same SSL context?


&gt;<i> We are trying to support a server that would support PSK and SRP authentication mechanisms.
</I>[...]
&gt;<i> Would multiple callbacks for different mechanisms work simultaneously on the same SSL context?
</I>
My quick answer is Yes.
In a recent past I did some [multi-threaded] servers using both SRP and PSK on the same context and I don't recall having encountered any problem.
I believe it was OpenSSL  1.1.1f using TLS 1.2 under Windows 32bits.

Hope it helps,

Michel.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20210627/ac05983c/attachment.html">https://mta.openssl.org/pipermail/openssl-users/attachments/20210627/ac05983c/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013904.html">Can OpenSSL handle multiple authentication mechanisms on the same SSL context?
</A></li>
	<LI>Next message: <A HREF="013888.html">How to query current settings/policies?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13905">[ date ]</a>
              <a href="thread.html#13905">[ thread ]</a>
              <a href="subject.html#13905">[ subject ]</a>
              <a href="author.html#13905">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
