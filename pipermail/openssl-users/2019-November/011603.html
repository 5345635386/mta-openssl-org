<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Fingerprint mismatch only for 32-bit FIPS binary
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Fingerprint%20mismatch%20only%20for%2032-bit%20FIPS%20binary&In-Reply-To=%3CCAMd_dYWECH64yEaREtf7k5zK6wVeQG-4XtnF882G5Fd1o2HiGw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011599.html">
   <LINK REL="Next"  HREF="011604.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Fingerprint mismatch only for 32-bit FIPS binary</H1>
    <B>Dipak B</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Fingerprint%20mismatch%20only%20for%2032-bit%20FIPS%20binary&In-Reply-To=%3CCAMd_dYWECH64yEaREtf7k5zK6wVeQG-4XtnF882G5Fd1o2HiGw%40mail.gmail.com%3E"
       TITLE="Fingerprint mismatch only for 32-bit FIPS binary">deepak.redmi2 at gmail.com
       </A><BR>
    <I>Mon Nov 25 18:10:18 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="011599.html">Clutter in log files, bogus connections
</A></li>
        <LI>Next message: <A HREF="011604.html">SSL_CTX_set1_curves to specify curves in Client Hello Supported Group Extension, not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11603">[ date ]</a>
              <a href="thread.html#11603">[ thread ]</a>
              <a href="subject.html#11603">[ subject ]</a>
              <a href="author.html#11603">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Appreciate any help on the following.

1) Built static binaries of FIPS capable OSSL which statically link to the
windows runtime.

2) Consumed these binaries (libeaycompat32.lib, libeayfips32.lib and
ssleay32.lib) into myapp.dll using msincore.pl.


Result

1) FIPS mode gets set and working with 64-bit myapp.dll

2) But for 32-bit myapp.dll with same configuration, FIPS_mode_set() fails
with reason 111 (Fingerprint mismatch)


Tried following

Since above 32-bit myapp.dll did not work, some additional configuration
changes were made.

1) ReBuilt FIPS capable OSSL with additional LFLAGS of &quot;/DynamicBase:No
/Fixed&quot;.

2) ReBuilt 32-bit myapp.dll with above additional LFLAGS

But 32-bit myapp DLL does fail with fingerprint mismatch.

Questions

1) How do I get 32-bit myapp.dll working in FIPS mode?
FIPS_mode_set() returns
(100:error:2D06B06F:lib(45):func(107): reason (111):/FIPS/FIPS.c:232)

2) Why does &quot;nmake -f nt.mak install&quot; not copy &quot;libeaycompat32.lib&quot;? Is
this simply dropped because of EOL of FOM?

3) Are additional LFLAGS required ?

Thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20191125/399a73f5/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20191125/399a73f5/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011599.html">Clutter in log files, bogus connections
</A></li>
	<LI>Next message: <A HREF="011604.html">SSL_CTX_set1_curves to specify curves in Client Hello Supported Group Extension, not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11603">[ date ]</a>
              <a href="thread.html#11603">[ thread ]</a>
              <a href="subject.html#11603">[ subject ]</a>
              <a href="author.html#11603">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
