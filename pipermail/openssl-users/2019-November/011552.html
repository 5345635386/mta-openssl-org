<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> sshd fails to start - undefined symbol: EVP_KDF_ctrl
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20sshd%20fails%20to%20start%20-%20undefined%20symbol%3A%20EVP_KDF_ctrl&In-Reply-To=%3C20191113190833.GD34850%40straasha.imrryr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011551.html">
   <LINK REL="Next"  HREF="011555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>sshd fails to start - undefined symbol: EVP_KDF_ctrl</H1>
    <B>Viktor Dukhovni</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20sshd%20fails%20to%20start%20-%20undefined%20symbol%3A%20EVP_KDF_ctrl&In-Reply-To=%3C20191113190833.GD34850%40straasha.imrryr.org%3E"
       TITLE="sshd fails to start - undefined symbol: EVP_KDF_ctrl">openssl-users at dukhovni.org
       </A><BR>
    <I>Wed Nov 13 19:08:33 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="011551.html">sshd fails to start - undefined symbol: EVP_KDF_ctrl
</A></li>
        <LI>Next message: <A HREF="011555.html">Crash in OpenSSL v1.0.1 from dtls1_do_write OPENSSL_assert(len == (unsigned int)ret);
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11552">[ date ]</a>
              <a href="thread.html#11552">[ thread ]</a>
              <a href="subject.html#11552">[ subject ]</a>
              <a href="author.html#11552">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Nov 13, 2019 at 01:47:31PM -0500, SP wrote:

&gt;<i> Following an OS upgrade of the server I have been unable to start sshd
</I>&gt;<i> service.  On this server some software is upgraded from the OS packages
</I>&gt;<i> whereas others are manually built.  Openssl is manually built from source.
</I>&gt;<i> After the upgrade of the OS the error message I get when starting sshd is
</I>&gt;<i> sshd: undefined symbol: EVP_KDF_ctrl, version OPENSSL_1_1_1b The version I
</I>&gt;<i> was running was openssl.1.1.1a I then replaced it with openssl.1.1.1d hoping
</I>&gt;<i> it would resolve the problem.  It did not.  I  would be grateful for any
</I>&gt;<i> pointers as to how I can resolve this.
</I>
OpenSSL from openssl.org (upstream) has never had EVP_KDF_ctrl in
the OpenSSL 1.1.1 release branch.  That function briefly appeared
in the 3.0.0 development (master) branch, but has since been replaced.

Whoever built your SSH packages used a custom verson of OpenSSL.
You really SHOULD NOT replace system packages (like OpenSSL) with
your own builds, unless you're willing and able to ensure ABI
compatibility with the vendor build.

It is safer to install any custom copy of OpenSSL in a non-default
location (I use /opt/openssl/1.1), and give the shared libraries
in such copies non-default SONAMEs so as to avoid conflict.

-- 
    Viktor.
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011551.html">sshd fails to start - undefined symbol: EVP_KDF_ctrl
</A></li>
	<LI>Next message: <A HREF="011555.html">Crash in OpenSSL v1.0.1 from dtls1_do_write OPENSSL_assert(len == (unsigned int)ret);
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11552">[ date ]</a>
              <a href="thread.html#11552">[ thread ]</a>
              <a href="subject.html#11552">[ subject ]</a>
              <a href="author.html#11552">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
