<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Can a linux service work as both TLS client and server?
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Can%20a%20linux%20service%20work%20as%20both%20TLS%20client%20and%20server%3F&In-Reply-To=%3C26f11347-95de-eaf6-b2bd-4fa0d4d75654%40denninger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011574.html">
   <LINK REL="Next"  HREF="011576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Can a linux service work as both TLS client and server?</H1>
    <B>Karl Denninger</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Can%20a%20linux%20service%20work%20as%20both%20TLS%20client%20and%20server%3F&In-Reply-To=%3C26f11347-95de-eaf6-b2bd-4fa0d4d75654%40denninger.net%3E"
       TITLE="Can a linux service work as both TLS client and server?">karl at denninger.net
       </A><BR>
    <I>Sat Nov 16 02:40:41 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="011574.html">Can a linux service work as both TLS client and server?
</A></li>
        <LI>Next message: <A HREF="011576.html">Can a linux service work as both TLS client and server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11575">[ date ]</a>
              <a href="thread.html#11575">[ thread ]</a>
              <a href="subject.html#11575">[ subject ]</a>
              <a href="author.html#11575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/15/2019 17:27, Kristen Webb wrote:
&gt;<i> In the future, I will not have an initial&#160;TCP 1/0 packet (clue) to
</I>&gt;<i> process.
</I>&gt;<i> So I have no way to decide if my forked/spawned process should SSL_connect
</I>&gt;<i> or SSL_accept.
</I>&gt;<i>
</I>&gt;<i> For example, I cannot see how this can be done with Apple's network
</I>&gt;<i> framework
</I>&gt;<i> (at least not yet).&#160; It appears to be so high level as to not allow me
</I>&gt;<i> to process a TCP packet within a TLS style connection.&#160; I realize that
</I>&gt;<i> this is not
</I>&gt;<i> an openssl issue.&#160; And I do have things working today with Apples security
</I>&gt;<i> framework and openssl (with that extra TCP packet clue in place).&#160; I
</I>&gt;<i> am more familiar
</I>&gt;<i> with openssl and I'm trying&#160;to code everything there first.&#160; Also my
</I>&gt;<i> entire application
</I>&gt;<i> runs on linux so I am able to test all the combinations easily from
</I>&gt;<i> there.&#160; And I'll
</I>&gt;<i> need it to work with Apple's networking in the future as their
</I>&gt;<i> security APIs go away.
</I>&gt;<i>
</I>&gt;<i> Thank you for bearing with me so far!
</I>&gt;<i>
</I>I don't quite understand what you're attempting to do, or why.

I assume (since you're sending the initial packet) that the &quot;thing&quot;
connecting to the OpenSSL end is under your control (it's your code.)&#160;
If so, why do you care which &quot;way&quot; the listening end comes up?

By convention if you are doing a listen() on an a socket then you're a
server.&#160; You don't have to be from an SSL perspective, but from a socket
perspective you absolutely are.

So why do you want to select &quot;which way&quot; you do this on the TLS/SSL
end?&#160; Is it a function of which end has a certificate (or whether both
do) and which one(s) you care to verify (or not)?&#160; If so that can be
dealt with through options and who checks what, rather than what you're
doing now.

I'm trying to understand the workflow you are attempting to implement,
and why, because I suspect you may be going about this the hard way.

-- 
Karl Denninger
<A HREF="../../../mailman/listinfo/openssl-users.html">karl at denninger.net</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">karl at denninger.net</A>&gt;
/The Market Ticker/
/[S/MIME encrypted email preferred]/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20191115/263c2dfc/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20191115/263c2dfc/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4897 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20191115/263c2dfc/attachment.bin">http://mta.openssl.org/pipermail/openssl-users/attachments/20191115/263c2dfc/attachment.bin</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011574.html">Can a linux service work as both TLS client and server?
</A></li>
	<LI>Next message: <A HREF="011576.html">Can a linux service work as both TLS client and server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11575">[ date ]</a>
              <a href="thread.html#11575">[ thread ]</a>
              <a href="subject.html#11575">[ subject ]</a>
              <a href="author.html#11575">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
