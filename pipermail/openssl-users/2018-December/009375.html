<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] OCSP response signed by self-signed trusted	responder validation
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2018-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20OCSP%20response%20signed%20by%20self-signed%20trusted%0A%09responder%20validation&In-Reply-To=%3C460801FD-7F2E-4D9A-A3A6-5373F0431D34%40cisco.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009374.html">
   <LINK REL="Next"  HREF="009376.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] OCSP response signed by self-signed trusted	responder validation</H1>
    <B>Animesh Patel (anipatel)</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20OCSP%20response%20signed%20by%20self-signed%20trusted%0A%09responder%20validation&In-Reply-To=%3C460801FD-7F2E-4D9A-A3A6-5373F0431D34%40cisco.com%3E"
       TITLE="[openssl-users] OCSP response signed by self-signed trusted	responder validation">anipatel at cisco.com
       </A><BR>
    <I>Tue Dec  4 17:21:59 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="009374.html">[openssl-users] what is the relationship between (Client)SignatureAlgorithms and cipher_list()?
</A></li>
        <LI>Next message: <A HREF="009376.html">[openssl-users] OCSP response signed by self-signed trusted responder validation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9375">[ date ]</a>
              <a href="thread.html#9375">[ thread ]</a>
              <a href="subject.html#9375">[ subject ]</a>
              <a href="author.html#9375">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Have a question with implementing an OCSP requestor that can handle validating an OCSP response that is not signed by the CA who issued the certificate that we are requesting the OCSP status for but rather, the OCSP response is signed by a self-signed trusted responder that includes the OCSP Signing EKU and the self-signed certificate is configured as trusted on the requesting system.

Question is how to get past the check in OCSP_basic_verify() that calls ocsp_check_issuer() with the responder chain and fails in ocsp_match_issuerid() since the issuer ID doesn&#8217;t match the self-signed responder certificate ID causing the verify to fail with &#8216;OCSP routines:OCSP_basic_verify:root ca not trusted in ocsp_vfy.c line 176.&#8217;

Could someone please shed light on how this is expected to work for this scenario?  Is it expected that the self-signed certificate needs to be added to have explicit trust so that it is allowed via the call to X509_check_trust() or is there something else I&#8217;m missing here?

Thanks,
Animesh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20181204/3d894c87/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20181204/3d894c87/attachment-0001.html</A>&gt;
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009374.html">[openssl-users] what is the relationship between (Client)SignatureAlgorithms and cipher_list()?
</A></li>
	<LI>Next message: <A HREF="009376.html">[openssl-users] OCSP response signed by self-signed trusted responder validation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9375">[ date ]</a>
              <a href="thread.html#9375">[ thread ]</a>
              <a href="subject.html#9375">[ subject ]</a>
              <a href="author.html#9375">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
