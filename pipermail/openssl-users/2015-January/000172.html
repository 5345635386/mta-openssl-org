<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] OpenSSL source reformat
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20OpenSSL%20source%20reformat&In-Reply-To=%3C54AA7F36.5080105%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000171.html">
   <LINK REL="Next"  HREF="000194.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] OpenSSL source reformat</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20OpenSSL%20source%20reformat&In-Reply-To=%3C54AA7F36.5080105%40openssl.org%3E"
       TITLE="[openssl-users] OpenSSL source reformat">matt at openssl.org
       </A><BR>
    <I>Mon Jan  5 12:10:30 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000171.html">[openssl-users] X509_CINF_dup fails with &quot;invalid object encoding&quot;	error
</A></li>
        <LI>Next message: <A HREF="000194.html">[openssl-users] OpenSSL source reformat
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#172">[ date ]</a>
              <a href="thread.html#172">[ thread ]</a>
              <a href="subject.html#172">[ subject ]</a>
              <a href="author.html#172">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

We have previously announced our intention to reformat the entire
codebase into a more consistent style (see our roadmap document here:
<A HREF="https://www.openssl.org/about/roadmap.html">https://www.openssl.org/about/roadmap.html</A>)

Since then we have been busy working towards doing that. I'd like to
make available for comment a sample reformat. So far I've run it for
master and 1.0.2, but the current thinking is that this will also be
applied to 1.0.1, 1.0.0 and 0.9.8 (this is necessary to significantly
ease the maintenance overhead)

I've put the results of the reformat up on my github account here:
<A HREF="https://github.com/mattcaswell/openssl">https://github.com/mattcaswell/openssl</A>

The reformat of master is on the &quot;sample-master-reformat&quot; branch, and
the 1.0.2 reformat is on &quot;sample-1.0.2-reformat&quot;.

The style itself is heavily influenced by the Linux Kernel Coding style:
<A HREF="https://www.kernel.org/doc/Documentation/CodingStyle">https://www.kernel.org/doc/Documentation/CodingStyle</A>

Although there are some significant differences - most notably that we
are using spaces not tabs for indents, and the indent depth is 4
characters not 8. We will be publishing our own style guide in due course.

I'm not looking to open any religious wars here - so I'm not looking
for comments on the style itself (e.g. debates about whether 2, 4 or 8
character indents are better (we've already had those!)) - but I'm
mainly seeking feedback on anywhere where the reformatting has failed.
We've already looked of course...but sometimes many sets of eyes are
better!

I've also made available the script that was used to do the
reformatting. The script is called openssl-format-source and is in the
util directory of the branches mentioned above. This script depends on
GNU indent being available. It should be executed from the root of the
source tree as follows:

util/openssl-format-source -v -c .

There are also some one-off manual tweaks (both before and after
running the script) that need to be done which are present in the
sample reformat branches. These are related to multi-line comments
which have their own internal formatting - these aren't handled too
well. The manual steps should be a one-off exercise though. The hope
is that we will be able to re-run the script at regular intervals.

Thanks

Matt
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAEBAgAGBQJUqn82AAoJENnE0m0OYESR/r0IALuQC+UQKEr6mSTHu3aex+TQ
OSirP2FzQAwxLwRujnLSC9xVsRiDEg8CjGDJFpMBWUz3+tL1+9A5tUzt9gb6rqE3
sVVZCYuB81Q0Ge5bA9pTluOg+BX6E7UfcEmoeJMol0GPYjXeAWqmp67XrpSj5ZA7
iH0JUURP5/aj3NWXZpUZG/KVVsGAJl8UQtCF2xycYVE/1A7rb+C7voedXA7QvAnZ
rIn9h4B8wzU9dfHOdZj9PjPfXTn+XEUI+9aY4kDsnuuH3yw0Jb0hGb2fF1bOIb/M
RtS658hNCCr8wWdgiGoUNkbv8s21hrWBQ8oobM4izbn8+wr6OYBFKfoYCfBP9IY=
=O1i4
-----END PGP SIGNATURE-----
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000171.html">[openssl-users] X509_CINF_dup fails with &quot;invalid object encoding&quot;	error
</A></li>
	<LI>Next message: <A HREF="000194.html">[openssl-users] OpenSSL source reformat
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#172">[ date ]</a>
              <a href="thread.html#172">[ thread ]</a>
              <a href="subject.html#172">[ subject ]</a>
              <a href="author.html#172">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://mta.opensslfoundation.net/mailman/listinfo/openssl-users">More information about the openssl-users
mailing list</a><br>
</body></html>
