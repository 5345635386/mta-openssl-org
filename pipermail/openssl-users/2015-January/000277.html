<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Possible bug in DSA_verify() since CVE-2014-8275 patch (present in 1.0.1k and 1.0.1l)
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Possible%20bug%20in%20DSA_verify%28%29%20since%0A%20CVE-2014-8275%20patch%20%28present%20in%201.0.1k%20and%201.0.1l%29&In-Reply-To=%3C20150116185708.GA27053%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000275.html">
   <LINK REL="Next"  HREF="000278.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Possible bug in DSA_verify() since CVE-2014-8275 patch (present in 1.0.1k and 1.0.1l)</H1>
    <B>Dr. Stephen Henson</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Possible%20bug%20in%20DSA_verify%28%29%20since%0A%20CVE-2014-8275%20patch%20%28present%20in%201.0.1k%20and%201.0.1l%29&In-Reply-To=%3C20150116185708.GA27053%40openssl.org%3E"
       TITLE="[openssl-users] Possible bug in DSA_verify() since CVE-2014-8275 patch (present in 1.0.1k and 1.0.1l)">steve at openssl.org
       </A><BR>
    <I>Fri Jan 16 18:57:08 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000275.html">[openssl-users] Possible bug in DSA_verify() since CVE-2014-8275 patch (present in 1.0.1k and 1.0.1l)
</A></li>
        <LI>Next message: <A HREF="000278.html">[openssl-users] Possible bug in DSA_verify() since CVE-2014-8275 patch (present in 1.0.1k and 1.0.1l)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#277">[ date ]</a>
              <a href="thread.html#277">[ thread ]</a>
              <a href="subject.html#277">[ subject ]</a>
              <a href="author.html#277">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jan 16, 2015, <A HREF="../../../mailman/listinfo/openssl-users.html">arnaud.mouiche at invoxia.com</A> wrote:

&gt;<i> Hi all.
</I>&gt;<i> 
</I>&gt;<i> I was just checking the latest 1.0.1l version (running previously
</I>&gt;<i> the 1.0.1i).
</I>&gt;<i> some DSA signature check done with DSA_verify() are not working any
</I>&gt;<i> more, for at least one private/public key I'm using.
</I>&gt;<i> 
</I>&gt;<i> The public key was generated from the private key, long time ago, as
</I>&gt;<i> usual with command &quot;openssl dsa -in key.priv -out key.pub -pubout&quot;
</I>&gt;<i> So, it is not a forged key.
</I>&gt;<i> 
</I>&gt;<i> Here is the various things I tried / see.
</I>&gt;<i> I someone can tell me if this is an openssl issue, or simply the way
</I>&gt;<i> I'm using openssl lib, I will appreciate.
</I>&gt;<i> 
</I>&gt;<i> 1) I imagine first that old generated keys are no more valid one to
</I>&gt;<i> enforce the CVE-2014-8275 warning, yet,
</I>&gt;<i> generating a new public key with the new openssl version lead to the
</I>&gt;<i> same issue.
</I>&gt;<i> 
</I>
No this should have no effect on previous keys.

CVE-2014-8275 makes signature checking for DSA/ECDSA more strict and some 
invalid encodings are no longer tolerated.

What produced the signature that is now being rejected? Is it OpenSSL or some
other library? How are you obtaining the length of the signature?

There are ways to workaround the stricter checks by reencoding the signature 
yourself or calling DSA_do_verify after decoding the signature yourself.

Steve.
--
Dr Stephen N. Henson. OpenSSL project core developer.
Commercial tech support now available see: <A HREF="http://www.openssl.org">http://www.openssl.org</A>
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000275.html">[openssl-users] Possible bug in DSA_verify() since CVE-2014-8275 patch (present in 1.0.1k and 1.0.1l)
</A></li>
	<LI>Next message: <A HREF="000278.html">[openssl-users] Possible bug in DSA_verify() since CVE-2014-8275 patch (present in 1.0.1k and 1.0.1l)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#277">[ date ]</a>
              <a href="thread.html#277">[ thread ]</a>
              <a href="subject.html#277">[ subject ]</a>
              <a href="author.html#277">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
