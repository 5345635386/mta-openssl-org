<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] [openssl-dev] OpenSSL source reformat
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20%5Bopenssl-dev%5D%20OpenSSL%20source%20reformat&In-Reply-To=%3C54AC1EBC.3050905%40geshi.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000189.html">
   <LINK REL="Next"  HREF="000196.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] [openssl-dev] OpenSSL source reformat</H1>
    <B>Benny Baumann</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20%5Bopenssl-dev%5D%20OpenSSL%20source%20reformat&In-Reply-To=%3C54AC1EBC.3050905%40geshi.org%3E"
       TITLE="[openssl-users] [openssl-dev] OpenSSL source reformat">BenBE at geshi.org
       </A><BR>
    <I>Tue Jan  6 17:43:24 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000189.html">[openssl-users] A quick note about recent development builds of Node.js that others might find useful
</A></li>
        <LI>Next message: <A HREF="000196.html">[openssl-users] openssl, opencrypto integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#193">[ date ]</a>
              <a href="thread.html#193">[ thread ]</a>
              <a href="subject.html#193">[ subject ]</a>
              <a href="author.html#193">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Hi Matt,

first of all:
THANK YOU!

This has been overdue for ages!

Just a small tweak that would be nice I'd like to see would be to
always have block markers for loops and conditions. The lack of those
was one of the many pitfalls with the old source especially as the
indentation had been off by one level in contrast to common rules.

Including the the block markers (AKA curly brackets) at all times even
for single statements has two advantages:
- - You always have a block grouping statements to the proper statement
- - You won't create a Apple-Style Goto Fail that easily

AFAIK indent should support adding all of them automagically;
otherwise astyle is another powerful solution.

Anyway:
BIG THANKS for finally making the code readable*.

Kind regards,
BenBE.

*Comprehensible is a different kettle of fish ;-)

Am 05.01.2015 um 13:09 schrieb Matt Caswell:
&gt;<i> We have previously announced our intention to reformat the entire 
</I>&gt;<i> codebase into a more consistent style (see our roadmap document
</I>&gt;<i> here: <A HREF="https://www.openssl.org/about/roadmap.html">https://www.openssl.org/about/roadmap.html</A>)
</I>&gt;<i> 
</I>&gt;<i> Since then we have been busy working towards doing that. I'd like
</I>&gt;<i> to make available for comment a sample reformat. So far I've run it
</I>&gt;<i> for master and 1.0.2, but the current thinking is that this will
</I>&gt;<i> also be applied to 1.0.1, 1.0.0 and 0.9.8 (this is necessary to
</I>&gt;<i> significantly ease the maintenance overhead)
</I>&gt;<i> 
</I>&gt;<i> I've put the results of the reformat up on my github account here: 
</I>&gt;<i> <A HREF="https://github.com/mattcaswell/openssl">https://github.com/mattcaswell/openssl</A>
</I>&gt;<i> 
</I>&gt;<i> The reformat of master is on the &quot;sample-master-reformat&quot; branch,
</I>&gt;<i> and the 1.0.2 reformat is on &quot;sample-1.0.2-reformat&quot;.
</I>&gt;<i> 
</I>&gt;<i> The style itself is heavily influenced by the Linux Kernel Coding
</I>&gt;<i> style: <A HREF="https://www.kernel.org/doc/Documentation/CodingStyle">https://www.kernel.org/doc/Documentation/CodingStyle</A>
</I>&gt;<i> 
</I>&gt;<i> Although there are some significant differences - most notably that
</I>&gt;<i> we are using spaces not tabs for indents, and the indent depth is
</I>&gt;<i> 4 characters not 8. We will be publishing our own style guide in
</I>&gt;<i> due course.
</I>&gt;<i> 
</I>&gt;<i> I'm not looking to open any religious wars here - so I'm not
</I>&gt;<i> looking for comments on the style itself (e.g. debates about
</I>&gt;<i> whether 2, 4 or 8 character indents are better (we've already had
</I>&gt;<i> those!)) - but I'm mainly seeking feedback on anywhere where the
</I>&gt;<i> reformatting has failed. We've already looked of course...but
</I>&gt;<i> sometimes many sets of eyes are better!
</I>&gt;<i> 
</I>&gt;<i> I've also made available the script that was used to do the 
</I>&gt;<i> reformatting. The script is called openssl-format-source and is in
</I>&gt;<i> the util directory of the branches mentioned above. This script
</I>&gt;<i> depends on GNU indent being available. It should be executed from
</I>&gt;<i> the root of the source tree as follows:
</I>&gt;<i> 
</I>&gt;<i> util/openssl-format-source -v -c .
</I>&gt;<i> 
</I>&gt;<i> There are also some one-off manual tweaks (both before and after 
</I>&gt;<i> running the script) that need to be done which are present in the 
</I>&gt;<i> sample reformat branches. These are related to multi-line comments 
</I>&gt;<i> which have their own internal formatting - these aren't handled
</I>&gt;<i> too well. The manual steps should be a one-off exercise though. The
</I>&gt;<i> hope is that we will be able to re-run the script at regular
</I>&gt;<i> intervals.
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I>&gt;<i> 
</I>&gt;<i> Matt
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________ openssl-dev mailing
</I>&gt;<i> list <A HREF="https://mta.opensslfoundation.net/mailman/listinfo/openssl-users">openssl-dev at openssl.org</A> 
</I>&gt;<i> <A HREF="https://mta.opensslfoundation.net/mailman/listinfo/openssl-dev">https://mta.opensslfoundation.net/mailman/listinfo/openssl-dev</A>
</I>&gt;<i> 
</I>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCgAGBQJUrB67AAoJEPHTXLno4S6tdR0P/R7MQGYZ5cRErk/55luMZLgi
Om9JmXBa4NCKedVVUXLQOlkiWu4Oa3s/J0xezTwzCR5P+B9x0miDUMjm9yKy6g4q
t3mhAAiGOKfofLVq7M6iOE72SO2Pd4FTCywVMPuE6p9vAK7o/Gufn/8W52ud8oBb
l7O5l2o6B0191q+6v3oLb8zY028FESrJgTDfq4htzvVlOkl3mnzvXP87juyrEzIb
Y4FY7DzGi146mkRro3Q3Yb0fQcNTvVajQyAMLsLTRWDSXFs998BFxMih3hlJa+gc
SvPi/rjE/gNaRxB3obc0o48hdy3Q7Q6DvpxVqwxb7Y2i3kWwJaCRCcOsEvYhfqkt
5kevKe/exKEyDWtjokWat9alB/Qla6Yb725OjOo4UQvmjT2OwULB9uFoXxig3/H/
oBES33FAAU0Kul4YwmfWb17m2QWeXHcqTITXUuS2zasMxF+2wbgb5o3bcQx7QUnd
Fxf4emHb9OVqLdiN7WyNkUBceot2IBB73hud2myfKZS9g71F5hhsdsXvoWp5e3/I
Cp1hnD2ViE5hWF4bGbKM7Eom9IeEho1idKCGGhfgRJ2tjweP66ORZnUK+Dz84N7a
Je1peZ95uAUCy2F/PI2QFpxgvSU9lHiHGpRoEQRGbCn0N24La6mi0B7APjhWgHXk
tiPO8GEKG7W5TGq0thzL
=iwE9
-----END PGP SIGNATURE-----
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000189.html">[openssl-users] A quick note about recent development builds of Node.js that others might find useful
</A></li>
	<LI>Next message: <A HREF="000196.html">[openssl-users] openssl, opencrypto integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#193">[ date ]</a>
              <a href="thread.html#193">[ thread ]</a>
              <a href="subject.html#193">[ subject ]</a>
              <a href="author.html#193">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://mta.opensslfoundation.net/mailman/listinfo/openssl-users">More information about the openssl-users
mailing list</a><br>
</body></html>
