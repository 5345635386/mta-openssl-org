<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Can create a cert with no serial number?
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2023-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Can%20create%20a%20cert%20with%20no%20serial%20%3D%3Fiso-8859-1%3FQ%3Fnumber%3D3F%3F%3D&In-Reply-To=%3C3ea810f4-b972-4557-ac70-b85d53bb0c58%40redhat.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016396.html">
   <LINK REL="Next"  HREF="016393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Can create a cert with no serial number?</H1>
    <B>Hubert Kario</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Can%20create%20a%20cert%20with%20no%20serial%20%3D%3Fiso-8859-1%3FQ%3Fnumber%3D3F%3F%3D&In-Reply-To=%3C3ea810f4-b972-4557-ac70-b85d53bb0c58%40redhat.com%3E"
       TITLE="Can create a cert with no serial number?">hkario at redhat.com
       </A><BR>
    <I>Thu Jun  1 12:17:45 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016396.html">Can create a cert with no serial number?
</A></li>
        <LI>Next message (by thread): <A HREF="016393.html">Can create a cert with no serial number?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16398">[ date ]</a>
              <a href="thread.html#16398">[ thread ]</a>
              <a href="subject.html#16398">[ subject ]</a>
              <a href="author.html#16398">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday, 1 June 2023 03:55:48 CEST, Viktor Dukhovni wrote:
&gt;<i> On Wed, May 31, 2023 at 09:21:07PM -0400, Robert Moskowitz wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> openssl rand -hex 1 &gt; $dir/serial
</I>&gt;<i>
</I>&gt;<i> Don't do that.  You'll quickly create collisions.
</I>&gt;<i> Initialise the serial number to 1 more than the
</I>&gt;<i> serial number of the issuing CA, and let it be
</I>&gt;<i> auto-maintained thereafter.
</I>&gt;<i>
</I>&gt;<i> This assumes a sound digest algorithm is used, otherwise predictable
</I>&gt;<i> serial numbers make it easier to mount collision attacks on the CA.
</I>&gt;<i> Are you sure you actually need to squeeze out every last byte?
</I>&gt;<i>
</I>&gt;<i> Premature optimisation ...
</I>&gt;<i>
</I>
Also, some implementations, like NSS, do assume uniqueness of the serial
number of a given CA (just like the RFC prescribes), and will break in
subtle ways if that is not maintained

So, if you use secure hash, predictable serial numbers are fine, but don't
require them to be 1 byte only, do allow for longer lengths.
-- 
Regards,
Hubert Kario
Principal Quality Engineer, RHEL Crypto team
Web: www.cz.redhat.com
Red Hat Czech s.r.o., Purky&#328;ova 99/71, 612 45, Brno, Czech Republic

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016396.html">Can create a cert with no serial number?
</A></li>
	<LI>Next message (by thread): <A HREF="016393.html">Can create a cert with no serial number?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16398">[ date ]</a>
              <a href="thread.html#16398">[ thread ]</a>
              <a href="subject.html#16398">[ subject ]</a>
              <a href="author.html#16398">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
