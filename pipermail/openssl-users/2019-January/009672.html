<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] SSL_CTX_set_cert_verify_callback and certificate access
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20SSL_CTX_set_cert_verify_callback%20and%0A%20certificate%20access&In-Reply-To=%3C01010168388bad87-3eafc8ba-4928-4953-9f55-742ba5d6ef23-000000%40us-west-2.amazonses.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009668.html">
   <LINK REL="Next"  HREF="009675.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] SSL_CTX_set_cert_verify_callback and certificate access</H1>
    <B>Jordan Brown</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20SSL_CTX_set_cert_verify_callback%20and%0A%20certificate%20access&In-Reply-To=%3C01010168388bad87-3eafc8ba-4928-4953-9f55-742ba5d6ef23-000000%40us-west-2.amazonses.com%3E"
       TITLE="[openssl-users] SSL_CTX_set_cert_verify_callback and certificate access">openssl at jordan.maileater.net
       </A><BR>
    <I>Thu Jan 10 16:15:04 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="009668.html">[openssl-users] SSL_CTX_set_cert_verify_callback and certificate	access
</A></li>
        <LI>Next message: <A HREF="009675.html">[openssl-users] SSL_CTX_set_cert_verify_callback and certificate access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9672">[ date ]</a>
              <a href="thread.html#9672">[ thread ]</a>
              <a href="subject.html#9672">[ subject ]</a>
              <a href="author.html#9672">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/9/2019 6:54 PM, Corey Minyard wrote:
&gt;<i> 2. Set the userid in the certificate and use client authentication to
</I>&gt;<i> &#160;&#160; authenticate the user logging in.&#160; Set the username in the CN field
</I>&gt;<i> &#160;&#160; of the certificate so it can't be changed, extract that and set the
</I>&gt;<i> &#160;&#160; CA before verification.&#160; This is what I'm currently trying to do,
</I>&gt;<i> &#160;&#160; and I keep running into roadblocks.
</I>
Why do you think you need to set the CA?

It seems like you should let OpenSSL verify the certificate against your
list of trusted CAs, and if it succeeds then you know that one of those
CAs vouches for this user's identity.&#160; Then you look at their subject
name to derive the user ID (probably from its CN).&#160; If you want to be
really paranoid - if you believe that Verisign can vouch for John and
Comodo can vouch for Sam, but not vice versa, factor the issuer name
into the process.

-- 
Jordan Brown, Oracle ZFS Storage Appliance, Oracle Solaris

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20190110/eed329c9/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20190110/eed329c9/attachment.html</A>&gt;
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009668.html">[openssl-users] SSL_CTX_set_cert_verify_callback and certificate	access
</A></li>
	<LI>Next message: <A HREF="009675.html">[openssl-users] SSL_CTX_set_cert_verify_callback and certificate access
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9672">[ date ]</a>
              <a href="thread.html#9672">[ thread ]</a>
              <a href="subject.html#9672">[ subject ]</a>
              <a href="author.html#9672">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
