<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] encrypt a file using openSSL in C
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20encrypt%20a%20file%20using%20openSSL%20in%20C&In-Reply-To=%3Cea6b00b5-bcb7-e157-7938-d4b61b928c5f%40wisemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003849.html">
   <LINK REL="Next"  HREF="003851.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] encrypt a file using openSSL in C</H1>
    <B>Jakob Bohm</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20encrypt%20a%20file%20using%20openSSL%20in%20C&In-Reply-To=%3Cea6b00b5-bcb7-e157-7938-d4b61b928c5f%40wisemo.com%3E"
       TITLE="[openssl-users] encrypt a file using openSSL in C">jb-openssl at wisemo.com
       </A><BR>
    <I>Mon Jun 20 14:07:46 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003849.html">[openssl-users] encrypt a file using openSSL in C
</A></li>
        <LI>Next message: <A HREF="003851.html">[openssl-users] What is the minimum and default curve size for ECDH	implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3861">[ date ]</a>
              <a href="thread.html#3861">[ thread ]</a>
              <a href="subject.html#3861">[ subject ]</a>
              <a href="author.html#3861">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 17/06/2016 17:54, fterm wrote:
&gt;<i> Hi,
</I>&gt;<i> i've got a question for my study stuff: I have to decrypt a file using C. I
</I>&gt;<i> have a corrupt key corrupt-src-key.bin (an initial vector is at the end of
</I>&gt;<i> the file - dont know if i should usw them - maybe dont have to). decrypted
</I>&gt;<i> file is *.pdf and it was encrypted with Camellia-192-OFB (openssl
</I>&gt;<i> EVP_camellia_192_ofb() ). Byte number 23(start counting from 0) was set to
</I>&gt;<i> 0. Now i have to write a small C app which decrypts this file. At least ive
</I>&gt;<i> got 2 more files(src-cipher.bin and dest-key.bin)). Thanks very much for
</I>&gt;<i> help. If someone is interested, i can send the files. Thx
</I>OFB modes use the key and IV to generate a data independent key stream 
which
is then xored with the raw data to encrypt or decrypt.

Thus you definitely need the IV value to do the decryption, and 
corrupting a
byte in the encrypted file (other than the IV) will simply corrupt the same
byte in the decrypted file with no other side effect (that is why real
crypto designs also incorporate a MAC or signature of the data, because
decryption itself would not detect deliberate tampering).

Enjoy

Jakob
-- 
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003849.html">[openssl-users] encrypt a file using openSSL in C
</A></li>
	<LI>Next message: <A HREF="003851.html">[openssl-users] What is the minimum and default curve size for ECDH	implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3861">[ date ]</a>
              <a href="thread.html#3861">[ thread ]</a>
              <a href="subject.html#3861">[ subject ]</a>
              <a href="author.html#3861">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
