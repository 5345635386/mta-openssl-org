<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20%5Bopenssl-dev%5D%20Failed%20TLSv1.2%20handshake%20with%0A%20error%2067702888--bad%20signature&In-Reply-To=%3C8149AB08BCB1F54F92680ED6104891A0E18EB2%40mbx027-w1-ca-4.exch027.domain.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003178.html">
   <LINK REL="Next"  HREF="003181.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature</H1>
    <B>Nounou Dadoun</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20%5Bopenssl-dev%5D%20Failed%20TLSv1.2%20handshake%20with%0A%20error%2067702888--bad%20signature&In-Reply-To=%3C8149AB08BCB1F54F92680ED6104891A0E18EB2%40mbx027-w1-ca-4.exch027.domain.local%3E"
       TITLE="[openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature">nounou.dadoun at avigilon.com
       </A><BR>
    <I>Mon Feb 29 22:48:22 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003178.html">[openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature
</A></li>
        <LI>Next message: <A HREF="003181.html">[openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3179">[ date ]</a>
              <a href="thread.html#3179">[ thread ]</a>
              <a href="subject.html#3179">[ subject ]</a>
              <a href="author.html#3179">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That worked!  The addition of (boost-speak)

		SSL_CTX_set1_client_sigalgs_list(
			GetNativeRef().impl(),
			&quot;RSA+SHA256&quot;);

completed the handshake and got everything going again.  Thanks for all your assistance.

But this demonstrates that my headaches have been coming from the fact that sha384 and sha512 are broken in our build somehow.  The no-asm configure directive didn't make a difference so maybe a compiler bug or something?

Still happy to provide traces or diagnostics if anyone there wants to try to track down the issue, just let me know, thanks again ... N

Nou Dadoun
Senior Firmware Developer, Security Specialist


Office: 604.629.5182 ext 2632 

-----Original Message-----
From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On Behalf Of Nounou Dadoun
Sent: Monday, February 29, 2016 1:41 PM
To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
Subject: Re: [openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature

Ah, thanks Viktor and Kurt for the clarification, I didn't get that distinction/connection - I'll try that next ... N

Nou Dadoun
Senior Firmware Developer, Security Specialist


Office: 604.629.5182 ext 2632 

-----Original Message-----
From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On Behalf Of Kurt Roeckx
Sent: Monday, February 29, 2016 1:35 PM
To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
Subject: Re: [openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature

The cipher is using SHA256, there is also a signature using SHA512 for the verification of the client certificate.  I think we've already pointed out how to disable that.


Kurt

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003178.html">[openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature
</A></li>
	<LI>Next message: <A HREF="003181.html">[openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3179">[ date ]</a>
              <a href="thread.html#3179">[ thread ]</a>
              <a href="subject.html#3179">[ subject ]</a>
              <a href="author.html#3179">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
