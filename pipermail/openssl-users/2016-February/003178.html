<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20%5Bopenssl-dev%5D%20Failed%20TLSv1.2%20handshake%20with%0A%20error%2067702888--bad%20signature&In-Reply-To=%3C8149AB08BCB1F54F92680ED6104891A0E18E6D%40mbx027-w1-ca-4.exch027.domain.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003177.html">
   <LINK REL="Next"  HREF="003179.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature</H1>
    <B>Nounou Dadoun</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20%5Bopenssl-dev%5D%20Failed%20TLSv1.2%20handshake%20with%0A%20error%2067702888--bad%20signature&In-Reply-To=%3C8149AB08BCB1F54F92680ED6104891A0E18E6D%40mbx027-w1-ca-4.exch027.domain.local%3E"
       TITLE="[openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature">nounou.dadoun at avigilon.com
       </A><BR>
    <I>Mon Feb 29 21:40:42 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003177.html">[openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature
</A></li>
        <LI>Next message: <A HREF="003179.html">[openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3178">[ date ]</a>
              <a href="thread.html#3178">[ thread ]</a>
              <a href="subject.html#3178">[ subject ]</a>
              <a href="author.html#3178">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ah, thanks Viktor and Kurt for the clarification, I didn't get that distinction/connection - I'll try that next ... N

Nou Dadoun
Senior Firmware Developer, Security Specialist


Office: 604.629.5182 ext 2632 

-----Original Message-----
From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On Behalf Of Kurt Roeckx
Sent: Monday, February 29, 2016 1:35 PM
To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
Subject: Re: [openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature

The cipher is using SHA256, there is also a signature using SHA512 for the verification of the client certificate.  I think we've already pointed out how to disable that.


Kurt

On Mon, Feb 29, 2016 at 08:55:34PM +0000, Nounou Dadoun wrote:
&gt;<i> And I should add a reminder that the negotiated cipher that's failing 
</I>&gt;<i> is actually TLS_RSA_WITH_AES_256_CBC_SHA256
</I>&gt;<i> 
</I>&gt;<i> Which does seem a little odd with sha256t passing and sha512t failing 
</I>&gt;<i> ... N
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Nou Dadoun
</I>&gt;<i> Senior Firmware Developer, Security Specialist
</I>&gt;<i> 
</I>&gt;<i> Office: 604.629.5182 ext 2632
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On 
</I>&gt;<i> Behalf Of Nounou Dadoun
</I>&gt;<i> Sent: Monday, February 29, 2016 12:41 PM
</I>&gt;<i> To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> Subject: Re: [openssl-users] [openssl-dev] Failed TLSv1.2 handshake 
</I>&gt;<i> with error 67702888--bad signature
</I>&gt;<i> 
</I>&gt;<i> Sorry, that may be the name of one of the associated libraries, in any 
</I>&gt;<i> event it's a Linaro arm toolchain version 4.9.1 running on a linux 
</I>&gt;<i> x-64 vm ... N
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On 
</I>&gt;<i> Behalf Of Nounou Dadoun
</I>&gt;<i> Sent: Monday, February 29, 2016 12:31 PM
</I>&gt;<i> To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> Subject: Re: [openssl-users] [openssl-dev] Failed TLSv1.2 handshake 
</I>&gt;<i> with error 67702888--bad signature
</I>&gt;<i> 
</I>&gt;<i> It's arm-linux-gnueabihf-4.9.1
</I>&gt;<i> 
</I>&gt;<i> ... N
</I>&gt;<i> 
</I>&gt;<i> Nou Dadoun
</I>&gt;<i> Senior Firmware Developer, Security Specialist
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Office: 604.629.5182 ext 2632
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On 
</I>&gt;<i> Behalf Of Kurt Roeckx
</I>&gt;<i> Sent: Monday, February 29, 2016 12:23 PM
</I>&gt;<i> To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> Subject: Re: [openssl-users] [openssl-dev] Failed TLSv1.2 handshake 
</I>&gt;<i> with error 67702888--bad signature
</I>&gt;<i> 
</I>&gt;<i> Which compiler and version are you using?
</I>&gt;<i> 
</I>&gt;<i> Kurt
</I>&gt;<i> 
</I>&gt;<i> On Mon, Feb 29, 2016 at 08:12:10PM +0000, Nounou Dadoun wrote:
</I>&gt;<i> &gt; For the record, I added no-asm to the config options and got exactly 
</I>&gt;<i> &gt; the same result on the sha512t test.  Open to other suggestions ... 
</I>&gt;<i> &gt; N
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Nou Dadoun
</I>&gt;<i> &gt; Senior Firmware Developer, Security Specialist
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Office: 604.629.5182 ext 2632
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On 
</I>&gt;<i> &gt; Behalf Of Nounou Dadoun
</I>&gt;<i> &gt; Sent: Monday, February 29, 2016 11:39 AM
</I>&gt;<i> &gt; To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> &gt; Subject: Re: [openssl-users] [openssl-dev] Failed TLSv1.2 handshake 
</I>&gt;<i> &gt; with error 67702888--bad signature
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Back in the office today - the sha1 and sha256 tests passed but the sha512 failed immediately as below.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; # ./sha1test
</I>&gt;<i> &gt; test 1 ok
</I>&gt;<i> &gt; test 2 ok
</I>&gt;<i> &gt; test 3 ok
</I>&gt;<i> &gt; # ./sha256t
</I>&gt;<i> &gt; Testing SHA-256 ... passed.
</I>&gt;<i> &gt; Testing SHA-224 ... passed.
</I>&gt;<i> &gt; # ./sha512t
</I>&gt;<i> &gt; Testing SHA-512
</I>&gt;<i> &gt; TEST 1 of 3 failed.
</I>&gt;<i> &gt; #
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Took a quick look at the code and it looks pretty straightforward, do you have a version you'd like me to run that dumps the result over and above doing a straight memcmp (funny that it doesn't do that anyway on failure) or just let me know what you'd like dumped and what format you'd like it in.  And maybe remove the returns so it goes through all the tests?  
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Happy to help root cause this issue if I can.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Haven't tried the no-asm option yet, I might try that next.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Nou Dadoun
</I>&gt;<i> &gt; Senior Firmware Developer, Security Specialist
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Office: 604.629.5182 ext 2632
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On 
</I>&gt;<i> &gt; Behalf Of Dr. Stephen Henson
</I>&gt;<i> &gt; Sent: Sunday, February 28, 2016 4:58 AM
</I>&gt;<i> &gt; To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> &gt; Subject: Re: [openssl-users] [openssl-dev] Failed TLSv1.2 handshake 
</I>&gt;<i> &gt; with error 67702888--bad signature
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; On Sun, Feb 28, 2016, Nounou Dadoun wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; We're cross-compiling on a linux x86 vm, does &quot;make test&quot; produce something that I can run on the target?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &quot;make test&quot; wont be very useful then. The binary test/sha512t you can copy to the target and run it. I'd be interested in the output.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Steve.
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Dr Stephen N. Henson. OpenSSL project core developer.
</I>&gt;<i> &gt; Commercial tech support now available see: <A HREF="http://www.openssl.org">http://www.openssl.org</A>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003177.html">[openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature
</A></li>
	<LI>Next message: <A HREF="003179.html">[openssl-users] [openssl-dev] Failed TLSv1.2 handshake with error 67702888--bad signature
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3178">[ date ]</a>
              <a href="thread.html#3178">[ thread ]</a>
              <a href="subject.html#3178">[ subject ]</a>
              <a href="author.html#3178">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
