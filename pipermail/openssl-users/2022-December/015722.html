<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> &quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2022-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%22num%22%20parameter%20and%20expected%20output%20buffer%20size%20in%0A%20EVP_CipherUpdate&In-Reply-To=%3C1f6fa488-1c8b-b953-9c91-7b96dd7f0c23%40metacode.biz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015721.html">
   <LINK REL="Next"  HREF="015723.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>&quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate</H1>
    <B>Wiktor Kwapisiewicz</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%22num%22%20parameter%20and%20expected%20output%20buffer%20size%20in%0A%20EVP_CipherUpdate&In-Reply-To=%3C1f6fa488-1c8b-b953-9c91-7b96dd7f0c23%40metacode.biz%3E"
       TITLE="&quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate">wiktor at metacode.biz
       </A><BR>
    <I>Thu Dec 15 19:44:05 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015721.html">&quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate
</A></li>
        <LI>Next message (by thread): <A HREF="015723.html">&quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15722">[ date ]</a>
              <a href="thread.html#15722">[ thread ]</a>
              <a href="subject.html#15722">[ subject ]</a>
              <a href="author.html#15722">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Michel,

On 15.12.2022 19:17, Michel wrote:
&gt;<i> ///&quot;the amount of data written can be anything from zero bytes to (inl + 
</I>&gt;<i> cipher_block_size) bytes&quot;/(at a maximum)
</I>&gt;<i> 
</I>&gt;<i> what you are asking for ?
</I>&gt;<i> 
</I>&gt;<i> Resulting in///cipher_block_size/bytesneeded (at max, may be 0) when 
</I>&gt;<i> callingEVP_CipherFinal() ?
</I>&gt;<i> 
</I>&gt;<i> &#8220;///The encrypted final data is written to////out////which should have 
</I>&gt;<i> sufficient space for one cipher block/&#8221;.
</I>
This gives a range and I'm looking for exact value. That value can be 
calculated using Matt's description [0]. I'm wondering if that can be 
done without keeping external state, just using cipher API.

The &quot;num&quot; parameter looked like exactly what I was looking for but 
either I'm holding it wrong or I misunderstood its purpose.

The use case I have in mind is to provide safe API that checks if the 
client provided buffer big enough for next call to CipherUpdate. In some 
cases, for example when encrypting data block by block by the client, 
the output buffer of one block is sufficient.

I hope that clarifies the use case I have in mind.

Have a nice day!

Kind regards,
Wiktor

[0]: 
<A HREF="../2022-November/015623.html">https://mta.openssl.org/pipermail/openssl-users/2022-November/015623.html</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015721.html">&quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate
</A></li>
	<LI>Next message (by thread): <A HREF="015723.html">&quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15722">[ date ]</a>
              <a href="thread.html#15722">[ thread ]</a>
              <a href="subject.html#15722">[ subject ]</a>
              <a href="author.html#15722">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
