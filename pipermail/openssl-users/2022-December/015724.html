<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> &quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2022-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%22num%22%20parameter%20and%20expected%20output%20buffer%20size%20in%0A%20EVP_CipherUpdate&In-Reply-To=%3C2c7cc277-8186-0b47-8092-3ad755ce2f5d%40metacode.biz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015723.html">
   <LINK REL="Next"  HREF="015725.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>&quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate</H1>
    <B>Wiktor Kwapisiewicz</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%22num%22%20parameter%20and%20expected%20output%20buffer%20size%20in%0A%20EVP_CipherUpdate&In-Reply-To=%3C2c7cc277-8186-0b47-8092-3ad755ce2f5d%40metacode.biz%3E"
       TITLE="&quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate">wiktor at metacode.biz
       </A><BR>
    <I>Fri Dec 16 09:51:23 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015723.html">&quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate
</A></li>
        <LI>Next message (by thread): <A HREF="015725.html">&quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15724">[ date ]</a>
              <a href="thread.html#15724">[ thread ]</a>
              <a href="subject.html#15724">[ subject ]</a>
              <a href="author.html#15724">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Michel,

On 15.12.2022 21:19, Michel wrote:
&gt;<i> But don't you think that an exact value smaller than the
</I>&gt;<i> cipher block size might look like an hazardous 'optimization',
</I>&gt;<i> for a very hypothetical gain ?
</I>
The maximum possible output buffer size is *twice* the block size (due 
to any partial blocks that may have been updated previously). As I'm 
updating the cipher block by block output buffer size equal to block 
size should be sufficient.

&gt;<i> I don't know much about EVP_CIPHER_CTX_num() use case,
</I>&gt;<i> looks new to me (OpenSSL version &gt; 3 ?),
</I>&gt;<i> sorry.
</I>
It was introduced in 1.1.0 in this commit:

&gt;<i> commit 83b06347023a573433b6aa23c8042f89df869f9e
</I>&gt;<i> Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">levitte at openssl.org</A>&gt;
</I>&gt;<i> Date:   Sun Dec 13 21:25:42 2015 +0100
</I>&gt;<i> 
</I>&gt;<i>     Add accessors and writers for EVP_CIPHER_CTX
</I>&gt;<i>     
</I>&gt;<i>     New functions:
</I>&gt;<i>     
</I>&gt;<i>     - EVP_CIPHER_CTX_encrypting()
</I>&gt;<i>     - EVP_CIPHER_CTX_iv()
</I>&gt;<i>     - EVP_CIPHER_CTX_iv_noconst()
</I>&gt;<i>     - EVP_CIPHER_CTX_original_iv()
</I>&gt;<i>     - EVP_CIPHER_CTX_buf_noconst()
</I>&gt;<i>     - EVP_CIPHER_CTX_num()
</I>&gt;<i>     - EVP_CIPHER_CTX_set_num()
</I>&gt;<i>     - EVP_CIPHER_CTX_cipher_data()
</I>
but it appears it's not widely used outside of OpenSSL's internals (at 
least I didn't get any meaningful search results).

Thanks for your time!

Kind regards,
Wiktor
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015723.html">&quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate
</A></li>
	<LI>Next message (by thread): <A HREF="015725.html">&quot;num&quot; parameter and expected output buffer size in EVP_CipherUpdate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15724">[ date ]</a>
              <a href="thread.html#15724">[ thread ]</a>
              <a href="subject.html#15724">[ subject ]</a>
              <a href="author.html#15724">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
