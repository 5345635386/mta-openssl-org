<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] SSL_connect returns SSL_ERROR_SYSCALL and errno ==	EWOULDBLOCK
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2018-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20SSL_connect%20returns%20SSL_ERROR_SYSCALL%20and%20errno%20%3D%3D%0A%09EWOULDBLOCK&In-Reply-To=%3CE7F0479D277AB44A9B3FBBE9CA6AC6E363477B67%40DEERLM99EZ3MSX.ww931.my-it-solutions.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008691.html">
   <LINK REL="Next"  HREF="008679.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] SSL_connect returns SSL_ERROR_SYSCALL and errno ==	EWOULDBLOCK</H1>
    <B>Jahn, Gerhard</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20SSL_connect%20returns%20SSL_ERROR_SYSCALL%20and%20errno%20%3D%3D%0A%09EWOULDBLOCK&In-Reply-To=%3CE7F0479D277AB44A9B3FBBE9CA6AC6E363477B67%40DEERLM99EZ3MSX.ww931.my-it-solutions.net%3E"
       TITLE="[openssl-users] SSL_connect returns SSL_ERROR_SYSCALL and errno ==	EWOULDBLOCK">gerhard.jahn at atos.net
       </A><BR>
    <I>Fri Sep  7 08:16:52 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="008691.html">[openssl-users] Using Windows system certficate store for server authentication
</A></li>
        <LI>Next message: <A HREF="008679.html">[openssl-users] SSL_connect returns SSL_ERROR_SYSCALL and errno == EWOULDBLOCK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8678">[ date ]</a>
              <a href="thread.html#8678">[ thread ]</a>
              <a href="subject.html#8678">[ subject ]</a>
              <a href="author.html#8678">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

We are using OpenSSl 1.0.2n in our server running on LINUX.
We call SSL_connect() on async socket (after TCP connect completion) to establish a secure connection.
According to DOC SSL_get_error(() has to be called if SSL_connect() returns &lt;=0

We do not understand what to do if SSL_get_error(() returns SSL_ERROR_SYSCALL and errno is EWOULDBLOCK
If SSL_get_error returns SSL_ERROR_WANT_READ or SSL_ERROR_WANT_WRITE it pretty clear what to do...
(we set the socket descriptor either in the readfds or writefds and call select to wait until the socket becomes readable or writeable (or times-out)
But when EWOULDBLOCK is indicated, we do not know whether to wait for readable/writeable......
(setting both might be an idea but could easily lead to a live-loop as we suppose that the handshake either waits for a read or for a write but not both...

Any ideas?
Thanks

Mit freundlichen Gr&#252;&#223;en/Best regards,
____________
Gerhard Jahn

Identity and Access Management

Phone:  +49 (211) 399-33276
Phone:  +49 (211) 399-22891
Email: <A HREF="../../../mailman/listinfo/openssl-users.html">gerhard.jahn at atos.net</A>&lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">gerhard.jahn at atos.net</A>&gt;
Otto-Hahn-Ring 6
81739 M&#252;nchen, Germany
de.atos.net
 [cid:<A HREF="../../../mailman/listinfo/openssl-users.html">231545806 at 16122011-2476</A>]
Atos Information Technology GmbH; Gesch&#228;ftsf&#252;hrung: Winfried Holz, Udo Littke; Vorsitzender des Aufsichtsrats: N.N.; Sitz der Gesellschaft: M&#252;nchen; Registergericht: M&#252;nchen, HRB 235509.

Diese E-Mail und etwaige Anlagen enthalten firmenvertrauliche Informationen, die ausschlie&#223;lich f&#252;r den Empf&#228;nger bestimmt sind. Sollten Sie diese E-Mail irrt&#252;mlich erhalten haben, benachrichtigen Sie bitte unverz&#252;glich den Absender per Antwort-Mail und l&#246;schen Sie diese E-Mail nebst Anlagen von Ihrem System. Da die Integrit&#228;t innerhalb des Internets nicht zu gew&#228;hrleisten ist, kann die Atos Gruppe f&#252;r die Inhalte der Nachricht kein Haftung &#252;bernehmen. Obwohl der Absender anstrebt ein virusfreies Computernetzwerk sicherzustellen, kann der Absender nicht gew&#228;hrleisten, dass diese E-Mail virusfrei ist und wird damit keine Haftung bei Sch&#228;den auf Grund einer Virus&#252;bermittlung &#252;bernehmen.

This e-mail and the documents attached are confidential and intended solely for the addressee; it may also be privileged. If you receive this e-mail in error, please notify the sender immediately and destroy it. As its integrity cannot be secured on the Internet, the Atos group liability cannot be triggered for the message content. Although the sender endeavors to maintain a computer virus-free network, the sender does not warrant that this transmission is virus-free and will not be liable for any damages resulting from any virus transmitted.




-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20180907/a02abee3/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20180907/a02abee3/attachment-0001.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Picture (Device Independent Bitmap) 1.jpg
Type: image/jpeg
Size: 2148 bytes
Desc: Picture (Device Independent Bitmap) 1.jpg
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20180907/a02abee3/attachment-0001.jpg">http://mta.openssl.org/pipermail/openssl-users/attachments/20180907/a02abee3/attachment-0001.jpg</A>&gt;
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008691.html">[openssl-users] Using Windows system certficate store for server authentication
</A></li>
	<LI>Next message: <A HREF="008679.html">[openssl-users] SSL_connect returns SSL_ERROR_SYSCALL and errno == EWOULDBLOCK
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8678">[ date ]</a>
              <a href="thread.html#8678">[ thread ]</a>
              <a href="subject.html#8678">[ subject ]</a>
              <a href="author.html#8678">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
