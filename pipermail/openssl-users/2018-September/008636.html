<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Using random bytes only in openssl_encrypt versus real private key
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2018-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Using%20random%20bytes%20only%20in%20openssl_encrypt%0A%20versus%20real%20private%20key&In-Reply-To=%3C2b2c225f-fe6d-9a36-8b2e-2f2f4713532c%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008635.html">
   <LINK REL="Next"  HREF="008640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Using random bytes only in openssl_encrypt versus real private key</H1>
    <B>Jim Dutton</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Using%20random%20bytes%20only%20in%20openssl_encrypt%0A%20versus%20real%20private%20key&In-Reply-To=%3C2b2c225f-fe6d-9a36-8b2e-2f2f4713532c%40gmail.com%3E"
       TITLE="[openssl-users] Using random bytes only in openssl_encrypt versus real private key">randomnoise058 at gmail.com
       </A><BR>
    <I>Sun Sep  2 23:41:17 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="008635.html">[openssl-users] Using random bytes only in openssl_encrypt versus real private key
</A></li>
        <LI>Next message: <A HREF="008640.html">[openssl-users] Using random bytes only in openssl_encrypt versus real private key
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8636">[ date ]</a>
              <a href="thread.html#8636">[ thread ]</a>
              <a href="subject.html#8636">[ subject ]</a>
              <a href="author.html#8636">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have been using the examples given in the PHP-openssl_encrypt documentation
for AEAD with PHP 7 or a suitable emulation of that using HMAC with PHP 5. Being
very familiar with security issues and functionality I automatically started
using an elliptical curve private key as the &quot;key&quot; after reading about the
benefits of EC keys versus RSA and the like. Then thinking about this, doing
some experimentation, and looking at source code and documentation, began to
realize that the usage of &quot;key&quot; in these examples and documentation may not have
always/really intended to mean &quot;generated private key&quot;. Somewhat of a semantic
ambiguity.


On 09/02/2018 17:08, Viktor Dukhovni wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> On Sep 2, 2018, at 7:48 AM, Jim Dutton &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">randomnoise058 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It appears that the (PHP) openssl_encrypt function will accept a string of
</I>&gt;&gt;<i> random bytes as the encryption key in place of a generated private key.
</I>&gt;<i> 
</I>&gt;<i> This is an interface to data encryption with the OpenSSL *symmetric*
</I>&gt;<i> encryption algorithms, and so the concept of a &quot;private key&quot; does not
</I>&gt;<i> apply in this context.  For most of these algorithms a key is just a
</I>&gt;<i> random bit-string of the correct length.
</I>&gt;<i> 
</I>&gt;<i> Some algorithms like DES had parity bits and weak keys, but DES is
</I>&gt;<i> obsolete, and more modern algorithms don't have these features.
</I>&gt;<i> 
</I>&gt;&gt;<i> It
</I>&gt;&gt;<i> works without any errors or warnings. So does the openssl_decrypt function.
</I>&gt;<i> 
</I>&gt;<i> Keep in mind that without a MAC, this interface does not provide much by
</I>&gt;<i> way of integrity protection (&quot;padding&quot; gives false positives with non-negligible
</I>&gt;<i> probability).
</I>&gt;<i> 
</I>&gt;&gt;<i> This begs the question: what does openssl_encrypt actually do with just a string
</I>&gt;&gt;<i> of random bytes passed as the &quot;key&quot;.
</I>&gt;<i> 
</I>&gt;<i> It encrypts the data as requested with the given key and IV or authentication
</I>&gt;<i> tag.
</I>&gt;<i> 
</I>&gt;<i>   <A HREF="http://php.net/manual/en/function.openssl-encrypt.php">http://php.net/manual/en/function.openssl-encrypt.php</A>
</I>&gt;<i> 
</I>
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008635.html">[openssl-users] Using random bytes only in openssl_encrypt versus real private key
</A></li>
	<LI>Next message: <A HREF="008640.html">[openssl-users] Using random bytes only in openssl_encrypt versus real private key
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8636">[ date ]</a>
              <a href="thread.html#8636">[ thread ]</a>
              <a href="subject.html#8636">[ subject ]</a>
              <a href="author.html#8636">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
