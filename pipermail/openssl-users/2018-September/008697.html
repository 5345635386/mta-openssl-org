<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Preventing Handshake Termination Because of Unverifiable Client Certificates
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2018-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Preventing%20Handshake%20Termination%20Because%20of%0A%20Unverifiable%20Client%20Certificates&In-Reply-To=%3CDDC8E909-AA49-4B6C-B655-51E47B2F3919%40dukhovni.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008696.html">
   <LINK REL="Next"  HREF="008698.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Preventing Handshake Termination Because of Unverifiable Client Certificates</H1>
    <B>Viktor Dukhovni</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Preventing%20Handshake%20Termination%20Because%20of%0A%20Unverifiable%20Client%20Certificates&In-Reply-To=%3CDDC8E909-AA49-4B6C-B655-51E47B2F3919%40dukhovni.org%3E"
       TITLE="[openssl-users] Preventing Handshake Termination Because of Unverifiable Client Certificates">openssl-users at dukhovni.org
       </A><BR>
    <I>Tue Sep 11 06:19:42 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="008696.html">[openssl-users] Preventing Handshake Termination Because of	Unverifiable Client Certificates
</A></li>
        <LI>Next message: <A HREF="008698.html">[openssl-users] Preventing Handshake Termination Because of Unverifiable Client Certificates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8697">[ date ]</a>
              <a href="thread.html#8697">[ thread ]</a>
              <a href="subject.html#8697">[ subject ]</a>
              <a href="author.html#8697">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> On Sep 11, 2018, at 2:09 AM, Armen Babikyan &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">armen.babikyan at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> I have a question regarding openssl and verification of client certificates.  Is there a way to have an openssl-enabled server ask for a client certificate, and when it receives one it can't verify, rather than immediately terminating the handshake, it would allow the connection, but pass some context about the failed verification to the calling application?
</I>
Yes.

&gt;<i> It appears that what I want is not possible from the SSL_VERIFY_* options presented here:
</I>
Actually, SSL_VERIFY_PEER is the right choice, but you also need a
non-null verification callback that continues (by returning 1)
despite failures to verify the client certificate.

You can check the verification status at the completion of the
handshake via SSL_get_verify_result(3).

-- 
	Viktor.

</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008696.html">[openssl-users] Preventing Handshake Termination Because of	Unverifiable Client Certificates
</A></li>
	<LI>Next message: <A HREF="008698.html">[openssl-users] Preventing Handshake Termination Because of Unverifiable Client Certificates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8697">[ date ]</a>
              <a href="thread.html#8697">[ thread ]</a>
              <a href="subject.html#8697">[ subject ]</a>
              <a href="author.html#8697">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
