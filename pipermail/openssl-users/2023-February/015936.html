<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Cypher data blank or corrupted when encrypted using openssl 3.0.7
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2023-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Cypher%20data%20blank%20or%20corrupted%20when%20encrypted%20using%20openssl%203.0.7&In-Reply-To=%3CSN6PR07MB7965931B55D0DDFB3468A438E8AC9%40SN6PR07MB7965.namprd07.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015938.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Cypher data blank or corrupted when encrypted using openssl 3.0.7</H1>
    <B>Bhargava, Shweta</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Cypher%20data%20blank%20or%20corrupted%20when%20encrypted%20using%20openssl%203.0.7&In-Reply-To=%3CSN6PR07MB7965931B55D0DDFB3468A438E8AC9%40SN6PR07MB7965.namprd07.prod.outlook.com%3E"
       TITLE="Cypher data blank or corrupted when encrypted using openssl 3.0.7">Shweta.Bhargava at Honeywell.com
       </A><BR>
    <I>Tue Feb 28 18:32:11 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015938.html">Need Help on OpenSSl 3.0.x and FIPS enablement
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15936">[ date ]</a>
              <a href="thread.html#15936">[ thread ]</a>
              <a href="subject.html#15936">[ subject ]</a>
              <a href="author.html#15936">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

I recently upgraded openssl 1.1.1s to openssl 3..0.7. I am facing issue with encryption and decryption of video clip after upgrade to 3.0.7. With openssl 1.1.1s the application work perfectly with encryption and decryption. I am using EVP_EncryptInit_ex(), EVP_EncryptUpdate(), EVP_EncryptFinal() for encryption and EVP_DecryptInit_ex(), EVP_DecryptUpdate(), EVP_DecryptFinal() for decryption. Other than this I am using HMAC apis in code which is acceptable in 3.0.7.

I have tried following ways:

1) Tried replacing deprecated HMAC apis

2) Tried adding padding using EVP_CIPHER_CTX_set_padding() on decryption

3) Tried adding key pair on encryption and decryption

4) Tried setting key length using EVP_CIPHER_CTX_set_key_length()

6) Tried adding FIPS values in code

Nothing work out.

As per my observation, cipher data coming blank or corrupted when try to decrypt video clip.

Please let me know what change I need to make in code when upgrade from openssl 1.1.1s to openssl 3.0.7 to make encryption and decryption work correctly.

Thanks &amp; Regards
Shweta
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20230228/45be19df/attachment.htm">https://mta.openssl.org/pipermail/openssl-users/attachments/20230228/45be19df/attachment.htm</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015938.html">Need Help on OpenSSl 3.0.x and FIPS enablement
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15936">[ date ]</a>
              <a href="thread.html#15936">[ thread ]</a>
              <a href="subject.html#15936">[ subject ]</a>
              <a href="author.html#15936">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
