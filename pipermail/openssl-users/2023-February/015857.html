<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Has someone (partially) worked on ARM64EC builds for Windows?
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2023-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Has%20someone%20%28partially%29%20worked%20on%20ARM64EC%20builds%20for%20Windows%3F&In-Reply-To=%3CD209D97A-5F37-4857-B2F0-1843C17DAD1B%40integral.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015852.html">
   <LINK REL="Next"  HREF="015866.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Has someone (partially) worked on ARM64EC builds for Windows?</H1>
    <B>Olivier Mascia</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Has%20someone%20%28partially%29%20worked%20on%20ARM64EC%20builds%20for%20Windows%3F&In-Reply-To=%3CD209D97A-5F37-4857-B2F0-1843C17DAD1B%40integral.be%3E"
       TITLE="Has someone (partially) worked on ARM64EC builds for Windows?">om at integral.be
       </A><BR>
    <I>Tue Feb  7 19:56:04 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015852.html">stunnel 5.68 released
</A></li>
        <LI>Next message (by thread): <A HREF="015866.html">Has someone (partially) worked on ARM64EC builds for Windows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15857">[ date ]</a>
              <a href="thread.html#15857">[ thread ]</a>
              <a href="subject.html#15857">[ subject ]</a>
              <a href="author.html#15857">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I will have to work on adjusting the quite significant build mechanism in order to produce OpenSSL 3.0.x binaries in the ARM64EC mode.  Fundamentally it is an ARM64 build, with '/arm64EC' on the 'cl' commands, and with '/MACHINE:ARM64EC' on the 'link' commands.

As to not reinvent the wheel, would anyone have already started, or done, that before?

Fundamentally the ARM64EC stuff is ARM64 code production, albeit with an adjusted ABI which allows an ARM64EC executable, essentially made of ARM64 code, to load and use, including be statically linked with, portions of code compiled for x64 (AMD64).  The x64 bits are runtime translated.  It is very useful to easily get large software booted on ARM64, even though some dependents bits have to remain Intel/AMD x64 for some time (third party libraries).  The limitation is that pure ARM64 bits cannot be linked with ARM64EC bits, because they do not share the exact same ABI.

Today, I use WIN64A builds of OpenSSL 3.0.7 without any issue into larger works built as ARM64EC.  To get some more performance from OpenSSL, I'd like to experiment with it built as ARM64EC.

If anyone has past experience with building OpenSSL 3.0 as ARM64EC on Windows world and wishes to share ideas, gotchas, or hints, I'm all ears.  In between I will start some experiment, while diving into OpenSSL build procedure.

Thanks!
-- 
Olivier Mascia


</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015852.html">stunnel 5.68 released
</A></li>
	<LI>Next message (by thread): <A HREF="015866.html">Has someone (partially) worked on ARM64EC builds for Windows?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15857">[ date ]</a>
              <a href="thread.html#15857">[ thread ]</a>
              <a href="subject.html#15857">[ subject ]</a>
              <a href="author.html#15857">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
