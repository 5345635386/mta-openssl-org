<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Memory usage pattern in openssl - limiting number connections in connections pool
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Memory%20usage%20pattern%20in%20openssl%20-%20limiting%20number%20connections%20in%0A%20connections%20pool&In-Reply-To=%3CCAHV7XR7iTR8V3tQ6UUJcGkR5taRpbf01RoWf_B8hHn%2BL3hF9%3Dw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013340.html">
   <LINK REL="Next"  HREF="013357.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Memory usage pattern in openssl - limiting number connections in connections pool</H1>
    <B>Harish Kulkarni</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Memory%20usage%20pattern%20in%20openssl%20-%20limiting%20number%20connections%20in%0A%20connections%20pool&In-Reply-To=%3CCAHV7XR7iTR8V3tQ6UUJcGkR5taRpbf01RoWf_B8hHn%2BL3hF9%3Dw%40mail.gmail.com%3E"
       TITLE="Memory usage pattern in openssl - limiting number connections in connections pool">harishvk27 at gmail.com
       </A><BR>
    <I>Thu Jan 14 19:04:30 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="013340.html">Offloading EC_POINT_mul via engine
</A></li>
        <LI>Next message: <A HREF="013357.html">Response Verify Failure attempting to configure OCSP server.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13356">[ date ]</a>
              <a href="thread.html#13356">[ thread ]</a>
              <a href="subject.html#13356">[ subject ]</a>
              <a href="author.html#13356">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello All,

Happy new year and Wish you all the best in 2021.

I am doing a browser memory leak investigation.. as part of the
investigation, we are using heaptrack and our observation is top-most
memory allocation happens in openssl with following memory allocation
back-trace.

&gt;<i>From my investigation.. it seems like this is not a memory leak as such but
</I>the way openssl allocates memory.. for each connection it looks like once
the memory assigned ( like storage certificate ) is not freed.. I am not
sure how this works if you point me to some document explaining memory
usage within openssl could be great help.

My second question is.. is there a way i can limit this connection-pool in
openssl?. For embedded systems we will not have lot of memory so we need to
reduce our memory allocation, and if we can reduce number fo
connections memory is allocated for may be i have an answer to my question.

CRYPTO_malloc
asn1_enc_save
asn1_item_ex_d2i
asn1_template_noexp_d2i
asn1_template_ex_d2i
asn1_item_ex_d2i
ASN1_item_ex_d2i
ASN1_item_d2i
ASN1_item_dup

-thanks
harish
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20210115/60406970/attachment.html">https://mta.openssl.org/pipermail/openssl-users/attachments/20210115/60406970/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013340.html">Offloading EC_POINT_mul via engine
</A></li>
	<LI>Next message: <A HREF="013357.html">Response Verify Failure attempting to configure OCSP server.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13356">[ date ]</a>
              <a href="thread.html#13356">[ thread ]</a>
              <a href="subject.html#13356">[ subject ]</a>
              <a href="author.html#13356">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
