<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Random and rare Seg faults at openssl library level
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Random%20and%20rare%20Seg%20faults%20at%20openssl%20library%20level&In-Reply-To=%3Caa8c5946-0d77-95f2-837a-c43fbbf9dd02%40nikhef.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013321.html">
   <LINK REL="Next"  HREF="013305.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Random and rare Seg faults at openssl library level</H1>
    <B>Jan Just Keijser</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Random%20and%20rare%20Seg%20faults%20at%20openssl%20library%20level&In-Reply-To=%3Caa8c5946-0d77-95f2-837a-c43fbbf9dd02%40nikhef.nl%3E"
       TITLE="Random and rare Seg faults at openssl library level">janjust at nikhef.nl
       </A><BR>
    <I>Tue Jan 12 10:21:03 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="013321.html">Random and rare Seg faults at openssl library level
</A></li>
        <LI>Next message: <A HREF="013305.html">Random and rare Seg faults at openssl library level
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13350">[ date ]</a>
              <a href="thread.html#13350">[ thread ]</a>
              <a href="subject.html#13350">[ subject ]</a>
              <a href="author.html#13350">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On 07/01/21 23:53, Gimhani Uthpala wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, Jan 7, 2021 at 3:08 AM Ken Goldman &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">kgoldman at us.ibm.com</A> 
</I>&gt;<i> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">kgoldman at us.ibm.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     On 1/6/2021 12:10 PM, Gimhani Uthpala wrote:
</I>&gt;<i>
</I>&gt;<i>     &gt; I am getting seg-faults at openssl level. This only
</I>&gt;<i>     occurred&#160;very randomly and the following are stacks that seg
</I>&gt;<i>     faults&#160; at openssl level in the given 2 cases. We are using
</I>&gt;<i>     openssl 1.0.2k.
</I>&gt;<i>
</I>&gt;<i>     The usual cause is that you are compiling with one version of
</I>&gt;<i>     openssl and (static or dynamic) linking with a different one.
</I>&gt;<i>     The cause of that is typically that you have more than one version
</I>&gt;<i>     of openssl installed.
</I>&gt;<i>
</I>&gt;<i>     If this is a 3rd party application, not one you're building, you
</I>&gt;<i>     have to find out what version of openssl they expect.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I only&#160;have this 1.0.2.k-fips one version installed in both compiling 
</I>&gt;<i> and running machines. However, I am compiling the application in RH7.4 
</I>&gt;<i> and running in RH7.8 linking to openssl library dynamically. I assume 
</I>&gt;<i> no issue with that as I am using the same version of openssl in both.
</I>&gt;<i>
</I>actually - there could be an issue with that, as RedHat has this 
tendency to patch openssl between releases (mostly backporting security 
fixes from openssl 1.1.x to 1.0.2k).

Have you tried installing the debuginfo package for openssl so that the 
stacktrace will show you better info:
 &#160; debuginfo-install openssl-libs openssl

right now all you know is that the segfault occurs *somewhere* within 
ASN1_item_verify ()

HTH,

JJK

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20210112/65592562/attachment.html">https://mta.openssl.org/pipermail/openssl-users/attachments/20210112/65592562/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013321.html">Random and rare Seg faults at openssl library level
</A></li>
	<LI>Next message: <A HREF="013305.html">Random and rare Seg faults at openssl library level
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13350">[ date ]</a>
              <a href="thread.html#13350">[ thread ]</a>
              <a href="subject.html#13350">[ subject ]</a>
              <a href="author.html#13350">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
