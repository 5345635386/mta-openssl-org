<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Encoding of AlgorithmIdentifier with NULL parameters
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Encoding%20of%20AlgorithmIdentifier%20with%20NULL%20parameters&In-Reply-To=%3Cc717e821-6c2b-5506-e272-10001e79a494%40wisemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013418.html">
   <LINK REL="Next"  HREF="013420.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Encoding of AlgorithmIdentifier with NULL parameters</H1>
    <B>Jakob Bohm</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Encoding%20of%20AlgorithmIdentifier%20with%20NULL%20parameters&In-Reply-To=%3Cc717e821-6c2b-5506-e272-10001e79a494%40wisemo.com%3E"
       TITLE="Encoding of AlgorithmIdentifier with NULL parameters">jb-openssl at wisemo.com
       </A><BR>
    <I>Fri Jan 29 02:09:32 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="013418.html">Encoding of AlgorithmIdentifier with NULL parameters
</A></li>
        <LI>Next message: <A HREF="013420.html">Encoding of AlgorithmIdentifier with NULL parameters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13419">[ date ]</a>
              <a href="thread.html#13419">[ thread ]</a>
              <a href="subject.html#13419">[ subject ]</a>
              <a href="author.html#13419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Also note that the official ASN.1 declaration for
AlgorithmIdentifier (from X.509 (2012), section 7.2) marks
the parameters field as OPTIONAL, so parsers really should
accept its absence.

However if broken parsers are common (this thread
only found one such parser), maybe it would be
good practice to include the NULL value for compatibility.

AlgorithmIdentifier{ALGORITHM:SupportedAlgorithms} ::= SEQUENCE {
 &#160;&#160;&#160; algorithm ALGORITHM.&amp;id({SupportedAlgorithms}),
 &#160;&#160;&#160; parameters ALGORITHM.&amp;Type({SupportedAlgorithms}{@algorithm}) OPTIONAL,
... }

On 2021-01-28 20:07, Thulasi Goriparthi wrote:
&gt;<i> I am trying to provide a test certificate generated by 
</I>&gt;<i> openssl-3.0.0-alpha10 to a third party certificate parser/manager. 
</I>&gt;<i> This software expects AlgorithmIdentifier to either have parameters or 
</I>&gt;<i> to have null encoded (05 00) parameters which seems to be missing in 
</I>&gt;<i> the certificate.
</I>&gt;<i>
</I>&gt;<i> Certificate generated by openssl-3.0.0-alpha10
</I>&gt;<i>
</I>&gt;<i> &#160; &#160;&#160;0:d=0&#160; hl=4 l=1030 cons: SEQUENCE
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; 4:d=1&#160; hl=4 l= 752 cons: SEQUENCE
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; 8:d=2&#160; hl=2 l= &#160; 3 cons: cont [ 0 ]
</I>&gt;<i>
</I>&gt;<i> &#160;&#160; 10:d=3&#160; hl=2 l= &#160; 1 prim: INTEGER &#160; &#160; &#160; &#160; &#160; :02
</I>&gt;<i>
</I>&gt;<i> &#160;&#160; 13:d=2&#160; hl=2 l= &#160; 1 prim: INTEGER &#160; &#160; &#160; &#160; &#160; :01
</I>&gt;<i>
</I>&gt;<i> *&#160;&#160; 16:d=2&#160; hl=2 l=&#160; 11 cons: SEQUENCE *
</I>&gt;<i>
</I>&gt;<i> *&#160;&#160; 18:d=3&#160; hl=2 l= &#160; 9 prim: OBJECT&#160; &#160; &#160; &#160; &#160; &#160; :sha256WithRSAEncryption*
</I>&gt;<i>
</I>&gt;<i> *&#160;&#160; 29:d=2&#160; hl=3 l= 143 cons: *SEQUENCE
</I>&gt;<i>
</I>&gt;<i> &#160;&#160; 32:d=3&#160; hl=2 l=&#160; 11 cons: SET
</I>&gt;<i>
</I>&gt;<i> &#160;&#160; 34:d=4&#160; hl=2 l= &#160; 9 cons: SEQUENCE
</I>&gt;<i>
</I>&gt;<i> &#160;&#160; 36:d=5&#160; hl=2 l= &#160; 3 prim: OBJECT&#160; &#160; &#160; &#160; &#160; &#160; :countryName
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Certificate generated by openssl-1.1.1g
</I>&gt;<i>
</I>&gt;<i> &#160; &#160;&#160;0:d=0&#160; hl=4 l= 988 cons: SEQUENCE
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; 4:d=1&#160; hl=4 l= 708 cons: SEQUENCE
</I>&gt;<i>
</I>&gt;<i> &#160; &#160; 8:d=2&#160; hl=2 l= &#160; 3 cons: cont [ 0 ]
</I>&gt;<i>
</I>&gt;<i> &#160;&#160; 10:d=3&#160; hl=2 l= &#160; 1 prim: INTEGER &#160; &#160; &#160; &#160; &#160; :02
</I>&gt;<i>
</I>&gt;<i> &#160;&#160; 13:d=2&#160; hl=2 l= &#160; 1 prim: INTEGER &#160; &#160; &#160; &#160; &#160; :01
</I>&gt;<i>
</I>&gt;<i> *&#160;&#160; 16:d=2&#160; hl=2 l=&#160; 13 cons: SEQUENCE *
</I>&gt;<i>
</I>&gt;<i> *&#160;&#160; 18:d=3&#160; hl=2 l= &#160; 9 prim: OBJECT&#160; &#160; &#160; &#160; &#160; &#160; :sha256WithRSAEncryption*
</I>&gt;<i>
</I>&gt;<i> *&#160;&#160; 29:d=3&#160; hl=2 l= &#160; 0 prim: NULL *
</I>&gt;<i>
</I>&gt;<i> &#160;&#160; 31:d=2&#160; hl=3 l= 143 cons: SEQUENCE
</I>&gt;<i>
</I>&gt;<i> &#160;&#160; 34:d=3&#160; hl=2 l=&#160; 11 cons: SET
</I>&gt;<i>
</I>&gt;<i> &#160;&#160; 36:d=4&#160; hl=2 l= &#160; 9 cons: SEQUENCE
</I>&gt;<i>
</I>&gt;<i> &#160;&#160; 38:d=5&#160; hl=2 l= &#160; 3 prim: OBJECT&#160; &#160; &#160; &#160; &#160; &#160; :countryName
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From <A HREF="https://tools.ietf.org/html/rfc5280#section-4.1.1.2,">https://tools.ietf.org/html/rfc5280#section-4.1.1.2,</A> It isn't 
</I>&gt;<i> clear if NULL parameters can be completely omitted or if it should 
</I>&gt;<i> still have NULL encoding.
</I>&gt;<i>
</I>&gt;<i> Is this a too stringent check in the third-party s/w or a miss in 
</I>&gt;<i> openss-3.0.0-alpha10?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Thulasi.
</I>
Enjoy

Jakob
-- 
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20210129/90091665/attachment.html">https://mta.openssl.org/pipermail/openssl-users/attachments/20210129/90091665/attachment.html</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013418.html">Encoding of AlgorithmIdentifier with NULL parameters
</A></li>
	<LI>Next message: <A HREF="013420.html">Encoding of AlgorithmIdentifier with NULL parameters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13419">[ date ]</a>
              <a href="thread.html#13419">[ thread ]</a>
              <a href="subject.html#13419">[ subject ]</a>
              <a href="author.html#13419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
