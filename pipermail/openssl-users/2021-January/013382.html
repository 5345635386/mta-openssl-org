<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Hoping to get a working example of SFTP in PHP
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Hoping%20to%20get%20a%20working%20example%20of%20SFTP%20in%20PHP&In-Reply-To=%3Ce33a538d-e721-a817-4d22-f64e80963daa%40springtimesoftware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013429.html">
   <LINK REL="Next"  HREF="013383.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Hoping to get a working example of SFTP in PHP</H1>
    <B>David Spector</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Hoping%20to%20get%20a%20working%20example%20of%20SFTP%20in%20PHP&In-Reply-To=%3Ce33a538d-e721-a817-4d22-f64e80963daa%40springtimesoftware.com%3E"
       TITLE="Hoping to get a working example of SFTP in PHP">david025 at springtimesoftware.com
       </A><BR>
    <I>Mon Jan 25 02:11:11 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="013429.html">Default value of a session resumption timeout (300 seconds vs 7200 seconds)
</A></li>
        <LI>Next message: <A HREF="013383.html">OPenssl 3.0 issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13382">[ date ]</a>
              <a href="thread.html#13382">[ thread ]</a>
              <a href="subject.html#13382">[ subject ]</a>
              <a href="author.html#13382">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This question may be considered off-topic, since is not directly about 
using the OpenSSL library. Let me know if you want me to delete this 
posting.

I have a question about uploading a file (text.txt) securely in PHP 
using the SFTP protocol and a public/private key pair. I have posted 
this question is several fora, but no one seems to know for sure how to 
do it. Although I've received much advice, none of the actual published 
examples are known to work, and do not work for me. I know my parameters 
are okay, since they work in CoreFTP and PuTTY, two manual applications 
that implement SFTP with private keys. Also, a short FTP insecure 
example works perfectly for me. There seem to be many subtle 
undocumented issues with getting any of the published example code to 
work. I'm inexperienced with SFTP in PHP and am hoping to locate a 
working example.

So far I have tried a number of examples using the ssh2 PHP extension 
and the cURL PHP extension. They fail, and the error messages, if any, 
are uninformative.

A little background:

I do website development work for two small companies on a Windows 
computer (Apache/PHP 7), uploading to a remote production server 
(VPS/cPanel/Centos). My local software versions are: Windows 10 
Hone/2004, Bitnami WAMP/7.4.13-0, Apache/2.4.46 (Win64), OpenSSL/1.1.1h, 
PHP/7.4.13, libssh2/1.9.0.

Where I am now is that I used cPanel on the remote server to install an 
SSH/SFTP public key for a particular account. I then copied the 
generated encrypted x.key and x.ppk private key files to my local 
computer. Now I am ready to upload files securely, if only PHP made the 
task easy. Unfortunately, it does not.

I know that phpseclib is available, but it is a very large PHP source 
code library, so I'd rather use the php_ssh2.dll or cURL PHP extension, 
the OpenSSL PHP extension (if it can do SFTP), or something similar.

In summary, I'm looking for someone who has got SFTP file upload with 
private key working in PHP to share their code with me. I pledge to test 
the code and post it further to help others with this difficult but 
widely useful problem.
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013429.html">Default value of a session resumption timeout (300 seconds vs 7200 seconds)
</A></li>
	<LI>Next message: <A HREF="013383.html">OPenssl 3.0 issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13382">[ date ]</a>
              <a href="thread.html#13382">[ thread ]</a>
              <a href="subject.html#13382">[ subject ]</a>
              <a href="author.html#13382">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
