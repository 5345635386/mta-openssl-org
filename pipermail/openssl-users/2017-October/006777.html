<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] SSL_read() failed: error:140E0197:SSL routines:SSL_shutdown:shutdown while in init
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-October/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20SSL_read%28%29%20failed%3A%20error%3A140E0197%3ASSL%0A%20routines%3ASSL_shutdown%3Ashutdown%20while%20in%20init&In-Reply-To=%3Calpine.DEB.2.11.1710261205430.24673%40blackhole.kfki.hu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006775.html">
   <LINK REL="Next"  HREF="006780.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] SSL_read() failed: error:140E0197:SSL routines:SSL_shutdown:shutdown while in init</H1>
    <B>Kadlecsik J&#243;zsef</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20SSL_read%28%29%20failed%3A%20error%3A140E0197%3ASSL%0A%20routines%3ASSL_shutdown%3Ashutdown%20while%20in%20init&In-Reply-To=%3Calpine.DEB.2.11.1710261205430.24673%40blackhole.kfki.hu%3E"
       TITLE="[openssl-users] SSL_read() failed: error:140E0197:SSL routines:SSL_shutdown:shutdown while in init">kadlecsik.jozsef at wigner.mta.hu
       </A><BR>
    <I>Thu Oct 26 10:22:54 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006775.html">[openssl-users] RSA-PSS Certificate
</A></li>
        <LI>Next message: <A HREF="006780.html">[openssl-users] SSL_read() failed: error:140E0197:SSL routines:SSL_shutdown:shutdown while in init
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6777">[ date ]</a>
              <a href="thread.html#6777">[ thread ]</a>
              <a href="subject.html#6777">[ subject ]</a>
              <a href="author.html#6777">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

We upgraded one of our dovecot servers to debian stretch with dovecot 
2.2.27 and since then an alpine MUA user has been experiencing random IMAP 
failures.

We enabled debugging at both sides, the client tells only:

{XXXX}INBOX: [CLOSED] IMAP connection broken (server response)

and we could verify that the client indeed did not receive the server 
response.

On the server side the raw log shows that the correct response is pushed 
to the client, but at the same time in the debug log we see:

Oct 20 18:50:05 mail2 dovecot: imap-login: Debug: SSL error: SSL_read() 
failed: error:140E0197:SSL routines:SSL_shutdown:shutdown while in init

The openssl package is 1.1.0f-3.

The error messsage is total cryptic to me: how could three states be 
intermixed?

I think it's a dovecot issue about how the openssl library is used but I'm 
unfamiliar with the details of the openssl library: what function, macro 
is used incorrectly then, at which state?

Thanks any help!

Best regards,
Jozsef
--
E-mail : <A HREF="../../../mailman/listinfo/openssl-users.html">kadlecsik.jozsef at wigner.mta.hu</A>
PGP key: <A HREF="http://www.kfki.hu/~kadlec/pgp_public_key.txt">http://www.kfki.hu/~kadlec/pgp_public_key.txt</A>
Address: Wigner Research Centre for Physics, Hungarian Academy of Sciences
         H-1525 Budapest 114, POB. 49, Hungary
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006775.html">[openssl-users] RSA-PSS Certificate
</A></li>
	<LI>Next message: <A HREF="006780.html">[openssl-users] SSL_read() failed: error:140E0197:SSL routines:SSL_shutdown:shutdown while in init
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6777">[ date ]</a>
              <a href="thread.html#6777">[ thread ]</a>
              <a href="subject.html#6777">[ subject ]</a>
              <a href="author.html#6777">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
