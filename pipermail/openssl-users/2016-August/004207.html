<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Openssl and floating point
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Openssl%20and%20floating%20point&In-Reply-To=%3C5B64FFCE-8739-4010-9439-DE69130203A9%40akamai.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004199.html">
   <LINK REL="Next"  HREF="004217.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Openssl and floating point</H1>
    <B>Short, Todd</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Openssl%20and%20floating%20point&In-Reply-To=%3C5B64FFCE-8739-4010-9439-DE69130203A9%40akamai.com%3E"
       TITLE="[openssl-users] Openssl and floating point">tshort at akamai.com
       </A><BR>
    <I>Thu Aug 11 15:20:41 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="004199.html">[openssl-users] Openssl and floating point
</A></li>
        <LI>Next message: <A HREF="004217.html">[openssl-users] Openssl and floating point
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4207">[ date ]</a>
              <a href="thread.html#4207">[ thread ]</a>
              <a href="subject.html#4207">[ subject ]</a>
              <a href="author.html#4207">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The -Ddouble=long hack might very well cause problems with standard headers.

I&#8217;m assuming you are not talking about x86 or any other platform for which there is assembly support.

In such a case, I suggest #ifdef&#8217;ing out the code that you don&#8217;t care about, and making it into a configuration option, the submitting a patch for it.
There may be some use for this configuration, especially on low-power IoT-type things.

--
-Todd Short
// <A HREF="../../../mailman/listinfo/openssl-users.html">tshort at akamai.com</A>&lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">tshort at akamai.com</A>&gt;
// &quot;One if by land, two if by sea, three if by the Internet.&quot;

On Aug 10, 2016, at 11:52 AM, Jakob Bohm &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">jb-openssl at wisemo.com</A>&lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">jb-openssl at wisemo.com</A>&gt;&gt; wrote:

(Top posting for consistency in this part of the thread)

Note, however that emulated floating point tends to add code
size and startup overhead even when not called.

Hence the need to compile with an option to not use floating
point at all, at least on platforms that don't have platform-
specific optimizations via hardware floating point (such as
the SSE optimizations for some operations on x86 or the VFP
optimizations on later ARM hardware types).

Rich suggested a &quot;hackish&quot; preprocessor trick, which depends
on no current or future OpenSSL code using floating point in
a way that is seriously broken by that trick.

On 10/08/2016 16:51, Kyle Hamilton wrote:
This is compiler-dependent, and because you didn't specify what platform you're targeting or what compiler you're using, there's no way for us to provide an answer. Check your compiler's documentation.  GCC, for example, provides software-emulated floating point for platforms without hardware support.  Many other open-source and commercial compilers do as well.

On Wed, Aug 10, 2016 at 6:26 AM, Kenneth Goldman &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">kgoldman at us.ibm.com</A>&lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">kgoldman at us.ibm.com</A>&gt; &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">kgoldman at us.ibm.com</A>&gt;&gt;wrote:

   We have a platform that does not support floating point
   operations.  We discovered that openssl uses floating point in the
   random number generator.

   Is there any build or compile time flag that uses an alternative
   to floating point?


Enjoy

Jakob
--
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

--
openssl-users mailing list
To unsubscribe: <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20160811/2e28f2ca/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20160811/2e28f2ca/attachment-0001.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004199.html">[openssl-users] Openssl and floating point
</A></li>
	<LI>Next message: <A HREF="004217.html">[openssl-users] Openssl and floating point
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4207">[ date ]</a>
              <a href="thread.html#4207">[ thread ]</a>
              <a href="subject.html#4207">[ subject ]</a>
              <a href="author.html#4207">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
