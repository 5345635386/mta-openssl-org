<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Creating requests and certificates with Subject	Alternative Names
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Creating%20requests%20and%20certificates%20with%20Subject%0A%09Alternative%20Names&In-Reply-To=%3Cmemo.20170921185645.13640A%40magsys.adsl.magsys.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006557.html">
   <LINK REL="Next"  HREF="006566.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Creating requests and certificates with Subject	Alternative Names</H1>
    <B>Angus Robertson - Magenta Systems Ltd</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Creating%20requests%20and%20certificates%20with%20Subject%0A%09Alternative%20Names&In-Reply-To=%3Cmemo.20170921185645.13640A%40magsys.adsl.magsys.co.uk%3E"
       TITLE="[openssl-users] Creating requests and certificates with Subject	Alternative Names">angus at magsys.co.uk
       </A><BR>
    <I>Thu Sep 21 17:56:00 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006557.html">[openssl-users] Un-signed CSRs
</A></li>
        <LI>Next message: <A HREF="006566.html">[openssl-users] Manually shutdown the library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6558">[ date ]</a>
              <a href="thread.html#6558">[ thread ]</a>
              <a href="subject.html#6558">[ subject ]</a>
              <a href="author.html#6558">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm creating X509 certificate requests and certificates in code, trying
to add X509v3 Subject Alternative Name, with 1.1.0f.  

But if I add a list of four domains, ie: 

www1.mydomain
www2.mydomain
www3.mydomain
www4.mydomain

The certificate seems to ignore some and repeat others:

X509v3 Subject Alternative Name: 
DNS:www3.mydomain, DNS:www4.mydomain, DNS:www3.mydomain,
DNS:www4.mydomain

Finding documentation for SANs in OpenSSL is very hard, there don't
seem to be high level APIs to create extension content stacks.   The
best I found is set_altname in v3nametest.c which builds a stack of
GENERAL_NAMES and adds it using X509_add1_ext_i2d. 

I must be something correct since it half works, but no idea why the
data is corrupted. 

To complicate matters, I'm not writing in C, but using Delphi pascal,
so all the OpenSSL APIs and macros have been converted to Delphi, which
does potentially cause errors in translation.  This is an open source
Delphi interface to OpenSSL.  

Angus

</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006557.html">[openssl-users] Un-signed CSRs
</A></li>
	<LI>Next message: <A HREF="006566.html">[openssl-users] Manually shutdown the library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6558">[ date ]</a>
              <a href="thread.html#6558">[ thread ]</a>
              <a href="subject.html#6558">[ subject ]</a>
              <a href="author.html#6558">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
