<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Lost in STACK_OF again (porting M2Crypto to	OpenSSL 1.1.* API)
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Lost%20in%20STACK_OF%20again%20%28porting%20M2Crypto%20to%0A%09OpenSSL%201.1.%2A%20API%29&In-Reply-To=%3Cslrnorksot.i86.mcepl%40mitmanek.ceplovi.cz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006486.html">
   <LINK REL="Next"  HREF="006496.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Lost in STACK_OF again (porting M2Crypto to	OpenSSL 1.1.* API)</H1>
    <B>Mat&#283;j Cepl</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Lost%20in%20STACK_OF%20again%20%28porting%20M2Crypto%20to%0A%09OpenSSL%201.1.%2A%20API%29&In-Reply-To=%3Cslrnorksot.i86.mcepl%40mitmanek.ceplovi.cz%3E"
       TITLE="[openssl-users] Lost in STACK_OF again (porting M2Crypto to	OpenSSL 1.1.* API)">mcepl at cepl.eu
       </A><BR>
    <I>Thu Sep 14 12:16:29 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006486.html">[openssl-users] Lost in STACK_OF again (porting M2Crypto to OpenSSL 1.1.* API)
</A></li>
        <LI>Next message: <A HREF="006496.html">[openssl-users] 20170914 snapshots
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6498">[ date ]</a>
              <a href="thread.html#6498">[ thread ]</a>
              <a href="subject.html#6498">[ subject ]</a>
              <a href="author.html#6498">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2017-09-12, 19:33 GMT, Dr. Stephen Henson wrote:
&gt;<i> Yes *_seq_unpack() is no longer in 1.1. What happens is that 
</I>&gt;<i> code above it generates a function d2i_SEQ_CERT() which does 
</I>&gt;<i> the same as ASN1_seq_unpack() for a certificate.
</I>&gt;<i>
</I>&gt;<i> So something like this should work:
</I>&gt;<i>
</I>&gt;<i> const unsigned char *tmp = (unsigned char *)encoded_string;
</I>&gt;<i>
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> certs = d2i_SEQ_CERT(NULL, &amp;tmp, encoded_string_len);
</I>
Thank you very much for the help. It really helped!

Also, for those who will get to this later, the documentation 
can be found in d2i_x509(3) and i2d_x509(3) (both are quite 
different in 1.1.0).

Best,

Mat&#283;j
-- 
<A HREF="http://matej.ceplovi.cz/blog/,">http://matej.ceplovi.cz/blog/,</A> Jabber: mcepl&lt;at&gt;ceplovi.cz
GPG Finger: 3C76 A027 CA45 AD70 98B5  BC1D 7920 5802 880B C9D8
 
The law, in its majestic equality, forbids the rich as well as
the poor to sleep under bridges, to beg in the streets, and to
steal bread.
    -- Anatole France

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006486.html">[openssl-users] Lost in STACK_OF again (porting M2Crypto to OpenSSL 1.1.* API)
</A></li>
	<LI>Next message: <A HREF="006496.html">[openssl-users] 20170914 snapshots
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6498">[ date ]</a>
              <a href="thread.html#6498">[ thread ]</a>
              <a href="subject.html#6498">[ subject ]</a>
              <a href="author.html#6498">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
