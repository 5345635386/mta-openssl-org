<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Manually shutdown the library
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Manually%20shutdown%20the%20library&In-Reply-To=%3CDM2PR0601MB126149BC316907B64F39335FD97A0%40DM2PR0601MB1261.namprd06.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006558.html">
   <LINK REL="Next"  HREF="006572.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Manually shutdown the library</H1>
    <B>Dan Heinz</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Manually%20shutdown%20the%20library&In-Reply-To=%3CDM2PR0601MB126149BC316907B64F39335FD97A0%40DM2PR0601MB1261.namprd06.prod.outlook.com%3E"
       TITLE="[openssl-users] Manually shutdown the library">dheinz at softwarekey.com
       </A><BR>
    <I>Mon Sep 25 15:59:23 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="006558.html">[openssl-users] Creating requests and certificates with Subject	Alternative Names
</A></li>
        <LI>Next message: <A HREF="006572.html">[openssl-users] Manually shutdown the library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6566">[ date ]</a>
              <a href="thread.html#6566">[ thread ]</a>
              <a href="subject.html#6566">[ subject ]</a>
              <a href="author.html#6566">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The original issue was discussed here:  <A HREF="https://www.mail-archive.com/openssl-users@openssl.org/msg80781.html">https://www.mail-archive.com/openssl-users@openssl.org/msg80781.html</A>

To summarize: We have a DLL that statically links OpenSSL.  Our DLL gets loaded and unloaded multiple times by a process (not our process), and we need to release OpenSSL each time.  This was not possible with OpenSSL 1.1 as of October 2016 as the process's atexit is where it gets released which will not be called after a FreeLibrary() call on our DLL.  Has this been revisited?  If there is still not a way to manually release OpenSSL, are there any plans to add this ability?
&gt;<i>From the previous post, something like this would address the issue:
</I>
&quot;I'm wondering whether an option to override the default behaviour might
be possible, e.g. an explicit call to OPENSSL_init_crypto() with
something like an OPENSSL_INIT_NO_ATEXIT_CLEANUP option. The application
would then have to call OPENSSL_cleanup() explicitly.&quot;

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20170925/26b836ec/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20170925/26b836ec/attachment.html</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006558.html">[openssl-users] Creating requests and certificates with Subject	Alternative Names
</A></li>
	<LI>Next message: <A HREF="006572.html">[openssl-users] Manually shutdown the library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6566">[ date ]</a>
              <a href="thread.html#6566">[ thread ]</a>
              <a href="subject.html#6566">[ subject ]</a>
              <a href="author.html#6566">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
