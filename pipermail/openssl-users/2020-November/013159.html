<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> openssl s_client connection fails
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20openssl%20s_client%20connection%20fails&In-Reply-To=%3Ccc2c922a-6b40-f4f7-0b18-77daac744eb0%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013158.html">
   <LINK REL="Next"  HREF="013160.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>openssl s_client connection fails</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20openssl%20s_client%20connection%20fails&In-Reply-To=%3Ccc2c922a-6b40-f4f7-0b18-77daac744eb0%40openssl.org%3E"
       TITLE="openssl s_client connection fails">matt at openssl.org
       </A><BR>
    <I>Wed Nov 18 11:40:33 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="013158.html">openssl s_client connection fails
</A></li>
        <LI>Next message: <A HREF="013160.html">Fwd: Re: openssl s_client connection fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13159">[ date ]</a>
              <a href="thread.html#13159">[ thread ]</a>
              <a href="subject.html#13159">[ subject ]</a>
              <a href="author.html#13159">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 18/11/2020 11:24, Patrice Gu&#233;rin wrote:
&gt;<i> 3072988928:error:14094410:SSL routines:ssl3_read_bytes:sslv3 alert
</I>&gt;<i> handshake failure:../ssl/record/rec_layer_s3.c:1407:SSL alert number 40
</I>
This is a very generic &quot;something went wrong&quot; alert that is being
received from the server and could be due to any number of issues. Do
you have access to the server in question? If so there may be more clues
in the server logs that might explain it.

&gt;<i> Does anybody have an idea on what's going wrong ?
</I>
One thing that springs to mind that often goes wrong is SNI handling.
s_client changed between 1.1.0 and 1.1.1 to always provider SNI by
default. If the server requires SNI then it could explain this
behaviour. Your can add SNI in 1.1.0 by using the &quot;-servername&quot; command
line option followed by the name of the server in question, e.g.

$ openssl s_client -connect www.openssl.org -port 443 -servername
www.openssl.org

Matt

&gt;<i> 
</I>&gt;<i> Thank you in advance.
</I>&gt;<i> Kind regards
</I>&gt;<i> Patrice.
</I>&gt;<i> 
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013158.html">openssl s_client connection fails
</A></li>
	<LI>Next message: <A HREF="013160.html">Fwd: Re: openssl s_client connection fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13159">[ date ]</a>
              <a href="thread.html#13159">[ thread ]</a>
              <a href="subject.html#13159">[ subject ]</a>
              <a href="author.html#13159">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
