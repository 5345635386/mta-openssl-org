<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> HMAC is deprecated in 3.0 getting error 'HMAC' was not declared in this scope
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20HMAC%20is%20deprecated%20in%203.0%20getting%20error%20%27HMAC%27%20was%20not%20declared%0A%20in%20this%20scope&In-Reply-To=%3C500A510C-33D2-48CB-85D0-FB5659EC4DB4%40oracle.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013176.html">
   <LINK REL="Next"  HREF="013178.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>HMAC is deprecated in 3.0 getting error 'HMAC' was not declared in this scope</H1>
    <B>Dr Paul Dale</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20HMAC%20is%20deprecated%20in%203.0%20getting%20error%20%27HMAC%27%20was%20not%20declared%0A%20in%20this%20scope&In-Reply-To=%3C500A510C-33D2-48CB-85D0-FB5659EC4DB4%40oracle.com%3E"
       TITLE="HMAC is deprecated in 3.0 getting error 'HMAC' was not declared in this scope">paul.dale at oracle.com
       </A><BR>
    <I>Thu Nov 26 22:02:54 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="013176.html">HMAC is deprecated in 3.0 getting error 'HMAC' was not declared in this scope
</A></li>
        <LI>Next message: <A HREF="013178.html">HMAC is deprecated in 3.0 getting error 'HMAC' was not declared in this scope
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13177">[ date ]</a>
              <a href="thread.html#13177">[ thread ]</a>
              <a href="subject.html#13177">[ subject ]</a>
              <a href="author.html#13177">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There is no direct replacement for the MHAC call at this point, EVP_MAC needs to be used.  I&#8217;d suggest reading the EVP_MAC(3) man page.  There is an example down the bottom.

Does SSL_set_mtu() do what you require?


Pauli
-- 
Dr Paul Dale | Distinguished Architect | Cryptographic Foundations 
Phone +61 7 3031 7217
Oracle Australia




&gt;<i> On 27 Nov 2020, at 3:32 am, Narayana, Sunil Kumar &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">sanarayana at rbbn.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i>                 We are trying to upgrade our application from openssl usage of 1.0.2 to openssl 3.0, during which we observe following errors.
</I>&gt;<i> Need help to identify the alternatives.
</I>&gt;<i>  
</I>&gt;<i> Error1 :  error: 'HMAC' was not declared in this scope HMAC(EVP_sha1(), (const void*) cookie_secret, COOKIE_SECRET_LENGTH,
</I>&gt;<i> HMAC is deprecated in 3.0 but not finding the suitable replacement to use in application.
</I>&gt;<i> We feel we can use EVP_MAC API&#8217;s, but not sure the exact API which replaces HMAC
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> Error2 : error: invalid use of incomplete type 'SSL' {aka 'struct ssl_st'} ssl-&gt;d1-&gt;mtu = MAX_SEND_PKT_SIZE;
</I>&gt;<i> Our application is trying to set the MTU size but can not access d1 of 'struct ssl_st'.
</I>&gt;<i> Any utility exposed to applications similar to API dtls1_ctrl which is mostly an internal one
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> Regards,
</I>&gt;<i> Sunil 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Notice: This e-mail together with any attachments may contain information of Ribbon Communications Inc. that is confidential and/or proprietary for the sole use of the intended recipient. Any review, disclosure, reliance or distribution by others or forwarding without express permission is strictly prohibited. If you are not the intended recipient, please notify the sender immediately and then delete all copies, including any attachments.
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20201127/27af06b1/attachment-0001.html">https://mta.openssl.org/pipermail/openssl-users/attachments/20201127/27af06b1/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013176.html">HMAC is deprecated in 3.0 getting error 'HMAC' was not declared in this scope
</A></li>
	<LI>Next message: <A HREF="013178.html">HMAC is deprecated in 3.0 getting error 'HMAC' was not declared in this scope
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13177">[ date ]</a>
              <a href="thread.html#13177">[ thread ]</a>
              <a href="subject.html#13177">[ subject ]</a>
              <a href="author.html#13177">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
