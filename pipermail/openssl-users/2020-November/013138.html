<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> ## Application accessing 'ex_kusage' ##
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%23%23%20Application%20accessing%20%27ex_kusage%27%20%23%23&In-Reply-To=%3CSN6PR03MB40610498F1D95B9449ED1D31B0E60%40SN6PR03MB4061.namprd03.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013150.html">
   <LINK REL="Next"  HREF="013145.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>## Application accessing 'ex_kusage' ##</H1>
    <B>Narayana, Sunil Kumar</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%23%23%20Application%20accessing%20%27ex_kusage%27%20%23%23&In-Reply-To=%3CSN6PR03MB40610498F1D95B9449ED1D31B0E60%40SN6PR03MB4061.namprd03.prod.outlook.com%3E"
       TITLE="## Application accessing 'ex_kusage' ##">sanarayana at rbbn.com
       </A><BR>
    <I>Fri Nov 13 19:10:28 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="013150.html">Server application hangs on SS_read, even when client disconnects
</A></li>
        <LI>Next message: <A HREF="013145.html">## Application accessing 'ex_kusage' ##
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13138">[ date ]</a>
              <a href="thread.html#13138">[ thread ]</a>
              <a href="subject.html#13138">[ subject ]</a>
              <a href="author.html#13138">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi ,
                We are porting our Application from  openssl 1.0.1 to openssl 3.0. in related to this activity we require to access the variable 'ex_kusage' pointed by X509
But there are no set utilities available to access this variable. Only  X509_get_key_usage Is available.

Our code for 1.0.1 is as below. Please suggest the right way to achieve this.

    ASN1_BIT_STRING *usage;
662     x509-&gt;ex_kusage = 0;
663
664     if((usage=(ASN1_BIT_STRING *)X509_get_ext_d2i(x509, NID_key_usage, NULL, NULL)))
665     {
666         if(usage-&gt;length &gt; 0)
667         {
668             x509-&gt;ex_kusage = usage-&gt;data[0];
669             if(usage-&gt;length &gt; 1)
670                 x509-&gt;ex_kusage |= usage-&gt;data[1] &lt;&lt; 8;
671         }
672         else
673             x509-&gt;ex_kusage = 0;
674         ASN1_BIT_STRING_free(usage);
675     }

Regards,
Sunil


-----------------------------------------------------------------------------------------------------------------------
Notice: This e-mail together with any attachments may contain information of Ribbon Communications Inc. that
is confidential and/or proprietary for the sole use of the intended recipient.  Any review, disclosure, reliance or
distribution by others or forwarding without express permission is strictly prohibited.  If you are not the intended
recipient, please notify the sender immediately and then delete all copies, including any attachments.
-----------------------------------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20201113/26ac67c9/attachment.html">https://mta.openssl.org/pipermail/openssl-users/attachments/20201113/26ac67c9/attachment.html</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013150.html">Server application hangs on SS_read, even when client disconnects
</A></li>
	<LI>Next message: <A HREF="013145.html">## Application accessing 'ex_kusage' ##
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13138">[ date ]</a>
              <a href="thread.html#13138">[ thread ]</a>
              <a href="subject.html#13138">[ subject ]</a>
              <a href="author.html#13138">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
