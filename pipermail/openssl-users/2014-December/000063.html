<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] eng_cryptodev question
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2014-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20eng_cryptodev%20question&In-Reply-To=%3C20141211210332.eeb34916bcd0f3b3f2a731314e331348.f607bceee4.mailapi%40email13.secureserver.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000059.html">
   <LINK REL="Next"  HREF="000070.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] eng_cryptodev question</H1>
    <B>Chris Eltervoog</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20eng_cryptodev%20question&In-Reply-To=%3C20141211210332.eeb34916bcd0f3b3f2a731314e331348.f607bceee4.mailapi%40email13.secureserver.net%3E"
       TITLE="[openssl-users] eng_cryptodev question">thevoog at voog.ca
       </A><BR>
    <I>Fri Dec 12 04:03:32 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000059.html">[openssl-users] Using s_client under z/OS installation
</A></li>
        <LI>Next message: <A HREF="000070.html">[openssl-users]  How to get current using openssl version
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63">[ date ]</a>
              <a href="thread.html#63">[ thread ]</a>
              <a href="subject.html#63">[ subject ]</a>
              <a href="author.html#63">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have implemented a H/W encryption driver and have integrated it with cryptodev.  In eng_cryptodev.c there is an array digests[].  In that array it defines CRYPTO_MD5 to have a keylen of 16.  In cryptodev, the xform.c file definedes MD5 to have a keylen of 0.    Why is the keylen not zero for the MD5 entry in this table?
 
Cryptodev also defines the keylen in a structure.  The keylen is zero there.  A comparison happens on session creation.  This difference causes a check in the session creation to fail and cryptodev always selects the s/w crypto engine. If I change the eng_cryptodev digests[] entry for CRYPTO_MD5 to have a keylen of zero the MD5 hashing works, however Key generation output changes.  If you run the openssl test case for key generation it will fail.  It seems that the files generated are smaller. I don't see how this change has this side affect with key generation.
 
 
Chris.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.opensslfoundation.net/pipermail/openssl-users/attachments/20141211/06e52a53/attachment.html">http://mta.opensslfoundation.net/pipermail/openssl-users/attachments/20141211/06e52a53/attachment.html</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000059.html">[openssl-users] Using s_client under z/OS installation
</A></li>
	<LI>Next message: <A HREF="000070.html">[openssl-users]  How to get current using openssl version
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#63">[ date ]</a>
              <a href="thread.html#63">[ thread ]</a>
              <a href="subject.html#63">[ subject ]</a>
              <a href="author.html#63">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://mta.opensslfoundation.net/mailman/listinfo/openssl-users">More information about the openssl-users
mailing list</a><br>
</body></html>
