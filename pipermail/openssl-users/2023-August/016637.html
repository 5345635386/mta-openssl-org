<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Calling OpenSSL_thread_stop() multiple times
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2023-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Calling%20OpenSSL_thread_stop%28%29%20multiple%20times&In-Reply-To=%3CCAMd_dYWDi7Re_i4d1S94PVsyxcNXiNCuX9mOULQV%2BHL36H8WpQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016643.html">
   <LINK REL="Next"  HREF="016638.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Calling OpenSSL_thread_stop() multiple times</H1>
    <B>Dipak B</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Calling%20OpenSSL_thread_stop%28%29%20multiple%20times&In-Reply-To=%3CCAMd_dYWDi7Re_i4d1S94PVsyxcNXiNCuX9mOULQV%2BHL36H8WpQ%40mail.gmail.com%3E"
       TITLE="Calling OpenSSL_thread_stop() multiple times">deepak.redmi2 at gmail.com
       </A><BR>
    <I>Tue Aug 22 14:43:02 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016643.html">Migrating to 3.x - how to handle PKEY types and Sig Algorithms?
</A></li>
        <LI>Next message (by thread): <A HREF="016638.html">Calling OpenSSL_thread_stop() multiple times
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16637">[ date ]</a>
              <a href="thread.html#16637">[ thread ]</a>
              <a href="subject.html#16637">[ subject ]</a>
              <a href="author.html#16637">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Can anyone please share insights on the following?

I have created DLL which uses statically linked ossl 3.0 and libcurl. The
functions exported by this DLL get called by 2 different applications.

app1 calls foo() exported by DLL with different thread ids for each
invocation.

app2 calls foo() exported by DLL with same thread ids for each invocation.

Thus app2 calls openssl_stop_thread() multiple times on same thread. Added
function foo() below.

Is it okay to call openssl_stop_thread() on a thread and then again use
that thread for TLS communication ? In effect end up calling
open_ssl_thread() multiple times on same thread.

 Does not look good to me. While have few changes in mind that can satisfy
both scenarios separately, can there be way to write foo() so that it
satisfies both app1 and app2?


int foo()
{
//Other logic
Openssl_stop_thread();
}

Thanks and Regards.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20230822/99398e8a/attachment.htm">https://mta.openssl.org/pipermail/openssl-users/attachments/20230822/99398e8a/attachment.htm</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016643.html">Migrating to 3.x - how to handle PKEY types and Sig Algorithms?
</A></li>
	<LI>Next message (by thread): <A HREF="016638.html">Calling OpenSSL_thread_stop() multiple times
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16637">[ date ]</a>
              <a href="thread.html#16637">[ thread ]</a>
              <a href="subject.html#16637">[ subject ]</a>
              <a href="author.html#16637">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
