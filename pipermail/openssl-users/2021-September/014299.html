<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Getting SSL_SESSION remaining lifetime
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Getting%20SSL_SESSION%20remaining%20lifetime&In-Reply-To=%3CYUK3f%2Br9IpSFKPTr%40straasha.imrryr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014297.html">
   <LINK REL="Next"  HREF="014304.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Getting SSL_SESSION remaining lifetime</H1>
    <B>Viktor Dukhovni</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Getting%20SSL_SESSION%20remaining%20lifetime&In-Reply-To=%3CYUK3f%2Br9IpSFKPTr%40straasha.imrryr.org%3E"
       TITLE="Getting SSL_SESSION remaining lifetime">openssl-users at dukhovni.org
       </A><BR>
    <I>Thu Sep 16 03:18:23 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="014297.html">Getting SSL_SESSION remaining lifetime
</A></li>
        <LI>Next message: <A HREF="014304.html">Getting SSL_SESSION remaining lifetime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14299">[ date ]</a>
              <a href="thread.html#14299">[ thread ]</a>
              <a href="subject.html#14299">[ subject ]</a>
              <a href="author.html#14299">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Sep 16, 2021 at 08:11:44AM +0530, Jaya Muthiah wrote:

&gt;<i> I am trying to get the remaining lifetime of the ticket so that server can
</I>&gt;<i> decide to renew ticket or not
</I>
In Postfix, I rotate ticket keys every hour, and sessions are valid for
two hours.  For the first hour when they were issued by the current
ticket the ticket is accepted without forcing a new ticket to be
generated.  Durign the second hour when accepting tickets signed by
the previous key, a fresh ticket is generated.

I don't rely on OpenSSL to tell me the ticket age, it is implied by
the key id.

Since ticket keys should be rotated anyway, something like that might
also work for you.

What I haven't yet built is a mechanism to rotate keys consistely across
multiple machines in a load-balancer pool.  That would be generally
useful.

-- 
    Viktor.
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014297.html">Getting SSL_SESSION remaining lifetime
</A></li>
	<LI>Next message: <A HREF="014304.html">Getting SSL_SESSION remaining lifetime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14299">[ date ]</a>
              <a href="thread.html#14299">[ thread ]</a>
              <a href="subject.html#14299">[ subject ]</a>
              <a href="author.html#14299">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
