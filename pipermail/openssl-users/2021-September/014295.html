<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [EXTERNAL] Re: ENGINE API replacement for Openssl3.0
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2021-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5BEXTERNAL%5D%20Re%3A%20ENGINE%20API%20replacement%20for%20Openssl3.0&In-Reply-To=%3C18B82797-7EA7-4D1E-93CF-FA57FF7FBA0D%40amongbytes.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014293.html">
   <LINK REL="Next"  HREF="014240.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[EXTERNAL] Re: ENGINE API replacement for Openssl3.0</H1>
    <B>Kris Kwiatkowski</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5BEXTERNAL%5D%20Re%3A%20ENGINE%20API%20replacement%20for%20Openssl3.0&In-Reply-To=%3C18B82797-7EA7-4D1E-93CF-FA57FF7FBA0D%40amongbytes.com%3E"
       TITLE="[EXTERNAL] Re: ENGINE API replacement for Openssl3.0">kris at amongbytes.com
       </A><BR>
    <I>Wed Sep 15 17:18:11 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="014293.html">[EXTERNAL] Re: ENGINE API replacement for Openssl3.0
</A></li>
        <LI>Next message: <A HREF="014240.html">Congratulations!  Missing 3.0.0 tag?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14295">[ date ]</a>
              <a href="thread.html#14295">[ thread ]</a>
              <a href="subject.html#14295">[ subject ]</a>
              <a href="author.html#14295">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Great, thanks! 

On 15 September 2021 17:07:59 BST, Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i>On 15/09/2021 16:57, Matt Caswell wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On 15/09/2021 16:50, Kris Kwiatkowski wrote:
</I>&gt;&gt;&gt;<i> Can you point to instructions on how to load provider
</I>&gt;&gt;&gt;<i> it into OpenSSL?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Is there something similar to &quot;[engine_section]&quot;,
</I>&gt;&gt;&gt;<i> that can be used to configure loading from openssl.conf?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Yes. See the &quot;config&quot; man page here:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> <A HREF="https://www.openssl.org/docs/man3.0/man5/config.html">https://www.openssl.org/docs/man3.0/man5/config.html</A>
</I>&gt;<i>
</I>&gt;<i>And here are some simple config files that do this:
</I>&gt;<i>
</I>&gt;<i><A HREF="https://github.com/openssl/openssl/blob/master/test/default.cnf">https://github.com/openssl/openssl/blob/master/test/default.cnf</A>
</I>&gt;<i><A HREF="https://github.com/openssl/openssl/blob/master/test/default-and-fips.cnf">https://github.com/openssl/openssl/blob/master/test/default-and-fips.cnf</A>
</I>&gt;<i><A HREF="https://github.com/openssl/openssl/blob/master/test/default-and-legacy.cnf">https://github.com/openssl/openssl/blob/master/test/default-and-legacy.cnf</A>
</I>&gt;<i><A HREF="https://github.com/openssl/openssl/blob/master/test/fips-and-base.cnf">https://github.com/openssl/openssl/blob/master/test/fips-and-base.cnf</A>
</I>&gt;<i><A HREF="https://github.com/openssl/openssl/blob/master/test/fips.cnf">https://github.com/openssl/openssl/blob/master/test/fips.cnf</A>
</I>&gt;<i>
</I>&gt;<i>Matt
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> In particular look at the section &quot;Provider Configuration&quot;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> You can also load providers through the API. See:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> <A HREF="https://www.openssl.org/docs/man3.0/man3/OSSL_PROVIDER_load.html">https://www.openssl.org/docs/man3.0/man3/OSSL_PROVIDER_load.html</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Matt
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> BR,
</I>&gt;&gt;&gt;<i> Kris
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On 9/15/21 4:39 PM, Matt Caswell wrote:
</I>&gt;&gt;&gt;&gt;<i> Another, slightly more complicated, but fully self contained provider is
</I>&gt;&gt;&gt;&gt;<i> here:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="https://github.com/openssl/openssl/blob/master/test/tls-provider.c">https://github.com/openssl/openssl/blob/master/test/tls-provider.c</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> And another one here:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="https://github.com/openssl/openssl/blob/master/test/p_test.c">https://github.com/openssl/openssl/blob/master/test/p_test.c</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> A minimal bare bones provider is here:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="https://github.com/openssl/openssl/blob/master/providers/nullprov.c">https://github.com/openssl/openssl/blob/master/providers/nullprov.c</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> The legacy provider is also worth looking at:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="https://github.com/openssl/openssl/blob/master/providers/legacyprov.c">https://github.com/openssl/openssl/blob/master/providers/legacyprov.c</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Matt
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On 15/09/2021 13:26, Petr Gotthard wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> Shiva,
</I>&gt;&gt;&gt;&gt;&gt;<i> you may also have a look at 
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="thehttps://github.com/provider-corner/vigenere">thehttps://github.com/provider-corner/vigenere</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> That's (as far as I know) the most simple provider implementation 
</I>&gt;&gt;&gt;&gt;&gt;<i> available.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Petr
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;&gt;&gt;&gt;<i> From: openssl-users&lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>&gt;&#160; On Behalf Of 
</I>&gt;&gt;&gt;&gt;&gt;<i> Tomas Mraz
</I>&gt;&gt;&gt;&gt;&gt;<i> Sent: Wednesday, September 15, 2021 2:18 PM
</I>&gt;&gt;&gt;&gt;&gt;<i> To: Shivakumar 
</I>&gt;&gt;&gt;&gt;&gt;<i> Poojari&lt;<A HREF="../../../mailman/listinfo/openssl-users.html">Shivakumar.Poojari at rbbn.com</A>&gt;;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> Cc: Paramashivaiah, Sunil&lt;<A HREF="../../../mailman/listinfo/openssl-users.html">Sunil.Paramashivaiah at rbbn.com</A>&gt;; 
</I>&gt;&gt;&gt;&gt;&gt;<i> Bhattacharjee, Debapriyo (c)&lt;<A HREF="../../../mailman/listinfo/openssl-users.html">dbhattacharjee at rbbn.com</A>&gt;
</I>&gt;&gt;&gt;&gt;&gt;<i> Subject: Re: [EXTERNAL] Re: ENGINE API replacement for Openssl3.0
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I am sorry but as I said providers are not a direct replacement for 
</I>&gt;&gt;&gt;&gt;&gt;<i> ENGINEs. It is a completely different implementation of the same 
</I>&gt;&gt;&gt;&gt;&gt;<i> concept of pluggable cryptographical modules for OpenSSL. You can 
</I>&gt;&gt;&gt;&gt;&gt;<i> look at the OpenSSL manual pages for the providers.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> This is the starting point:
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="https://www.openssl.org/docs/man3.0/man7/provider.html">https://www.openssl.org/docs/man3.0/man7/provider.html</A>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> There is no tutorial as for how to implement your own provider. And 
</I>&gt;&gt;&gt;&gt;&gt;<i> as I said on the application side if the application loads an 
</I>&gt;&gt;&gt;&gt;&gt;<i> OpenSSL configuration file the providers loaded can be configured 
</I>&gt;&gt;&gt;&gt;&gt;<i> via the config file and does not require any explicit API calls from 
</I>&gt;&gt;&gt;&gt;&gt;<i> the application.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I'd recommend looking at some of the test sources in the tests 
</I>&gt;&gt;&gt;&gt;&gt;<i> directory for some code examples.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Tomas
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> On Wed, 2021-09-15 at 10:34 +0000, Shivakumar Poojari wrote:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Hi Tomas,
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> As Engine function are deprecated I tried using providers
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> But how to use providers to get engine functionality tried in man
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> pages
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Some sample program will help, maybe some sample program will give the
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> clear idea how to use provider
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Struggling in understand the providers
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Please share the sample program and the links to understand the
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> providers
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Thanks,
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> shiva kumar
</I>&gt;&gt;<i> 
</I>&gt;<i>
</I>
-- 
Sent from my Android device with K-9 Mail. Please excuse my brevity.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20210915/0c7383ac/attachment.html">https://mta.openssl.org/pipermail/openssl-users/attachments/20210915/0c7383ac/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014293.html">[EXTERNAL] Re: ENGINE API replacement for Openssl3.0
</A></li>
	<LI>Next message: <A HREF="014240.html">Congratulations!  Missing 3.0.0 tag?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14295">[ date ]</a>
              <a href="thread.html#14295">[ thread ]</a>
              <a href="subject.html#14295">[ subject ]</a>
              <a href="author.html#14295">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
