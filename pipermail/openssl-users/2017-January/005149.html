<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Disable ETM in OpenSSL 1.1.0+
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Disable%20ETM%20in%20OpenSSL%201.1.0%2B&In-Reply-To=%3CF7B4BEB1-2FD9-444E-8493-8C4B47E82E73%40nsslabs.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005145.html">
   <LINK REL="Next"  HREF="005146.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Disable ETM in OpenSSL 1.1.0+</H1>
    <B>Michael Shirley</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Disable%20ETM%20in%20OpenSSL%201.1.0%2B&In-Reply-To=%3CF7B4BEB1-2FD9-444E-8493-8C4B47E82E73%40nsslabs.com%3E"
       TITLE="[openssl-users] Disable ETM in OpenSSL 1.1.0+">mshirley at nsslabs.com
       </A><BR>
    <I>Mon Jan 16 17:17:25 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="005145.html">[openssl-users] Disable ETM in OpenSSL 1.1.0+
</A></li>
        <LI>Next message: <A HREF="005146.html">[openssl-users] End user getting request to update OpenSSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5149">[ date ]</a>
              <a href="thread.html#5149">[ thread ]</a>
              <a href="subject.html#5149">[ subject ]</a>
              <a href="author.html#5149">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I tested the master branch that adds this capability, but I&#8217;m apparently not using the right combination of flags to turn it off &#8211; when I attempt s_client/s_server in the 1.1.1dev branch, I&#8217;m still seeing the ETM extension offered and negotiated for CBC suites. What would be the correct method to disable ETM using the master branch? 

Thanks,
-Mike

On 1/16/17, 9:00 AM, &quot;openssl-users on behalf of Matt Caswell&quot; &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A> on behalf of <A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&gt; wrote:

    
    
    On 16/01/17 14:14, Michael Shirley wrote:
    &gt; It appears that starting with OpenSSL 1.1.0, it is not possible to
    &gt; disable the Encrypt-Then-MAC (ETM) TLS extension for CBC ciphers. Is
    &gt; there an undocumented method to do this, which would also allow me to
    &gt; use the built-in s_server/s_client test mechanism?
    
    This is a new feature in 1.1.0 that is on by default. Unfortunately
    there is no way to disable it. That capability has since been added to
    the master branch (so will be in 1.1.1) via this commit:
    
    commit cde6145ba19a2fce039cf054a89e49f67c623c59
    Author:     David Woodhouse &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">David.Woodhouse at intel.com</A>&gt;
    AuthorDate: Fri Oct 14 00:26:38 2016 +0100
    Commit:     Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&gt;
    CommitDate: Mon Oct 17 23:17:39 2016 +0100
    
        Add SSL_OP_NO_ENCRYPT_THEN_MAC
    
        Reviewed-by: Tim Hudson &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">tjh at openssl.org</A>&gt;
        Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&gt;
    
    
    Matt
    -- 
    openssl-users mailing list
    To unsubscribe: <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
    
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4549 bytes
Desc: not available
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20170116/c180a9ff/attachment.bin">http://mta.openssl.org/pipermail/openssl-users/attachments/20170116/c180a9ff/attachment.bin</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005145.html">[openssl-users] Disable ETM in OpenSSL 1.1.0+
</A></li>
	<LI>Next message: <A HREF="005146.html">[openssl-users] End user getting request to update OpenSSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5149">[ date ]</a>
              <a href="thread.html#5149">[ thread ]</a>
              <a href="subject.html#5149">[ subject ]</a>
              <a href="author.html#5149">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
