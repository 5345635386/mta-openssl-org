<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] troubleshooting a puzzling issue
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2017-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20troubleshooting%20a%20puzzling%20issue&In-Reply-To=%3C41A36A7F-FF5D-4190-9178-E9FF11AFF712%40inria.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005139.html">
   <LINK REL="Next"  HREF="005122.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] troubleshooting a puzzling issue</H1>
    <B>Thierry Parmentelat</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20troubleshooting%20a%20puzzling%20issue&In-Reply-To=%3C41A36A7F-FF5D-4190-9178-E9FF11AFF712%40inria.fr%3E"
       TITLE="[openssl-users] troubleshooting a puzzling issue">thierry.parmentelat at inria.fr
       </A><BR>
    <I>Fri Jan 13 10:28:40 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="005139.html">[openssl-users] Generate ECC key with password protection
</A></li>
        <LI>Next message: <A HREF="005122.html">[openssl-users] troubleshooting a puzzling issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5121">[ date ]</a>
              <a href="thread.html#5121">[ thread ]</a>
              <a href="subject.html#5121">[ subject ]</a>
              <a href="author.html#5121">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey


I am facing a problem that I have narrowed down to this:

I have two certificates, one being signed by the other
the attached code is a python code that uses M2Crypto to check for that fact

and it turns out, on some boxes x509_verify() returns 1 as expected, while on some others I am getting -1


---
I apologize that I am not able to write a pure C code that would reproduce the issue (I&#8217;m afraid that me trying to achieve that would just lead to more artificial problems than be actually helpful in any way :)

the m2crypto guys tell me they are essentially just passing stuff along to openssl&#8217;s function
X509_verify
as described here
<A HREF="https://www.openssl.org/docs/man1.1.0/crypto/X509_verify.html">https://www.openssl.org/docs/man1.1.0/crypto/X509_verify.html</A>

---
and this says, I quote:

X509_verify(), X509_REQ_verify() and X509_CRL_verify() return 1 if the signature is valid and 0 if the signature check fails. If the signature could not be checked at all because it was invalid or some other error occurred then -1 is returned.


So my question here is, how do I go about figuring out what &#8216;some other error&#8217; might be in my case ?

I was wondering, for example, if it could just be a missing library or something along this line, as my understanding is that the range of algorithms, ciphers, and other hashes can be configured at build-time
what tools can I use to look in this direction ?

---
So far it looks like the problems happens on fedora installations, while the code behaves as expected on macos and ubuntus
I have not yet been able to assess that on a wide variety of installations yet


Thanks for any hint 




-------------- next part --------------
A non-text attachment was scrubbed...
Name: m2.py
Type: text/x-python-script
Size: 1833 bytes
Desc: not available
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20170113/323959a0/attachment.bin">http://mta.openssl.org/pipermail/openssl-users/attachments/20170113/323959a0/attachment.bin</A>&gt;
-------------- next part --------------





</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005139.html">[openssl-users] Generate ECC key with password protection
</A></li>
	<LI>Next message: <A HREF="005122.html">[openssl-users] troubleshooting a puzzling issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5121">[ date ]</a>
              <a href="thread.html#5121">[ thread ]</a>
              <a href="subject.html#5121">[ subject ]</a>
              <a href="author.html#5121">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
