<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> SMIME signed message verification
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-October/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20SMIME%20signed%20message%20verification&In-Reply-To=%3CC7727271-5CD6-4324-B391-E99DCD776645%40c-works.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013083.html">
   <LINK REL="Next"  HREF="013085.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>SMIME signed message verification</H1>
    <B>Harald Koch</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20SMIME%20signed%20message%20verification&In-Reply-To=%3CC7727271-5CD6-4324-B391-E99DCD776645%40c-works.net%3E"
       TITLE="SMIME signed message verification">root at c-works.net
       </A><BR>
    <I>Thu Oct 29 13:50:31 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="013083.html">SMIME signed message verification
</A></li>
        <LI>Next message: <A HREF="013085.html">SMIME signed message verification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13084">[ date ]</a>
              <a href="thread.html#13084">[ thread ]</a>
              <a href="subject.html#13084">[ subject ]</a>
              <a href="author.html#13084">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Michael,

&gt;<i> Am 29.10.2020 um 14:12 schrieb Michael Richardson &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">mcr at sandelman.ca</A>&gt;
</I>&gt;&gt;<i> - &quot;Unable to verify content integrity: Missing data&quot;
</I>&gt;&gt;<i> - &quot;The system is unable to find out the sign algorithm of the inbound message&quot;
</I>&gt;<i> 
</I>&gt;&gt;<i> I digged a bit deeper into the ASN1 data (&#8222;cat signature.base64 | base64 -d | openssl asn1parse -inform DER&quot; ), leading to my assumption that the algorithm provided for signature contained differs:
</I>&gt;&gt;<i> - openSSL indicates &#8222;rsaEncryption&quot;
</I>&gt;&gt;<i> - Java indicates &#8222;sha512WithRSAEncryption&quot;
</I>&gt;<i> 
</I>&gt;<i> The first error you got seems inconsistent with this problem.
</I>&gt;<i> Is is possible that one of you are sending CMS structures with out-of-band content?
</I>Yes, the signed message is contained in a HTTP(S) multipart request with more payload and header information, sure. The only different part is the signed content, all other content has been manually checked, they are exactly the same. May it be possible that the CMS data which openSSL generates is much bigger due to unneeded certificate information, which makes the Java process stumble over the input? 

Regards,
Harald
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013083.html">SMIME signed message verification
</A></li>
	<LI>Next message: <A HREF="013085.html">SMIME signed message verification
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13084">[ date ]</a>
              <a href="thread.html#13084">[ thread ]</a>
              <a href="subject.html#13084">[ subject ]</a>
              <a href="author.html#13084">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
