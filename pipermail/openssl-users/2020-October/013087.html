<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Decrypt error when using openssl 1.1.1b during SSL handshake
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-October/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Decrypt%20error%20when%20using%20openssl%201.1.1b%20during%20SSL%20handshake&In-Reply-To=%3CCADDGra3YtXzbngpbmObBgNz872beQA41iL9M-u4ryg-3NcFiKg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013082.html">
   <LINK REL="Next"  HREF="013089.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Decrypt error when using openssl 1.1.1b during SSL handshake</H1>
    <B>Mahendra SP</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Decrypt%20error%20when%20using%20openssl%201.1.1b%20during%20SSL%20handshake&In-Reply-To=%3CCADDGra3YtXzbngpbmObBgNz872beQA41iL9M-u4ryg-3NcFiKg%40mail.gmail.com%3E"
       TITLE="Decrypt error when using openssl 1.1.1b during SSL handshake">mahendra.sp at gmail.com
       </A><BR>
    <I>Fri Oct 30 09:18:29 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="013082.html">Facing problems with openssl-1.1.1c &amp; later versions
</A></li>
        <LI>Next message: <A HREF="013089.html">Decrypt error when using openssl 1.1.1b during SSL handshake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13087">[ date ]</a>
              <a href="thread.html#13087">[ thread ]</a>
              <a href="subject.html#13087">[ subject ]</a>
              <a href="author.html#13087">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All.

We have upgraded openssl version to 1.1.1b

With this, we are seeing decryption error during SSL handshake for the
below explained scenario. Our device acts as an SSL server.

We have external hardware to offload RSA private key operations using the
engine.
Decryption of pre-master secret is done using hardware and is successful.
We compared the pre-master secret on both server and client and they match.
However, we see that SSL handshake fails with &quot;decrypt error (51)&quot; with an
alert number 21. Verifying the encrypted finish message on the server side
fails.

This issue does not happen with software performing RSA private key
operations.

Can someone help with the reason for decryption failure? Below is the
compiler and processor details. It is 64 bit.
arm-linux-gnueabihf-gcc  -march=armv7ve -mthumb -mfpu=neon -mfloat-abi=hard

Thanks
Mahendra
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20201030/3fb40d92/attachment.html">https://mta.openssl.org/pipermail/openssl-users/attachments/20201030/3fb40d92/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013082.html">Facing problems with openssl-1.1.1c &amp; later versions
</A></li>
	<LI>Next message: <A HREF="013089.html">Decrypt error when using openssl 1.1.1b during SSL handshake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13087">[ date ]</a>
              <a href="thread.html#13087">[ thread ]</a>
              <a href="subject.html#13087">[ subject ]</a>
              <a href="author.html#13087">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
