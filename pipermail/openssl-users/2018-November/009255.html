<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] How to use RSA certificate and ECC certificate simutaneously
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2018-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20How%20to%20use%20RSA%20certificate%20and%20ECC%20certificate%0A%20simutaneously&In-Reply-To=%3C254e2372.cde2.167355324bd.Coremail.maoly527%40163.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009251.html">
   <LINK REL="Next"  HREF="009256.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] How to use RSA certificate and ECC certificate simutaneously</H1>
    <B>&#27611;</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20How%20to%20use%20RSA%20certificate%20and%20ECC%20certificate%0A%20simutaneously&In-Reply-To=%3C254e2372.cde2.167355324bd.Coremail.maoly527%40163.com%3E"
       TITLE="[openssl-users] How to use RSA certificate and ECC certificate simutaneously">maoly527 at 163.com
       </A><BR>
    <I>Wed Nov 21 08:11:40 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="009251.html">[openssl-users] How to use RSA certificate and ECC certificate simutaneously
</A></li>
        <LI>Next message: <A HREF="009256.html">[openssl-users] How to use RSA certificate and ECC certificate simutaneously
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9255">[ date ]</a>
              <a href="thread.html#9255">[ thread ]</a>
              <a href="subject.html#9255">[ subject ]</a>
              <a href="author.html#9255">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Viktor, Many thanks for your response.

We are using SSL_CTX_use_certificate() instead of SSL_CTX_use_certificate_chain_file(). Does it also support multiple certificate chains?

And as I know, OpenSSL 1.0.2 and later have a separate chain store for each type of certificate (RSA, ECC or DSA),
Is there any bad impact to call it multiple times for same type of certificate?



Best Regards,
Jane

At 2018-11-20 23:44:59, &quot;Viktor Dukhovni&quot; &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at dukhovni.org</A>&gt; wrote:
&gt;&gt;<i> On Nov 20, 2018, at 9:48 AM, maoly527 &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">maoly527 at 163.com</A>&gt; wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Does anyone know how to use RSA and ECC certificate simultaneously in one server?
</I>&gt;<i>
</I>&gt;<i>You just configure two private keys and two certificate chains by calling:
</I>&gt;<i>
</I>&gt;<i>  if (SSL_CTX_use_certificate_chain_file(ctx, cert_file) &lt;= 0) {
</I>&gt;<i>	/* error */;
</I>&gt;<i>  }
</I>&gt;<i>  if (SSL_CTX_use_PrivateKey_file(ctx, key_file, SSL_FILETYPE_PEM) &lt;= 0) {
</I>&gt;<i>       /* error */;
</I>&gt;<i>  }
</I>&gt;<i>  if (SSL_CTX_check_private_key(ctx) != 0) {
</I>&gt;<i>	/* error */;
</I>&gt;<i>  }	
</I>&gt;<i>
</I>&gt;<i>once for each &quot;cert_file&quot; and associated &quot;key_file&quot; (the same file often
</I>&gt;<i>holds both, in which case cert_file == key_file).  The SSL error stack
</I>&gt;<i>will contain error details.
</I>&gt;<i>
</I>&gt;<i>The SSL library will automatically select the appropriate key and certificate
</I>&gt;<i>chain.
</I>&gt;<i>
</I>&gt;<i>-- 
</I>&gt;<i>	Viktor.
</I>&gt;<i>
</I>&gt;<i>-- 
</I>&gt;<i>openssl-users mailing list
</I>&gt;<i>To unsubscribe: <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20181121/d720c430/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20181121/d720c430/attachment.html</A>&gt;
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009251.html">[openssl-users] How to use RSA certificate and ECC certificate simutaneously
</A></li>
	<LI>Next message: <A HREF="009256.html">[openssl-users] How to use RSA certificate and ECC certificate simutaneously
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9255">[ date ]</a>
              <a href="thread.html#9255">[ thread ]</a>
              <a href="subject.html#9255">[ subject ]</a>
              <a href="author.html#9255">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
