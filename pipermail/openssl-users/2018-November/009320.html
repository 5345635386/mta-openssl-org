<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] SNI callback
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2018-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20SNI%20callback&In-Reply-To=%3C99A208C6-5174-4C33-802A-BD0979CB5A64%40dukhovni.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009318.html">
   <LINK REL="Next"  HREF="009319.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] SNI callback</H1>
    <B>Viktor Dukhovni</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20SNI%20callback&In-Reply-To=%3C99A208C6-5174-4C33-802A-BD0979CB5A64%40dukhovni.org%3E"
       TITLE="[openssl-users] SNI callback">openssl-users at dukhovni.org
       </A><BR>
    <I>Wed Nov 28 22:18:04 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="009318.html">[openssl-users] SNI callback
</A></li>
        <LI>Next message: <A HREF="009319.html">[openssl-users] Mail
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9320">[ date ]</a>
              <a href="thread.html#9320">[ thread ]</a>
              <a href="subject.html#9320">[ subject ]</a>
              <a href="author.html#9320">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> On Nov 28, 2018, at 3:48 PM, Jeremy Harris &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">jgh at wizmail.org</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Using SSL_CTX_set_tlsext_servername_callback()
</I>&gt;<i> when the called routine returns SSL_TLSEXT_ERR_NOACK
</I>&gt;<i> I was expecting the handshake to fail.  It carries
</I>&gt;<i> on; am I doing something wrong?
</I>
For an SMTP server, SNI values that don't match are not unexpected,
given that e.g. with DANE the DANE-aware clients will send the TLSA
base domain, while non-DANE clients will send the original MX hostname,
which may be different.

So while it is interesting to test failing on SNI mismatch, please DO NOT
fail handshakes on SNI mismatch in SMTP.

-- 
	Viktor.

</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009318.html">[openssl-users] SNI callback
</A></li>
	<LI>Next message: <A HREF="009319.html">[openssl-users] Mail
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9320">[ date ]</a>
              <a href="thread.html#9320">[ thread ]</a>
              <a href="subject.html#9320">[ subject ]</a>
              <a href="author.html#9320">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
