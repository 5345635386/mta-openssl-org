<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> AES-cipher offload to engine in openssl-fips
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20AES-cipher%20offload%20to%20engine%20in%20openssl-fips&In-Reply-To=%3CCACinAYdPidC3-u0YV3_fKf5GeUYuRAHC7zM2H%2BQiiXgmsV0TxQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009948.html">
   <LINK REL="Next"  HREF="009930.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>AES-cipher offload to engine in openssl-fips</H1>
    <B>Suji</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20AES-cipher%20offload%20to%20engine%20in%20openssl-fips&In-Reply-To=%3CCACinAYdPidC3-u0YV3_fKf5GeUYuRAHC7zM2H%2BQiiXgmsV0TxQ%40mail.gmail.com%3E"
       TITLE="AES-cipher offload to engine in openssl-fips">sujiknair at gmail.com
       </A><BR>
    <I>Tue Feb 26 12:51:02 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="009948.html">s_server/s_client on checking middlebox compatibility
</A></li>
        <LI>Next message: <A HREF="009930.html">AES-cipher offload to engine in openssl-fips
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9919">[ date ]</a>
              <a href="thread.html#9919">[ thread ]</a>
              <a href="subject.html#9919">[ subject ]</a>
              <a href="author.html#9919">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am unable to use AES-cipher offload to my engine even though it was
registered with the proper flag (EVP_CIPH_FLAG_FIPS). I was able to use
RSA, digests, and ECDSA to the engine with corresponding flags.

I am using openssl-fips-2.0.16 and openssl-1.0.2e.

OPENSSL_FIPS is set.

I come across the code snippet in crypto/evp/evp_enc.c . In function
EVP_CipherInit_ex. At start, pointer is updated with engine function and at
Line number 173, In case of fips mode, function pointer gets updated to
openssl function. Which means in fips mode ciphers never gets offloaded to
engine?

All other functions (digest, RSA etc) , it first updates to fips function,
and then engine function. Why only ciphers has this different behaviour?

Please reply.

Thanks,
Suji
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20190226/00a8d7b5/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20190226/00a8d7b5/attachment-0001.html</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009948.html">s_server/s_client on checking middlebox compatibility
</A></li>
	<LI>Next message: <A HREF="009930.html">AES-cipher offload to engine in openssl-fips
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9919">[ date ]</a>
              <a href="thread.html#9919">[ thread ]</a>
              <a href="subject.html#9919">[ subject ]</a>
              <a href="author.html#9919">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
