<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> i2d_X509_REQ() -&gt; d2i_X509_REQ() = asn1 encoding routines:c2i_ASN1_OBJECT:invalid object encoding:a_object.c:287
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20i2d_X509_REQ%28%29%20-%3E%20d2i_X509_REQ%28%29%20%3D%20asn1%20encoding%0A%20routines%3Ac2i_ASN1_OBJECT%3Ainvalid%20object%20encoding%3Aa_object.c%3A287&In-Reply-To=%3C81CFA08D-27FE-4E32-8051-73BFB9BB9041%40sharp.fm%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010107.html">
   <LINK REL="Next"  HREF="010109.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>i2d_X509_REQ() -&gt; d2i_X509_REQ() = asn1 encoding routines:c2i_ASN1_OBJECT:invalid object encoding:a_object.c:287</H1>
    <B>Graham Leggett</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20i2d_X509_REQ%28%29%20-%3E%20d2i_X509_REQ%28%29%20%3D%20asn1%20encoding%0A%20routines%3Ac2i_ASN1_OBJECT%3Ainvalid%20object%20encoding%3Aa_object.c%3A287&In-Reply-To=%3C81CFA08D-27FE-4E32-8051-73BFB9BB9041%40sharp.fm%3E"
       TITLE="i2d_X509_REQ() -&gt; d2i_X509_REQ() = asn1 encoding routines:c2i_ASN1_OBJECT:invalid object encoding:a_object.c:287">minfrin at sharp.fm
       </A><BR>
    <I>Mon Mar 18 10:51:53 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="010107.html">i2d_X509_REQ() -&gt; d2i_X509_REQ() = asn1 encoding routines:c2i_ASN1_OBJECT:invalid object encoding:a_object.c:287
</A></li>
        <LI>Next message: <A HREF="010109.html">i2d_X509_REQ() -&gt; d2i_X509_REQ() = asn1 encoding routines:c2i_ASN1_OBJECT:invalid object encoding:a_object.c:287
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10108">[ date ]</a>
              <a href="thread.html#10108">[ thread ]</a>
              <a href="subject.html#10108">[ subject ]</a>
              <a href="author.html#10108">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 18 Mar 2019, at 04:55, Viktor Dukhovni &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at dukhovni.org</A>&gt; wrote:

&gt;<i> On Mon, Mar 18, 2019 at 01:06:19AM +0200, Graham Leggett wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> [<A HREF="../../../mailman/listinfo/openssl-users.html">root at localhost</A> ~]# openssl req -in req.bin -inform der
</I>&gt;&gt;<i> unable to load X509 request
</I>&gt;&gt;<i> 139903756527504:error:0D0C40D8:asn1 encoding routines:c2i_ASN1_OBJECT:invalid object encoding:a_object.c:287:
</I>&gt;&gt;<i> 139903756527504:error:0D08303A:asn1 encoding routines:ASN1_TEMPLATE_NOEXP_D2I:nested asn1 error:tasn_dec.c:720:Field=algorithm, Type=X509_ALGOR
</I>&gt;&gt;<i> 139903756527504:error:0D08303A:asn1 encoding routines:ASN1_TEMPLATE_NOEXP_D2I:nested asn1 error:tasn_dec.c:720:Field=sig_alg, Type=X509_REQ
</I>&gt;<i> 
</I>&gt;<i> The CSR is malformed.
</I>
The CSR is incomplete, but isn&#8217;t malformed.

The CSR is the in the process of being built. Part of that process involves sending the partially complete CSR to another module, which then completes the CSR structure. This used to work, but has regressed when moving from rhel6 to rhel7.

&gt;<i> which has a non-zero length signature algorithm OID (l = 9).  Your
</I>&gt;<i> example has &quot;l=0&quot; where one would expect the signature OID after
</I>&gt;<i> the extensions.
</I>
How do I fix openssl to parse this as it did before?

Regards,
Graham
&#8212;

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010107.html">i2d_X509_REQ() -&gt; d2i_X509_REQ() = asn1 encoding routines:c2i_ASN1_OBJECT:invalid object encoding:a_object.c:287
</A></li>
	<LI>Next message: <A HREF="010109.html">i2d_X509_REQ() -&gt; d2i_X509_REQ() = asn1 encoding routines:c2i_ASN1_OBJECT:invalid object encoding:a_object.c:287
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10108">[ date ]</a>
              <a href="thread.html#10108">[ thread ]</a>
              <a href="subject.html#10108">[ subject ]</a>
              <a href="author.html#10108">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
