<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> bn_sqr8x_internal function consumes a lot of CPU time
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20bn_sqr8x_internal%20function%20consumes%20a%20lot%20of%20CPU%20time&In-Reply-To=%3Cea0ee0c4-e23c-1bcc-5339-468feb89414b%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010022.html">
   <LINK REL="Next"  HREF="010015.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>bn_sqr8x_internal function consumes a lot of CPU time</H1>
    <B>Thang Pham</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20bn_sqr8x_internal%20function%20consumes%20a%20lot%20of%20CPU%20time&In-Reply-To=%3Cea0ee0c4-e23c-1bcc-5339-468feb89414b%40gmail.com%3E"
       TITLE="bn_sqr8x_internal function consumes a lot of CPU time">duythang.net at gmail.com
       </A><BR>
    <I>Mon Mar  4 08:14:52 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="010022.html">AW: OpenVPNGui 2.4.7 fails: format error in certificate's notAfter field
</A></li>
        <LI>Next message: <A HREF="010015.html">bn_sqr8x_internal function consumes a lot of CPU time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10014">[ date ]</a>
              <a href="thread.html#10014">[ thread ]</a>
              <a href="subject.html#10014">[ subject ]</a>
              <a href="author.html#10014">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear all,

I do not know if it is legitimate to ask this question here, but maybe 
you guys can help.

We have a service running behind nginx that using HTTPS. Recently the 
CPU utilization has raised to 100%, and using perf we see that nginx's 
using ~69% of CPU time. Inside nginx, bn_sqr8x_internal uses 32% of 
total CPU time (and mul4x_internal uses 11%).

All information I could find about bn_sqr8x_internal is that it belongs 
to bignum library in libcrypto(?). There is an idea here, that tells 
that they belong to handshake step, but it's BoringSSL, so I'm not sure 
if it's my case.

Could anyone please tell me what is nginx/libcrypto/libssl doing with 
this function, so I can find a clue to optimize the server?

Thank you very much,

-- 

Thang

</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010022.html">AW: OpenVPNGui 2.4.7 fails: format error in certificate's notAfter field
</A></li>
	<LI>Next message: <A HREF="010015.html">bn_sqr8x_internal function consumes a lot of CPU time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10014">[ date ]</a>
              <a href="thread.html#10014">[ thread ]</a>
              <a href="subject.html#10014">[ subject ]</a>
              <a href="author.html#10014">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
