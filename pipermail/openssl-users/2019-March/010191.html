<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Reg solaris support for openssl 1.1.1b
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Reg%20solaris%20support%20for%20openssl%201.1.1b&In-Reply-To=%3CCAHgr%3Dk%2B3hropSNOdgmwH-9o60hShEAMTiB9-g-k1UWBg8PiAOQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010188.html">
   <LINK REL="Next"  HREF="010094.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Reg solaris support for openssl 1.1.1b</H1>
    <B>ramakrushna mishra</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Reg%20solaris%20support%20for%20openssl%201.1.1b&In-Reply-To=%3CCAHgr%3Dk%2B3hropSNOdgmwH-9o60hShEAMTiB9-g-k1UWBg8PiAOQ%40mail.gmail.com%3E"
       TITLE="Reg solaris support for openssl 1.1.1b">rama.krushna7 at gmail.com
       </A><BR>
    <I>Thu Mar 28 05:01:10 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="010188.html">Reg solaris support for openssl 1.1.1b
</A></li>
        <LI>Next message: <A HREF="010094.html">Why were edwards curves given distinct key types, aren't they EC keys?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10191">[ date ]</a>
              <a href="thread.html#10191">[ thread ]</a>
              <a href="subject.html#10191">[ subject ]</a>
              <a href="author.html#10191">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dennis

Yes, 10-main.conf is modified for both the versions.
Following are changes.

&lt;&lt;&lt; file 1:
/view/rdl117_linuxx86_64/vobs_tools/src/openssl-1.1.1b/Configurations/10-main.conf@
@/main/1
&gt;&gt;&gt;<i> file 2: 10-main.conf
</I>********************************
-----[16 changed to 16]-----
&lt;                                 ASFLAGS   =&gt; &quot;/nologo /Zi&quot;,
---
&gt;<i>                                 ASFLAGS   =&gt; &quot;/nologo&quot;,
</I>-----[44 changed to 44]-----
&lt;                                ASFLAGS   =&gt; &quot;/nologo /Zi&quot;,
---
&gt;<i>                                ASFLAGS   =&gt; &quot;/nologo&quot;,
</I>-----[211 changed to 211]-----
&lt;         ex_libs          =&gt; add(&quot;-lsocket -lnsl -ldl&quot;),
---
&gt;<i>         ex_libs          =&gt; add(&quot;-lsocket -lnsl -ldl -lm -lrt&quot;),
</I>-----[1226 changed to 1226]-----
&lt;         lib_cflags       =&gt; add(&quot;/Zi /Fdossl_static.pdb&quot;),
---
&gt;<i>         lib_cflags       =&gt; add(&quot;/Fdossl_static.pdb&quot;),
</I>-----[1228-1229 changed to 1228-1229]-----
&lt;         dso_cflags       =&gt; &quot;/Zi /Fddso.pdb&quot;,
&lt;         bin_cflags       =&gt; &quot;/Zi /Fdapp.pdb&quot;,
---
&gt;<i>         dso_cflags       =&gt; &quot;/Fddso.pdb&quot;,
</I>&gt;<i>         bin_cflags       =&gt; &quot;/Fdapp.pdb&quot;,
</I>
The error is coming for OPENSSL_sk_new_null which is changed in 1.1.1b
compared to 1.1.1 with <A HREF="https://github.com/openssl/openssl/pull/7721.">https://github.com/openssl/openssl/pull/7721.</A>
Can this be related ?

Thanks and Regards,
Ram Krushna


On Wed, Mar 27, 2019 at 4:07 PM &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-request at openssl.org</A>&gt; wrote:

&gt;<i> Send openssl-users mailing list submissions to
</I>&gt;<i>         <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>         <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i>         <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-request at openssl.org</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i>         <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-owner at openssl.org</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of openssl-users digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>    1. Re: Internal IP Exposed (Kyle Hamilton)
</I>&gt;<i>    2. Re: Reg solaris support for openssl 1.1.1b (ramakrushna mishra)
</I>&gt;<i>    3. Re: Reg solaris support for openssl 1.1.1b (Dennis Clarke)
</I>&gt;<i>    4. Re: Building OpenSSL 1.1.1b for WinCE700 (???? (Souju TANAKA))
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Mon, 25 Mar 2019 22:09:31 -0500
</I>&gt;<i> From: Kyle Hamilton &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">aerowolf at gmail.com</A>&gt;
</I>&gt;<i> To: Abdul Qoyyuum &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">aqoyyuum at cardaccess.com.au</A>&gt;
</I>&gt;<i> Cc: openssl-users &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;
</I>&gt;<i> Subject: Re: Internal IP Exposed
</I>&gt;<i> Message-ID:
</I>&gt;<i>         &lt;CAPMEXDY1UVrXFrfFJbFq=
</I>&gt;<i> <A HREF="../../../mailman/listinfo/openssl-users.html">34Rhm-wdVz2YOnR2Ds+3L9Uzz9prw at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;UTF-8&quot;
</I>&gt;<i>
</I>&gt;<i> That's a configuration issue with the servers, not an issue with the
</I>&gt;<i> openssl command itself.
</I>&gt;<i>
</I>&gt;<i> There's no information on what the back-end HTTP server software is
</I>&gt;<i> being used.  If it were Apache, there would be a ServerName directive
</I>&gt;<i> that could change the server's idea of what name it should refer to
</I>&gt;<i> itself as.  I don't have information on other server software
</I>&gt;<i> configuration.
</I>&gt;<i>
</I>&gt;<i> -Kyle H
</I>&gt;<i>
</I>&gt;<i> On Sun, Mar 24, 2019 at 7:34 PM Abdul Qoyyuum
</I>&gt;<i> &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">aqoyyuum at cardaccess.com.au</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi all,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; New to the mailing list and a complete newbie to openssl and the likes.
</I>&gt;<i> There's a ticket by a client that I'm new at and he claims that there's a
</I>&gt;<i> security problem with the openssl command to his servers.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Internal IP exposed after running a openssl (version 1.1.0j) connect
</I>&gt;<i> command:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; openssl s_client -connect 103.XX.XXX.XX:10443 -quiet
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Where 103.XX.XXX.XX is a Public IP. And after it shows the certificates,
</I>&gt;<i> typed the following:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; GET /images HTTP/1.0
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; And hit enter twice, the following gets displayed:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; HTTP/1.0 301 Moved Permanently
</I>&gt;<i> &gt; Date: Mon, 25 Mar 2019 00:10:13 GMT
</I>&gt;<i> &gt; Server: xxxxxxxx-xxxxx
</I>&gt;<i> &gt; Location: <A HREF="https://10.240.123.1:10443/images/">https://10.240.123.1:10443/images/</A>
</I>&gt;<i> &gt; Connection: close
</I>&gt;<i> &gt; Content-Type: text/html; charset=utf-8
</I>&gt;<i> &gt; X-Frame-Options: SAMEORIGIN
</I>&gt;<i> &gt; Content-Security-Policy: frame-ancestors 'self'
</I>&gt;<i> &gt; X-XSS-Protection: 1; mode=block
</I>&gt;<i> &gt; X-Content-Type-Options: nosniff
</I>&gt;<i> &gt; Strict-Transport-Security: max-age=28800
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&gt;
</I>&gt;<i> &gt; &lt;HTML&gt;&lt;HEAD&gt;
</I>&gt;<i> &gt; &lt;TITLE&gt;301 Moved Permanently&lt;/TITLE&gt;
</I>&gt;<i> &gt; &lt;/HEAD&gt;&lt;BODY&gt;
</I>&gt;<i> &gt; &lt;H1&gt;Moved Permanently&lt;/H1&gt;
</I>&gt;<i> &gt; The document has moved &lt;A HREF=&quot;<A HREF="https://10.240.123.1:10443/images/">https://10.240.123.1:10443/images/</A>
</I>&gt;<i> &quot;&gt;here&lt;/A&gt;.&lt;P&gt;
</I>&gt;<i> &gt; &lt;/BODY&gt;&lt;/HTML&gt;
</I>&gt;<i> &gt; read:errno=0
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The 10.240.123.1 is an internal IP and it is exposed by this little
</I>&gt;<i> method. Although not shown when using curl -kv -O command.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is there a way to cover up the &quot;Location&quot; or at least the internal IP
</I>&gt;<i> from being exposed? Thanks.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Sorry if this isn't clear or if this is the wrong place to ask this.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Abdul Qoyyuum Bin Haji Abdul Kadir
</I>&gt;<i> &gt; HP No: +673 720 8043
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 2
</I>&gt;<i> Date: Tue, 26 Mar 2019 10:08:12 +0530
</I>&gt;<i> From: ramakrushna mishra &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">rama.krushna7 at gmail.com</A>&gt;
</I>&gt;<i> To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> Subject: Re: Reg solaris support for openssl 1.1.1b
</I>&gt;<i> Message-ID:
</I>&gt;<i>         &lt;CAHgr=
</I>&gt;<i> <A HREF="../../../mailman/listinfo/openssl-users.html">k+NbGaW735roC+aQBFW4B7VxCYi7o6VsqDqn6_7Xy4yRQ at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;utf-8&quot;
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi All,
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Thanks for your responses.
</I>&gt;<i> I am able to build openssl 1.1.1 on my solaris and able to run &quot;openssl
</I>&gt;<i> version&quot;.
</I>&gt;<i> I followed the same procedure for openssl 1.1.1b and when I run &quot;openssl
</I>&gt;<i> version&quot;  seeing the mentioned error. i.e
</I>&gt;<i> &quot;ld.so.1: openssl: fatal: relocation error: file openssl: symbol
</I>&gt;<i> OPENSSL_sk_new_null: referenced symbol not found
</I>&gt;<i> Killed
</I>&gt;<i> &quot;.
</I>&gt;<i>
</I>&gt;<i> So, How come it works with openssl 1.1.1 and not with 1.1.1b.
</I>&gt;<i> I am using the same machine and same procedure to configure and install it.
</I>&gt;<i> So, Is there anything different that need to be done for 1.1.1b version ?
</I>&gt;<i>
</I>&gt;<i> Thanks and Regards,
</I>&gt;<i> Ram Krushna
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Sat, Mar 16, 2019 at 6:20 AM &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-request at openssl.org</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; Send openssl-users mailing list submissions to
</I>&gt;<i> &gt;&gt;         <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i> &gt;&gt;         <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>&gt;<i> &gt;&gt; or, via email, send a message with subject or body 'help' to
</I>&gt;<i> &gt;&gt;         <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-request at openssl.org</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; You can reach the person managing the list at
</I>&gt;<i> &gt;&gt;         <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-owner at openssl.org</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; When replying, please edit your Subject line so it is more specific
</I>&gt;<i> &gt;&gt; than &quot;Re: Contents of openssl-users digest...&quot;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Today's Topics:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;    1. Re: Reg solaris support for openssl 1.1.1b (Jakob Bohm)
</I>&gt;<i> &gt;&gt;    5. Re: Reg solaris support for openssl 1.1.1b (Dennis Clarke)
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; ----------------------------------------------------------------------
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Message: 1
</I>&gt;<i> &gt;&gt; Date: Fri, 15 Mar 2019 18:19:53 +0100
</I>&gt;<i> &gt;&gt; From: Jakob Bohm &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">jb-openssl at wisemo.com</A>&gt;
</I>&gt;<i> &gt;&gt; To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> &gt;&gt; Subject: Re: Reg solaris support for openssl 1.1.1b
</I>&gt;<i> &gt;&gt; Message-ID: &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">649ef06e-0f64-65bb-cb43-cfde681fd117 at wisemo.com</A>&gt;
</I>&gt;<i> &gt;&gt; Content-Type: text/plain; charset=utf-8; format=flowed
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On 15/03/2019 14:33, Dennis Clarke wrote:
</I>&gt;<i> &gt;&gt; &gt; On 3/15/19 5:38 AM, Matthias St. Pierre wrote:
</I>&gt;<i> &gt;&gt; &gt;&gt; My guess is that your binary is loading the system's shared
</I>&gt;<i> libraries.
</I>&gt;<i> &gt;&gt; &gt;&gt; To find out whether this is the case, try
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt;  ??? ldd bin/openssl
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; If my assumption is correct, you might have to set the
</I>&gt;<i> LD_LIBRARY_PATH
</I>&gt;<i> &gt;&gt; &gt;&gt; explicitely.
</I>&gt;<i> &gt;&gt; &gt; Actually LD_LIBRARY_PATH is evil.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; The correct way to do this is to compile with a RUNPATH set in the
</I>&gt;<i> &gt;&gt; &gt; output ELF files.
</I>&gt;<i> &gt;&gt; LD_LIBRARY_PATH overriding the compiled in RUNPATH is appropriate when
</I>&gt;<i> &gt;&gt; testing
</I>&gt;<i> &gt;&gt; a newly compiled binary before installing the libraries to their final
</I>&gt;<i> &gt;&gt; locations, perhaps
</I>&gt;<i> &gt;&gt; on the same, perhaps on another machine.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; P.S.
</I>&gt;<i> &gt;&gt; I don't known if the Solaris loader lets LD_LIBRARY_PATH override
</I>&gt;<i> &gt;&gt; RUNPATH as
</I>&gt;<i> &gt;&gt; presumed by the above answer.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Enjoy
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Jakob
</I>&gt;<i> &gt;&gt; --
</I>&gt;<i> &gt;&gt; Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
</I>&gt;<i> &gt;&gt; Transformervej 29, 2860 S?borg, Denmark.  Direct +45 31 13 16 10
</I>&gt;<i> &gt;&gt; This public discussion message is non-binding and may contain errors.
</I>&gt;<i> &gt;&gt; WiseMo - Remote Service Management for PCs, Phones and Embedded
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; ------------------------------
</I>&gt;<i> &gt;&gt; Message: 5
</I>&gt;<i> &gt;&gt; Date: Fri, 15 Mar 2019 20:49:30 -0400
</I>&gt;<i> &gt;&gt; From: Dennis Clarke &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">dclarke at blastwave.org</A>&gt;
</I>&gt;<i> &gt;&gt; To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> &gt;&gt; Subject: Re: Reg solaris support for openssl 1.1.1b
</I>&gt;<i> &gt;&gt; Message-ID: &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">4b08232c-f734-987c-814c-5acef59f42ab at blastwave.org</A>&gt;
</I>&gt;<i> &gt;&gt; Content-Type: text/plain; charset=utf-8
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On 3/15/19 1:19 PM, Jakob Bohm via openssl-users wrote:
</I>&gt;<i> &gt;&gt; &gt; On 15/03/2019 14:33, Dennis Clarke wrote:
</I>&gt;<i> &gt;&gt; &gt;&gt; On 3/15/19 5:38 AM, Matthias St. Pierre wrote:
</I>&gt;<i> &gt;&gt; &gt;&gt;&gt; My guess is that your binary is loading the system's shared
</I>&gt;<i> libraries.
</I>&gt;<i> &gt;&gt; &gt;&gt;&gt; To find out whether this is the case, try
</I>&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt;&gt; ???? ldd bin/openssl
</I>&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt;&gt; If my assumption is correct, you might have to set the
</I>&gt;<i> LD_LIBRARY_PATH
</I>&gt;<i> &gt;&gt; &gt;&gt;&gt; explicitely.
</I>&gt;<i> &gt;&gt; &gt;&gt; Actually LD_LIBRARY_PATH is evil.
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; The correct way to do this is to compile with a RUNPATH set in the
</I>&gt;<i> &gt;&gt; &gt;&gt; output ELF files.
</I>&gt;<i> &gt;&gt; &gt; LD_LIBRARY_PATH overriding the compiled in RUNPATH is appropriate when
</I>&gt;<i> &gt;&gt; &gt; testing
</I>&gt;<i> &gt;&gt; &gt; a newly compiled binary before installing the libraries to their final
</I>&gt;<i> &gt;&gt; &gt; locations, perhaps
</I>&gt;<i> &gt;&gt; &gt; on the same, perhaps on another machine.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; P.S.
</I>&gt;<i> &gt;&gt; &gt; I don't known if the Solaris loader lets LD_LIBRARY_PATH override
</I>&gt;<i> &gt;&gt; &gt; RUNPATH as
</I>&gt;<i> &gt;&gt; &gt; presumed by the above answer.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Yes it certainly does. Otherwise testing a new custom lib would be a
</I>&gt;<i> &gt;&gt; royal pain as opposed to just a pain.  Also most people still, after
</I>&gt;<i> &gt;&gt; twenty years, know what LD_LIBRARY_PATH env var is for and it is a waste
</I>&gt;<i> &gt;&gt; of breath trying to explain it after decades of watching folks skewer
</I>&gt;<i> &gt;&gt; themselves over and over and over ....
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; dc
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; ------------------------------
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Subject: Digest Footer
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; openssl-users mailing list
</I>&gt;<i> &gt;&gt; <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> &gt;&gt; <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; ------------------------------
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; End of openssl-users Digest, Vol 52, Issue 19
</I>&gt;<i> &gt;&gt; *********************************************
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL: &lt;
</I>&gt;<i> <A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20190326/09253e6e/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20190326/09253e6e/attachment-0001.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 3
</I>&gt;<i> Date: Tue, 26 Mar 2019 02:55:38 -0400
</I>&gt;<i> From: Dennis Clarke &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">dclarke at blastwave.org</A>&gt;
</I>&gt;<i> To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> Subject: Re: Reg solaris support for openssl 1.1.1b
</I>&gt;<i> Message-ID: &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">4c02f69c-512b-d5c8-67a2-eebe6e3f3197 at blastwave.org</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=utf-8
</I>&gt;<i>
</I>&gt;<i> On 3/26/19 12:38 AM, ramakrushna mishra wrote:
</I>&gt;<i> &gt;     Hi All,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks for your responses.?
</I>&gt;<i> &gt; I am able to build openssl 1.1.1 on my solaris and able to run &quot;openssl
</I>&gt;<i> &gt; version&quot;.
</I>&gt;<i> &gt; I followed the same procedure for openssl 1.1.1b and when I run &quot;openssl
</I>&gt;<i> &gt; version&quot;? seeing the mentioned error. i.e?
</I>&gt;<i> &gt; &quot;ld.so.1: openssl: fatal: relocation error: file openssl: symbol
</I>&gt;<i> &gt; OPENSSL_sk_new_null: referenced symbol not found
</I>&gt;<i>
</I>&gt;<i> Did you modify Configurations/10-main.conf ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Dennis Clarke
</I>&gt;<i> RISC-V/SPARC/PPC/ARM/CISC
</I>&gt;<i> UNIX and Linux spoken
</I>&gt;<i> GreyBeard and suspenders optional
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 4
</I>&gt;<i> Date: Wed, 27 Mar 2019 19:33:44 +0900
</I>&gt;<i> From: ???? (Souju TANAKA) &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">sojulibra at gmail.com</A>&gt;
</I>&gt;<i> To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> Subject: Re: Building OpenSSL 1.1.1b for WinCE700
</I>&gt;<i> Message-ID:
</I>&gt;<i>         &lt;
</I>&gt;<i> <A HREF="../../../mailman/listinfo/openssl-users.html">CAPvkBATRzBmqYAmHfiJs9wbgCt_s7zk_jViTU1sia35-pfL4aQ at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;utf-8&quot;
</I>&gt;<i>
</I>&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> It works with our custommized cURL code.
</I>&gt;<i> I wrote a detailed build instruction for CE.
</I>&gt;<i>   <A HREF="https://qiita.com/souju/items/94117c024862f57459c3">https://qiita.com/souju/items/94117c024862f57459c3</A>
</I>&gt;<i>
</I>&gt;<i> &gt; It would be good if you created a github PR for this so the changes can
</I>&gt;<i> be
</I>&gt;<i> &gt; considered for inclusion.
</I>&gt;<i>
</I>&gt;<i> Thank you. I post the PR.
</I>&gt;<i>   <A HREF="https://github.com/openssl/openssl/pull/8596">https://github.com/openssl/openssl/pull/8596</A>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Souju TANAKA
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2019?3?19?(?) 18:39 Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&gt;:
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 19/03/2019 07:08, ???? wrote:
</I>&gt;<i> &gt; &gt; Hello,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I have successfully build OpenSSL 1.1.1b (only libraries, no app) for
</I>&gt;<i> &gt; &gt; WINCE700-ARMV4I, though I don't do any tests. Here is what I did. I
</I>&gt;<i> hope
</I>&gt;<i> &gt; &gt; original sources will be changed so as there is no need to change.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It would be good if you created a github PR for this so the changes can
</I>&gt;<i> be
</I>&gt;<i> &gt; considered for inclusion.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Matt
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; 1. Modify wcecompat.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Add an alias, &quot;_access&quot; for access() in wcecompat io.h as below.
</I>&gt;<i> &gt; &gt; --
</I>&gt;<i> &gt; &gt; #define access _wceaccess
</I>&gt;<i> &gt; &gt; #define _access _wceaccess
</I>&gt;<i> &gt; &gt; --
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; 2. Set Environmental variables
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; set OSVERSION=WCE700
</I>&gt;<i> &gt; &gt; set PLATFORM=VC-CE
</I>&gt;<i> &gt; &gt; set TARGETCPU=ARMV4I
</I>&gt;<i> &gt; &gt; set WCECOMPAT=C:\Users\dev\tanaka\wcecompat
</I>&gt;<i> &gt; &gt; set LIB=C:\Program Files (x86)\Microsoft Visual Studio
</I>&gt;<i> &gt; &gt; 9.0\VC\ATLMFC\LIB;C:\Program Files (x86)\Windows CE
</I>&gt;<i> &gt; &gt; Tools\SDKs\YOUR_SDK_NAME\Lib\ARMV4I;C:\Program Files\Microsoft
</I>&gt;<i> &gt; &gt; SDKs\Windows\v6.0A\Lib;C:\Program Files (x86)\Microsoft Visual Studio
</I>&gt;<i> &gt; &gt; 9.0\VC\ce\lib\ARMV4I;C:\Program Files (x86)\Microsoft Visual Studio
</I>&gt;<i> &gt; 9.0\VC\lib
</I>&gt;<i> &gt; &gt; set INCLUDE=C:\Program Files (x86)\Windows CE
</I>&gt;<i> &gt; &gt; Tools\SDKs\YOUR_SDK_NAME\Include\ARMV4I;C:\Program Files
</I>&gt;<i> (x86)\Microsoft
</I>&gt;<i> &gt; Visual
</I>&gt;<i> &gt; &gt; Studio 9.0\VC\atlmfc\include;C:\Program Files (x86)\Microsoft Visual
</I>&gt;<i> &gt; Studio
</I>&gt;<i> &gt; &gt; 9.0\VC\INCLUDE;C:\Program Files\Microsoft SDKs\Windows\v6.0A\include;
</I>&gt;<i> &gt; &gt; set Path=C:\WINCE700\sdk\bin\i386\arm;C:\Program Files (x86)\Microsoft
</I>&gt;<i> &gt; Visual
</I>&gt;<i> &gt; &gt; Studio 9.0\Common7\Tools;C:\Program Files (x86)\Microsoft Visual Studio
</I>&gt;<i> &gt; &gt; 9.0\VC\VCPackages;C:\Program Files\Microsoft
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> SDKs\Windows\v6.0A\bin;C:\cygwin64\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program
</I>&gt;<i> &gt; &gt; Files (x86)\Microsoft Visual Studio 9.0\Common7\IDE;C:\Program Files
</I>&gt;<i> &gt; &gt; (x86)\Microsoft Visual Studio 9.0\VC\BIN;%Path%
</I>&gt;<i> &gt; &gt; set LIBPATH=C:\Program Files (x86)\Microsoft Visual Studio
</I>&gt;<i> &gt; &gt; 9.0\VC\ATLMFC\LIB;&quot;C:\Program Files (x86)\Windows CE
</I>&gt;<i> &gt; &gt; Tools\SDKs\YOUR_SDK_NAME\Lib\ARMV4I&quot;;C:\Program Files (x86)\Microsoft
</I>&gt;<i> &gt; Visual
</I>&gt;<i> &gt; &gt; Studio 9.0\VC\lib;C:\Program Files (x86)\Microsoft Visual Studio
</I>&gt;<i> &gt; &gt; 9.0\VC\ce\lib\ARMV4I;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; 3. Configure
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; (for ARM)(Configurations/windows-makefile.tmpl) Delete a line of
</I>&gt;<i> &gt; &quot;setargv.obj&quot;.
</I>&gt;<i> &gt; &gt; setargv.obj in C:\Program Files (x86)\Microsoft Visual Studio
</I>&gt;<i> 9.0\VC\lib
</I>&gt;<i> &gt; is for
</I>&gt;<i> &gt; &gt; x86 and cannot be linked with ARM objs.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; C:\Strawberry\perl\bin\perl Configure no-idea no-mdc2 no-rc5 no-asm
</I>&gt;<i> &gt; no-ssl3
</I>&gt;<i> &gt; &gt; no-stdio no-async no-engine VC-CE
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Using full path to specify Strawberry perl. I recommend Strawberry perl
</I>&gt;<i> &gt; here to
</I>&gt;<i> &gt; &gt; avoid error messages, I used 5.24.4.1-32bit.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I added 3 options of &quot;no-stdio&quot; and &quot;no-engine&quot;, &quot;no-async&quot;. Because..
</I>&gt;<i> &gt; &gt;   * no-stdio: GetStdHandle() and STD_INPUT_HANDLE cannot be used in
</I>&gt;<i> &gt; WinCE. (used
</I>&gt;<i> &gt; &gt; in apps\apps.c)
</I>&gt;<i> &gt; &gt;   * no-engine: Lack of CreatePipe() in WinCE (used in
</I>&gt;<i> engines\e_dasync.c)
</I>&gt;<i> &gt; &gt;   * no-async: Lack of ConvertFiberToThread() in WinCE (used in
</I>&gt;<i> &gt; &gt; crypto\async\arch\async_win.c)
</I>&gt;<i> &gt; &gt; By &quot;no-stdio&quot; option, we build only libraries. No command line
</I>&gt;<i> &gt; application are
</I>&gt;<i> &gt; &gt; generated.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; 4. Modify &quot;makefile&quot;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;   * Add -D_MSC_VER=1300 in &quot;CFLAGS=&quot;
</I>&gt;<i> &gt; &gt;   * In &quot;CNF_CPPFLAGS=&quot;, change -I&quot;\$(WCECOMPAT)/include&quot; to
</I>&gt;<i> &gt; -I$(WCECOMPAT)/include
</I>&gt;<i> &gt; &gt;   * Change CNF_EX_LIBS=3 to CNF_EX_LIBS=ws2.lib crypt32.lib
</I>&gt;<i> kernel32.lib
</I>&gt;<i> &gt; &gt; $(WCECOMPAT)\lib\wcecompat.lib $(WCECOMPAT)\lib\wcecompatex.lib
</I>&gt;<i> &gt; corelibc.lib
</I>&gt;<i> &gt; &gt; coredll.lib
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; 5. Modify C Source
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Comment out a line of &quot;#  define stat    _stat&quot; in
</I>&gt;<i> &gt; &gt;   crypto\conf\conf_def.c
</I>&gt;<i> &gt; &gt;   crypto\rand\randfile.c
</I>&gt;<i> &gt; &gt;   crypto\store\loader_file.c
</I>&gt;<i> &gt; &gt; Comment out a line of &quot;#  define fstat   _fstat&quot; in
</I>&gt;<i> &gt; crypto\rand\randfile.c.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; (crypt/init.c 167l and 777l) For lack of GetModuleHandleEx() in CE,
</I>&gt;<i> &gt; Change &quot;#
</I>&gt;<i> &gt; &gt; ifdef DSO_WIN32&quot; to &quot;# if defined(DSO_WIN32) &amp;&amp; !defined(_WIN32_WCE)&quot;
</I>&gt;<i> &gt; &gt; -----------------
</I>&gt;<i> &gt; &gt; # ifdef DSO_WIN32
</I>&gt;<i> &gt; &gt;     {
</I>&gt;<i> &gt; &gt;         HMODULE handle = NULL;
</I>&gt;<i> &gt; &gt;         BOOL ret;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;         /* We don't use the DSO route for WIN32 because there is a
</I>&gt;<i> &gt; better way */
</I>&gt;<i> &gt; &gt;         ret = GetModuleHandleEx(GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS
</I>&gt;<i> &gt; &gt; -----------------
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; (crypto\rand\randfile.c 257l) For lack of GetEnvironmentVariableW() in
</I>&gt;<i> &gt; CE,
</I>&gt;<i> &gt; &gt; Change &quot;#if defined(_WIN32) &amp;&amp; defined(CP_UTF8)&quot; to &quot;#if
</I>&gt;<i> defined(_WIN32)
</I>&gt;<i> &gt; &amp;&amp;
</I>&gt;<i> &gt; &gt; defined(CP_UTF8) &amp;&amp; !defined(_WIN32_WCE)&quot;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; (for ARM)(include\internal\refcount.h)
</I>&gt;<i> &gt; &gt;   * Add &quot;#include &lt;winbase.h&gt;&quot; for InterlockedExchangeAdd().
</I>&gt;<i> &gt; &gt;   * (106l) In function CRYPTO_UP_REF() and CRYPTO_DOWN_REF(), change 2
</I>&gt;<i> &gt; &gt; &quot;_InterlockedExchangeAdd()&quot; to be &quot;InterlockedExchangeAdd()&quot;. There is
</I>&gt;<i> no
</I>&gt;<i> &gt; &gt; _InterlockedExchangeAdd() for non x86 in C:\Program Files (x86)\Windows
</I>&gt;<i> &gt; CE
</I>&gt;<i> &gt; &gt; Tools\SDKs\YOUR_SDK_NAME\Include\Armv4i\winbase.h.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; (crypt/threads_win.c 27l) For lack of
</I>&gt;<i> &gt; InitializeCriticalSectionAndSpinCount() in
</I>&gt;<i> &gt; &gt; CE, change
</I>&gt;<i> &gt; &gt; ------------------
</I>&gt;<i> &gt; &gt;     /* 0x400 is the spin count value suggested in the documentation */
</I>&gt;<i> &gt; &gt;     if (!InitializeCriticalSectionAndSpinCount(lock, 0x400)) {
</I>&gt;<i> &gt; &gt;         OPENSSL_free(lock);
</I>&gt;<i> &gt; &gt;         return NULL;
</I>&gt;<i> &gt; &gt;     }
</I>&gt;<i> &gt; &gt; ------------------
</I>&gt;<i> &gt; &gt; to
</I>&gt;<i> &gt; &gt; ------------------
</I>&gt;<i> &gt; &gt; #ifndef _WIN32_WCE
</I>&gt;<i> &gt; &gt;     /* 0x400 is the spin count value suggested in the documentation */
</I>&gt;<i> &gt; &gt;     if (!InitializeCriticalSectionAndSpinCount(lock, 0x400)) {
</I>&gt;<i> &gt; &gt;         OPENSSL_free(lock);
</I>&gt;<i> &gt; &gt;         return NULL;
</I>&gt;<i> &gt; &gt;     }
</I>&gt;<i> &gt; &gt; #else
</I>&gt;<i> &gt; &gt;     InitializeCriticalSection(lock);
</I>&gt;<i> &gt; &gt; #endif
</I>&gt;<i> &gt; &gt; ------------------
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; 6. Build
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; nmake
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Then we will get the following artifacts.
</I>&gt;<i> &gt; &gt;   libcrypto.lib
</I>&gt;<i> &gt; &gt;   libcrypto-1_1.dll
</I>&gt;<i> &gt; &gt;   libcrypto-1_1.pdb
</I>&gt;<i> &gt; &gt;   libssl.lib
</I>&gt;<i> &gt; &gt;   libssl-1_1.dll
</I>&gt;<i> &gt; &gt;   libssl-1_1.pdb
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt; Soju TANAKA
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL: &lt;
</I>&gt;<i> <A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20190327/9585737c/attachment.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20190327/9585737c/attachment.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Subject: Digest Footer
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> openssl-users mailing list
</I>&gt;<i> <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
</I>&gt;<i> <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> End of openssl-users Digest, Vol 52, Issue 41
</I>&gt;<i> *********************************************
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20190328/a01b0b2d/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20190328/a01b0b2d/attachment-0001.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010188.html">Reg solaris support for openssl 1.1.1b
</A></li>
	<LI>Next message: <A HREF="010094.html">Why were edwards curves given distinct key types, aren't they EC keys?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10191">[ date ]</a>
              <a href="thread.html#10191">[ thread ]</a>
              <a href="subject.html#10191">[ subject ]</a>
              <a href="author.html#10191">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
