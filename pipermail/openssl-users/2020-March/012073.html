<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Handshake failure: TLSv1.3 early data?
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2020-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Handshake%20failure%3A%20TLSv1.3%20early%20data%3F&In-Reply-To=%3Cmemo.20200323194218.15980A%40magsys.adsl.magsys.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012072.html">
   <LINK REL="Next"  HREF="012084.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Handshake failure: TLSv1.3 early data?</H1>
    <B>Angus Robertson - Magenta Systems Ltd</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Handshake%20failure%3A%20TLSv1.3%20early%20data%3F&In-Reply-To=%3Cmemo.20200323194218.15980A%40magsys.adsl.magsys.co.uk%3E"
       TITLE="Handshake failure: TLSv1.3 early data?">angus at magsys.co.uk
       </A><BR>
    <I>Mon Mar 23 19:42:00 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="012072.html">Handshake failure: TLSv1.3 early data?
</A></li>
        <LI>Next message: <A HREF="012084.html">Handshake failure: TLSv1.3 early data?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12073">[ date ]</a>
              <a href="thread.html#12073">[ thread ]</a>
              <a href="subject.html#12073">[ subject ]</a>
              <a href="author.html#12073">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Is it possible the browsers are trying to send early data?
</I> 
I doubt it, I was not reporting the error, trying to report errors
before they disappear with clean-up code is an art, and does not always
work, so mostly I now see: 

error:00000000:lib(0):func(0):reason(0), State: TLSv1.3 early data,
connection closed unexpectedly 

but sometimes 

error:140E0197:SSL routines:SSL_shutdown:shutdown while in init, State:
SSL negotiation finished successfully

But only four failures are logged on the live server so far, there will
be more handshake failures overnight that might be more helpful.

Suspect the real issue is simply the client abandoning the connection,
and different places leave different errors.  Some failures are obvious
like TLSv1 which is disabled on the server.  

But I was worried our TLSv1.3 implementation was missing something
important.  Read a lot about early data, but not really why anyone uses
it in practice, if it is used. Quite content to continue to ignore
early data.    

Angus

</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012072.html">Handshake failure: TLSv1.3 early data?
</A></li>
	<LI>Next message: <A HREF="012084.html">Handshake failure: TLSv1.3 early data?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12073">[ date ]</a>
              <a href="thread.html#12073">[ thread ]</a>
              <a href="subject.html#12073">[ subject ]</a>
              <a href="author.html#12073">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
