<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] PKCS7-&gt;signerInfo-&gt;encryptedDigest not type X509_SIG
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20PKCS7-%3EsignerInfo-%3EencryptedDigest%20not%20type%0A%20X509_SIG&In-Reply-To=%3C20150919153416.34bf155b%40tbb-phenom%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002082.html">
   <LINK REL="Next"  HREF="002093.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] PKCS7-&gt;signerInfo-&gt;encryptedDigest not type X509_SIG</H1>
    <B>Michael Heide</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20PKCS7-%3EsignerInfo-%3EencryptedDigest%20not%20type%0A%20X509_SIG&In-Reply-To=%3C20150919153416.34bf155b%40tbb-phenom%3E"
       TITLE="[openssl-users] PKCS7-&gt;signerInfo-&gt;encryptedDigest not type X509_SIG">michael.heide at student.uni-siegen.de
       </A><BR>
    <I>Sat Sep 19 13:34:16 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="002082.html">[openssl-users] PKCS7-&gt;signerInfo-&gt;encryptedDigest not type X509_SIG
</A></li>
        <LI>Next message: <A HREF="002093.html">[openssl-users] PKCS7-&gt;signerInfo-&gt;encryptedDigest not type X509_SIG
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2091">[ date ]</a>
              <a href="thread.html#2091">[ thread ]</a>
              <a href="subject.html#2091">[ subject ]</a>
              <a href="author.html#2091">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am Wed, 16 Sep 2015 08:55:51 +0200 schrieb Michael Heide &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">michael.heide at student.uni-siegen.de</A>&gt;:

&gt;<i> My question now is: how to (proper) handle it?
</I>
Maybe a more sensible way to handle those signatures with OpenSSL is to still not allow such things but instead return an error indicating success if it /would/ be allowed to do it this way? The application then can check for this specific error and translate it into success. (meaning: this specific error is set if OpenSSL successfully compared both hashes and is - as such - not really a fatal error.)

This way OpenSSLs default behaviour won't change, it's still an error to not encapsulate the encryptedDigest in an asn1 structure. But the application programmer is able to handle it. 

see attachment. 

(Maybe a callback-function at the place where the error gets generated would be a better option. But I think that would be a more extensive change in OpenSSL.)

Regards
Michael
-------------- next part --------------
A non-text attachment was scrubbed...
Name: non-enveloped-hash.patch
Type: text/x-patch
Size: 1714 bytes
Desc: not available
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20150919/18d737b9/attachment.bin">http://mta.openssl.org/pipermail/openssl-users/attachments/20150919/18d737b9/attachment.bin</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002082.html">[openssl-users] PKCS7-&gt;signerInfo-&gt;encryptedDigest not type X509_SIG
</A></li>
	<LI>Next message: <A HREF="002093.html">[openssl-users] PKCS7-&gt;signerInfo-&gt;encryptedDigest not type X509_SIG
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2091">[ date ]</a>
              <a href="thread.html#2091">[ thread ]</a>
              <a href="subject.html#2091">[ subject ]</a>
              <a href="author.html#2091">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
