<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Windows Timer Threads &amp; OpenSSL_thread_stop()
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2024-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Windows%20Timer%20Threads%20%26%20OpenSSL_thread_stop%28%29&In-Reply-To=%3CCAMd_dYXNZtvi34ofiYEYhs%2B_QumVhteyM3ycCKYPark_Ho9d7Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016940.html">
   <LINK REL="Next"  HREF="016946.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Windows Timer Threads &amp; OpenSSL_thread_stop()</H1>
    <B>Dipak B</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20Windows%20Timer%20Threads%20%26%20OpenSSL_thread_stop%28%29&In-Reply-To=%3CCAMd_dYXNZtvi34ofiYEYhs%2B_QumVhteyM3ycCKYPark_Ho9d7Q%40mail.gmail.com%3E"
       TITLE="Windows Timer Threads &amp; OpenSSL_thread_stop()">deepak.redmi2 at gmail.com
       </A><BR>
    <I>Sun Jan 28 15:15:14 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="016940.html">OpenSSL s_server command prompts for password even when we provide it in the command in OpenSSL 3.1 versions
</A></li>
        <LI>Next message (by thread): <A HREF="016946.html">Windows Timer Threads &amp; OpenSSL_thread_stop() : Resending
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16942">[ date ]</a>
              <a href="thread.html#16942">[ thread ]</a>
              <a href="subject.html#16942">[ subject ]</a>
              <a href="author.html#16942">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Matt &amp; Community members,

&gt;<i>From previous conversations on this group, I know that
</I>OpenSSL_thread_stop() should be called just before a thread gets destroyed
for Windows application statically linked to OSSL.

Above call should not be called in case there is thread re-use.

I have an application which uses only libcrypto on Windows timer threads
and this application is statically linked to OpenSSL.

As per documentation, Windows timer threads originate from the default
thread pool and they do not cause DLL_Thread_Detach() notification.

Since this is thread pool, re-use of Threads is implied.

So, how does one use libcrypto with such threads?

If I call OpenSSL_thread_stop() on this window timer thread and if Windows
runs my code again on this thread later, I know that there is some
initialisation that will never happen again (As per earlier conversation)

Is calling openssl_thread_stop() on windows Timer thread using only
libcrypto (non ssl) functionality fine?

Or should one not use Windows timer threads with OSSL if application is
statically linked.

I am looking out for any  workarounds if this scenario is a problem in
first place.

Regards.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20240128/8361c012/attachment.htm">https://mta.openssl.org/pipermail/openssl-users/attachments/20240128/8361c012/attachment.htm</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="016940.html">OpenSSL s_server command prompts for password even when we provide it in the command in OpenSSL 3.1 versions
</A></li>
	<LI>Next message (by thread): <A HREF="016946.html">Windows Timer Threads &amp; OpenSSL_thread_stop() : Resending
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16942">[ date ]</a>
              <a href="thread.html#16942">[ thread ]</a>
              <a href="subject.html#16942">[ subject ]</a>
              <a href="author.html#16942">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
