<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] TLS Error in FreeRadius - eap_tls: ERROR: Failed in __FUNCTION__ (SSL_read): error:1417C086:SSL routines:tls_process_client_certificate:certificate verify failed
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2018-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20TLS%20Error%20in%20FreeRadius%20-%20eap_tls%3A%20ERROR%3A%0A%20Failed%20in%20__FUNCTION__%20%28SSL_read%29%3A%20error%3A1417C086%3ASSL%0A%20routines%3Atls_process_client_certificate%3Acertificate%20verify%20failed&In-Reply-To=%3CC9ECFF2E-EE71-47C8-9A62-D6B7D0923C6E%40dukhovni.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007358.html">
   <LINK REL="Next"  HREF="007360.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] TLS Error in FreeRadius - eap_tls: ERROR: Failed in __FUNCTION__ (SSL_read): error:1417C086:SSL routines:tls_process_client_certificate:certificate verify failed</H1>
    <B>Viktor Dukhovni</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20TLS%20Error%20in%20FreeRadius%20-%20eap_tls%3A%20ERROR%3A%0A%20Failed%20in%20__FUNCTION__%20%28SSL_read%29%3A%20error%3A1417C086%3ASSL%0A%20routines%3Atls_process_client_certificate%3Acertificate%20verify%20failed&In-Reply-To=%3CC9ECFF2E-EE71-47C8-9A62-D6B7D0923C6E%40dukhovni.org%3E"
       TITLE="[openssl-users] TLS Error in FreeRadius - eap_tls: ERROR: Failed in __FUNCTION__ (SSL_read): error:1417C086:SSL routines:tls_process_client_certificate:certificate verify failed">openssl-users at dukhovni.org
       </A><BR>
    <I>Sun Jan 21 18:31:40 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="007358.html">[openssl-users] TLS Error in FreeRadius - eap_tls: ERROR: Failed in __FUNCTION__ (SSL_read): error:1417C086:SSL routines:tls_process_client_certificate:certificate verify failed
</A></li>
        <LI>Next message: <A HREF="007360.html">[openssl-users] TLS Error in FreeRadius - eap_tls: ERROR: Failed in __FUNCTION__ (SSL_read): error:1417C086:SSL routines:tls_process_client_certificate:certificate verify failed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7359">[ date ]</a>
              <a href="thread.html#7359">[ thread ]</a>
              <a href="subject.html#7359">[ subject ]</a>
              <a href="author.html#7359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> On Jan 21, 2018, at 7:34 AM, Gladewitz, Robert via openssl-users &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> If I understand your right, then I need to add &quot;TLS Web Client Authentication&quot;
</I>&gt;<i> to the CAPF certificate.
</I>
Or better still, remove the &quot;ExtendedKeyUsage&quot; extension from the CA
certificate and thus specify neither &quot;TLS Web Client Authentication&quot;,
nor &quot;&quot;TLS Web Server Authentication&quot;.  When you &quot;tag&quot; a CA certificate
with a given list of &quot;purpose&quot; OIDs, it is then not considered valid
for the purposes that are not listed.

&gt;<i> But I have a question. In Freeradius I use the CAPF cert only as a CA
</I>&gt;<i> cert, not as a server or client cert. The only function is to check
</I>&gt;<i> the client cert is signed from CAPF. For only check this, the CA need
</I>&gt;<i> &quot;TLS Web Client Authentication&quot;?? 
</I>
OpenSSL interprets the &quot;extendedKeyUsage&quot; extension in CA certificates
as a restriction on the allowed extended key usages of leaf certificates
that can be issued by that CA.

You should typically not specify extended key usage for CA certificates
at all, unless you mean to restrict them to specific purposes.

-- 
	Viktor.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007358.html">[openssl-users] TLS Error in FreeRadius - eap_tls: ERROR: Failed in __FUNCTION__ (SSL_read): error:1417C086:SSL routines:tls_process_client_certificate:certificate verify failed
</A></li>
	<LI>Next message: <A HREF="007360.html">[openssl-users] TLS Error in FreeRadius - eap_tls: ERROR: Failed in __FUNCTION__ (SSL_read): error:1417C086:SSL routines:tls_process_client_certificate:certificate verify failed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7359">[ date ]</a>
              <a href="thread.html#7359">[ thread ]</a>
              <a href="subject.html#7359">[ subject ]</a>
              <a href="author.html#7359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
