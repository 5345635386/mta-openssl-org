<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [EXTERNAL] Re: SSL error (78c0100): malloc failure while implementing tls 1.3
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2022-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5BEXTERNAL%5D%20Re%3A%20SSL%20error%20%2878c0100%29%3A%20malloc%20failure%20while%0A%20implementing%20tls%201.3&In-Reply-To=%3CPH0PR03MB654434A06B3D30C9B1A05EA6A4BB9%40PH0PR03MB6544.namprd03.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015291.html">
   <LINK REL="Next"  HREF="015256.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[EXTERNAL] Re: SSL error (78c0100): malloc failure while implementing tls 1.3</H1>
    <B>Ramaiah, Ravichandran Bagalur</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5BEXTERNAL%5D%20Re%3A%20SSL%20error%20%2878c0100%29%3A%20malloc%20failure%20while%0A%20implementing%20tls%201.3&In-Reply-To=%3CPH0PR03MB654434A06B3D30C9B1A05EA6A4BB9%40PH0PR03MB6544.namprd03.prod.outlook.com%3E"
       TITLE="[EXTERNAL] Re: SSL error (78c0100): malloc failure while implementing tls 1.3">rramaiah at rbbn.com
       </A><BR>
    <I>Wed Jun 29 12:56:02 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015291.html">[EXTERNAL] Re: SSL error (78c0100): malloc failure while implementing tls 1.3
</A></li>
        <LI>Next message (by thread): <A HREF="015256.html">OpenSSL 3 HTTP_Open client C++ example?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15292">[ date ]</a>
              <a href="thread.html#15292">[ thread ]</a>
              <a href="subject.html#15292">[ subject ]</a>
              <a href="author.html#15292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I was able to trace the failure to ssl/ssl_sess.c line 279.

I&#8217;m not sure what needs to done additionally in application code for this. Could someone please explain this error?

I&#8217;m just trying to add support for tls 1.3 in application which already supports tls 1.2.

(gdb) bt
#0  0x00007fd5737051a0 in ssl_session_dup () from /lib/x86_64-linux-gnu/libssl.so.3
#1  0x00007fd57373a931 in tls_construct_new_session_ticket () from /lib/x86_64-linux-gnu/libssl.so.3
#2  0x00007fd57372aaff in state_machine.part () from /lib/x86_64-linux-gnu/libssl.so.3
#3  0x00007fd573719e8e in ssl3_read_bytes () from /lib/x86_64-linux-gnu/libssl.so.3
#4  0x00007fd5736edcc9 in ssl3_read () from /lib/x86_64-linux-gnu/libssl.so.3
#5  0x00007fd5736fa6c0 in ssl_read_internal () from /lib/x86_64-linux-gnu/libssl.so.3
#6  0x00007fd5736fa7f5 in SSL_read () from /lib/x86_64-linux-gnu/libssl.so.3



Regards,
Ravi


_____________________________________________
From: Ramaiah, Ravichandran Bagalur &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">rramaiah at rbbn.com</A>&gt;
Sent: Wednesday, June 29, 2022 12:55 PM
To: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&gt;; <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
Subject: RE: [EXTERNAL] Re: SSL error (78c0100): malloc failure while implementing tls 1.3


Hi Matt,

Below is the error I got when I printed using ERR_error_string().


error:078C0100:common libcrypto routines::malloc failure

Any pointers on this?

Regards,
Ravi

-----Original Message-----
From: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">matt at openssl.org</A>&gt;&gt;
Sent: Tuesday, June 21, 2022 4:25 PM
To: Ramaiah, Ravichandran Bagalur &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">rramaiah at rbbn.com</A>&lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">rramaiah at rbbn.com</A>&gt;&gt;; <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&lt;mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>&gt;
Subject: [EXTERNAL] Re: SSL error (78c0100): malloc failure while implementing tls 1.3



On 16/06/2022 05:52, Ramaiah, Ravichandran Bagalur wrote:
&gt;<i>
</I>&gt;<i> *SSL error (78c0100): malloc failure
</I>
Do you get anything in the OpenSSL error stack for this (e.g. try &quot;ERR_print_errors_fp(stdout);&quot;).

We need a bit more to go on to figure out where specifically the malloc failure is occurring.

Matt



Notice: This e-mail together with any attachments may contain information of Ribbon Communications Inc. and its Affiliates that is confidential and/or proprietary for the sole use of the intended recipient. Any review, disclosure, reliance or distribution by others or forwarding without express permission is strictly prohibited. If you are not the intended recipient, please notify the sender immediately and then delete all copies, including any attachments.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20220629/56569020/attachment.htm">https://mta.openssl.org/pipermail/openssl-users/attachments/20220629/56569020/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015291.html">[EXTERNAL] Re: SSL error (78c0100): malloc failure while implementing tls 1.3
</A></li>
	<LI>Next message (by thread): <A HREF="015256.html">OpenSSL 3 HTTP_Open client C++ example?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15292">[ date ]</a>
              <a href="thread.html#15292">[ thread ]</a>
              <a href="subject.html#15292">[ subject ]</a>
              <a href="author.html#15292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
