<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> PkiPath with openssl
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20PkiPath%20with%20openssl&In-Reply-To=%3C88BE272B-C520-4F97-A1BD-671C542A60AB%40omnigroup.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010741.html">
   <LINK REL="Next"  HREF="010740.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>PkiPath with openssl</H1>
    <B>Wim Lewis</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20PkiPath%20with%20openssl&In-Reply-To=%3C88BE272B-C520-4F97-A1BD-671C542A60AB%40omnigroup.com%3E"
       TITLE="PkiPath with openssl">wiml at omnigroup.com
       </A><BR>
    <I>Tue Jun 18 17:05:46 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="010741.html">PkiPath with openssl
</A></li>
        <LI>Next message: <A HREF="010740.html">Issues establising SSL connection after a wget command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10752">[ date ]</a>
              <a href="thread.html#10752">[ thread ]</a>
              <a href="subject.html#10752">[ subject ]</a>
              <a href="author.html#10752">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jun 17, 2019, at 11:35 PM, Tobias Wolf &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">wolf.tobias at gmx.net</A>&gt; wrote:
&gt;<i> The specification said about sorting and providing the pki path in correct order. 
</I>
Ah, I thought you were asking about producing the correct DER representation, not assembling the list of certs.

In that case, take a look at the documentation for X509_verify_cert() and X509_STORE_add_cert() (also see X509_STORE_CTX_init(), X509_VERIFY_PARAM_*(), X509_STORE_CTX_get*_chain()). This will discover and validate a trust chain from a specified certificate to any of a set of trust anchors, via a set of possible intermediate certificates. The resulting chain should be ordered properly (you may need to reverse the order).  If you don't want to spend the extra time verifying signatures and constraints and so on, you might be able to turn that off by setting some options.

I think the X509_STORE_add_cert() manpage has the most comprehensible description of how these pieces fit together.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010741.html">PkiPath with openssl
</A></li>
	<LI>Next message: <A HREF="010740.html">Issues establising SSL connection after a wget command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10752">[ date ]</a>
              <a href="thread.html#10752">[ thread ]</a>
              <a href="subject.html#10752">[ subject ]</a>
              <a href="author.html#10752">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
