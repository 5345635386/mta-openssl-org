<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> TLSv12 Client Certificate Selection Behavior !!
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20TLSv12%20Client%20Certificate%20Selection%20Behavior%20%21%21&In-Reply-To=%3CBYAPR18MB291809DBCD6FB6441453D90BF9ED0%40BYAPR18MB2918.namprd18.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010688.html">
   <LINK REL="Next"  HREF="010692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>TLSv12 Client Certificate Selection Behavior !!</H1>
    <B>Michael Wojcik</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20TLSv12%20Client%20Certificate%20Selection%20Behavior%20%21%21&In-Reply-To=%3CBYAPR18MB291809DBCD6FB6441453D90BF9ED0%40BYAPR18MB2918.namprd18.prod.outlook.com%3E"
       TITLE="TLSv12 Client Certificate Selection Behavior !!">Michael.Wojcik at microfocus.com
       </A><BR>
    <I>Tue Jun 11 17:02:11 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="010688.html">TLSv12 Client Certificate Selection Behavior !!
</A></li>
        <LI>Next message: <A HREF="010692.html">TLSv12 Client Certificate Selection Behavior !!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10691">[ date ]</a>
              <a href="thread.html#10691">[ thread ]</a>
              <a href="subject.html#10691">[ subject ]</a>
              <a href="author.html#10691">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: openssl-users [mailto:<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>] On Behalf Of
</I>&gt;<i> Viktor Dukhovni
</I>&gt;<i> Sent: Tuesday, June 11, 2019 10:39
</I>
&gt;<i> A client certificate that cannot do digital signatures is not much use.
</I>
There may be existing applications which use TLS entirely within an organization, where the server does not check KU, and the peers use certificates generated by an internal CA that doesn't set those extensions properly. In that use case, enforcing the KU requirement would break backward compatibility.

Maybe that's not worth worrying about; maybe the advantages of enforcing KU on the client certificate at the client end (better diagnostics for the client application, enforce the standard even if the server doesn't) outweigh it. But I don't think it's entirely accurate to say a client certificate with incorrect/missing KU (or EKU, or other extensions) is necessarily useless.

To be honest I don't have a strong feeling about this particular suggestion. If OpenSSL started requiring proper KU on client certificates, and that forced some people to fix their internal CA configurations, that's arguably a good thing; such people may well be using too-small keys and outdated algorithms too. Disruption can definitely be good in this area. Just wanted to point out that it might be possible to rely on the existing behavior.

And, of course, there are no doubt still people out there running internal CAs that generate X.509v1 certs, which won't have any extensions at all. No KU, no EKU, no SAN, no SKID/AKID ... Presumably a check for proper KU on the client certificate would be bypassed if the client cert is v1 - but then using a v1 certificate is another violation of RFC 5246 (7.4.2) that OpenSSL probably should not enforce.

--
Michael Wojcik
Distinguished Engineer, Micro Focus



</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010688.html">TLSv12 Client Certificate Selection Behavior !!
</A></li>
	<LI>Next message: <A HREF="010692.html">TLSv12 Client Certificate Selection Behavior !!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10691">[ date ]</a>
              <a href="thread.html#10691">[ thread ]</a>
              <a href="subject.html#10691">[ subject ]</a>
              <a href="author.html#10691">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
