<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> TLSv12 Client Certificate Selection Behavior !!
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2019-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20TLSv12%20Client%20Certificate%20Selection%20Behavior%20%21%21&In-Reply-To=%3C552e97d6-2bac-7d5f-8fa6-0576d019148e%40wisemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010694.html">
   <LINK REL="Next"  HREF="010689.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>TLSv12 Client Certificate Selection Behavior !!</H1>
    <B>Jakob Bohm</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20TLSv12%20Client%20Certificate%20Selection%20Behavior%20%21%21&In-Reply-To=%3C552e97d6-2bac-7d5f-8fa6-0576d019148e%40wisemo.com%3E"
       TITLE="TLSv12 Client Certificate Selection Behavior !!">jb-openssl at wisemo.com
       </A><BR>
    <I>Tue Jun 11 23:41:47 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="010694.html">TLSv12 Client Certificate Selection Behavior !!
</A></li>
        <LI>Next message: <A HREF="010689.html">building openssl for windows - missing do_win64a from ms directory.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10695">[ date ]</a>
              <a href="thread.html#10695">[ thread ]</a>
              <a href="subject.html#10695">[ subject ]</a>
              <a href="author.html#10695">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/06/2019 19:21, Viktor Dukhovni wrote:
&gt;&gt;<i> On Jun 11, 2019, at 1:02 PM, Michael Wojcik &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">Michael.Wojcik at microfocus.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> And, of course, there are no doubt still people out there running internal CAs that generate X.509v1 certs, which won't have any extensions at all. No KU, no EKU, no SAN, no SKID/AKID ... Presumably a check for proper KU on the client certificate would be bypassed if the client cert is v1 - but then using a v1 certificate is another violation of RFC 5246 (7.4.2) that OpenSSL probably should not enforce.
</I>&gt;<i> Yes, v1 certs would get a free ride.  The reason to enforce KU
</I>&gt;<i> in client certs would be that client certs are not infrequently
</I>&gt;<i> (though not always) optional, and it can be better to not send
</I>&gt;<i> any client cert, than to send one the server will reject.
</I>&gt;<i>
</I>&gt;<i> RSA client certs without digital signature in KU are increasingly
</I>&gt;<i> not interoperable as more server implementations are checking the
</I>&gt;<i> keyUsage these days.  So at some point it makes sense to consider
</I>&gt;<i> not offering such (client) certs to the peer server.
</I>&gt;<i>
</I>&gt;<i> But at the end of the day, the user should not have configured
</I>&gt;<i> such a client cert in the first place, so it may also make sense
</I>&gt;<i> to just leave the responsibility with the user.
</I>&gt;<i>
</I>Note that the most common variant of encrypt-only RSA client certs
is probably encrypt-only e-mail client certs with other client uses
tacked on.

Such certificates are typically paired with a &quot;same logical
identity&quot; sign-only e-mail/client certificate, with the key
difference being that the encrypt-only-private key is kept around
for a lot longer in order to decrypt stored e-mails that are
(wisely) stored only in their original encrypted form.

In that /specific/ case, attempting to use the encrypt-only cert
as a TLS client cert is typically some kind of logic certificate
selection error, such as a Web client blindly using the locally
stored long-term decryption key instead of the signing key stored
on a removable, but also loosable, smart card, however there may
be company-internal reasons to do so deliberately in order for
background activities to operate when the user (and smartcard) is
&quot;away from terminal&quot;.

Enjoy

Jakob
-- 
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010694.html">TLSv12 Client Certificate Selection Behavior !!
</A></li>
	<LI>Next message: <A HREF="010689.html">building openssl for windows - missing do_win64a from ms directory.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10695">[ date ]</a>
              <a href="thread.html#10695">[ thread ]</a>
              <a href="subject.html#10695">[ subject ]</a>
              <a href="author.html#10695">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
