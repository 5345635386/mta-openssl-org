<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Building an application with OpenSSL	and	FIPS	support.
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-October/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Building%20an%20application%20with%20OpenSSL%0A%09and%09FIPS%09support.&In-Reply-To=%3C1476108713755.68758%40Steelcloud.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004628.html">
   <LINK REL="Next"  HREF="004639.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Building an application with OpenSSL	and	FIPS	support.</H1>
    <B>Matthew Heimlich</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Building%20an%20application%20with%20OpenSSL%0A%09and%09FIPS%09support.&In-Reply-To=%3C1476108713755.68758%40Steelcloud.com%3E"
       TITLE="[openssl-users] Building an application with OpenSSL	and	FIPS	support.">MHeimlich at Steelcloud.com
       </A><BR>
    <I>Mon Oct 10 14:11:53 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="004628.html">[openssl-users] Building an application with OpenSSL and	FIPS	support.
</A></li>
        <LI>Next message: <A HREF="004639.html">[openssl-users] Building an application with OpenSSL	and	FIPS	support.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4630">[ date ]</a>
              <a href="thread.html#4630">[ thread ]</a>
              <a href="subject.html#4630">[ subject ]</a>
              <a href="author.html#4630">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>$openssl version

returns:

OpenSSL 1.0.2j-fips

My FIPS module version is openssl-fips-2.0.13

$OPENSSL_FIPS=1 openssl md5 /dev/null

returns:

Error setting digest md5
140066569107136:error:060A80A3:digital envelope routines:FIPS_DIGESTINIT:disabled for fips:fips_md.c:180:

$OPENSSL_FIPS=1 openssl sha1 /dev/null

returns:

SHA1(/dev/null)= da39a3ee5e6b4b0d3255bfef95601890afd80709

Do that appears to be working correctly.

Thanks,

Matt Heimlich

________________________________________
From: openssl-users &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users-bounces at openssl.org</A>&gt; on behalf of Dr. Stephen Henson &lt;<A HREF="../../../mailman/listinfo/openssl-users.html">steve at openssl.org</A>&gt;
Sent: Monday, October 10, 2016 8:44 AM
To: <A HREF="../../../mailman/listinfo/openssl-users.html">openssl-users at openssl.org</A>
Subject: Re: [openssl-users] Building an application with OpenSSL and   FIPS    support.

On Fri, Oct 07, 2016, Matthew Heimlich wrote:

&gt;<i> Which returns
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Attempting to set FIPS mode to 1...
</I>&gt;<i> Last error was: 2d06b06f
</I>&gt;<i> FIPS_mode_set failed: 2d06b06f
</I>&gt;<i> FIPS mode is: 0???
</I>&gt;<i>
</I>&gt;<i> So it would appear that my FIPS mode is never even being set, and walking through the code would seem to confirm this. In addition, the error code doesn't seem to be present in the FIPS documentation, but errstr informs me that it is
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> error:2D06B06F:FIPS routines:DSA_BUILTIN_PARAMGEN2:fingerprint does not match nonpic relocated???
</I>&gt;<i>
</I>&gt;<i> Any tips on where to go from here?
</I>&gt;<i>
</I>
Which versions of the FIPS module and OpenSSL are you using?

In the FIPS capable OpenSSL try this:

OPENSSL_FIPS=1 openssl md5 /dev/null
OPENSSL_FIPS=1 openssl sha1 /dev/null

Please give details of any errors you get.

Steve.
--
Dr Stephen N. Henson. OpenSSL project core developer.
Commercial tech support now available see: <A HREF="http://www.openssl.org">http://www.openssl.org</A>
--
openssl-users mailing list
To unsubscribe: <A HREF="../../../mailman/listinfo/openssl-users.html">https://mta.openssl.org/mailman/listinfo/openssl-users</A>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004628.html">[openssl-users] Building an application with OpenSSL and	FIPS	support.
</A></li>
	<LI>Next message: <A HREF="004639.html">[openssl-users] Building an application with OpenSSL	and	FIPS	support.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4630">[ date ]</a>
              <a href="thread.html#4630">[ thread ]</a>
              <a href="subject.html#4630">[ subject ]</a>
              <a href="author.html#4630">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
