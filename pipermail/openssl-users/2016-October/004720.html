<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] free certs: bad idea wosign/startcom/startssl/startencrypt; good alt's
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2016-October/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20free%20certs%3A%20bad%20idea%0A%20wosign/startcom/startssl/startencrypt%3B%20good%20alt%27s&In-Reply-To=%3C13cf969a-ba2a-132f-ee35-e4a86ac203c3%40wisemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004704.html">
   <LINK REL="Next"  HREF="004698.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] free certs: bad idea wosign/startcom/startssl/startencrypt; good alt's</H1>
    <B>Jakob Bohm</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20free%20certs%3A%20bad%20idea%0A%20wosign/startcom/startssl/startencrypt%3B%20good%20alt%27s&In-Reply-To=%3C13cf969a-ba2a-132f-ee35-e4a86ac203c3%40wisemo.com%3E"
       TITLE="[openssl-users] free certs: bad idea wosign/startcom/startssl/startencrypt; good alt's">jb-openssl at wisemo.com
       </A><BR>
    <I>Fri Oct 28 08:21:45 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="004704.html">[openssl-users] free certs: bad idea wosign/startcom/startssl/startencrypt; good alt's
</A></li>
        <LI>Next message: <A HREF="004698.html">[openssl-users] Use of openssl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4720">[ date ]</a>
              <a href="thread.html#4720">[ thread ]</a>
              <a href="subject.html#4720">[ subject ]</a>
              <a href="author.html#4720">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please note that the below summary contains a few exaggerations.  For 
instance the duplicate serial numbers seem to have been a software bug 
that issued N certificates with the same serial on busy days, while the 
backdating seemed much less excusable.  The person posting this seems 
also to be extremely US centric in his thinking, for instance 
referencing local US standards NIST and AICPA, rather than their 
international or Asian counterparts.  There is much more balanced 
information at the URL posted by Mr. Salz.

On 26/10/2016 17:50, Johann v. Preu&#223;en wrote:
&gt;<i> this is a re-worked report i prepared that some might find useful.*
</I>&gt;<i>
</I>&gt;<i> CAUTION:* there are several seriously troubling events surrounding 
</I>&gt;<i> WoSign *^1 * (AKA startcom, AKA startssl, and AKA startencrypt) and 
</I>&gt;<i> any of their affiliated/subsidiary businesses:
</I>&gt;<i>
</I>&gt;<i>  1. wosign purchased startcom/startssl/startencrypt [DBA's of 'Start
</I>&gt;<i>     Commercial LTD' (an Israeli company); hereinafter '*startcom*']
</I>&gt;<i>     last year. although obfuscation by the parties makes determining
</I>&gt;<i>     the actual control-transfer date impossible, the change-over may
</I>&gt;<i>     have begun in 2014. both companies long completely and publicly
</I>&gt;<i>     denied any change of control even as late as 2016.JUL despite it
</I>&gt;<i>     being a matter of public record that:
</I>&gt;<i>      1.  the entire stock issuance from 15 startcom shareholders
</I>&gt;<i>         including founder Revital (AKA 'Eddy') Nigg's majority
</I>&gt;<i>         ownership was transferred in 2015.NOV;
</I>&gt;<i>      2.  beneficiary of the stock deal was 'StartCom CA Limited' a UK
</I>&gt;<i>         company (09744347);
</I>&gt;<i>      3.  the UK company is wholly-owned by 'StartCom CA Limited' (yes,
</I>&gt;<i>         exactly the same name again) a Hong Kong company (CRN 2271553)
</I>&gt;<i>         with a sole director being Wang *^1 *; and
</I>&gt;<i>      4.  the Hong Kong entity is then owned by wosign.
</I>&gt;<i>  2. in fact, to-date neither firm has actually admitted what has
</I>&gt;<i>     happened re transfer of control, domiciling of operations, and
</I>&gt;<i>     changes in management personnel. this reticence is despite some
</I>&gt;<i>     aspects of the transactions becoming common knowledge in the
</I>&gt;<i>     security community;
</I>&gt;<i>  3. wosign attempted (rather poorly it turned out) to make it appear
</I>&gt;<i>     that wosign was actually a subsidiary of startcom and startcom's
</I>&gt;<i>     remnant personnel and former shareholders abetted this *^2 *;
</I>&gt;<i>  4. startcom is an Israeli company and -- as one would expect -- was
</I>&gt;<i>     subjected to strict auditing and monitoring by the Israeli
</I>&gt;<i>     government to the benefit of all the recipients of their certs ...
</I>&gt;<i>     until the ownership change that is;
</I>&gt;<i>  5. wosign is a mainland Chinese (PRC) company which completely
</I>&gt;<i>     controls startcom operations in IL, UK, CN, and US;
</I>&gt;<i>  6. earlier this year and last wosign -- amongst other deceptive
</I>&gt;<i>     actions --  tried to circumvent certain mandated changes to
</I>&gt;<i>     certificate authority (CA) practice by back-/forward-dating certs
</I>&gt;<i>     and issuing certs with duplicate serial numbers while their CA
</I>&gt;<i>     compliance auditors Ernst and Young (Hong Kong) were complicit in
</I>&gt;<i>     covering up these and other forbidden practices *^3 *;
</I>&gt;<i>  7. in response to all these discoveries, mozilla's firefox version 51
</I>&gt;<i>     and all look-alikes using their gecko engine have stopped
</I>&gt;<i>     accepting any new (issued on/after 2016.OCT.21) certs that trace
</I>&gt;<i>     back to wosign/startcom/startssl/startencrypt
</I>&gt;<i>     root/intermediate/cross-signed certs and have banned Hong Kong
</I>&gt;<i>     Ernst and Young CPA's from certifying any CA audits;
</I>&gt;<i>  8. unless wosign and its subsidiaries come up with new root
</I>&gt;<i>     certificates and provide acceptable audit results for their
</I>&gt;<i>     CP/CPS/operations by 2017.MAR, all of wosign-affiliated
</I>&gt;<i>     root/intermediate/cross-signed certs will be removed from
</I>&gt;<i>     mozilla's certificate store; and
</I>&gt;<i>  9. mozilla has stated that if it detects any further fraud such as
</I>&gt;<i>     exhibited in Item 6, /supra/, all security updates to all its
</I>&gt;<i>     software versions will immediately remove wosign-based &quot;trusted&quot;
</I>&gt;<i>     certs from the mozilla root certificate store on the device being
</I>&gt;<i>     updated which will cause the universe of wosign-issued certs to
</I>&gt;<i>     become un-trusted in the mozilla browser family no matter when
</I>&gt;<i>     they were issued.
</I>&gt;<i>
</I>&gt;<i> *OBVIOUS CONCLUSION: *do not just walk away from wosign, startcom, 
</I>&gt;<i> qihoo, et alii but *RUN! *i can think of nothing worse than trusting a 
</I>&gt;<i> PRC firm with my sites' security. OK, if that hyperbole is not enough, 
</I>&gt;<i> try my personal idea of what should be network no-go and it pretty 
</I>&gt;<i> much lies in the swath West of Japan and East of Germany.
</I>&gt;<i>
</I>&gt;<i> *THE ALTERNATIVE: *the immediate free cert replacement avenue is 
</I>&gt;<i> through letsencrypt.org that uses the cert issuance/renewal protocol 
</I>&gt;<i> ACME. although letsencrypt will not be found in most (if any) browser 
</I>&gt;<i> &quot;trusted&quot; root certificate stores, they use cross-signed intermediate 
</I>&gt;<i> CA certs from a root that is. there are an ever-growing number of 
</I>&gt;<i> open-source scripts (bash, perl, python, go, ...) available to 
</I>&gt;<i> automate the process which one can even customize for your particular 
</I>&gt;<i> needs.
</I>&gt;<i>
</I>&gt;<i> there are letsencrypt plug-ins/modules for apache to make your set-up 
</I>&gt;<i> less painful. you can use the nginx process with a lua module to 
</I>&gt;<i> /really /fully automate _/everything!/_ if you want to go /de luxe/ 
</I>&gt;<i> there is the openresty bundle that combines nginx with lua and adds a 
</I>&gt;<i> host of other nginx &quot;add-in&quot; enhancements automatically and some more 
</I>&gt;<i> rarely required that one specifies.
</I>&gt;<i>
</I>&gt;<i> if you have looked at openresty or other bundles before and been 
</I>&gt;<i> turned off because there was nothing for your favorite distro/pkg-mgr 
</I>&gt;<i> and the thoughts of maintaining a 2kb configure line immediately 
</I>&gt;<i> switched your focus over to happy hour, look again! with openresty 
</I>&gt;<i> repo's are in, security patches are quick in coming, development is 
</I>&gt;<i> on-going 24/7, the &quot;community&quot; is lively, and the original/lead 
</I>&gt;<i> developer still has his hand firmly on the tiller.
</I>&gt;<i>
</I>&gt;<i> one very important plus with the nginx set-up is that tls cert 
</I>&gt;<i> operation under lua will actually boot-strap the ACME cert process for 
</I>&gt;<i> each domain and all of the permitted sub-domains you authorize in the 
</I>&gt;<i> nginx config file. so, what did i just mean?
</I>&gt;<i>
</I>&gt;<i> let us say that you have a new domain 'qwe.com' and want to use the 
</I>&gt;<i> sub-domains www, billing, mail, sales, and support. obviously, you 
</I>&gt;<i> have to get the DNS going as a separate project (3 minutes). you have 
</I>&gt;<i> to create an on-disk directory tree that accommodates the storage of 
</I>&gt;<i> the issued certs and a directory where the lua process will operate 
</I>&gt;<i> with the letsencrypt server token process that verifies domain control 
</I>&gt;<i> coming through DNS (2 minutes). then, you have a small config block in 
</I>&gt;<i> the nginx 'http' section authorizing the sub-directories (2 minutes), 
</I>&gt;<i> you drop in a 'server' section for whatever should be done (2 minutes: 
</I>&gt;<i> assuming you have an already-established server processing block), and 
</I>&gt;<i> you add to the server block a 'location' section for the token process 
</I>&gt;<i> (1 minute). now, you re-start nginx *AND YOU ARE DONE (10 minutes 
</I>&gt;<i> total)! *now that you have a template, adding on an additional domain 
</I>&gt;<i> should probably run half or less of that time.
</I>&gt;<i>
</I>&gt;<i> when the first request comes in for, say, 'www.qwe.com'; nginx calls 
</I>&gt;<i> the lua module that completes the whole cert process for getting the 
</I>&gt;<i> cert for that FQDN and then services the request ... all without 
</I>&gt;<i> connection interruption. then 'qwe.com' comes in and it adds that too. 
</I>&gt;<i> then 'support.qwe.com' and so forth until all your configured 
</I>&gt;<i> sub-domains are covered. you probably see it now: using this simple 
</I>&gt;<i> set-up you can segregate sub-domain access between HTTP and HTTPS with 
</I>&gt;<i> that tiny lua sub-domain authorization block. also, by authorizing 
</I>&gt;<i> (temporarily or otherwise) nginx to answer for sub-domains for other 
</I>&gt;<i> servers such as SMTP[S], IMAP[S], and so forth you will create your 
</I>&gt;<i> own customized server certs for apps running any other service you 
</I>&gt;<i> might like on whatever sub-domain you please by just making a single 
</I>&gt;<i> request for each server's sub-domain.
</I>&gt;<i>
</I>&gt;<i> cert renewal is also automatic. with no special config, nginx will 
</I>&gt;<i> renew the cert when it falls within a remaining window of 30 days.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thank you,
</I>&gt;<i>
</I>&gt;<i> Johann
</I>&gt;<i>
</I>&gt;<i> _*NOTES:*_
</I>&gt;<i>
</I>&gt;<i>  1. '*WoSign CA Limited*' (hereinafter '*wosign*') has been around in
</I>&gt;<i>     a very minor way for, perhaps, as long as a decade. its only known
</I>&gt;<i>     owner is Wang Gao Hua (AKA: Richard Wang). it is a demonstrable
</I>&gt;<i>     fact that the PRC government is intensely interested in expanding
</I>&gt;<i>     its scope of operation in the international security venue and
</I>&gt;<i>     that its multi-faceted security apparatus has both overtly and
</I>&gt;<i>     covertly been found to acquire vested interests in technology
</I>&gt;<i>     ventures amenable to such an expansion. therefore, it is quite
</I>&gt;<i>     imaginable that the PRC government financially facilitated Wang's
</I>&gt;<i>     acquisition of startcom for its own purposes. it is all the more
</I>&gt;<i>     conceivable given that Wang was not known to be a very wealthy
</I>&gt;<i>     individual or well connected with sources of institutional financing.
</I>&gt;<i>  2. when i discovered the startling startcom Chinese connection in
</I>&gt;<i>     2016.JAN and asked startcom what was going on, after a long hiatus
</I>&gt;<i>     and several info requests i received what was apparently a
</I>&gt;<i>     &quot;canned&quot; response (in re: 'Qihoo&quot; since i never made reference to
</I>&gt;<i>     &quot;hosting service&quot; or other network security/service offerings such
</I>&gt;<i>     as might come from Qihoo's stable of products). moreover, the
</I>&gt;<i>     somewhat fractured English was not up to the standard always
</I>&gt;<i>     displayed by startcom in previous correspondence:
</I>&gt;<i>     via: 	183.37.145.226 (no rDNS) registered as follows:
</I>&gt;<i>     netname: 	CHINANET-GD
</I>&gt;<i>     descr: 	CHINANET Guangdong province network
</I>&gt;<i>     descr: 	Data Communication Division
</I>&gt;<i>     descr: 	China Telecom
</I>&gt;<i>     country: 	CN
</I>&gt;<i>
</I>&gt;<i>     /L//ike every big company (IBM, Cisco, Oracle, Microsoft etc.)
</I>&gt;<i>     that has set up branch offices and R&amp;D centers in China, StartCom
</I>&gt;<i>     is the No. 6 biggest CA in the world and today has also setup
</I>&gt;<i>     branch office and R&amp;D center in China///^*1* /, our Chinese R&amp;D
</I>&gt;<i>     team chose Qihoo 360 ^*4*   to provide secure hosting service
</I>&gt;<i>     since this company is the No.1 Antivirus and web security provider
</I>&gt;<i>     in China and in the world that public listed in NYSE///^*5* /.///
</I>&gt;<i>     /
</I>&gt;<i>     /
</I>&gt;<i>     //
</I>&gt;<i>     /We are always trying to improve and try support continued growth
</I>&gt;<i>     which isn't always easy to sustain. With that we hope to provide
</I>&gt;<i>     you and all our customers a useful service.//
</I>&gt;<i>     /
</I>&gt;<i>     //
</I>&gt;<i>     /-- Best regards, Ms. Yael Luft,CVO StartCom Ltd./
</I>&gt;<i>     //
</I>&gt;<i>  3. Certificate Authority (CA) auditors must certify to several
</I>&gt;<i>     different standards (some of which are country-specific) and the
</I>&gt;<i>     most prominent of such are:
</I>&gt;<i>       * European Telecommunications Standards Institute (*ETSI; *most
</I>&gt;<i>         specifically 'TS 102 042'; originally EU-centric and now
</I>&gt;<i>         recognized in c. a third of all nations and all of the OECD);
</I>&gt;<i>       * Internet Engineering Task Force (*IETF*; most specific
</I>&gt;<i>         policy-wise (CP/CPS) 'RFC 3647'; founded by the US and now an
</I>&gt;<i>         independent voluntary standards setter);
</I>&gt;<i>       * Webtrust Organization (*WEBTRUST*; principally 'WebTrust
</I>&gt;<i>         Principles and Criteria for Certification Authorities &#8211; SSL
</I>&gt;<i>         Baseline with Network Security &#8211; Version 2.0'; a network
</I>&gt;<i>         security consortium of commercial firms, CPA's, engineers,
</I>&gt;<i>         other standards setters ...);
</I>&gt;<i>       * American Institute of Certified Public Accountants (*AICPA*;
</I>&gt;<i>         various practice and audit guidelines for businesses,
</I>&gt;<i>         non-profits, and governments promulgated through standards
</I>&gt;<i>         boards and US Federal and State regulations; an US accountancy
</I>&gt;<i>         professional standards-setting, certifier of individuals to
</I>&gt;<i>         practice, and continuing education organization);
</I>&gt;<i>       * National Institute of Science and Technology (*NIST*; issues
</I>&gt;<i>         various publications establishing acceptable modes of
</I>&gt;<i>         operation of public and private entities; the lead US agency
</I>&gt;<i>         for standards issuance in concordance and co-operation with
</I>&gt;<i>         many other Departments and agencies of the US government);
</I>&gt;<i>
</I>&gt;<i>  4. Qihoo 360 is -- like all PRC ISP's, hosting providers,
</I>&gt;<i>     hard-/soft-ware vendors, ASN operators, et cetera -- permitted to
</I>&gt;<i>     exist while being continuously monitored by the PRC National
</I>&gt;<i>     Defense Council which is a second-tier security agency just below
</I>&gt;<i>     the PRC military high command. Not only are these permitted firms
</I>&gt;<i>     monitored, but their numbers are severely restricted to make that
</I>&gt;<i>     monitoring more easily accomplished. moreover, any products of
</I>&gt;<i>     such PRC businesses have to be suspect given their government's
</I>&gt;<i>     penchant for intrusive and paramount control of any internal
</I>&gt;<i>     business process. of course, the PRC's raids on foreign business
</I>&gt;<i>     and government systems should make anyone shrink from any security
</I>&gt;<i>     association with any company on mainland china and that includes
</I>&gt;<i>     Hong Kong. Qihoo is addressed herein solely because it seems as if
</I>&gt;<i>     there is a Wang business relationship and concomitant risk exposure.
</I>&gt;<i>  5. pursuant to a privatization agreement back in 2015,  Qihoo 360
</I>&gt;<i>     Technology Co. Ltd. (&quot;Qihoo 360&quot;,  a Cayman Islands company) went
</I>&gt;<i>     out of existence and its NYSE QIHU ADR's (AKA: ADS's) were
</I>&gt;<i>     permanently suspended from trading on 2016.JUL.15. although the
</I>&gt;<i>     2015 announcement mentioned some minority financing of the
</I>&gt;<i>     transaction by PRC-controlled subsidiaries of international
</I>&gt;<i>     (foreign) banks, the actual finalized financing and even the
</I>&gt;<i>     actual ownership of the privatized entity are still totally
</I>&gt;<i>     unknown. since Qihoo was originally allowed to thrive within PRC
</I>&gt;<i>     through the PRC military giving them a virtual monopoly on many
</I>&gt;<i>     networking services (which they mostly still enjoy), it is not a
</I>&gt;<i>     stretch to assume that the military now possesses a directly
</I>&gt;<i>     vested interest together with the enhanced control such an
</I>&gt;<i>     interest cloaked in secrecy would represent.
</I>&gt;<i>
</I>&gt;<i> On 2016.Oct.25 15:54, Salz, Rich wrote:
</I>&gt;&gt;&gt;<i> StartCom has directions on their website. I don't recall what the process is,
</I>&gt;&gt;&gt;<i> but I've used it in the past. You might want to review the instructions
</I>&gt;&gt;&gt;<i> StartCom provides.
</I>&gt;&gt;<i> StartCom, owned by WoSign, has issues with firefox.
</I>&gt;&gt;<i>   
</I>&gt;&gt;&gt;<i> Let's Encrypt is new and has become very popular. I don't know the process
</I>&gt;&gt;&gt;<i> because I have never used them. They will likely suffer more &quot;unable to get
</I>&gt;&gt;&gt;<i> local issuer certificate&quot; problems than StartCom, especially on older mobile
</I>&gt;&gt;&gt;<i> devices.
</I>&gt;&gt;<i> Should not be an issue, since LE has a cross-signed CA cert with someone that is in the trust stores.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>


Enjoy

Jakob
-- 
Jakob Bohm, CIO, Partner, WiseMo A/S.  <A HREF="https://www.wisemo.com">https://www.wisemo.com</A>
Transformervej 29, 2860 S&#248;borg, Denmark.  Direct +45 31 13 16 10
This public discussion message is non-binding and may contain errors.
WiseMo - Remote Service Management for PCs, Phones and Embedded

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004704.html">[openssl-users] free certs: bad idea wosign/startcom/startssl/startencrypt; good alt's
</A></li>
	<LI>Next message: <A HREF="004698.html">[openssl-users] Use of openssl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4720">[ date ]</a>
              <a href="thread.html#4720">[ thread ]</a>
              <a href="subject.html#4720">[ subject ]</a>
              <a href="author.html#4720">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
