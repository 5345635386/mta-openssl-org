<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] pkcs12 how to have different key friendlyName?
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20pkcs12%20how%20to%20have%20different%20key%20friendlyName%3F&In-Reply-To=%3C54DE45B5.7000000%40seantek.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000575.html">
   <LINK REL="Next"  HREF="000550.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] pkcs12 how to have different key friendlyName?</H1>
    <B>Sean Leonard</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20pkcs12%20how%20to%20have%20different%20key%20friendlyName%3F&In-Reply-To=%3C54DE45B5.7000000%40seantek.com%3E"
       TITLE="[openssl-users] pkcs12 how to have different key friendlyName?">dev+openssl at seantek.com
       </A><BR>
    <I>Fri Feb 13 18:43:01 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000575.html">[openssl-users] 1.0.1 upgrade issue
</A></li>
        <LI>Next message: <A HREF="000550.html">[openssl-users] pkcs12 how to have different key friendlyName?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#544">[ date ]</a>
              <a href="thread.html#544">[ thread ]</a>
              <a href="subject.html#544">[ subject ]</a>
              <a href="author.html#544">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Using the openssl pkcs12 -export command, how can one specify a 
different friendlyName attribute for the private key?

For example, consider the command:
openssl pkcs12 -export -out pkcs12.p12 -name &quot;sean key 2015&quot; -inkey 
key.txt -in user.crt -name &quot;sean user cert 2015&quot; -certfile othercerts.txt

The resulting PKCS #12 file is structured:
=================================================
Certificate bag
Bag Attributes
     localKeyID: A8 27 59 DA...
     friendlyName: sean user cert 2015
subject=/...
issuer=/...
-----BEGIN CERTIFICATE-----
MIIFNzCCBB+gAwIBAgIQM9l4W5HgK1Amk8O6j/ceiDANBgkqhkiG9w0BAQsFADCB
...
-----END CERTIFICATE-----
Certificate bag
...
-----BEGIN CERTIFICATE-----
MIIFOjCCBCKgAwIBAgIRAOeNEe8GIrMlFJ1tdJReavQwDQYJKoZIhvcNAQELBQAw
...
-----END CERTIFICATE-----
Certificate bag
...
-----BEGIN CERTIFICATE-----
MIIFNzCCBB+gAwIBAgIQNeTi/66wrvlNcjCDiUjjWzANBgkqhkiG9w0BAQsFADCB
...
-----END CERTIFICATE-----
PKCS7 Data
Shrouded Keybag: pbeWithSHA1And3-KeyTripleDES-CBC, Iteration 2048
Bag Attributes
     localKeyID: A8 27 59 DA...
     friendlyName: sean user cert 2015
Key Attributes: &lt;No Attributes&gt;
Enter PEM pass phrase: [input]
Verifying - Enter PEM pass phrase: [input]
-----BEGIN ENCRYPTED PRIVATE KEY-----
MIIFDjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQIgGNOtafMxE8CAggA
...
-----END ENCRYPTED PRIVATE KEY-----

=================================================

Note that the friendlyName of the Shrouded Keybag is the friendly name 
of the certificate, which is not the intent.

If it is not possible to change the key name with the command-line, 
perhaps someone can point me to the source code location(s) where the 
key name can be altered?

Thanks!

Sean
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000575.html">[openssl-users] 1.0.1 upgrade issue
</A></li>
	<LI>Next message: <A HREF="000550.html">[openssl-users] pkcs12 how to have different key friendlyName?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#544">[ date ]</a>
              <a href="thread.html#544">[ thread ]</a>
              <a href="subject.html#544">[ subject ]</a>
              <a href="author.html#544">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
