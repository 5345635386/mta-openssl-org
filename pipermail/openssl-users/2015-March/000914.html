<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-users] Memory leak issue
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2015-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Memory%20leak%20issue&In-Reply-To=%3CCA%2BmfXPGRqFwY1N9%2B_zjwnSH%3DsMz9CG5%3DeaNaBu%3DWvBBEgejfyw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000950.html">
   <LINK REL="Next"  HREF="000918.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-users] Memory leak issue</H1>
    <B>Rajeswari K</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20%5Bopenssl-users%5D%20Memory%20leak%20issue&In-Reply-To=%3CCA%2BmfXPGRqFwY1N9%2B_zjwnSH%3DsMz9CG5%3DeaNaBu%3DWvBBEgejfyw%40mail.gmail.com%3E"
       TITLE="[openssl-users] Memory leak issue">raji.kotamraju at gmail.com
       </A><BR>
    <I>Thu Mar 26 13:15:29 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000950.html">[openssl-users] QNX cross-compiled openssl with fips
</A></li>
        <LI>Next message: <A HREF="000918.html">[openssl-users] Encryption length, OpenSSL_add_all_algorithms, and OpenSSL_add_all_ciphers questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#914">[ date ]</a>
              <a href="thread.html#914">[ thread ]</a>
              <a href="subject.html#914">[ subject ]</a>
              <a href="author.html#914">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Openssl Users,

Currently we are facing a memory leak issue in the following scenario.

We are allocating dynamic memory to a appctx and we are setting this appctx
to the session using the function
SSL_SESSION_set_app_data().

My understanding is that, this appctx will be updated as part of ex_data
present at SSL_SESSION data structure.

As part of SSL_SESSION_free(), i see that crypto_free_ex_data() gets
called. But, we are seeing that appctx is not being free'd through openssl.

Is there any function do i need to update for free_func() to get this
appctx to be free'd?

And my understanding is if SSL Caching is present, this ex_data also gets
saved as part of SSL_SESSION data. Hence, at application we are unable to
judge when to free this appctx. Hence, we would like to get this free'd
when openssl frees its SSL Session.

Please provide me appropriate function to call/to set at/to openssl to get
this appctx free'd by openssl when SSL_Session is being freed.

Thanks in advance.

Rajeswari.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-users/attachments/20150326/e91a5716/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-users/attachments/20150326/e91a5716/attachment-0001.html</A>&gt;
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000950.html">[openssl-users] QNX cross-compiled openssl with fips
</A></li>
	<LI>Next message: <A HREF="000918.html">[openssl-users] Encryption length, OpenSSL_add_all_algorithms, and OpenSSL_add_all_ciphers questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#914">[ date ]</a>
              <a href="thread.html#914">[ thread ]</a>
              <a href="subject.html#914">[ subject ]</a>
              <a href="author.html#914">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
