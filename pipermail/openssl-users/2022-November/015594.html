<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> issues with OpenSSL 1.1.1n
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2022-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20issues%20with%20OpenSSL%201.1.1n&In-Reply-To=%3CDM6PR02MB54682C919AD7B80E0BA6081DC4369%40DM6PR02MB5468.namprd02.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015689.html">
   <LINK REL="Next"  HREF="015595.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>issues with OpenSSL 1.1.1n</H1>
    <B>Ray Crumrine</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20issues%20with%20OpenSSL%201.1.1n&In-Reply-To=%3CDM6PR02MB54682C919AD7B80E0BA6081DC4369%40DM6PR02MB5468.namprd02.prod.outlook.com%3E"
       TITLE="issues with OpenSSL 1.1.1n">hraycrum at hotmail.com
       </A><BR>
    <I>Tue Nov  1 23:08:10 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015689.html">an oldie but a goodie .. ISO C90 does not support 'long long'
</A></li>
        <LI>Next message (by thread): <A HREF="015595.html">issues with OpenSSL 1.1.1n
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15594">[ date ]</a>
              <a href="thread.html#15594">[ thread ]</a>
              <a href="subject.html#15594">[ subject ]</a>
              <a href="author.html#15594">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Oh my gosh! Thank you. I am a newbie when it comes to certificates. I am 
only using tls for outbound calls. I thought I shouldn't need a 
certificate when doing outbound only [a client] but was getting some 
weird error. After I read your email I simply commented out both 
&quot;certificate&quot; lines in my configuration and it works!!!

One last question. I don't need certbot at all then, right?

Thanks again,
Ray

Viktor Dukhovni wrote:
 &gt; On Tue, Nov 01, 2022 at 05:55:08AM -0500, Ray Crumrine wrote:
 &gt;
 &gt;&gt; SSL SSL_ERROR_SSL (Handshake): Level: 0 err: &lt;336151573&gt; &lt;SSL
 &gt;&gt; routines-ssl3_read_bytes-sslv3 alert certificate expired&gt;
 &gt; Is this logged by the TLS client or server?&#160; In other words are you
 &gt; running a client application making outgoing connections or a server
 &gt; application receiving incoming connections?
 &gt;
 &gt;&gt; but not all of the time. Only when I try to access
 &gt;&gt; us-east-va.sip.flowroute using tlsv1.2.
 &gt; This sounds like &quot;client&quot;.&#160; TLS alerts are sent by the other end of the
 &gt; connection, so if you're getting &quot;certificate expired&quot; alerts from a
 &gt; server, that means that your client is *sending* an expired certificate
 &gt; to the server (which must have solicited, possibly optional, client
 &gt; certificates).&#160; The server in question does send certificate requests:
 &gt;
 &gt;&#160;&#160;&#160;&#160; Transport Layer Security
 &gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TLSv1.2 Record Layer: Handshake Protocol: Certificate Request 
(fragment)
 &gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Content Type: Handshake (22)
 &gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Version: TLS 1.2 (0x0303)
 &gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Length: 16384
 &gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Handshake Protocol: Certificate Request (fragment)
 &gt;&#160;&#160;&#160;&#160; ...
 &gt;
 &gt;&gt; I have tried two other sites using the same configuration and they work
 &gt;&gt; fine. Is there a simple configuration change or do I need Openssl v3.0?
 &gt; The other sites presumably don't solicit client certificates.&#160; The
 &gt; simplest choice is to not configure a client certificate unless you're
 &gt; sure you're going to need one.
 &gt;
 &gt;&gt; Checking with
 &gt;&gt; <A HREF="https://decoder.link/sslchecker/us-east-va.sip.flowroute.com/5061">https://decoder.link/sslchecker/us-east-va.sip.flowroute.com/5061</A>
 &gt;&gt; everything checks fine???
 &gt; The probe does not send expired client certs.
 &gt;

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-users/attachments/20221101/0abadfd8/attachment.htm">https://mta.openssl.org/pipermail/openssl-users/attachments/20221101/0abadfd8/attachment.htm</A>&gt;
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015689.html">an oldie but a goodie .. ISO C90 does not support 'long long'
</A></li>
	<LI>Next message (by thread): <A HREF="015595.html">issues with OpenSSL 1.1.1n
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15594">[ date ]</a>
              <a href="thread.html#15594">[ thread ]</a>
              <a href="subject.html#15594">[ subject ]</a>
              <a href="author.html#15594">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
