<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> OpenSSL 3.0.7 make failure on Debian 10 (buster)
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-users/2022-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OpenSSL%203.0.7%20make%20failure%20on%20Debian%2010%20%28buster%29&In-Reply-To=%3C6b12ef3e-77d4-5c09-d7e5-d0ce2f47c377%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015626.html">
   <LINK REL="Next"  HREF="015632.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>OpenSSL 3.0.7 make failure on Debian 10 (buster)</H1>
    <B>John Boxall</B> 
    <A HREF="mailto:openssl-users%40openssl.org?Subject=Re%3A%20OpenSSL%203.0.7%20make%20failure%20on%20Debian%2010%20%28buster%29&In-Reply-To=%3C6b12ef3e-77d4-5c09-d7e5-d0ce2f47c377%40gmail.com%3E"
       TITLE="OpenSSL 3.0.7 make failure on Debian 10 (buster)">jboxall47 at gmail.com
       </A><BR>
    <I>Fri Nov  4 12:06:19 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="015626.html">RSA padding scheme for EVP_SealInit() ?
</A></li>
        <LI>Next message (by thread): <A HREF="015632.html">OpenSSL 3.0.7 make failure on Debian 10 (buster)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15631">[ date ]</a>
              <a href="thread.html#15631">[ thread ]</a>
              <a href="subject.html#15631">[ subject ]</a>
              <a href="author.html#15631">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It has been quite a while since I worked with OpenSSL and the first time 
I have experienced a build failure.

This is some of the system info:

uname -a
Linux jdblt1 4.19.0-22-amd64 #1 SMP Debian 4.19.260-1 (2022-09-29) 
thx86_64 GNU/Linux


The following is the output from the configure and make.

+ ./Configure --prefix=/opt/openssl --openssldir=/usr/local/ssl
Configuring OpenSSL version 3.0.7 for target linux-x86_64
Using os-specific seed configuration
Created configdata.pm
Running configdata.pm
Created Makefile.in
Created Makefile
Created include/openssl/configuration.h

**********************************************************************
***                                                                ***
***   OpenSSL has been successfully configured                     ***
***                                                                ***
***   If you encounter a problem while building, please open an    ***
***   issue on GitHub &lt;<A HREF="https://github.com/openssl/openssl/issues">https://github.com/openssl/openssl/issues</A>&gt;  ***
***   and include the output from the following command:           ***
***                                                                ***
***       perl configdata.pm --dump                                ***
***                                                                ***
***   (If you are new to OpenSSL, you might want to consult the    ***
***   'Troubleshooting' section in the INSTALL.md file first)      ***
***                                                                ***
**********************************************************************



+ make
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/crypto/bn_conf.h.in &gt; include/crypto/bn_conf.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/crypto/dso_conf.h.in &gt; include/crypto/dso_conf.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/asn1.h.in &gt; include/openssl/asn1.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/asn1t.h.in &gt; include/openssl/asn1t.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/bio.h.in &gt; include/openssl/bio.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/cmp.h.in &gt; include/openssl/cmp.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/cms.h.in &gt; include/openssl/cms.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/conf.h.in &gt; include/openssl/conf.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/crmf.h.in &gt; include/openssl/crmf.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/crypto.h.in &gt; include/openssl/crypto.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/ct.h.in &gt; include/openssl/ct.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/err.h.in &gt; include/openssl/err.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/ess.h.in &gt; include/openssl/ess.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/fipskey.h.in &gt; include/openssl/fipskey.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/lhash.h.in &gt; include/openssl/lhash.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/ocsp.h.in &gt; include/openssl/ocsp.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/opensslv.h.in &gt; include/openssl/opensslv.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/pkcs12.h.in &gt; include/openssl/pkcs12.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/pkcs7.h.in &gt; include/openssl/pkcs7.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/safestack.h.in &gt; include/openssl/safestack.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/srp.h.in &gt; include/openssl/srp.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/ssl.h.in &gt; include/openssl/ssl.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/ui.h.in &gt; include/openssl/ui.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/x509.h.in &gt; include/openssl/x509.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/x509_vfy.h.in &gt; include/openssl/x509_vfy.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
include/openssl/x509v3.h.in &gt; include/openssl/x509v3.h
/usr/bin/perl &quot;-I.&quot; -Mconfigdata &quot;util/dofile.pl&quot; &quot;-oMakefile&quot; 
test/provider_internal_test.cnf.in &gt; test/provider_internal_test.cnf
make depend &amp;&amp; make _build_sw
make[1]: Entering directory '/home/jboxall/OpenSSL/openssl-3.0.7'
make[1]: Leaving directory '/home/jboxall/OpenSSL/openssl-3.0.7'
make[1]: Entering directory '/home/jboxall/OpenSSL/openssl-3.0.7'
gcc  -I. -Iinclude -Iapps/include  -fPIC -pthread -m64 -Wa,--noexecstack 
-Wall -O3 -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_PIC 
-DOPENSSLDIR=&quot;\&quot;/usr/local/ssl\&quot;&quot; 
-DENGINESDIR=&quot;\&quot;/opt/openssl/lib64/engines-3\&quot;&quot; 
-DMODULESDIR=&quot;\&quot;/opt/openssl/lib64/ossl-modules\&quot;&quot; 
-DOPENSSL_BUILDING_OPENSSL -DNDEBUG  -MMD -MF 
apps/lib/libapps-lib-app_libctx.d.tmp -MT 
apps/lib/libapps-lib-app_libctx.o -c -o 
apps/lib/libapps-lib-app_libctx.o apps/lib/app_libctx.c
In file included from 
/usr/lib/gcc/x86_64-linux-gnu/8/include-fixed/syslimits.h:7,
                  from 
/usr/lib/gcc/x86_64-linux-gnu/8/include-fixed/limits.h:34,
                  from include/openssl/types.h:14,
                  from apps/include/app_libctx.h:13,
                  from apps/lib/app_libctx.c:9:
/usr/lib/gcc/x86_64-linux-gnu/8/include-fixed/limits.h:194:15: fatal 
error: limits.h: No such file or directory
  #include_next &lt;limits.h&gt;  /* recurse down to the real one */
                ^~~~~~~~~~
compilation terminated.
make[1]: *** [Makefile:4256: apps/lib/libapps-lib-app_libctx.o] Error 1
make[1]: Leaving directory '/home/jboxall/OpenSSL/openssl-3.0.7'
make: *** [Makefile:3223: build_sw] Error 2
+ echo 'Press the &lt;ENTER&gt; key to continue or the &lt;CTRL&gt; + &lt;C&gt; keys to exit.'
Press the &lt;ENTER&gt; key to continue or the &lt;CTRL&gt; + &lt;C&gt; keys to exit.
+ read NOTHING
+ make test
make depend &amp;&amp; make _tests
make[1]: Entering directory '/home/jboxall/OpenSSL/openssl-3.0.7'
make[1]: Leaving directory '/home/jboxall/OpenSSL/openssl-3.0.7'
make[1]: Entering directory '/home/jboxall/OpenSSL/openssl-3.0.7'
/usr/bin/perl apps/progs.pl &quot;-C&quot; &quot;apps/openssl&quot; &gt; apps/progs.c
/usr/bin/perl apps/progs.pl &quot;-H&quot; &quot;apps/openssl&quot; &gt; apps/progs.h
gcc  -Iapps -I. -Iinclude -Iapps/include  -pthread -m64 
-Wa,--noexecstack -Wall -O3 -DOPENSSL_BUILDING_OPENSSL -DNDEBUG  -MMD 
-MF apps/lib/openssl-bin-cmp_mock_srv.d.tmp -MT 
apps/lib/openssl-bin-cmp_mock_srv.o -c -o 
apps/lib/openssl-bin-cmp_mock_srv.o apps/lib/cmp_mock_srv.c
In file included from 
/usr/lib/gcc/x86_64-linux-gnu/8/include-fixed/syslimits.h:7,
                  from 
/usr/lib/gcc/x86_64-linux-gnu/8/include-fixed/limits.h:34,
                  from ./e_os.h:13,
                  from apps/include/apps.h:13,
                  from apps/lib/cmp_mock_srv.c:11:
/usr/lib/gcc/x86_64-linux-gnu/8/include-fixed/limits.h:194:15: fatal 
error: limits.h: No such file or directory
  #include_next &lt;limits.h&gt;  /* recurse down to the real one */
                ^~~~~~~~~~
compilation terminated.
make[1]: *** [Makefile:21620: apps/lib/openssl-bin-cmp_mock_srv.o] Error 1
make[1]: Leaving directory '/home/jboxall/OpenSSL/openssl-3.0.7'
make: *** [Makefile:3261: tests] Error 2



The file in question clearly exists:

ls -l /usr/lib/gcc/x86_64-linux-gnu/8/include-fixed/
total 16
-rw-r--r-- 1 root root 6089 Apr  6  2019 limits.h
-rw-r--r-- 1 root root  750 Apr  6  2019 README
-rw-r--r-- 1 root root  330 Apr  6  2019 syslimits.h


I have attached a file with the dump of the config data.

I would appreciate any recommendations on how to resolve the error or 
other information to provide.

-- 
Regards,

John Boxall
-------------- next part --------------

Command line (with current working directory = .):

    /usr/bin/perl ./Configure --prefix=/opt/openssl --openssldir=/usr/local/ssl --debug

Perl information:

    /usr/bin/perl
    5.28.1 for x86_64-linux-gnu-thread-multi

Enabled features:

    afalgeng
    aria
    asm
    async
    autoalginit
    autoerrinit
    autoload-config
    bf
    blake2
    bulk
    cached-fetch
    camellia
    capieng
    cast
    chacha
    cmac
    cmp
    cms
    comp
    ct
    deprecated
    des
    dgram
    dh
    dsa
    dso
    dtls
    dynamic-engine
    ec
    ec2m
    ecdh
    ecdsa
    engine
    err
    filenames
    gost
    idea
    legacy
    loadereng
    makedepend
    md4
    mdc2
    module
    multiblock
    nextprotoneg
    ocb
    ocsp
    padlockeng
    pic
    pinshared
    poly1305
    posix-io
    psk
    rc2
    rc4
    rdrand
    rfc3779
    rmd160
    scrypt
    secure-memory
    seed
    shared
    siphash
    siv
    sm2
    sm3
    sm4
    sock
    srp
    srtp
    sse2
    ssl
    ssl-trace
    static-engine
    stdio
    tests
    threads
    tls
    ts
    ui-console
    whirlpool
    tls1
    tls1-method
    tls1_1
    tls1_1-method
    tls1_2
    tls1_2-method
    tls1_3
    dtls1
    dtls1-method
    dtls1_2
    dtls1_2-method

Disabled features:

    acvp-tests          [cascade]        OPENSSL_NO_ACVP_TESTS
    asan                [default]        OPENSSL_NO_ASAN
    buildtest-c++       [default]        
    crypto-mdebug       [default]        OPENSSL_NO_CRYPTO_MDEBUG
    devcryptoeng        [default]        OPENSSL_NO_DEVCRYPTOENG
    ec_nistp_64_gcc_128 [default]        OPENSSL_NO_EC_NISTP_64_GCC_128
    egd                 [default]        OPENSSL_NO_EGD
    external-tests      [default]        OPENSSL_NO_EXTERNAL_TESTS
    fips                [default]        
    fips-securitychecks [cascade]        OPENSSL_NO_FIPS_SECURITYCHECKS
    fuzz-afl            [default]        OPENSSL_NO_FUZZ_AFL
    fuzz-libfuzzer      [default]        OPENSSL_NO_FUZZ_LIBFUZZER
    ktls                [default]        OPENSSL_NO_KTLS
    md2                 [default]        OPENSSL_NO_MD2 (skip crypto/md2)
    msan                [default]        OPENSSL_NO_MSAN
    rc5                 [default]        OPENSSL_NO_RC5 (skip crypto/rc5)
    sctp                [default]        OPENSSL_NO_SCTP
    trace               [default]        OPENSSL_NO_TRACE
    ubsan               [default]        OPENSSL_NO_UBSAN
    unit-test           [default]        OPENSSL_NO_UNIT_TEST
    uplink              [no uplink_arch] OPENSSL_NO_UPLINK
    weak-ssl-ciphers    [default]        OPENSSL_NO_WEAK_SSL_CIPHERS
    zlib                [default]        
    zlib-dynamic        [default]        
    ssl3                [default]        OPENSSL_NO_SSL3
    ssl3-method         [default]        OPENSSL_NO_SSL3_METHOD

Config target attributes:

    AR =&gt; &quot;ar&quot;,
    ARFLAGS =&gt; &quot;qc&quot;,
    CC =&gt; &quot;gcc&quot;,
    CFLAGS =&gt; &quot;-Wall -O0 -g&quot;,
    CXX =&gt; &quot;g++&quot;,
    CXXFLAGS =&gt; &quot;-Wall -O0 -g&quot;,
    HASHBANGPERL =&gt; &quot;/usr/bin/env perl&quot;,
    RANLIB =&gt; &quot;ranlib&quot;,
    RC =&gt; &quot;windres&quot;,
    asm_arch =&gt; &quot;x86_64&quot;,
    bn_ops =&gt; &quot;SIXTY_FOUR_BIT_LONG&quot;,
    build_file =&gt; &quot;Makefile&quot;,
    build_scheme =&gt; [ &quot;unified&quot;, &quot;unix&quot; ],
    cflags =&gt; &quot;-pthread -m64&quot;,
    cppflags =&gt; &quot;&quot;,
    cxxflags =&gt; &quot;-std=c++11 -pthread -m64&quot;,
    defines =&gt; [ &quot;OPENSSL_BUILDING_OPENSSL&quot; ],
    disable =&gt; [  ],
    dso_ldflags =&gt; &quot;-Wl,-z,defs&quot;,
    dso_scheme =&gt; &quot;dlfcn&quot;,
    enable =&gt; [ &quot;afalgeng&quot; ],
    ex_libs =&gt; &quot;-ldl -pthread&quot;,
    includes =&gt; [  ],
    lflags =&gt; &quot;&quot;,
    lib_cflags =&gt; &quot;&quot;,
    lib_cppflags =&gt; &quot;-DOPENSSL_USE_NODELETE -DL_ENDIAN&quot;,
    lib_defines =&gt; [  ],
    module_cflags =&gt; &quot;-fPIC&quot;,
    module_cxxflags =&gt; undef,
    module_ldflags =&gt; &quot;-Wl,-znodelete -shared -Wl,-Bsymbolic&quot;,
    multilib =&gt; &quot;64&quot;,
    perl_platform =&gt; &quot;Unix&quot;,
    perlasm_scheme =&gt; &quot;elf&quot;,
    shared_cflag =&gt; &quot;-fPIC&quot;,
    shared_defflag =&gt; &quot;-Wl,--version-script=&quot;,
    shared_defines =&gt; [  ],
    shared_ldflag =&gt; &quot;-Wl,-znodelete -shared -Wl,-Bsymbolic&quot;,
    shared_rcflag =&gt; &quot;&quot;,
    shared_sonameflag =&gt; &quot;-Wl,-soname=&quot;,
    shared_target =&gt; &quot;linux-shared&quot;,
    thread_defines =&gt; [  ],
    thread_scheme =&gt; &quot;pthreads&quot;,
    unistd =&gt; &quot;&lt;unistd.h&gt;&quot;,

Recorded environment:

    AR = 
    ARFLAGS = 
    AS = 
    ASFLAGS = 
    BUILDFILE = 
    CC = 
    CFLAGS = 
    CPP = 
    CPPDEFINES = 
    CPPFLAGS = 
    CPPINCLUDES = 
    CROSS_COMPILE = 
    CXX = 
    CXXFLAGS = 
    HASHBANGPERL = 
    LD = 
    LDFLAGS = 
    LDLIBS = 
    MT = 
    MTFLAGS = 
    OPENSSL_LOCAL_CONFIG_DIR = 
    PERL = 
    RANLIB = 
    RC = 
    RCFLAGS = 
    RM = 
    WINDRES = 
    __CNF_CFLAGS = 
    __CNF_CPPDEFINES = 
    __CNF_CPPFLAGS = 
    __CNF_CPPINCLUDES = 
    __CNF_CXXFLAGS = 
    __CNF_LDFLAGS = 
    __CNF_LDLIBS = 

Makevars:

    AR              = ar
    ARFLAGS         = qc
    CC              = gcc
    CFLAGS          = -Wall -O0 -g
    CPPDEFINES      = 
    CPPFLAGS        = 
    CPPINCLUDES     = 
    CXX             = g++
    CXXFLAGS        = -Wall -O0 -g
    HASHBANGPERL    = /usr/bin/env perl
    LDFLAGS         = 
    LDLIBS          = 
    PERL            = /usr/bin/perl
    RANLIB          = ranlib
    RC              = windres
    RCFLAGS         = 

NOTE: These variables only represent the configuration view.  The build file
template may have processed these variables further, please have a look at the
build file for more exact data:
    Makefile

build file:

    Makefile

build file templates:

    Configurations/common0.tmpl
    Configurations/unix-Makefile.tmpl
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="015626.html">RSA padding scheme for EVP_SealInit() ?
</A></li>
	<LI>Next message (by thread): <A HREF="015632.html">OpenSSL 3.0.7 make failure on Debian 10 (buster)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15631">[ date ]</a>
              <a href="thread.html#15631">[ thread ]</a>
              <a href="subject.html#15631">[ subject ]</a>
              <a href="author.html#15631">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-users.html">More information about the openssl-users
mailing list</a><br>
</body></html>
