<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Github PR label automation
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-project/2020-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20Github%20PR%20label%20automation&In-Reply-To=%3CCABU6YOZY3gspwcaV8k6Az7MQ%2BkW803zUp3g-RPw04EDzw-vMjg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001776.html">
   <LINK REL="Next"  HREF="001779.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Github PR label automation</H1>
    <B>Mark J Cox</B> 
    <A HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20Github%20PR%20label%20automation&In-Reply-To=%3CCABU6YOZY3gspwcaV8k6Az7MQ%2BkW803zUp3g-RPw04EDzw-vMjg%40mail.gmail.com%3E"
       TITLE="Github PR label automation">mark at openssl.org
       </A><BR>
    <I>Sat Feb  8 15:56:19 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="001776.html">Monthly Status Report (January)
</A></li>
        <LI>Next message: <A HREF="001779.html">Github PR label automation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1778">[ date ]</a>
              <a href="thread.html#1778">[ thread ]</a>
              <a href="subject.html#1778">[ subject ]</a>
              <a href="author.html#1778">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've currently got a cron job running every hour that looks at open PR
requests against github openssl repo and does various actions.  So if
you were wondering why I was altering labels and making comments at
4am, now you know.  No doubt we'll use some tool user for this in the
future.

So right now here's what it does:

Every hour it looks at open PRs that are labelled &quot;approval: done&quot;.
If 24 hours has elapsed since that label was assigned and if there
have been no comments made to the PR since the label was assigned then
it is automatically moved to &quot;approval: ready to merge&quot; with a comment
added to trigger notifications.  So if you want to stop something
going to &quot;ready to merge&quot; just add any comment to the PR.

I'm thinking of using this script also to 1) collect interesting stats
and 2) do some other actions.  So if there's some automation you'd
like to see just add an enhancement issue against the openssl/tools
repo.

1 Matt already asked for committer notification trigger for anything
labelled Urgent.

2 If there were comments made after &quot;approval: done&quot; then I think we
really ought to drop the &quot;approval: done&quot; label as the comments likely
invalidated the approval.  So I'll likely add that next week (if
&quot;approval: done&quot; label and has comments since that label then remove
the label and add a comment 'please review if this is really approval:
done'.  If the approval: done label gets set again then after 24 hours
the existing automation will trigger.  #10786 is a good example of
this.

Mark
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001776.html">Monthly Status Report (January)
</A></li>
	<LI>Next message: <A HREF="001779.html">Github PR label automation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1778">[ date ]</a>
              <a href="thread.html#1778">[ thread ]</a>
              <a href="subject.html#1778">[ subject ]</a>
              <a href="author.html#1778">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-project.html">More information about the openssl-project
mailing list</a><br>
</body></html>
