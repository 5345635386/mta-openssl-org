<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Travis in solid red mode again
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-project/2020-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20Travis%20in%20solid%20red%20mode%20again&In-Reply-To=%3C17106546-5331-4605-89b9-99ab16e04110%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001769.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Travis in solid red mode again</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20Travis%20in%20solid%20red%20mode%20again&In-Reply-To=%3C17106546-5331-4605-89b9-99ab16e04110%40openssl.org%3E"
       TITLE="Travis in solid red mode again">matt at openssl.org
       </A><BR>
    <I>Sat Feb  1 00:10:22 UTC 2020</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001769.html">Travis in solid red mode again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1761">[ date ]</a>
              <a href="thread.html#1761">[ thread ]</a>
              <a href="subject.html#1761">[ subject ]</a>
              <a href="author.html#1761">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 31/01/2020 22:55, Matt Caswell wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On 31/01/2020 17:07, Matthias St. Pierre wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> After a much to short green period, Travis has turned to solid red mode
</I>&gt;&gt;<i> again:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://travis-ci.org/openssl/openssl/builds?utm_medium=notification&amp;utm_source=github_status">https://travis-ci.org/openssl/openssl/builds?utm_medium=notification&amp;utm_source=github_status</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This fact causes a lot of pain for reviewers, because every failing job
</I>&gt;&gt;<i> needs to be checked manually.
</I>&gt;&gt;<i> I would be happy to fix some of the failures if I could, but in most
</I>&gt;&gt;<i> cases I have no clue what the problem is,
</I>&gt;&gt;<i> because I can't reproduce the issue locally. Could we try to fix them in
</I>&gt;&gt;<i> a joint effort?&#160; For your convenience,
</I>&gt;&gt;<i> I added a summary of all failing jobs of Build #31837 below.
</I>&gt;<i> 
</I>&gt;<i> Trial fix for at least some of these issues in #10989. We'll see what
</I>&gt;<i> travis makes of it.
</I>
It fixed most of the test failures but not the krb5 one. I have another
trial fix in #10992 (which includes the fix in #10989).

Matt


&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Since this is not the first time that this happens, I think it is
</I>&gt;&gt;<i> overdue that the OTC discusses those constant
</I>&gt;&gt;<i> build failures and proposes some measures to raise the priority for
</I>&gt;&gt;<i> fixing CI errors. One drastic possibility
</I>&gt;&gt;<i> would be to allow only CI fixing pull requests to be merged as long as
</I>&gt;&gt;<i> master and the stable branches are red.
</I>&gt;&gt;<i> But I am sure there is a golden middle way between such an extreme
</I>&gt;&gt;<i> sanction and our current indifference.
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> Part of the issue is that the master branch travis failures are not
</I>&gt;<i> visible in the PRs because the master branch runs the full tests
</I>&gt;<i> (including the extended tests), whereas the PRs don't run the extended
</I>&gt;<i> tests by default. However running the extended tests takes too long.
</I>&gt;<i> 
</I>&gt;<i> Could we add a CI check for PRs that confirms that the target branch is
</I>&gt;<i> green in travis?
</I>&gt;<i> 
</I>&gt;<i> Matt
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regards,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Matthias
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ----
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Last Successful Build: #31583 (10 days ago!)
</I>&gt;&gt;<i> <A HREF="https://travis-ci.org/openssl/openssl/builds/639939072?utm_medium=notification&amp;utm_source=github_status">https://travis-ci.org/openssl/openssl/builds/639939072?utm_medium=notification&amp;utm_source=github_status</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Recent Build: #31837
</I>&gt;&gt;<i> <A HREF="https://travis-ci.org/openssl/openssl/builds/644238908?utm_medium=notification&amp;utm_source=github_status">https://travis-ci.org/openssl/openssl/builds/644238908?utm_medium=notification&amp;utm_source=github_status</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> SSL TESTS
</I>&gt;&gt;<i> =========
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *
</I>&gt;&gt;<i> <A HREF="https://travis-ci.org/openssl/openssl/jobs/644238919?utm_medium=notification&amp;utm_source=github_status">https://travis-ci.org/openssl/openssl/jobs/644238919?utm_medium=notification&amp;utm_source=github_status</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *
</I>&gt;&gt;<i> <A HREF="https://travis-ci.org/openssl/openssl/jobs/644238926?utm_medium=notification&amp;utm_source=github_status">https://travis-ci.org/openssl/openssl/jobs/644238926?utm_medium=notification&amp;utm_source=github_status</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *
</I>&gt;&gt;<i> <A HREF="https://travis-ci.org/openssl/openssl/jobs/644238929?utm_medium=notification&amp;utm_source=github_status">https://travis-ci.org/openssl/openssl/jobs/644238929?utm_medium=notification&amp;utm_source=github_status</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &#160; Test Summary Report
</I>&gt;&gt;&gt;<i> -------------------
</I>&gt;&gt;&gt;<i> &#160; 80-test_ssl_new.t&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; (Wstat: 256 Tests: 30 Failed: 1)
</I>&gt;&gt;&gt;<i> &#160;&#160;&#160; Failed test:&#160; 4
</I>&gt;&gt;&gt;<i> &#160;&#160;&#160; Non-zero exit status: 1
</I>&gt;&gt;&gt;<i> &#160; 80-test_ssl_old.t&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; (Wstat: 256 Tests: 6 Failed: 1)
</I>&gt;&gt;&gt;<i> &#160;&#160;&#160; Failed test:&#160; 2
</I>&gt;&gt;&gt;<i> &#160;&#160;&#160; Non-zero exit status: 1
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> BORINGSSL AND KRB5
</I>&gt;&gt;<i> ==================
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *
</I>&gt;&gt;<i> <A HREF="https://travis-ci.org/openssl/openssl/jobs/644238927?utm_medium=notification&amp;utm_source=github_status">https://travis-ci.org/openssl/openssl/jobs/644238927?utm_medium=notification&amp;utm_source=github_status</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Test Summary Report
</I>&gt;&gt;&gt;<i> -------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 95-test_external_boringssl.t (Wstat: 256 Tests: 1 Failed: 1)
</I>&gt;&gt;&gt;<i> &#160;&#160; Failed test:&#160; 1
</I>&gt;&gt;&gt;<i> &#160;&#160; Non-zero exit status: 1
</I>&gt;&gt;&gt;<i> 95-test_external_krb5.t&#160;&#160;&#160;&#160; (Wstat: 256 Tests: 1 Failed: 1)
</I>&gt;&gt;&gt;<i> &#160;&#160; Failed test:&#160; 1
</I>&gt;&gt;&gt;<i> &#160;&#160; Non-zero exit status: 1
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 95-test_external_boringssl.t:
</I>&gt;&gt;<i> -----------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;&#160;&#160; grep 'go.*FAILED' tffff
</I>&gt;&gt;<i> &#160;&#160;&#160; go test: FAILED (SSL3-Client-ClientAuth-RSA)
</I>&gt;&gt;<i> &#160;&#160;&#160; go test: FAILED (SSL3-Server-ClientAuth-RSA)
</I>&gt;&gt;<i> &#160;&#160;&#160; go test: FAILED (ClientAuth-Sign-RSA-SSL3)
</I>&gt;&gt;<i> &#160;&#160;&#160; go test: FAILED (ClientAuth-InvalidSignature-RSA-SSL3)
</I>&gt;&gt;<i> &#160;&#160;&#160; go test: FAILED (CertificateVerificationSucceed-Server-SSL3-Sync)
</I>&gt;&gt;<i> &#160;&#160;&#160; go test: FAILED
</I>&gt;&gt;<i> (CertificateVerificationSucceed-Server-SSL3-Sync-SplitHandshakeRecords)
</I>&gt;&gt;<i> &#160;&#160;&#160; go test: FAILED
</I>&gt;&gt;<i> (CertificateVerificationSucceed-Server-SSL3-Sync-PackHandshakeFlight)
</I>&gt;&gt;<i> &#160;&#160;&#160; go test: FAILED (CertificateVerificationSucceed-Server-SSL3-Async)
</I>&gt;&gt;<i> &#160;&#160;&#160; go test: FAILED
</I>&gt;&gt;<i> (CertificateVerificationSucceed-Server-SSL3-Async-SplitHandshakeRecords)
</I>&gt;&gt;<i> &#160;&#160;&#160; go test: FAILED
</I>&gt;&gt;<i> (CertificateVerificationSucceed-Server-SSL3-Async-PackHandshakeFlight)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 95-test_external_krb5.t:
</I>&gt;&gt;<i> -----------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;&#160;&#160; LD_LIBRARY_PATH=`echo -L../../../lib | sed -e &quot;s/-L//g&quot; -e &quot;s/
</I>&gt;&gt;<i> /:/g&quot;` KRB5_CONFIG=../../../config-files/krb5.conf LC_ALL=C ./t_nfold
</I>&gt;&gt;<i> &#160;&#160;&#160; N-fold
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; Input:&#160;&#160;&#160; &quot;basch&quot;
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; 192-Fold:&#160;&#160;&#160;&#160; 1aab6b42 964b98b2 1f8cde2d 2448ba34 55d7862c 9731643f
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; Input:&#160;&#160;&#160; &quot;eichin&quot;
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; 192-Fold:&#160;&#160;&#160;&#160; 65696368 696e4b73 2b4b1b43 da1a5b99 5a58d2c6 d0d2dcca
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; Input:&#160;&#160;&#160; &quot;sommerfeld&quot;
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; 192-Fold:&#160;&#160;&#160;&#160; 2f7a9855 7c6ee4ab adf4e711 92dd442b d4ff5325 a5def75c
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; Input:&#160;&#160;&#160; &quot;MASSACHVSETTS INSTITVTE OF TECHNOLOGY&quot;
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; 192-Fold:&#160;&#160;&#160;&#160; db3b0d8f 0b061e60 3282b308 a5084122 9ad798fa b9540c1b
</I>&gt;&gt;<i> &#160;&#160;&#160; RFC tests:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;&#160;&#160; ...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;&#160;&#160; Generating random keyblock: . . . OK
</I>&gt;&gt;<i> &#160;&#160;&#160; Creating opaque key from keyblock: . . . OK
</I>&gt;&gt;<i> &#160;&#160;&#160; Encrypting (c): . . . Failed: Cannot allocate memory &lt;===ALLOC
</I>&gt;&gt;<i> FAILURE==
</I>&gt;&gt;<i> &#160;&#160;&#160; Aborted (core
</I>&gt;&gt;<i> dumped)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;===CORE DUMPED==
</I>&gt;&gt;<i> &#160;&#160;&#160; Makefile:684: recipe for target 'check-unix' failed
</I>&gt;&gt;<i> &#160;&#160;&#160; make[5]: *** [check-unix] Error 134
</I>&gt;&gt;<i> &#160;&#160;&#160; make[5]: Leaving directory
</I>&gt;&gt;<i> '/home/travis/build/openssl/openssl/krb5/src/lib/crypto/crypto_tests'
</I>&gt;&gt;<i> &#160;&#160;&#160; Makefile:1107: recipe for target 'check-recurse' failed
</I>&gt;&gt;<i> &#160;&#160;&#160; make[4]: *** [check-recurse] Error 1
</I>&gt;&gt;<i> &#160;&#160;&#160; make[4]: Leaving directory
</I>&gt;&gt;<i> '/home/travis/build/openssl/openssl/krb5/src/lib/crypto'
</I>&gt;&gt;<i> &#160;&#160;&#160; Makefile:992: recipe for target 'check-recurse' failed
</I>&gt;&gt;<i> &#160;&#160;&#160; make[3]: *** [check-recurse] Error 1
</I>&gt;&gt;<i> &#160;&#160;&#160; make[3]: Leaving directory
</I>&gt;&gt;<i> '/home/travis/build/openssl/openssl/krb5/src/lib'
</I>&gt;&gt;<i> &#160;&#160;&#160; Makefile:1533: recipe for target 'check-recurse' failed
</I>&gt;&gt;<i> &#160;&#160;&#160; make[2]: *** [check-recurse] Error 1
</I>&gt;&gt;<i> &#160;&#160;&#160; make[2]: Leaving directory
</I>&gt;&gt;<i> '/home/travis/build/openssl/openssl/krb5/src'
</I>&gt;&gt;<i> &#160;&#160;&#160; ../../util/shlib_wrap.sh
</I>&gt;&gt;<i> ../recipes/95-test_external_krb5_data/krb5.sh =&gt; 2
</I>&gt;&gt;<i> &#160;&#160;&#160; not ok 1 - running krb5 tests
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001769.html">Travis in solid red mode again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1761">[ date ]</a>
              <a href="thread.html#1761">[ thread ]</a>
              <a href="subject.html#1761">[ subject ]</a>
              <a href="author.html#1761">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-project.html">More information about the openssl-project
mailing list</a><br>
</body></html>
