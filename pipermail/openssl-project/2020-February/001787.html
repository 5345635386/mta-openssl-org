<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Github PR label automation
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-project/2020-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20Github%20PR%20label%20automation&In-Reply-To=%3CCA%2BSj9Tn6P5zAJemuV8XpXfuzEkqXTQFpTxHyFMBsZ%3D%2Bo6jdYJA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001785.html">
   <LINK REL="Next"  HREF="001791.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Github PR label automation</H1>
    <B>Sam Roberts</B> 
    <A HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20Github%20PR%20label%20automation&In-Reply-To=%3CCA%2BSj9Tn6P5zAJemuV8XpXfuzEkqXTQFpTxHyFMBsZ%3D%2Bo6jdYJA%40mail.gmail.com%3E"
       TITLE="Github PR label automation">vieuxtech at gmail.com
       </A><BR>
    <I>Sun Feb  9 18:35:27 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="001785.html">Github PR label automation
</A></li>
        <LI>Next message: <A HREF="001791.html">Github PR label automation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1787">[ date ]</a>
              <a href="thread.html#1787">[ thread ]</a>
              <a href="subject.html#1787">[ subject ]</a>
              <a href="author.html#1787">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've seen some projects enjoying <A HREF="https://github.com/apps/stale,">https://github.com/apps/stale,</A> though
its focus is not so much relabelling things that are ready, but
closing things that are not active, which might not be relevant here.

On Sun, Feb 9, 2020 at 2:23 AM Mark J Cox &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">mark at awe.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Okay, I'll leave things as they are with those issues and just add the
</I>&gt;<i> addition of notification on urgent labels.
</I>&gt;<i>
</I>&gt;<i> As to the earlier question form the thread as why this isn't a github
</I>&gt;<i> automation: the actual reason I was writing the script was to get some
</I>&gt;<i> on-demand statistics for my own interest and it just turned out this
</I>&gt;<i> was something that bugged me that I could use the same framework for
</I>&gt;<i> (I did a trivial review and thought how annoying it would be to have
</I>&gt;<i> to manually set a reminder myself to do a future action).  I was a
</I>&gt;<i> pretty trivial (few hours) script, so I have no concern if it is done
</I>&gt;<i> differently or not used in the future should a better way present
</I>&gt;<i> itself.
</I>&gt;<i>
</I>&gt;<i> Mark
</I>&gt;<i>
</I>&gt;<i> On Sun, Feb 9, 2020 at 12:19 AM Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">matt at openssl.org</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 08/02/2020 15:56, Mark J Cox wrote:
</I>&gt;<i> &gt; &gt; I've currently got a cron job running every hour that looks at open PR
</I>&gt;<i> &gt; &gt; requests against github openssl repo and does various actions.  So if
</I>&gt;<i> &gt; &gt; you were wondering why I was altering labels and making comments at
</I>&gt;<i> &gt; &gt; 4am, now you know.  No doubt we'll use some tool user for this in the
</I>&gt;<i> &gt; &gt; future.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; So right now here's what it does:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Every hour it looks at open PRs that are labelled &quot;approval: done&quot;.
</I>&gt;<i> &gt; &gt; If 24 hours has elapsed since that label was assigned and if there
</I>&gt;<i> &gt; &gt; have been no comments made to the PR since the label was assigned then
</I>&gt;<i> &gt; &gt; it is automatically moved to &quot;approval: ready to merge&quot; with a comment
</I>&gt;<i> &gt; &gt; added to trigger notifications.  So if you want to stop something
</I>&gt;<i> &gt; &gt; going to &quot;ready to merge&quot; just add any comment to the PR.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I'm thinking of using this script also to 1) collect interesting stats
</I>&gt;<i> &gt; &gt; and 2) do some other actions.  So if there's some automation you'd
</I>&gt;<i> &gt; &gt; like to see just add an enhancement issue against the openssl/tools
</I>&gt;<i> &gt; &gt; repo.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; 1 Matt already asked for committer notification trigger for anything
</I>&gt;<i> &gt; &gt; labelled Urgent.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; 2 If there were comments made after &quot;approval: done&quot; then I think we
</I>&gt;<i> &gt; &gt; really ought to drop the &quot;approval: done&quot; label as the comments likely
</I>&gt;<i> &gt; &gt; invalidated the approval.  So I'll likely add that next week (if
</I>&gt;<i> &gt; &gt; &quot;approval: done&quot; label and has comments since that label then remove
</I>&gt;<i> &gt; &gt; the label and add a comment 'please review if this is really approval:
</I>&gt;<i> &gt; &gt; done'.  If the approval: done label gets set again then after 24 hours
</I>&gt;<i> &gt; &gt; the existing automation will trigger.  #10786 is a good example of
</I>&gt;<i> &gt; &gt; this.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm less sure about this. I think there are probably many examples where
</I>&gt;<i> &gt; this is not the case. E.g. a quick review found these recent cases:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="https://github.com/openssl/openssl/pull/11003">https://github.com/openssl/openssl/pull/11003</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="https://github.com/openssl/openssl/pull/11015">https://github.com/openssl/openssl/pull/11015</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="https://github.com/openssl/openssl/pull/10992">https://github.com/openssl/openssl/pull/10992</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="https://github.com/openssl/openssl/pull/10991">https://github.com/openssl/openssl/pull/10991</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="https://github.com/openssl/openssl/pull/10990">https://github.com/openssl/openssl/pull/10990</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="https://github.com/openssl/openssl/pull/10989">https://github.com/openssl/openssl/pull/10989</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I would be more minded to think that if a comment invalidates an
</I>&gt;<i> &gt; &quot;approval done&quot; then the committer should explicitly decide to do that.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Matt
</I></PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001785.html">Github PR label automation
</A></li>
	<LI>Next message: <A HREF="001791.html">Github PR label automation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1787">[ date ]</a>
              <a href="thread.html#1787">[ thread ]</a>
              <a href="subject.html#1787">[ subject ]</a>
              <a href="author.html#1787">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-project.html">More information about the openssl-project
mailing list</a><br>
</body></html>
