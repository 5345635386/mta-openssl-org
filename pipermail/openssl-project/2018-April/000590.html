<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-project] Proto over ciphers or ciphers over proto? (was: The problem of (implicit) relinking and changed behaviour)
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-project/2018-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20%5Bopenssl-project%5D%20Proto%20over%20ciphers%20or%20ciphers%20over%20proto%3F%20%28was%3A%0A%20The%20problem%20of%20%28implicit%29%20relinking%20and%20changed%20behaviour%29&In-Reply-To=%3C20180415.140725.273150327667322919.levitte%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000586.html">
   <LINK REL="Next"  HREF="000591.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-project] Proto over ciphers or ciphers over proto? (was: The problem of (implicit) relinking and changed behaviour)</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20%5Bopenssl-project%5D%20Proto%20over%20ciphers%20or%20ciphers%20over%20proto%3F%20%28was%3A%0A%20The%20problem%20of%20%28implicit%29%20relinking%20and%20changed%20behaviour%29&In-Reply-To=%3C20180415.140725.273150327667322919.levitte%40openssl.org%3E"
       TITLE="[openssl-project] Proto over ciphers or ciphers over proto? (was: The problem of (implicit) relinking and changed behaviour)">levitte at openssl.org
       </A><BR>
    <I>Sun Apr 15 12:07:25 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="000586.html">[openssl-project] The problem of (implicit) relinking and changed behaviour
</A></li>
        <LI>Next message: <A HREF="000591.html">[openssl-project] Proto over ciphers or ciphers over proto? (was: The problem of (implicit) relinking and changed behaviour)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#590">[ date ]</a>
              <a href="thread.html#590">[ thread ]</a>
              <a href="subject.html#590">[ subject ]</a>
              <a href="author.html#590">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In message &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">AM5PR0701MB265783557331E9B4355D0629E4B10 at AM5PR0701MB2657.eurprd07.prod.outlook.com</A>&gt; on Sun, 15 Apr 2018 06:24:48 +0000, Bernd Edlinger &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">bernd.edlinger at hotmail.de</A>&gt; said:

bernd.edlinger&gt; One possible example of application failure that I am aware of is #5743:
bernd.edlinger&gt; A certificate that is incompatible with TLS1.3 but works with TLS1.2.
bernd.edlinger&gt; Admittedly that I did come up with that scenario only because I saw
bernd.edlinger&gt; a possible issue per code inspection.

This touches an issue that's already mentioned in Matt's blog, and I
gotta ask how the protocols so be presented for negotiation are chosen
(yes, I know, I could dive into the code...  and I will unless there's
a quick answer).  Does libssl just pick the max version chosen (within
the range that we support unless the application has narrowed it
down), or does it also look at other facts, such as chosen server or
client certs to see what protocol version range would actually work
with those collected facts?  #5743 seems to say that libssl doesn't
look at such facts, and can end up in the absurd situation that things
stop working because it selected TLSv1.3 over TLSv1.2 when the latter
couldn't possibly work right, while TLSv1.2 does.

I can't really say what's right or wrong in this case, this really is
a philosophical question more than anything else.  Is it all right to
just pick a proto version that cannot work and then virtually flip it
to the unsuspecting application that wasn't prepared with better data
(such as a cert that's also valid in TLSv1.3) or is that essentially
wrong, even though easier to deal with in code?  Is that what libssl
is doing, or does it have more of a &quot;look at all the facts&quot; approach
before choosing the proto range to negotiate with the other end?

Cheers,
Richard

-- 
Richard Levitte         <A HREF="../../../mailman/listinfo/openssl-project.html">levitte at openssl.org</A>
OpenSSL Project         <A HREF="http://www.openssl.org/~levitte/">http://www.openssl.org/~levitte/</A>
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000586.html">[openssl-project] The problem of (implicit) relinking and changed behaviour
</A></li>
	<LI>Next message: <A HREF="000591.html">[openssl-project] Proto over ciphers or ciphers over proto? (was: The problem of (implicit) relinking and changed behaviour)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#590">[ date ]</a>
              <a href="thread.html#590">[ thread ]</a>
              <a href="subject.html#590">[ subject ]</a>
              <a href="author.html#590">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-project.html">More information about the openssl-project
mailing list</a><br>
</body></html>
