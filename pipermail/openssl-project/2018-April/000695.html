<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-project] Entropy seeding the DRBG
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-project/2018-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20%5Bopenssl-project%5D%20Entropy%20seeding%20the%20DRBG&In-Reply-To=%3C20180430.144253.1714680705314385876.levitte%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000684.html">
   <LINK REL="Next"  HREF="000696.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-project] Entropy seeding the DRBG</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20%5Bopenssl-project%5D%20Entropy%20seeding%20the%20DRBG&In-Reply-To=%3C20180430.144253.1714680705314385876.levitte%40openssl.org%3E"
       TITLE="[openssl-project] Entropy seeding the DRBG">levitte at openssl.org
       </A><BR>
    <I>Mon Apr 30 12:42:53 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="000684.html">[openssl-project] Entropy seeding the DRBG
</A></li>
        <LI>Next message: <A HREF="000696.html">[openssl-project] Entropy seeding the DRBG
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#695">[ date ]</a>
              <a href="thread.html#695">[ thread ]</a>
              <a href="subject.html#695">[ subject ]</a>
              <a href="author.html#695">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In message &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">20180424172439.GA8068 at roeckx.be</A>&gt; on Tue, 24 Apr 2018 19:24:40 +0200, Kurt Roeckx &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">kurt at roeckx.be</A>&gt; said:

kurt&gt; On Tue, Apr 24, 2018 at 07:20:42AM +0200, Richard Levitte wrote:
kurt&gt; &gt; Like I think I mentioned a few days ago, I'm currently on a conference. I'll take this up in more depth later this week.
kurt&gt; &gt; 
kurt&gt; &gt; I have a question, though... Kurt said at some point that all that was needed on the VMS side was to collect data, the rest can be done elsewhere (thankfully). However, I don't really understand what the collected data is supposed to be. Just the same stream of bytes that I would feed the entropy acquisition, or something else? Is the time delta between samples a factor in this?
kurt&gt; 
kurt&gt; The API support getting data that has 1 bit of entropy per 128 bit
kurt&gt; received (DRBG_MINMAX_FACTOR). If it's worse than that, you might
kurt&gt; have to write your own extract method.

I might have to either way, don't I.  A method I'm pondering is to
pass all the data gathered (700-something bytes) through sha512 and
add the result to the pool.  I have no idea what that says about the
entropy of the original data, which is at somewhere between 0.1 and
0.2 entropy bits per data bit according the 3rd order entropy
calculation that I replicated from the Linux /dev/urandom driver.

kurt&gt; A stream of bytes it just fine.
kurt&gt; 
kurt&gt; I think the tme delta will really depend on your source. If it
kurt&gt; really changes all the time, it really doesn't matter much how
kurt&gt; fast you do it. But I think some (most?) of the variables don't
kurt&gt; change that often.

It doesn't change *all* the time, but with a 1-10 second sleep between
data gatherings, there's always *something* that has changed enough
to give a 3rd order diff from previous sampling that's &gt; 0.

So what I've done for now is to make two files, one that's the raw
data, repeatedly gathered every 1-10 seconds until I got about 1 Mib
of data, the other being a concatenation of sha512 calculations of
those same (*) data until I filled that file up to 1 Mib.  I suspect
that the latter isn't quite valid, considering Paul said something
about no transformation whatsoever, but I thought it would be worth a
try.

I'll have to try and feed this to the entropy test programs you
indicated earlier...

Cheers,
Richard

-- 
Richard Levitte         <A HREF="../../../mailman/listinfo/openssl-project.html">levitte at openssl.org</A>
OpenSSL Project         <A HREF="http://www.openssl.org/~levitte/">http://www.openssl.org/~levitte/</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000684.html">[openssl-project] Entropy seeding the DRBG
</A></li>
	<LI>Next message: <A HREF="000696.html">[openssl-project] Entropy seeding the DRBG
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#695">[ date ]</a>
              <a href="thread.html#695">[ thread ]</a>
              <a href="subject.html#695">[ subject ]</a>
              <a href="author.html#695">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-project.html">More information about the openssl-project
mailing list</a><br>
</body></html>
