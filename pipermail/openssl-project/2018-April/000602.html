<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-project] The problem of (implicit) relinking and changed behaviour
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-project/2018-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20%5Bopenssl-project%5D%20The%20problem%20of%20%28implicit%29%20relinking%20and%0A%20changed%20behaviour&In-Reply-To=%3C0c640792-ea93-411c-8847-5aa5a9297b58%40default%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000598.html">
   <LINK REL="Next"  HREF="000582.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-project] The problem of (implicit) relinking and changed behaviour</H1>
    <B>Paul Dale</B> 
    <A HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20%5Bopenssl-project%5D%20The%20problem%20of%20%28implicit%29%20relinking%20and%0A%20changed%20behaviour&In-Reply-To=%3C0c640792-ea93-411c-8847-5aa5a9297b58%40default%3E"
       TITLE="[openssl-project] The problem of (implicit) relinking and changed behaviour">paul.dale at oracle.com
       </A><BR>
    <I>Sun Apr 15 23:03:50 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="000598.html">[openssl-project] The problem of (implicit) relinking and changed behaviour
</A></li>
        <LI>Next message: <A HREF="000582.html">[openssl-project] The problem of (implicit) relinking and changed behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#602">[ date ]</a>
              <a href="thread.html#602">[ thread ]</a>
              <a href="subject.html#602">[ subject ]</a>
              <a href="author.html#602">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I&#8217;m for ABI compatibility going forward (but not necessarily backwards) and for testing it, preferably in a CI loop.

&#160;

I know I&#8217;m late to the discussion but it has been enlightening and it looks like a good outcome.

&#160;

&#160;

Pauli

-- 

Oracle

Dr Paul Dale | Cryptographer | Network Security &amp; Encryption 

Phone +61 7 3031 7217

Oracle Australia

&#160;

From: Tim Hudson [mailto:<A HREF="../../../mailman/listinfo/openssl-project.html">tjh at cryptsoft.com</A>] 
Sent: Monday, 16 April 2018 3:13 AM
To: <A HREF="../../../mailman/listinfo/openssl-project.html">openssl-project at openssl.org</A>
Subject: Re: [openssl-project] The problem of (implicit) relinking and changed behaviour

&#160;

Where we are stating that ABI compatibility is in place we should be testing it.

i.e. the older release binaries should be run against the current release libraries - and that should be put into CI in my view.

&#160;

Going the other direction isn't something I have thought we have ever guaranteed (i.e. downgrading) - but programs that don't use new APIs (i.e. for the ABI) should also work - that is pretty much the definition of an ABI.

If we are unable to provide the forward ABI then we need to change the version number of the release going forward. If weare unable to provide backwards ABI then we need to think about how we are defining things and make that clear.

&#160;

And we need to be clear about what we mean by ABI - I don't think we have written down a clear definition - and then have in CI the tests to match what we are saying we do.

&#160;

When it comes to TLSv1.3 it is highly desirable that an existing 1.1.0 application gets TLSv1.3 without API changes - i.e. ABI provides this. There will be some things where there are problems where assumptions are invalidated - but we should work to minimise those (and I think we have actually done so).

But again we should be testing this in CI - if we want old apps to all get TLSv1.3 for zero effort (other than a shared library upgrade) then we should test that in CI. Hoping it works or assuming it works and &quot;manually&quot; watching for changes that might invalidate that is rather error prone.

&#160;

What Richard is doing really helps add to the information for informed decisions ... the more information we have the better in my view.

&#160;

Tim.

&#160;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://mta.openssl.org/pipermail/openssl-project/attachments/20180415/ef8f2abb/attachment-0001.html">http://mta.openssl.org/pipermail/openssl-project/attachments/20180415/ef8f2abb/attachment-0001.html</A>&gt;
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000598.html">[openssl-project] The problem of (implicit) relinking and changed behaviour
</A></li>
	<LI>Next message: <A HREF="000582.html">[openssl-project] The problem of (implicit) relinking and changed behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#602">[ date ]</a>
              <a href="thread.html#602">[ thread ]</a>
              <a href="subject.html#602">[ subject ]</a>
              <a href="author.html#602">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-project.html">More information about the openssl-project
mailing list</a><br>
</body></html>
