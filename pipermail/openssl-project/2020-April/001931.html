<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Revisiting tradition: branches and tags
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-project/2020-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20Revisiting%20tradition%3A%20branches%20and%20tags&In-Reply-To=%3C874ktrfb5p.wl-levitte%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001930.html">
   <LINK REL="Next"  HREF="001932.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Revisiting tradition: branches and tags</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20Revisiting%20tradition%3A%20branches%20and%20tags&In-Reply-To=%3C874ktrfb5p.wl-levitte%40openssl.org%3E"
       TITLE="Revisiting tradition: branches and tags">levitte at openssl.org
       </A><BR>
    <I>Fri Apr 10 18:28:18 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="001930.html">OpenSSL 3.0 and FIPS talk
</A></li>
        <LI>Next message: <A HREF="001932.html">Revisiting tradition: branches and tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1931">[ date ]</a>
              <a href="thread.html#1931">[ thread ]</a>
              <a href="subject.html#1931">[ subject ]</a>
              <a href="author.html#1931">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Once upon a time, there was CVS (*).

The story could stop there, but since CVS was what was available,
OpenSSL was versioned with CVS.

Among limitations that came with CVS was the allowed syntax in tag and
branch names; letters, digits, dashes and underscores.  At the time,
eveyone that wanted to encode a version number in a tag had to convert
periods to some other character.  We chose underscores, ending up with
tags like this:

    OpenSSL_0_9_7-beta2
    OpenSSL_0_9_7a

Furthermore, the culture that we have with git, where branches are
being pulled between repositories...  where you can actually have a
multitude of repositories and pull data between them, was very hard if
not practically impossible with CVS.  So, we occasionally had feature
branches for longer term work.  To distinguish our so called stable
branches, we had branch names with '-stable' added at the end:

    OpenSSL_0_9_7-stable

We *could* have had something shorter, like 'OpenSSL_0_9_7xx', but
I guess that was too easy to mix up with our letter releases.

With git, however, there's no technical reason why we must maintain
what was originally a technical limitation.  I therefore propose that
we start using tags like this starting with OpenSSL 3.0:

    openssl-3.0.0-alpha1
    openssl-3.0.0-beta2
    openssl-3.0.0
    openssl-3.0.1
    openssl-3.1.0

This is a little more than just avoiding to change the periods with
underscores.  However, if you look at the tar files we've released for
a long time, that's the naming format they use, and I can see benefits
in having the tags for a release match the tar file of the same
release:

    openssl-0.9.7a.tar.gz
    openssl-0.9.7a.tar.gz.asc
    openssl-0.9.7a.tar.gz.md5

Future tar files would be numbered with the new version scheme, of
course:

    openssl-3.0.0-alpha1.tar.gz
    openssl-3.0.0-beta2.tar.gz
    openssl-3.0.0.tar.gz
    openssl-3.0.1.tar.gz
    openssl-3.1.0.tar.gz

So what about release branches?  We could actually follow a very
similar new pattern, just replace the last digit with, say, an 'x', to
signify that this branch will contain a series of patch releases:

    openssl-3.0.x

In this branch, one would expect to see the tags 'openssl-3.0.0',
'openssl-3.0.1', 'openssl-3.0.2', ...

Earlier today, I submitted a new release script that codifies exactly
this:  <A HREF="https://github.com/openssl/openssl/pull/11516">https://github.com/openssl/openssl/pull/11516</A>

Thoughts?

Cheers,
Richard

(*) Well, not quite, there was RCS, there was SCCS, and a few other
    versioning systems that would make your skin crawl by today's
    standards, even more so than CVS.

-- 
Richard Levitte         <A HREF="../../../mailman/listinfo/openssl-project.html">levitte at openssl.org</A>
OpenSSL Project         <A HREF="http://www.openssl.org/~levitte/">http://www.openssl.org/~levitte/</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001930.html">OpenSSL 3.0 and FIPS talk
</A></li>
	<LI>Next message: <A HREF="001932.html">Revisiting tradition: branches and tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1931">[ date ]</a>
              <a href="thread.html#1931">[ thread ]</a>
              <a href="subject.html#1931">[ subject ]</a>
              <a href="author.html#1931">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-project.html">More information about the openssl-project
mailing list</a><br>
</body></html>
