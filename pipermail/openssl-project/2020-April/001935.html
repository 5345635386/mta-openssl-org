<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Revisiting tradition: branches and tags
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-project/2020-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20Revisiting%20tradition%3A%20branches%20and%20tags&In-Reply-To=%3C873697fh3g.wl-levitte%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001934.html">
   <LINK REL="Next"  HREF="001959.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Revisiting tradition: branches and tags</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20Revisiting%20tradition%3A%20branches%20and%20tags&In-Reply-To=%3C873697fh3g.wl-levitte%40openssl.org%3E"
       TITLE="Revisiting tradition: branches and tags">levitte at openssl.org
       </A><BR>
    <I>Mon Apr 13 17:09:07 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="001934.html">Revisiting tradition: branches and tags
</A></li>
        <LI>Next message: <A HREF="001959.html">Revisiting tradition: branches and tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1935">[ date ]</a>
              <a href="thread.html#1935">[ thread ]</a>
              <a href="subject.html#1935">[ subject ]</a>
              <a href="author.html#1935">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 13 Apr 2020 10:48:35 +0200,
Matt Caswell wrote:
&gt;<i> On 11/04/2020 10:53, Dr. Matthias St. Pierre wrote:
</I>&gt;<i> &gt; I love the new naming scheme, in particular the fact that it's all-lowercase and does not
</I>&gt;<i> &gt; mix dashes and underscores anymore. I don't recall how often I cursed about the current
</I>&gt;<i> &gt; scheme which is so typer unfriendly.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I'd like to see *all* stable branch names and release tags converted to new-style uniformly
</I>&gt;<i> &gt; (keeping the old names for compatibility), so we have an overall consistent scheme and people
</I>&gt;<i> &gt; don't need to switch back and forth between naming conventions in the future when doing
</I>&gt;<i> &gt; historical investigations. The old names could be deprecated for later removal.
</I>&gt;<i> 
</I>&gt;<i> Yes - this aspect was my main hesitation about the proposed new format,
</I>&gt;<i> i.e. the fact that we have a set of existing tags/branch names.
</I>&gt;<i> Constantly changing between the new format and the old format as we look
</I>&gt;<i> at older branches/tags could be painful. Just creating new tags for all
</I>&gt;<i> the existing ones would be one way forward.
</I>
New tags is perfectly possible to do.

&gt;<i> Typing OpenSSL_1_1_1-stable and getting all the right upper/lower case
</I>&gt;<i> characters in the right place and making sure to use _ vs - as
</I>&gt;<i> appropriate is a challenge for my fingers which I constantly fail.
</I>
I constantly fail the *current* names.

&gt;<i> Is it possible to set up alias names for the historical branches?
</I>
It's possible yes.  The hard part is 1.1.1.  There *is* something
called 'git symbolic-ref', but they can only be added in repos we have
physical access to, so while can add those on our git server, and they
will work, we cannot add them in github.

Ref git help symbolic-ref

Cheers,
Richard ( still thinks it's worth making the change with 3.0 )

&gt;<i> 
</I>&gt;<i> Matt
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Matthias
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;&gt; -----Original Message-----
</I>&gt;<i> &gt;&gt; From: openssl-project &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">openssl-project-bounces at openssl.org</A>&gt; On Behalf Of Richard Levitte
</I>&gt;<i> &gt;&gt; Sent: Friday, April 10, 2020 8:28 PM
</I>&gt;<i> &gt;&gt; To: <A HREF="../../../mailman/listinfo/openssl-project.html">openssl-project at openssl.org</A>
</I>&gt;<i> &gt;&gt; Subject: Revisiting tradition: branches and tags
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Once upon a time, there was CVS (*).
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; The story could stop there, but since CVS was what was available,
</I>&gt;<i> &gt;&gt; OpenSSL was versioned with CVS.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Among limitations that came with CVS was the allowed syntax in tag and
</I>&gt;<i> &gt;&gt; branch names; letters, digits, dashes and underscores.  At the time,
</I>&gt;<i> &gt;&gt; eveyone that wanted to encode a version number in a tag had to convert
</I>&gt;<i> &gt;&gt; periods to some other character.  We chose underscores, ending up with
</I>&gt;<i> &gt;&gt; tags like this:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;     OpenSSL_0_9_7-beta2
</I>&gt;<i> &gt;&gt;     OpenSSL_0_9_7a
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Furthermore, the culture that we have with git, where branches are
</I>&gt;<i> &gt;&gt; being pulled between repositories...  where you can actually have a
</I>&gt;<i> &gt;&gt; multitude of repositories and pull data between them, was very hard if
</I>&gt;<i> &gt;&gt; not practically impossible with CVS.  So, we occasionally had feature
</I>&gt;<i> &gt;&gt; branches for longer term work.  To distinguish our so called stable
</I>&gt;<i> &gt;&gt; branches, we had branch names with '-stable' added at the end:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;     OpenSSL_0_9_7-stable
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; We *could* have had something shorter, like 'OpenSSL_0_9_7xx', but
</I>&gt;<i> &gt;&gt; I guess that was too easy to mix up with our letter releases.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; With git, however, there's no technical reason why we must maintain
</I>&gt;<i> &gt;&gt; what was originally a technical limitation.  I therefore propose that
</I>&gt;<i> &gt;&gt; we start using tags like this starting with OpenSSL 3.0:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;     openssl-3.0.0-alpha1
</I>&gt;<i> &gt;&gt;     openssl-3.0.0-beta2
</I>&gt;<i> &gt;&gt;     openssl-3.0.0
</I>&gt;<i> &gt;&gt;     openssl-3.0.1
</I>&gt;<i> &gt;&gt;     openssl-3.1.0
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; This is a little more than just avoiding to change the periods with
</I>&gt;<i> &gt;&gt; underscores.  However, if you look at the tar files we've released for
</I>&gt;<i> &gt;&gt; a long time, that's the naming format they use, and I can see benefits
</I>&gt;<i> &gt;&gt; in having the tags for a release match the tar file of the same
</I>&gt;<i> &gt;&gt; release:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;     openssl-0.9.7a.tar.gz
</I>&gt;<i> &gt;&gt;     openssl-0.9.7a.tar.gz.asc
</I>&gt;<i> &gt;&gt;     openssl-0.9.7a.tar.gz.md5
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Future tar files would be numbered with the new version scheme, of
</I>&gt;<i> &gt;&gt; course:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;     openssl-3.0.0-alpha1.tar.gz
</I>&gt;<i> &gt;&gt;     openssl-3.0.0-beta2.tar.gz
</I>&gt;<i> &gt;&gt;     openssl-3.0.0.tar.gz
</I>&gt;<i> &gt;&gt;     openssl-3.0.1.tar.gz
</I>&gt;<i> &gt;&gt;     openssl-3.1.0.tar.gz
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; So what about release branches?  We could actually follow a very
</I>&gt;<i> &gt;&gt; similar new pattern, just replace the last digit with, say, an 'x', to
</I>&gt;<i> &gt;&gt; signify that this branch will contain a series of patch releases:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;     openssl-3.0.x
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; In this branch, one would expect to see the tags 'openssl-3.0.0',
</I>&gt;<i> &gt;&gt; 'openssl-3.0.1', 'openssl-3.0.2', ...
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Earlier today, I submitted a new release script that codifies exactly
</I>&gt;<i> &gt;&gt; this:  <A HREF="https://github.com/openssl/openssl/pull/11516">https://github.com/openssl/openssl/pull/11516</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Thoughts?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Cheers,
</I>&gt;<i> &gt;&gt; Richard
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; (*) Well, not quite, there was RCS, there was SCCS, and a few other
</I>&gt;<i> &gt;&gt;     versioning systems that would make your skin crawl by today's
</I>&gt;<i> &gt;&gt;     standards, even more so than CVS.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; --
</I>&gt;<i> &gt;&gt; Richard Levitte         <A HREF="../../../mailman/listinfo/openssl-project.html">levitte at openssl.org</A>
</I>&gt;<i> &gt;&gt; OpenSSL Project         <A HREF="http://www.openssl.org/~levitte/">http://www.openssl.org/~levitte/</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>-- 
Richard Levitte         <A HREF="../../../mailman/listinfo/openssl-project.html">levitte at openssl.org</A>
OpenSSL Project         <A HREF="http://www.openssl.org/~levitte/">http://www.openssl.org/~levitte/</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001934.html">Revisiting tradition: branches and tags
</A></li>
	<LI>Next message: <A HREF="001959.html">Revisiting tradition: branches and tags
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1935">[ date ]</a>
              <a href="thread.html#1935">[ thread ]</a>
              <a href="subject.html#1935">[ subject ]</a>
              <a href="author.html#1935">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-project.html">More information about the openssl-project
mailing list</a><br>
</body></html>
