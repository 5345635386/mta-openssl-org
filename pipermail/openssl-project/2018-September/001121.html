<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-project] Release strategy updates &amp; other policies
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-project/2018-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20%5Bopenssl-project%5D%20Release%20strategy%20updates%20%26%20other%20policies&In-Reply-To=%3Ce63b557d-0f66-09fd-7f38-19af60b87446%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001120.html">
   <LINK REL="Next"  HREF="001122.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-project] Release strategy updates &amp; other policies</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20%5Bopenssl-project%5D%20Release%20strategy%20updates%20%26%20other%20policies&In-Reply-To=%3Ce63b557d-0f66-09fd-7f38-19af60b87446%40openssl.org%3E"
       TITLE="[openssl-project] Release strategy updates &amp; other policies">matt at openssl.org
       </A><BR>
    <I>Tue Sep 25 11:22:44 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="001120.html">[openssl-project] Release strategy updates &amp; other policies
</A></li>
        <LI>Next message: <A HREF="001122.html">[openssl-project] Release strategy updates &amp; other policies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1121">[ date ]</a>
              <a href="thread.html#1121">[ thread ]</a>
              <a href="subject.html#1121">[ subject ]</a>
              <a href="author.html#1121">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On 25/09/18 12:12, Richard Levitte wrote:
&gt;<i> In message &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">98774a3e-d127-dcd9-c835-3b359d69b449 at openssl.org</A>&gt; on Tue, 25 Sep 2018 11:53:48 +0100, Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">matt at openssl.org</A>&gt; said:
</I>&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 25/09/18 11:48, Richard Levitte wrote:
</I>&gt;&gt;&gt;<i> In message &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">dee8621c-7071-4bf3-3ce0-dadaff9df682 at openssl.org</A>&gt; on Tue, 25 Sep 2018 11:30:39 +0100, Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">matt at openssl.org</A>&gt; said:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On 25/09/18 11:13, Tim Hudson wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> On Tue, Sep 25, 2018 at 8:07 PM Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">matt at openssl.org</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-project.html">matt at openssl.org</A>&gt;&gt; wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>     On 25/09/18 10:58, Tim Hudson wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt; On Tue, Sep 25, 2018 at 7:23 PM Richard Levitte
</I>&gt;&gt;&gt;&gt;&gt;<i>     &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">levitte at openssl.org</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-project.html">levitte at openssl.org</A>&gt;
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt; &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-project.html">levitte at openssl.org</A> &lt;mailto:<A HREF="../../../mailman/listinfo/openssl-project.html">levitte at openssl.org</A>&gt;&gt;&gt; wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt;
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt;&#160; &#160; &#160;So what you suggest (and what I'm leaning toward) means that
</I>&gt;&gt;&gt;&gt;&gt;<i>     we will
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt;&#160; &#160; &#160;change our habits.
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt;
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt;
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt; Adoption of semantic versioning will indeed require us to change our
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt; habits in a number of areas - that is the point of having a single
</I>&gt;&gt;&gt;&gt;&gt;<i>     clear
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt; definition of what our version numbers mean.
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt;
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt; I also do think we need to document a few things like what we mean by
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt; bug fix compared to a feature update as there are items which we could
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt; argue could either be a PATCH or a MINOR update depending on how we
</I>&gt;&gt;&gt;&gt;&gt;<i>     &gt; describe such things.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>     Sometimes we need to add a function in order to fix a bug. How should
</I>&gt;&gt;&gt;&gt;&gt;<i>     this be handled? e.g. there are 60 functions defined in
</I>&gt;&gt;&gt;&gt;&gt;<i>     util/libcrypto.num in the current 1.1.0i release that weren't there in
</I>&gt;&gt;&gt;&gt;&gt;<i>     the original 1.1.0 release.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> In semantic versioning those are MINOR releases. The API has changed in
</I>&gt;&gt;&gt;&gt;&gt;<i> a backward compatible manner.
</I>&gt;&gt;&gt;&gt;&gt;<i> They cannot be called PATCH releases - those are only for internal
</I>&gt;&gt;&gt;&gt;&gt;<i> changes that fix incorrect behaviour.
</I>&gt;&gt;&gt;&gt;&gt;<i> If you change the API you are either doing a MINOR or a MAJOR release.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Now I think the flexibility we added during 1.1.0 when the MAJOR change
</I>&gt;&gt;&gt;&gt;&gt;<i> was to make APIs opaque was a different context where our API remained
</I>&gt;&gt;&gt;&gt;&gt;<i> unstable (in semantic terms) yet we did a release (for other reasons).
</I>&gt;&gt;&gt;&gt;&gt;<i> Under semantic versioning, 1.1.0 would have been called 2.0.0 and we
</I>&gt;&gt;&gt;&gt;&gt;<i> would have had to batch up the accessor API additions into a 2.1.0
</I>&gt;&gt;&gt;&gt;&gt;<i> release and not have those included in any 2.0.X PATCH release.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> It is quite a change under semantic versioning in some areas as it
</I>&gt;&gt;&gt;&gt;&gt;<i> basically requires the version to reflect API guarantees.&#160;
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I don't think we should batch up accessor API additions. Or in fact any
</I>&gt;&gt;&gt;&gt;<i> others. We should release them at the right time as we do now. A move to
</I>&gt;&gt;&gt;&gt;<i> semantic versioning shouldn't change that. That has implications for the
</I>&gt;&gt;&gt;&gt;<i> way we manage branches and support periods/LTS.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Most of all, it may mean more frequent MINOR releases.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I suggest that we only create new branches for a MAJOR version number
</I>&gt;&gt;&gt;&gt;<i> change. We define the support periods/LTS status relative to the major
</I>&gt;&gt;&gt;&gt;<i> version number. For a given supported major version we may update the
</I>&gt;&gt;&gt;&gt;<i> MINOR or PATCH number at any time dependent on whether we've added any
</I>&gt;&gt;&gt;&gt;<i> new functions or not. What we now think of as a &quot;letter&quot; release could
</I>&gt;&gt;&gt;&gt;<i> be either a MINOR or a PATCH release under semantic versioning
</I>&gt;&gt;&gt;&gt;<i> (dependent on what we've changed/added). We continue with the same
</I>&gt;&gt;&gt;&gt;<i> policy of not adding new features to a stable branch (except where
</I>&gt;&gt;&gt;&gt;<i> necessary to fix a bug).
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> You are contradicting yourself.  If we only make new branches for
</I>&gt;&gt;&gt;<i> MAJOR version number changes, then it will be allowed to add new
</I>&gt;&gt;&gt;<i> functionality in them, because that's allowed with a MINOR version
</I>&gt;&gt;&gt;<i> number change.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You misunderstand me. Yes, its allowed that we can under semantic
</I>&gt;&gt;<i> versioning rules. I'm saying we shouldn't.
</I>&gt;<i> 
</I>&gt;<i> You're saying that we should only release new functionality (new APIs)
</I>&gt;<i> in MAJOR releases?  Mind telling us why?
</I>
Lets imagine we release version 5.0.0. We create a branch for it and
declare a support period. Its an LTS release. This is a *stable*
release, so we shouldn't de-stabilise it by adding new features.

Later we do some work on some new features in master. They are backwards
compatible in terms of API so we release it as version 5.1.0. Its got a
separate support period to the LTS release.

We fix some bugs in 5.0.0, and release the bug fixes as 5.0.1. All fine
so far. But then we realise there is a missing accessor in it. Its an
LTS release so its going to be around for a long time - we really need
to add the accessor. But we *can't* do it!! Technically speaking,
according to the rules of semantic versioning, that is a change to our
API - so it needs to be released as a MINOR version change. That would
make the new version 5.1.0....but we already used that number for our
backwards compatible feature release!

Matt



&gt;<i> 
</I>&gt;&gt;&gt;<i> I understand the wish to reduce the number of branches to maintain, we
</I>&gt;&gt;&gt;<i> must just make sure we know what we're talking about.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> If we would start branching MAJOR releases only, then we'll need some
</I>&gt;&gt;&gt;<i> kind of policy on what branches are still being developed (i.e new
</I>&gt;&gt;&gt;<i> MINOR releases are allowed in that branch) and what branches are in
</I>&gt;&gt;&gt;<i> maintenance mode only (i.e. only new PATCH releases allowed).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> All branches are in maintenance mode except master. Typically we only do
</I>&gt;&gt;<i> PATCH releases for a branch. If we've needed to add a function to a
</I>&gt;&gt;<i> branch (e.g. a missing accessor) then we make it a MINOR release.
</I>&gt;&gt;<i> Otherwise we don't add new functionality (as now).
</I>&gt;<i> 
</I>&gt;<i> &quot;as now&quot; is false, we *do* release new functionality in minor
</I>&gt;<i> releases.  1.1.1 was a minor release, even though given an incorrect
</I>&gt;<i> version number from a semver point of view.
</I>&gt;<i> 
</I>&gt;<i> Had we given 1.1.0 and so on semantically correct version numbers, we
</I>&gt;<i> would have versioned like this:
</I>&gt;<i> 
</I>&gt;<i>     1.1.0 =&gt; 2.0.0	(MAJOR release, has API incompatibilities)
</I>&gt;<i>     1.1.1 =&gt; 2.1.0	(MINOR release, supposedly has new compatible API)
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Richard
</I>&gt;<i> 
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001120.html">[openssl-project] Release strategy updates &amp; other policies
</A></li>
	<LI>Next message: <A HREF="001122.html">[openssl-project] Release strategy updates &amp; other policies
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1121">[ date ]</a>
              <a href="thread.html#1121">[ thread ]</a>
              <a href="subject.html#1121">[ subject ]</a>
              <a href="author.html#1121">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-project.html">More information about the openssl-project
mailing list</a><br>
</body></html>
