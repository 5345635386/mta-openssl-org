<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-project] rule-based building attributes
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-project/2018-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20%5Bopenssl-project%5D%20rule-based%20building%20attributes&In-Reply-To=%3C20180326.163719.50335231160279597.levitte%40openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000449.html">
   <LINK REL="Next"  HREF="000465.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-project] rule-based building attributes</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20%5Bopenssl-project%5D%20rule-based%20building%20attributes&In-Reply-To=%3C20180326.163719.50335231160279597.levitte%40openssl.org%3E"
       TITLE="[openssl-project] rule-based building attributes">levitte at openssl.org
       </A><BR>
    <I>Mon Mar 26 14:37:19 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="000449.html">[openssl-project] rule-based building attributes (Re: cppflags, cflags and ldflags)
</A></li>
        <LI>Next message: <A HREF="000465.html">[openssl-project] rule-based building attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#450">[ date ]</a>
              <a href="thread.html#450">[ thread ]</a>
              <a href="subject.html#450">[ subject ]</a>
              <a href="author.html#450">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In message &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">072aaeb6-59b9-0e8a-f33e-35572350c8e0 at openssl.org</A>&gt; on Mon, 26 Mar 2018 14:15:24 +0200, Andy Polyakov &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">appro at openssl.org</A>&gt; said:

appro&gt; &gt; So no, a straight makefile rule for a config attribute value isn't
appro&gt; &gt; going to be good enough.
appro&gt; 
appro&gt; How about this. We have touched this when discussing windows-makefile. I
appro&gt; mean when I called it VC-specific, you disagreed, and I said that
appro&gt; embedding manifest effectively makes it VC-specific. In the context I
appro&gt; also suggested post-link stage, a command one could *add* to rule. Or
appro&gt; let's rephrase this and say that you can simply specify multiple
appro&gt; commands in an override rule. So with this in mind.
appro&gt; 
appro&gt; link =&gt; [ 'script-that-composes-list-of-objects $@.$$',
appro&gt;           'link -o $@ -list $@.$$' ]

So zooming in on this particular idea, I was concerned about how those
object file names would be passed to the script...  but then you
mention manifests, and it dawns on me that there's *nothing* stopping
us from generating a file with the list of object files when building
the Makefile.  That does make some kind of sense to me.

Or were you thinking something different?  It would of course be
possible to have the script you suggest pull data from configdata.pm,
right?  But considering we're talking about third parties building
their own, that raises another concern, that we suddenly give the
whole %unified_info structure public exposure that I'm not entirely
sure were ready for.  Most of it is pretty straight forward (at least
to me, but that's no big surprise), but I have the nagging suspition
that there may be details that will get people stumped, and that will
hit us back.  It's possible, though, that I'm more concerned than
necessary...

(quite frankly, I was hoping we could avoid the proliferation of a
gazillion little scripts, but perhaps that's too much to hope for.
C'est la vie)

appro&gt; Of course I'm not suggesting to take this for immediate
appro&gt; implementation, these are just ideas to ponder about. They
appro&gt; might turn unusable (or give a spark for some other idea :-)

Agreed, and I have the same intention.

-- 
Richard Levitte         <A HREF="../../../mailman/listinfo/openssl-project.html">levitte at openssl.org</A>
OpenSSL Project         <A HREF="http://www.openssl.org/~levitte/">http://www.openssl.org/~levitte/</A>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000449.html">[openssl-project] rule-based building attributes (Re: cppflags, cflags and ldflags)
</A></li>
	<LI>Next message: <A HREF="000465.html">[openssl-project] rule-based building attributes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#450">[ date ]</a>
              <a href="thread.html#450">[ thread ]</a>
              <a href="subject.html#450">[ subject ]</a>
              <a href="author.html#450">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-project.html">More information about the openssl-project
mailing list</a><br>
</body></html>
