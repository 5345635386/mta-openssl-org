<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Reordering new API's that have a libctx, propq
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-project/2020-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20Reordering%20new%20API%27s%20that%20have%20a%20libctx%2C%20propq&In-Reply-To=%3CCAHEJ-S47e5s113exnTKfz3q0FE46ChMwJxi7sOvMVOL_gCw%2BAw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002151.html">
   <LINK REL="Next"  HREF="002153.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Reordering new API's that have a libctx, propq</H1>
    <B>Tim Hudson</B> 
    <A HREF="mailto:openssl-project%40openssl.org?Subject=Re%3A%20Reordering%20new%20API%27s%20that%20have%20a%20libctx%2C%20propq&In-Reply-To=%3CCAHEJ-S47e5s113exnTKfz3q0FE46ChMwJxi7sOvMVOL_gCw%2BAw%40mail.gmail.com%3E"
       TITLE="Reordering new API's that have a libctx, propq">tjh at cryptsoft.com
       </A><BR>
    <I>Sat Sep  5 11:01:33 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="002151.html">Reordering new API's that have a libctx, propq
</A></li>
        <LI>Next message: <A HREF="002153.html">Reordering new API's that have a libctx, propq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2152">[ date ]</a>
              <a href="thread.html#2152">[ thread ]</a>
              <a href="subject.html#2152">[ subject ]</a>
              <a href="author.html#2152">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Sep 5, 2020 at 8:45 PM Nicola Tuveri &lt;<A HREF="../../../mailman/listinfo/openssl-project.html">nic.tuv at gmail.com</A>&gt; wrote:

&gt;<i> Or is your point that we are writing in C, all the arguments are
</I>&gt;<i> positional, none is ever really optional, there is no difference between
</I>&gt;<i> passing a `(void*) NULL` or a valid `(TYPE*) ptr` as the value of a `TYPE
</I>&gt;<i> *` argument, so &quot;importance&quot; is the only remaining sorting criteria, hence
</I>&gt;<i> (libctx, propq) are always the most important and should go to the
</I>&gt;<i> beginning of the args list (with the exception of the `self/this` kind of
</I>&gt;<i> argument that always goes first)?
</I>&gt;<i>
</I>
That's a reasonable way to express things.

The actual underlying point I am making is that we should have a rule in
place that is documented and that works within the programming language we
are using and that over time doesn't turn into a mess.
We do add parameters (in new function names) and we do like to keep the
order of the old function - and ending up with a pile of things in the
&quot;middle&quot; is in my view is one of the messes that we should be avoiding.

I think the importance argument is the one that helps for setting order and
on your &quot;required args&quot; coming first approach the importance argument also
applies because it is actually a required argument simply with an implied
default - which again puts it not at the end of the argument list. The
library context is required - always - there is just a default - and that
parameter must be present because we are working in C.

Whatever it is that we end up decided to do, the rule should be captured
and should also allow for the fact that we will evolve APIs and create _ex
versions and those two will also evolve and a general rule should be one
that doesn't result in an inconsistent treatment for argument order as we
add _ex versions.

Tim.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://mta.openssl.org/pipermail/openssl-project/attachments/20200905/40d4b5de/attachment.html">https://mta.openssl.org/pipermail/openssl-project/attachments/20200905/40d4b5de/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002151.html">Reordering new API's that have a libctx, propq
</A></li>
	<LI>Next message: <A HREF="002153.html">Reordering new API's that have a libctx, propq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2152">[ date ]</a>
              <a href="thread.html#2152">[ thread ]</a>
              <a href="subject.html#2152">[ subject ]</a>
              <a href="author.html#2152">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-project.html">More information about the openssl-project
mailing list</a><br>
</body></html>
