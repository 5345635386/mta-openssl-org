<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2017-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1491398079.902578.25999.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013969.html">
   <LINK REL="Next"  HREF="013974.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  master update</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1491398079.902578.25999.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl-commits] [openssl]  master update">levitte at openssl.org
       </A><BR>
    <I>Wed Apr  5 13:14:39 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="013969.html">[openssl-commits] [openssl]  master update
</A></li>
        <LI>Next message: <A HREF="013974.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13972">[ date ]</a>
              <a href="thread.html#13972">[ thread ]</a>
              <a href="subject.html#13972">[ subject ]</a>
              <a href="author.html#13972">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  5748e4dc3ab1cdde43ae6feecb106e3a41adcdf4 (commit)
      from  1bc563caa144a568fc505f210568f5ac5b66315e (commit)


- Log -----------------------------------------------------------------
commit 5748e4dc3ab1cdde43ae6feecb106e3a41adcdf4
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Wed Apr 5 13:37:37 2017 +0200

    Fix test/asn1_encode_test.c, ASN1_LONG_DATA used inappropriately
    
    It's sheer luck that this was used for the first field only which also
    has the same type in all data structures, so the offsets were never wrong
    
    Reviewed-by: Andy Polyakov &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">appro at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/3127">https://github.com/openssl/openssl/pull/3127</A>)

-----------------------------------------------------------------------

Summary of changes:
 test/asn1_encode_test.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/test/asn1_encode_test.c b/test/asn1_encode_test.c
index dabb82c..02455fc 100644
--- a/test/asn1_encode_test.c
+++ b/test/asn1_encode_test.c
@@ -265,7 +265,7 @@ typedef struct {
 } ASN1_INT32_DATA;
 
 ASN1_SEQUENCE(ASN1_INT32_DATA) = {
-    ASN1_SIMPLE(ASN1_LONG_DATA, success, ASN1_FBOOLEAN),
+    ASN1_SIMPLE(ASN1_INT32_DATA, success, ASN1_FBOOLEAN),
     ASN1_SIMPLE(ASN1_INT32_DATA, test_int32, INT32),
     ASN1_EXP_OPT(ASN1_INT32_DATA, test_zint32, ZINT32, 0)
 } static_ASN1_SEQUENCE_END(ASN1_INT32_DATA)
@@ -311,7 +311,7 @@ typedef struct {
 } ASN1_UINT32_DATA;
 
 ASN1_SEQUENCE(ASN1_UINT32_DATA) = {
-    ASN1_SIMPLE(ASN1_LONG_DATA, success, ASN1_FBOOLEAN),
+    ASN1_SIMPLE(ASN1_UINT32_DATA, success, ASN1_FBOOLEAN),
     ASN1_SIMPLE(ASN1_UINT32_DATA, test_uint32, UINT32),
     ASN1_EXP_OPT(ASN1_UINT32_DATA, test_zuint32, ZUINT32, 0)
 } static_ASN1_SEQUENCE_END(ASN1_UINT32_DATA)
@@ -357,7 +357,7 @@ typedef struct {
 } ASN1_INT64_DATA;
 
 ASN1_SEQUENCE(ASN1_INT64_DATA) = {
-    ASN1_SIMPLE(ASN1_LONG_DATA, success, ASN1_FBOOLEAN),
+    ASN1_SIMPLE(ASN1_INT64_DATA, success, ASN1_FBOOLEAN),
     ASN1_SIMPLE(ASN1_INT64_DATA, test_int64, INT64),
     ASN1_EXP_OPT(ASN1_INT64_DATA, test_zint64, ZINT64, 0)
 } static_ASN1_SEQUENCE_END(ASN1_INT64_DATA)
@@ -404,7 +404,7 @@ typedef struct {
 } ASN1_UINT64_DATA;
 
 ASN1_SEQUENCE(ASN1_UINT64_DATA) = {
-    ASN1_SIMPLE(ASN1_LONG_DATA, success, ASN1_FBOOLEAN),
+    ASN1_SIMPLE(ASN1_UINT64_DATA, success, ASN1_FBOOLEAN),
     ASN1_SIMPLE(ASN1_UINT64_DATA, test_uint64, UINT64),
     ASN1_EXP_OPT(ASN1_UINT64_DATA, test_zuint64, ZUINT64, 0)
 } static_ASN1_SEQUENCE_END(ASN1_UINT64_DATA)
</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013969.html">[openssl-commits] [openssl]  master update
</A></li>
	<LI>Next message: <A HREF="013974.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13972">[ date ]</a>
              <a href="thread.html#13972">[ thread ]</a>
              <a href="subject.html#13972">[ subject ]</a>
              <a href="author.html#13972">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
