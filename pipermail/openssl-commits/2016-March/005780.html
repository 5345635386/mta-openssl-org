<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2016-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1458554568.107470.31467.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005779.html">
   <LINK REL="Next"  HREF="005781.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  master update</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1458554568.107470.31467.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl-commits] [openssl]  master update">levitte at openssl.org
       </A><BR>
    <I>Mon Mar 21 10:02:48 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="005779.html">[openssl-commits] [openssl]  master update
</A></li>
        <LI>Next message: <A HREF="005781.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5780">[ date ]</a>
              <a href="thread.html#5780">[ thread ]</a>
              <a href="subject.html#5780">[ subject ]</a>
              <a href="author.html#5780">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  3e67b33346d066feb3111610e1d0d096899fd148 (commit)
       via  007c80eae4e1f36e28a9645c485c14ec61baed4e (commit)
      from  0ef1ce49eeed417c143a8c1bf77ce0d843306e3d (commit)


- Log -----------------------------------------------------------------
commit 3e67b33346d066feb3111610e1d0d096899fd148
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Thu Mar 17 23:15:12 2016 +0100

    Remove mk1mf documentation
    
    Reviewed-by: Andy Polyakov &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">appro at openssl.org</A>&gt;

commit 007c80eae4e1f36e28a9645c485c14ec61baed4e
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Thu Mar 17 23:01:21 2016 +0100

    Remove the remainder of util/mk1mf.pl and companion scripts
    
    This removes all scripts that deal with MINFO as well, since that's
    only used by mk1mf.
    
    Reviewed-by: Andy Polyakov &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">appro at openssl.org</A>&gt;

-----------------------------------------------------------------------

Summary of changes:
 CHANGES                     |    3 +
 Configurations/README       |    2 +-
 Configure                   |    6 -
 Makefile.in                 |   10 +-
 NOTES.WIN                   |   70 +--
 apps/Makefile.in            |    3 -
 crypto/Makefile.in          |    4 -
 crypto/aes/Makefile.in      |    3 -
 crypto/asn1/Makefile.in     |    3 -
 crypto/async/Makefile.in    |    3 -
 crypto/bf/Makefile.in       |    3 -
 crypto/bio/Makefile.in      |    3 -
 crypto/blake2/Makefile.in   |    3 -
 crypto/bn/Makefile.in       |    3 -
 crypto/buffer/Makefile.in   |    3 -
 crypto/camellia/Makefile.in |    3 -
 crypto/cast/Makefile.in     |    3 -
 crypto/chacha/Makefile.in   |    3 -
 crypto/cmac/Makefile.in     |    3 -
 crypto/cms/Makefile.in      |    3 -
 crypto/comp/Makefile.in     |    3 -
 crypto/conf/Makefile.in     |    3 -
 crypto/ct/Makefile.in       |    3 -
 crypto/des/Makefile.in      |    3 -
 crypto/dh/Makefile.in       |    3 -
 crypto/dsa/Makefile.in      |    3 -
 crypto/dso/Makefile.in      |    3 -
 crypto/ec/Makefile.in       |    3 -
 crypto/engine/Makefile.in   |    3 -
 crypto/err/Makefile.in      |    3 -
 crypto/evp/Makefile.in      |    3 -
 crypto/hmac/Makefile.in     |    3 -
 crypto/idea/Makefile.in     |    3 -
 crypto/kdf/Makefile.in      |    3 -
 crypto/lhash/Makefile.in    |    3 -
 crypto/md2/Makefile.in      |    3 -
 crypto/md4/Makefile.in      |    3 -
 crypto/md5/Makefile.in      |    3 -
 crypto/mdc2/Makefile.in     |    3 -
 crypto/modes/Makefile.in    |    3 -
 crypto/objects/Makefile.in  |    3 -
 crypto/ocsp/Makefile.in     |    3 -
 crypto/pem/Makefile.in      |    3 -
 crypto/pkcs12/Makefile.in   |    3 -
 crypto/pkcs7/Makefile.in    |    3 -
 crypto/poly1305/Makefile.in |    3 -
 crypto/rand/Makefile.in     |    3 -
 crypto/rc2/Makefile.in      |    3 -
 crypto/rc4/Makefile.in      |    3 -
 crypto/rc5/Makefile.in      |    3 -
 crypto/ripemd/Makefile.in   |    3 -
 crypto/rsa/Makefile.in      |    3 -
 crypto/seed/Makefile.in     |    3 -
 crypto/sha/Makefile.in      |    3 -
 crypto/srp/Makefile.in      |    3 -
 crypto/stack/Makefile.in    |    3 -
 crypto/ts/Makefile.in       |    3 -
 crypto/txt_db/Makefile.in   |    3 -
 crypto/ui/Makefile.in       |    3 -
 crypto/whrlpool/Makefile.in |    3 -
 crypto/x509/Makefile.in     |    3 -
 crypto/x509v3/Makefile.in   |    3 -
 engines/Makefile.in         |    4 -
 engines/afalg/Makefile.in   |    3 -
 ms/README                   |   13 -
 ssl/Makefile.in             |    3 -
 test/Makefile.in            |    3 -
 tools/Makefile.in           |    3 -
 util/files.pl               |   67 --
 util/mk1mf.pl               | 1458 -------------------------------------------
 util/mkfiles.pl             |  150 -----
 util/pl/Mingw32.pl          |  104 ---
 util/pl/linux.pl            |  104 ---
 util/pl/unix.pl             |  210 -------
 74 files changed, 6 insertions(+), 2379 deletions(-)
 delete mode 100644 ms/README
 delete mode 100755 util/files.pl
 delete mode 100755 util/mk1mf.pl
 delete mode 100755 util/mkfiles.pl
 delete mode 100644 util/pl/Mingw32.pl
 delete mode 100644 util/pl/linux.pl
 delete mode 100644 util/pl/unix.pl

diff --git a/CHANGES b/CHANGES
index 08cd0a3..d3d4ca9 100644
--- a/CHANGES
+++ b/CHANGES
@@ -4,6 +4,9 @@
 
  Changes between 1.0.2g and 1.1.0  [xx XXX xxxx]
 
+  *) Removed the mk1mf build scripts.
+     [Richard Levitte]
+
   *) Headers are now wrapped, if necessary, with OPENSSL_NO_xxx, so
      it is always safe to #include a header now.
      [Rich Salz]
diff --git a/Configurations/README b/Configurations/README
index 5665d24..a4c1567 100644
--- a/Configurations/README
+++ b/Configurations/README
@@ -100,7 +100,7 @@ In each table entry, the following keys are significant:
                            string in the list is the name of the build
                            scheme.
                            Currently recognised build schemes are
-                           &quot;mk1mf&quot; and &quot;unixmake&quot; and &quot;unified&quot;.
+                           &quot;unixmake&quot; and &quot;unified&quot;.
                            For the &quot;unified&quot; build scheme, this item
                            *must* be an array with the first being the
                            word &quot;unified&quot; and the second being a word
diff --git a/Configure b/Configure
index 67c4013..e7f8fcd 100755
--- a/Configure
+++ b/Configure
@@ -1778,7 +1778,6 @@ print OUT &quot;1;\n&quot;;
 close(OUT);
 
 
-print &quot;IsMK1MF       =&quot;, ($builder eq &quot;mk1mf&quot; ? &quot;yes&quot; : &quot;no&quot;), &quot;\n&quot;;
 print &quot;CC            =$target{cc}\n&quot;;
 print &quot;CFLAG         =$target{cflags} $config{cflags}\n&quot;;
 print &quot;SHARED_CFLAG  =$target{shared_cflag}\n&quot;;
@@ -1870,11 +1869,6 @@ my %builders = (
         run_dofile(&quot;util/domd&quot;, &quot;util/domd.in&quot;);
         chmod 0755, &quot;util/domd&quot;;
     },
-    mk1mf =&gt; sub {
-        my $platform = shift;
-        # The only reason we do this is to have something to build MINFO from
-        build_Makefile();
-    },
     );
 
 $builders{$builder}-&gt;($builder_platform, @builder_opts);
diff --git a/Makefile.in b/Makefile.in
index d101df1..baaaf84 100644
--- a/Makefile.in
+++ b/Makefile.in
@@ -465,19 +465,11 @@ clean:	libclean
 	rm -f speed.* .pure
 	rm -f $(TARFILE)
 
-makefile.one: files
-	$(PERL) util/mk1mf.pl &gt;makefile.one; \
-	sh util/do_ms.sh
-
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt; $(TOP)/MINFO
-	@set -e; target=files; $(RECURSIVE_BUILD_CMD)
-
 gentests:
 	@(cd test &amp;&amp; echo &quot;generating dummy tests (if needed)...&quot; &amp;&amp; \
 	$(CLEARENV) &amp;&amp; $(MAKE) -e $(BUILDENV) TESTS='$(TESTS)' OPENSSL_DEBUG_MEMORY=on generate );
 
-test:   files tests
+test:   tests
 
 tests:  build_tests 
 	@(cd test &amp;&amp; echo &quot;testing...&quot; &amp;&amp; \
diff --git a/NOTES.WIN b/NOTES.WIN
index af924c8..1c10b75 100644
--- a/NOTES.WIN
+++ b/NOTES.WIN
@@ -78,6 +78,7 @@
  recognize that binaries targeting Cygwin itself are not interchangeable
  with &quot;conventional&quot; Windows binaries you generate with/for MinGW.
 
+
  GNU C (MinGW/MSYS)
  ------------------
 
@@ -98,75 +99,6 @@
    and i686-w64-mingw32-.
 
 
- &quot;Classic&quot; builds (Visual C++)
- ----------------
-
- [OpenSSL was classically built using a script called mk1mf.  This is
-  still available by configuring with --classic.  The notes below are
-  using this flag, and are tentative.  Use with care.
-
-  NOTE: this won't be available for long.]
-
- If you want to compile in the assembly language routines with Visual
- C++, then you will need the Netwide Assembler binary, nasmw.exe or nasm.exe, to
- be available on your %PATH%.
-
- Firstly you should run Configure and generate the Makefiles. If you don't want
- the assembly language files then add the &quot;no-asm&quot; option (without quotes) to
- the Configure lines below.
-
- For Win32:
-
- &gt; perl Configure VC-WIN32 --classic --prefix=c:\some\openssl\dir
- &gt; ms\do_nasm
-
- Note: replace the last line above with the following if not using the assembly
- language files:
-
- &gt; ms\do_ms
-
- For Win64/x64:
-
- &gt; perl Configure VC-WIN64A --classic --prefix=c:\some\openssl\dir
- &gt; ms\do_win64a
-
- For Win64/IA64:
-
- &gt; perl Configure VC-WIN64I --classic --prefix=c:\some\openssl\dir
- &gt; ms\do_win64i
-
- Where the prefix argument specifies where OpenSSL will be installed to.
-
- Then from the VC++ environment at a prompt do the following. Note, your %PATH%
- and other environment variables should be set up for 32-bit or 64-bit
- development as appropriate.
-
- &gt; nmake -f ms\ntdll.mak
-
- If all is well it should compile and you will have some DLLs and
- executables in out32dll. If you want to try the tests then do:
-
- &gt; nmake -f ms\ntdll.mak test
-
- To install OpenSSL to the specified location do:
-
- &gt; nmake -f ms\ntdll.mak install
-
- Tweaks:
-
- There are various changes you can make to the Windows compile
- environment. By default the library is not compiled with debugging
- symbols. If you add --debug to the Configure lines above then debugging symbols
- will be compiled in.
-
- By default in 1.1.0 OpenSSL will compile builtin ENGINES into separate shared
- libraries. If you specify the &quot;enable-static-engine&quot; option on the command line
- to Configure the shared library build (ms\ntdll.mak) will compile the engines
- into libcrypto32.dll instead.
-
- You can also build a static version of the library using the Makefile
- ms\nt.mak
-
  Linking your application
  ------------------------
 
diff --git a/apps/Makefile.in b/apps/Makefile.in
index 6e8bdf5..064496b 100644
--- a/apps/Makefile.in
+++ b/apps/Makefile.in
@@ -75,9 +75,6 @@ scripts: $(SCRIPTS)
 openssl-vms.cnf: openssl.cnf
 	$(PERL) $(TOP)/VMS/VMSify-conf.pl &lt; openssl.cnf &gt; openssl-vms.cnf
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 install:
 	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
 	@set -e; for i in $(EXE); \
diff --git a/crypto/Makefile.in b/crypto/Makefile.in
index 9f26ef0..60304ac 100644
--- a/crypto/Makefile.in
+++ b/crypto/Makefile.in
@@ -89,10 +89,6 @@ armv4cpuid.S:	armv4cpuid.pl;	$(PERL) armv4cpuid.pl $(PERLASM_SCHEME) $@
 subdirs:
 	@target=all; $(RECURSIVE_MAKE)
 
-files:
-	$(PERL) $(TOP)/util/files.pl &quot;CPUID_OBJ=$(CPUID_OBJ)&quot; Makefile &gt;&gt; $(TOP)/MINFO
-	@target=files; $(RECURSIVE_MAKE)
-
 # lib: $(LIB): are splitted to avoid end-less loop
 lib:	$(LIB)
 	@touch lib
diff --git a/crypto/aes/Makefile.in b/crypto/aes/Makefile.in
index 46566c3..0dc96e4 100644
--- a/crypto/aes/Makefile.in
+++ b/crypto/aes/Makefile.in
@@ -97,9 +97,6 @@ aes-armv4.o:	aes-armv4.S
 bsaes-%.S:	asm/bsaes-%.pl;	$(PERL) $&lt; $(PERLASM_SCHEME) $@
 bsaes-armv7.o:	bsaes-armv7.S
 
-files:
-	$(PERL) $(TOP)/util/files.pl &quot;AES_ENC=$(AES_ENC)&quot; Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/asn1/Makefile.in b/crypto/asn1/Makefile.in
index 86f805b..fd8ffcf 100644
--- a/crypto/asn1/Makefile.in
+++ b/crypto/asn1/Makefile.in
@@ -68,9 +68,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/async/Makefile.in b/crypto/async/Makefile.in
index 97b5385..aa85749 100644
--- a/crypto/async/Makefile.in
+++ b/crypto/async/Makefile.in
@@ -36,9 +36,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 links:
 	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
 	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
diff --git a/crypto/bf/Makefile.in b/crypto/bf/Makefile.in
index 4a3d726..a41b9d1 100644
--- a/crypto/bf/Makefile.in
+++ b/crypto/bf/Makefile.in
@@ -42,9 +42,6 @@ lib:	$(LIBOBJ)
 bf-586.s:	asm/bf-586.pl ../perlasm/x86asm.pl ../perlasm/cbc.pl
 	$(PERL) asm/bf-586.pl $(PERLASM_SCHEME) $(CFLAGS) $(PROCESSOR) $@
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/bio/Makefile.in b/crypto/bio/Makefile.in
index 2bf8601..12cf6c6 100644
--- a/crypto/bio/Makefile.in
+++ b/crypto/bio/Makefile.in
@@ -46,9 +46,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/blake2/Makefile.in b/crypto/blake2/Makefile.in
index 452d1ea..ebfaa04 100644
--- a/crypto/blake2/Makefile.in
+++ b/crypto/blake2/Makefile.in
@@ -30,9 +30,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 update:	depend
 
 depend:
diff --git a/crypto/bn/Makefile.in b/crypto/bn/Makefile.in
index eb610e7..420eebb 100644
--- a/crypto/bn/Makefile.in
+++ b/crypto/bn/Makefile.in
@@ -130,9 +130,6 @@ armv4-mont.o:	armv4-mont.S
 armv4-gf2m.o:	armv4-gf2m.S
 armv8-mont.o:	armv8-mont.S
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 div:
 	rm -f a.out
 	gcc -I.. -g div.c ../../libcrypto.a
diff --git a/crypto/buffer/Makefile.in b/crypto/buffer/Makefile.in
index 09b3488..97e1094 100644
--- a/crypto/buffer/Makefile.in
+++ b/crypto/buffer/Makefile.in
@@ -34,9 +34,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/camellia/Makefile.in b/crypto/camellia/Makefile.in
index cb62c91..5a806e2 100644
--- a/crypto/camellia/Makefile.in
+++ b/crypto/camellia/Makefile.in
@@ -48,9 +48,6 @@ cmll-x86_64.s:  asm/cmll-x86_64.pl
 cmllt4-sparcv9.S: asm/cmllt4-sparcv9.pl ../perlasm/sparcv9_modes.pl
 	$(PERL) asm/cmllt4-sparcv9.pl $(PERLASM_SCHEME) $@
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/cast/Makefile.in b/crypto/cast/Makefile.in
index f1ad0c7..218c480 100644
--- a/crypto/cast/Makefile.in
+++ b/crypto/cast/Makefile.in
@@ -42,9 +42,6 @@ lib:	$(LIBOBJ)
 cast-586.s:	asm/cast-586.pl ../perlasm/x86asm.pl ../perlasm/cbc.pl
 	$(PERL)	asm/cast-586.pl $(PERLASM_SCHEME) $(CLAGS) $(PROCESSOR) $@
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/chacha/Makefile.in b/crypto/chacha/Makefile.in
index e728b4d..067fbed 100644
--- a/crypto/chacha/Makefile.in
+++ b/crypto/chacha/Makefile.in
@@ -48,9 +48,6 @@ chacha-%.S:	asm/chacha-%.pl;	$(PERL) $&lt; $(PERLASM_SCHEME) $@
 chacha-armv4.o:	chacha-armv4.S
 chacha-armv8.o:	chacha-armv8.S
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/cmac/Makefile.in b/crypto/cmac/Makefile.in
index 5abc139..1d6f0bd 100644
--- a/crypto/cmac/Makefile.in
+++ b/crypto/cmac/Makefile.in
@@ -34,9 +34,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/cms/Makefile.in b/crypto/cms/Makefile.in
index cf074ea..19a50b2 100644
--- a/crypto/cms/Makefile.in
+++ b/crypto/cms/Makefile.in
@@ -40,9 +40,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/comp/Makefile.in b/crypto/comp/Makefile.in
index 24c1231..0673d46 100644
--- a/crypto/comp/Makefile.in
+++ b/crypto/comp/Makefile.in
@@ -37,9 +37,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(LIBSRC)
 
diff --git a/crypto/conf/Makefile.in b/crypto/conf/Makefile.in
index e1bae36..5acaa1c 100644
--- a/crypto/conf/Makefile.in
+++ b/crypto/conf/Makefile.in
@@ -37,9 +37,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(LIBSRC)
 
diff --git a/crypto/ct/Makefile.in b/crypto/ct/Makefile.in
index 0daec36..794efbc 100644
--- a/crypto/ct/Makefile.in
+++ b/crypto/ct/Makefile.in
@@ -36,9 +36,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/des/Makefile.in b/crypto/des/Makefile.in
index 74c5862..5f87f22 100644
--- a/crypto/des/Makefile.in
+++ b/crypto/des/Makefile.in
@@ -63,9 +63,6 @@ des-586.s:	asm/des-586.pl ../perlasm/x86asm.pl ../perlasm/cbc.pl
 crypt586.s:	asm/crypt586.pl ../perlasm/x86asm.pl ../perlasm/cbc.pl
 	$(PERL) asm/crypt586.pl $(PERLASM_SCHEME) $(CFLAGS) $@
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/dh/Makefile.in b/crypto/dh/Makefile.in
index 9ac52eb..fa2d769 100644
--- a/crypto/dh/Makefile.in
+++ b/crypto/dh/Makefile.in
@@ -36,9 +36,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/dsa/Makefile.in b/crypto/dsa/Makefile.in
index a22dfa3..9f38d4e 100644
--- a/crypto/dsa/Makefile.in
+++ b/crypto/dsa/Makefile.in
@@ -36,9 +36,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/dso/Makefile.in b/crypto/dso/Makefile.in
index 58d0974..8c517fe 100644
--- a/crypto/dso/Makefile.in
+++ b/crypto/dso/Makefile.in
@@ -36,9 +36,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/ec/Makefile.in b/crypto/ec/Makefile.in
index 4203b70..cc5e4b6 100644
--- a/crypto/ec/Makefile.in
+++ b/crypto/ec/Makefile.in
@@ -64,9 +64,6 @@ ecp_nistz256-%.S:	asm/ecp_nistz256-%.pl;  $(PERL) $&lt; $(PERLASM_SCHEME) $@
 ecp_nistz256-armv4.o:	ecp_nistz256-armv4.S
 ecp_nistz256-armv8.o:	ecp_nistz256-armv8.S
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/engine/Makefile.in b/crypto/engine/Makefile.in
index 8435e75..9f4edc6 100644
--- a/crypto/engine/Makefile.in
+++ b/crypto/engine/Makefile.in
@@ -44,9 +44,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/err/Makefile.in b/crypto/err/Makefile.in
index f0051e8..c12ea3f 100644
--- a/crypto/err/Makefile.in
+++ b/crypto/err/Makefile.in
@@ -34,9 +34,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/evp/Makefile.in b/crypto/evp/Makefile.in
index 5b24ae5..15080d0 100644
--- a/crypto/evp/Makefile.in
+++ b/crypto/evp/Makefile.in
@@ -59,9 +59,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(LIBSRC)
 
diff --git a/crypto/hmac/Makefile.in b/crypto/hmac/Makefile.in
index ab8acab..2da801c 100644
--- a/crypto/hmac/Makefile.in
+++ b/crypto/hmac/Makefile.in
@@ -34,9 +34,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/idea/Makefile.in b/crypto/idea/Makefile.in
index b3aafca..61ab62b 100644
--- a/crypto/idea/Makefile.in
+++ b/crypto/idea/Makefile.in
@@ -34,9 +34,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/kdf/Makefile.in b/crypto/kdf/Makefile.in
index a1e9584..5ab2cbf 100644
--- a/crypto/kdf/Makefile.in
+++ b/crypto/kdf/Makefile.in
@@ -34,9 +34,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/lhash/Makefile.in b/crypto/lhash/Makefile.in
index ff90001..9b9281f 100644
--- a/crypto/lhash/Makefile.in
+++ b/crypto/lhash/Makefile.in
@@ -34,9 +34,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/md2/Makefile.in b/crypto/md2/Makefile.in
index 2692884..16bfea7 100644
--- a/crypto/md2/Makefile.in
+++ b/crypto/md2/Makefile.in
@@ -34,9 +34,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/md4/Makefile.in b/crypto/md4/Makefile.in
index b45b6ce..f63c611 100644
--- a/crypto/md4/Makefile.in
+++ b/crypto/md4/Makefile.in
@@ -35,9 +35,6 @@ lib:    $(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/md5/Makefile.in b/crypto/md5/Makefile.in
index 9c3fb1f..48ddab3 100644
--- a/crypto/md5/Makefile.in
+++ b/crypto/md5/Makefile.in
@@ -52,9 +52,6 @@ md5-ia64.s: asm/md5-ia64.S
 md5-sparcv9.S:	asm/md5-sparcv9.pl
 	$(PERL) asm/md5-sparcv9.pl $(PERLASM_SCHEME) $@
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/mdc2/Makefile.in b/crypto/mdc2/Makefile.in
index 3c2275b..2f2ccf9 100644
--- a/crypto/mdc2/Makefile.in
+++ b/crypto/mdc2/Makefile.in
@@ -34,9 +34,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/modes/Makefile.in b/crypto/modes/Makefile.in
index 581896d..22ab8b9 100644
--- a/crypto/modes/Makefile.in
+++ b/crypto/modes/Makefile.in
@@ -67,9 +67,6 @@ ghash-%.S:	asm/ghash-%.pl;	$(PERL) $&lt; $(PERLASM_SCHEME) $@
 ghash-armv4.o:	ghash-armv4.S
 ghashv8-armx.o:	ghashv8-armx.S
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/objects/Makefile.in b/crypto/objects/Makefile.in
index 64d138b..f6c9f0a 100644
--- a/crypto/objects/Makefile.in
+++ b/crypto/objects/Makefile.in
@@ -47,9 +47,6 @@ obj_xref.h: objxref.pl obj_xref.txt obj_mac.num
 	$(PERL) objxref.pl obj_mac.num obj_xref.txt &gt; obj_xref.h
 	@sleep 1; touch obj_xref.h; sleep 1
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 generate: obj_dat.h ../../include/openssl/obj_mac.h obj_xref.h
 
 depend:
diff --git a/crypto/ocsp/Makefile.in b/crypto/ocsp/Makefile.in
index 5ce7d88..0f8ae43 100644
--- a/crypto/ocsp/Makefile.in
+++ b/crypto/ocsp/Makefile.in
@@ -37,9 +37,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(LIBSRC)
 
diff --git a/crypto/pem/Makefile.in b/crypto/pem/Makefile.in
index a522297..fab3663 100644
--- a/crypto/pem/Makefile.in
+++ b/crypto/pem/Makefile.in
@@ -37,9 +37,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(LIBSRC)
 
diff --git a/crypto/pkcs12/Makefile.in b/crypto/pkcs12/Makefile.in
index 165ca2d..abca0e7 100644
--- a/crypto/pkcs12/Makefile.in
+++ b/crypto/pkcs12/Makefile.in
@@ -40,9 +40,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/pkcs7/Makefile.in b/crypto/pkcs7/Makefile.in
index 49b78c5..b71d562 100644
--- a/crypto/pkcs7/Makefile.in
+++ b/crypto/pkcs7/Makefile.in
@@ -41,9 +41,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/poly1305/Makefile.in b/crypto/poly1305/Makefile.in
index 03bde08..0601bf7 100644
--- a/crypto/poly1305/Makefile.in
+++ b/crypto/poly1305/Makefile.in
@@ -52,9 +52,6 @@ poly1305-%.S:	asm/poly1305-%.pl;	$(PERL) $&lt; $(PERLASM_SCHEME) $@
 poly1305-armv4.o:	poly1305-armv4.S
 poly1305-armv8.o:	poly1305-armv8.S
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/rand/Makefile.in b/crypto/rand/Makefile.in
index 095f0f0..5442402 100644
--- a/crypto/rand/Makefile.in
+++ b/crypto/rand/Makefile.in
@@ -36,9 +36,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/rc2/Makefile.in b/crypto/rc2/Makefile.in
index d124d0b..1a09360 100644
--- a/crypto/rc2/Makefile.in
+++ b/crypto/rc2/Makefile.in
@@ -34,9 +34,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/rc4/Makefile.in b/crypto/rc4/Makefile.in
index 0d4952c..816ec2f 100644
--- a/crypto/rc4/Makefile.in
+++ b/crypto/rc4/Makefile.in
@@ -62,9 +62,6 @@ rc4-ia64.s: rc4-ia64.S
 # GNU make &quot;catch all&quot;
 rc4-%.s:	asm/rc4-%.pl;	$(PERL) $&lt; $(PERLASM_SCHEME) $@
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/rc5/Makefile.in b/crypto/rc5/Makefile.in
index a440fda..554d0ef 100644
--- a/crypto/rc5/Makefile.in
+++ b/crypto/rc5/Makefile.in
@@ -42,9 +42,6 @@ lib:	$(LIBOBJ)
 rc5-586.s: asm/rc5-586.pl ../perlasm/x86asm.pl ../perlasm/cbc.pl
 	$(PERL) asm/rc5-586.pl $(PERLASM_SCHEME) $(CFLAGS) $@
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/ripemd/Makefile.in b/crypto/ripemd/Makefile.in
index a0135b3..4a87049 100644
--- a/crypto/ripemd/Makefile.in
+++ b/crypto/ripemd/Makefile.in
@@ -42,9 +42,6 @@ lib:    $(LIBOBJ)
 rmd-586.s:	asm/rmd-586.pl ../perlasm/x86asm.pl
 	$(PERL) asm/rmd-586.pl $(PERLASM_SCHEME) $(CFLAGS) $@
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/rsa/Makefile.in b/crypto/rsa/Makefile.in
index 0e2e2bf..5a8ecc4 100644
--- a/crypto/rsa/Makefile.in
+++ b/crypto/rsa/Makefile.in
@@ -40,9 +40,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/seed/Makefile.in b/crypto/seed/Makefile.in
index fe55942..2ae714d 100644
--- a/crypto/seed/Makefile.in
+++ b/crypto/seed/Makefile.in
@@ -35,9 +35,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/sha/Makefile.in b/crypto/sha/Makefile.in
index 9041c3c..8f24fea 100644
--- a/crypto/sha/Makefile.in
+++ b/crypto/sha/Makefile.in
@@ -97,9 +97,6 @@ sha1-armv8.o:		sha1-armv8.S
 sha256-armv8.o:		sha256-armv8.S
 sha512-armv8.o:		sha512-armv8.S
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/srp/Makefile.in b/crypto/srp/Makefile.in
index 8aa422a..78e9a4f 100644
--- a/crypto/srp/Makefile.in
+++ b/crypto/srp/Makefile.in
@@ -30,9 +30,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/stack/Makefile.in b/crypto/stack/Makefile.in
index fbce5a5..e127585 100644
--- a/crypto/stack/Makefile.in
+++ b/crypto/stack/Makefile.in
@@ -34,9 +34,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/ts/Makefile.in b/crypto/ts/Makefile.in
index 7f8648a..64156b5 100644
--- a/crypto/ts/Makefile.in
+++ b/crypto/ts/Makefile.in
@@ -44,9 +44,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(LIBSRC)
 
diff --git a/crypto/txt_db/Makefile.in b/crypto/txt_db/Makefile.in
index e3810fa..905ab41 100644
--- a/crypto/txt_db/Makefile.in
+++ b/crypto/txt_db/Makefile.in
@@ -34,9 +34,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/ui/Makefile.in b/crypto/ui/Makefile.in
index 46ae052..665cd2e 100644
--- a/crypto/ui/Makefile.in
+++ b/crypto/ui/Makefile.in
@@ -34,9 +34,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/whrlpool/Makefile.in b/crypto/whrlpool/Makefile.in
index 4e16f7d..e6c64b7 100644
--- a/crypto/whrlpool/Makefile.in
+++ b/crypto/whrlpool/Makefile.in
@@ -47,9 +47,6 @@ wp-x86_64.s: asm/wp-x86_64.pl
 
 $(LIBOBJ): $(LIBSRC)
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/x509/Makefile.in b/crypto/x509/Makefile.in
index 4932622..c1a173e 100644
--- a/crypto/x509/Makefile.in
+++ b/crypto/x509/Makefile.in
@@ -48,9 +48,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/crypto/x509v3/Makefile.in b/crypto/x509v3/Makefile.in
index b6af01e..5598ddb 100644
--- a/crypto/x509v3/Makefile.in
+++ b/crypto/x509v3/Makefile.in
@@ -44,9 +44,6 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/engines/Makefile.in b/engines/Makefile.in
index 4c8ca99..e37c4e2 100644
--- a/engines/Makefile.in
+++ b/engines/Makefile.in
@@ -79,10 +79,6 @@ e_padlock-x86_64.s:	asm/e_padlock-x86_64.pl
 subdirs:
 	@target=all; $(RECURSIVE_MAKE)
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-	@target=files; $(RECURSIVE_MAKE)
-
 install:
 	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
 	@if [ -n &quot;$(SHARED_LIBS)&quot; ]; then \
diff --git a/engines/afalg/Makefile.in b/engines/afalg/Makefile.in
index fb41993..8a7408f 100644
--- a/engines/afalg/Makefile.in
+++ b/engines/afalg/Makefile.in
@@ -53,9 +53,6 @@ install:
 depend:
 	@[ -z &quot;$(THIS)&quot; ] || $(TOP)/util/domd $(CFLAG) $(INCLUDES) $(DEPFLAG) -- $(PROGS) $(LIBSRC) $(TESTLIBSRC)
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 clean:
 	rm -f *.s *.o *.obj lib tags core .pure .nfs* *.old *.bak fluff *.so *.dll *.dylib
 
diff --git a/ms/README b/ms/README
deleted file mode 100644
index 7a45db1..0000000
--- a/ms/README
+++ /dev/null
@@ -1,13 +0,0 @@
-Run these makefiles from the top level as in
-nmake -f ms\makefilename
-to build with visual C++ 4.[01].
-
-The results will be in the out directory.
-
-These makefiles and def files were generated my typing
-
-perl util\mk1mf.pl VC-NT &gt;ms/nt.mak
-perl util\mk1mf.pl VC-NT dll &gt;ms/ntdll.mak
-
-perl util\mkdef.pl 32 crypto &gt; ms/crypto32.def
-perl util\mkdef.pl 32 ssl &gt; ms/ssl32.def
diff --git a/ssl/Makefile.in b/ssl/Makefile.in
index 28c427c..26444ca 100644
--- a/ssl/Makefile.in
+++ b/ssl/Makefile.in
@@ -68,9 +68,6 @@ shared: lib
 		(cd ..; $(MAKE) $(SHARED_LIB)); \
 	fi
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 depend:
 	$(TOP)/util/domd $(CFLAG) $(INCLUDES) -- $(PROGS) $(LIBSRC)
 
diff --git a/test/Makefile.in b/test/Makefile.in
index be4f062..e10af0b 100644
--- a/test/Makefile.in
+++ b/test/Makefile.in
@@ -152,9 +152,6 @@ all:	exe
 
 exe:	$(EXE) dummytest$(EXE_EXT)
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 generate: $(SRC)
 $(SRC):
 	@sh $(TOP)/util/point.sh dummytest.c $@
diff --git a/tools/Makefile.in b/tools/Makefile.in
index 7b4f14e..dec5f75 100644
--- a/tools/Makefile.in
+++ b/tools/Makefile.in
@@ -46,9 +46,6 @@ uninstall:
 		$(RM) $(DESTDIR)$(OPENSSLDIR)/misc/$$i; \
 	done;
 
-files:
-	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
-
 errors:
 
 depend:
diff --git a/util/files.pl b/util/files.pl
deleted file mode 100755
index 32e7125..0000000
--- a/util/files.pl
+++ /dev/null
@@ -1,67 +0,0 @@
-#!/usr/local/bin/perl
-#
-# used to generate the file MINFO for use by util/mk1mf.pl
-# It is basically a list of all variables from the passed makefile
-#
-
-while ($ARGV[0] =~ /^([^\s=]+)\s*=\s*(.*)$/)
-	{
-	$sym{$1} = $2;
-	shift;
-	}
-
-$s=&quot;&quot;;
-while (&lt;&gt;)
-	{
-	s|\R$||;
-	s/#.*//;
-	if (/^([^\s=]+)\s*=\s*(.*)$/)
-		{
-		$o=&quot;&quot;;
-		($s,$b)=($1,$2);
-		for (;;)
-			{
-			if ($b =~ /\\$/)
-				{
-				$b=$`; # Keep what is before the backslash
-				$o.=$b.&quot; &quot;;
-				$b = &quot;&quot; unless defined($b = &lt;&gt;);
-				$b =~ s{\R$}{};
-				}
-			else
-				{
-				$o.=$b.&quot; &quot;;
-				last;
-				}
-			}
-		$o =~ s/^\s+//;
-		$o =~ s/\s+$//;
-		$o =~ s/\s+/ /g;
-
-		$o =~ s/\$[({]([^)}]+)[)}]/$sym{$1}/g;
-		$sym{$s}=$o if !exists $sym{$s};
-		}
-	}
-
-($pwd=`pwd`) =~ s{\R$}{};
-
-if ($sym{'TOP'} eq &quot;.&quot;)
-	{
-	$n=0;
-	$dir=&quot;.&quot;;
-	}
-else	{
-	$n=split(/\//,$sym{'TOP'});
-	@_=split(/\//,$pwd);
-	$z=$#_-$n+1;
-	foreach $i ($z .. $#_) { $dir.=$_[$i].&quot;/&quot;; }
-	chop($dir);             # Remove the last slash
-	}
-
-print &quot;RELATIVE_DIRECTORY=$dir\n&quot;;
-
-foreach (sort keys %sym)
-	{
-	print &quot;$_=$sym{$_}\n&quot;;
-	}
-print &quot;RELATIVE_DIRECTORY=\n&quot;;
diff --git a/util/mk1mf.pl b/util/mk1mf.pl
deleted file mode 100755
index 0c52530..0000000
--- a/util/mk1mf.pl
+++ /dev/null
@@ -1,1458 +0,0 @@
-#!/usr/bin/env perl
-# A bit of an evil hack but it post processes the file ../MINFO which
-# is generated by `make files` in the top directory.
-# This script outputs one mega makefile that has no shell stuff or any
-# funny stuff (if the target is not &quot;copy&quot;).
-# If the target is &quot;copy&quot;, then it tries to create a makefile that can be
-# safely used with the -j flag and that is compatible with the top-level
-# Makefile, in the sense that it uses the same options and assembler files etc.
-
-use Cwd;
-
-$INSTALLTOP=&quot;/usr/local&quot;;
-$OPENSSLDIR=&quot;/usr/local/ssl&quot;;
-$ENGINESDIR=&quot;/usr/local/lib/engines&quot;;
-$OPTIONS=&quot;&quot;;
-$ssl_version=&quot;&quot;;
-$banner=&quot;\t\@echo Building OpenSSL&quot;;
-
-my $no_static_engine = 1;
-my $engines = &quot;&quot;;
-my @engines_obj = &quot;&quot;;
-my $otherlibs = &quot;&quot;;
-local $zlib_opt = 0;	# 0 = no zlib, 1 = static, 2 = dynamic
-local $zlib_lib = &quot;&quot;;
-local $perl_asm = 0;	# 1 to autobuild asm files from perl scripts
-
-local $fips_canister_path = &quot;&quot;;
-my $fips_premain_dso_exe_path = &quot;&quot;;
-my $fips_premain_c_path = &quot;&quot;;
-my $fips_sha1_exe_path = &quot;&quot;;
-
-local $fipscanisterbuild = 0;
-
-my $fipscanisteronly = 0;
-
-my $fipslibdir = &quot;&quot;;
-my $baseaddr = &quot;&quot;;
-
-my $ex_l_libs = &quot;&quot;;
-
-my $build_targets = &quot;lib exe&quot;;
-my $libs_dep = &quot;\$(O_CRYPTO) \$(O_SSL)&quot;;
-
-# Options to import from top level Makefile
-
-my %mf_import = (
-	VERSION	       =&gt; \$ssl_version,
-	OPTIONS        =&gt; \$OPTIONS,
-	INSTALLTOP     =&gt; \$INSTALLTOP,
-	OPENSSLDIR     =&gt; \$OPENSSLDIR,
-	ENGINESDIR     =&gt; \$ENGINESDIR,
-	PLATFORM       =&gt; \$mf_platform,
-	CC             =&gt; \$mf_cc,
-	CFLAG	       =&gt; \$mf_cflag,
-	CFLAG_Q	       =&gt; \$mf_cflag_q,
-	SHARED_CFLAG   =&gt; \$mf_shared_cflag,
-        DEPFLAG        =&gt; \$mf_depflag,
-	CPUID_OBJ      =&gt; \$mf_cpuid_asm,
-	BN_ASM	       =&gt; \$mf_bn_asm,
-	DES_ENC	       =&gt; \$mf_des_asm,
-	AES_ENC        =&gt; \$mf_aes_asm,
-	BF_ENC	       =&gt; \$mf_bf_asm,
-	CAST_ENC       =&gt; \$mf_cast_asm,
-	RC4_ENC	       =&gt; \$mf_rc4_asm,
-	RC5_ENC        =&gt; \$mf_rc5_asm,
-	MD5_ASM_OBJ    =&gt; \$mf_md5_asm,
-	SHA1_ASM_OBJ   =&gt; \$mf_sha_asm,
-	RMD160_ASM_OBJ =&gt; \$mf_rmd_asm,
-	WP_ASM_OBJ     =&gt; \$mf_wp_asm,
-	CMLL_ENC       =&gt; \$mf_cm_asm,
-	MODES_ASM_OBJ  =&gt; \$mf_modes_asm,
-        ENGINES_ASM_OBJ=&gt; \$mf_engines_asm,
-	PERLASM_SCHEME =&gt; \$mf_perlasm_scheme,
-	FIPSCANISTERONLY  =&gt; \$mf_fipscanisteronly,
-	FIPSCANISTERINTERNAL  =&gt; \$mf_fipscanisterinternal,
-	EC_ASM	       =&gt; \$mf_ec_asm,
-);
-
-open(IN,&quot;&lt;Makefile&quot;) || die &quot;unable to open Makefile!\n&quot;;
-while(&lt;IN&gt;) {
-    my ($mf_opt, $mf_ref);
-    while (($mf_opt, $mf_ref) = each %mf_import) {
-    	if (/^$mf_opt\s*=\s*(.*)$/ &amp;&amp; !defined($$mfref)) {
-	   $$mf_ref = $1;
-	}
-    }
-}
-close(IN);
-
-if ($mf_fipscanisterinternal eq &quot;y&quot;) {
-	$fips = 1;
-	$fipscanisterbuild = 1;
-	$fipscanisteronly = 1;
-}
-
-
-die &quot;Makefile is not the toplevel Makefile!\n&quot; if $ssl_version eq &quot;&quot;;
-
-$infile=&quot;MINFO&quot;;
-
-%ops=(
-	&quot;Mingw32&quot;, &quot;GNU C++ - Windows NT or 9x&quot;,
-	&quot;Mingw32-files&quot;, &quot;Create files with DOS copy ...&quot;,
-	&quot;linux-elf&quot;,&quot;Linux elf&quot;,
-	&quot;FreeBSD&quot;,&quot;FreeBSD distribution&quot;,
-	&quot;default&quot;,&quot;cc under unix&quot;,
-	&quot;auto&quot;, &quot;auto detect from top level Makefile&quot;,
-        &quot;copy&quot;, &quot;copy from top level Makefile&quot;
-	);
-
-$platform=&quot;&quot;;
-my $xcflags=&quot;&quot;;
-foreach (@ARGV)
-	{
-	if (!&amp;read_options &amp;&amp; !defined($ops{$_}))
-		{
-		print STDERR &quot;unknown option - $_\n&quot;;
-		print STDERR &quot;usage: perl mk1mf.pl [options] [system]\n&quot;;
-		print STDERR &quot;\nwhere [system] can be one of the following\n&quot;;
-		foreach $i (sort keys %ops)
-		{ printf STDERR &quot;\t%-10s\t%s\n&quot;,$i,$ops{$i}; }
-		print STDERR &lt;&lt;&quot;EOF&quot;;
-and [options] can be one of
-	no-md2 no-md4 no-md5 no-sha no-mdc2	- Skip this digest
-	no-rmd160
-	no-blake2				- No blake2
-	no-rc2 no-rc4 no-rc5 no-idea no-des     - Skip this symetric cipher
-	no-bf no-cast no-aes no-camellia no-seed
-	no-rsa no-dsa no-dh			- Skip this public key cipher
-	no-ssl3					- Skip this version of SSL
-	just-ssl				- remove all non-ssl keys/digest
-	no-asm 					- No x86 asm
-	no-srp					- No SRP
-	no-ec					- No EC
-	no-engine				- No engine
-	no-egd					- No EGD
-	no-hw					- No hw
-	no-async				- No Async (use NULL)
-	no-autoalginit				- Don't auto load algorithms in libcrypto
-	no-autoerrinit				- Don't auto load error strings for libcrypto or libssl
-	nasm 					- Use NASM for x86 asm
-	gaswin					- Use GNU as with Mingw32
-	no-socks				- No socket code
-	no-err					- No error strings
-	dll/shlib				- Build shared libraries (MS)
-	debug					- Debug build
-        profile                                 - Profiling build
-	gcc					- Use Gcc (unix)
-
-Values that can be set
-TMP=tmpdir OUT=outdir SRC=srcdir BIN=binpath INC=header-outdir CC=C-compiler
-
--L&lt;ex_lib_path&gt; -l&lt;ex_lib&gt;			- extra library flags (unix)
--&lt;ex_cc_flags&gt;					- extra 'cc' flags,
-						  added (MS), or replace (unix)
-EOF
-		exit(1);
-		}
-	$platform=$_;
-	}
-foreach (grep(!/^$/, split(/ /, $OPTIONS)))
-	{
-	print STDERR &quot;unknown option - $_\n&quot; if !&amp;read_options;
-	}
-
-$no_mdc2=1 if ($no_des);
-
-$no_ssl3=1 if ($no_md5);
-$no_ssl3=1 if ($no_rsa &amp;&amp; $no_dh);
-
-$out_def=&quot;out&quot;;
-$inc_def=&quot;outinc&quot;;
-$tmp_def=&quot;tmp&quot;;
-
-$perl=&quot;perl&quot; unless defined $perl;
-$mkdir=&quot;-mkdir&quot; unless defined $mkdir;
-$mv=&quot;mv&quot; unless defined $mv;
-
-($ssl,$crypto)=(&quot;ssl&quot;,&quot;crypto&quot;);
-$ranlib=&quot;echo ranlib&quot;;
-
-$cc=(defined($VARS{'CC'}))?$VARS{'CC'}:'cc';
-$src_dir=(defined($VARS{'SRC'}))?$VARS{'SRC'}: $platform eq 'copy' ? getcwd() : '.';
-$bin_dir=(defined($VARS{'BIN'}))?$VARS{'BIN'}:'';
-
-# $bin_dir.=$o causes a core dump on my sparc :-(
-
-
-$NT=0;
-
-push(@INC,&quot;util/pl&quot;,&quot;pl&quot;);
-
-if ($platform eq &quot;auto&quot; || $platform eq 'copy') {
-	$orig_platform = $platform;
-	$platform = $mf_platform;
-	print STDERR &quot;Imported platform $mf_platform\n&quot;;
-}
-
-if ($platform eq &quot;Mingw32&quot;)
-	{
-	require 'Mingw32.pl';
-	}
-elsif ($platform eq &quot;Mingw32-files&quot;)
-	{
-	require 'Mingw32f.pl';
-	}
-elsif ($platform eq &quot;FreeBSD&quot;)
-	{
-	require 'unix.pl';
-	$cflags='-DTERMIO -D_ANSI_SOURCE -O2 -fomit-frame-pointer';
-	}
-elsif ($platform eq &quot;linux-elf&quot;)
-	{
-	require &quot;unix.pl&quot;;
-	require &quot;linux.pl&quot;;
-	$unix=1;
-	}
-else
-	{
-	require &quot;unix.pl&quot;;
-
-	$unix=1;
-	$cflags.=' -DTERMIO';
-	}
-
-$out_dir=(defined($VARS{'OUT'}))?$VARS{'OUT'}:$out_def.($debug?&quot;.dbg&quot;:&quot;&quot;);
-$tmp_dir=(defined($VARS{'TMP'}))?$VARS{'TMP'}:$tmp_def.($debug?&quot;.dbg&quot;:&quot;&quot;);
-$inc_dir=(defined($VARS{'INC'}))?$VARS{'INC'}:$inc_def;
-
-$bin_dir=$bin_dir.$o unless ((substr($bin_dir,-1,1) eq $o) || ($bin_dir eq ''));
-
-$cflags= &quot;$xcflags$cflags&quot; if $xcflags ne &quot;&quot;;
-
-$cflags.=&quot; -DOPENSSL_NO_IDEA&quot; if $no_idea;
-$cflags.=&quot; -DOPENSSL_NO_AES&quot;  if $no_aes;
-$cflags.=&quot; -DOPENSSL_NO_CAMELLIA&quot;  if $no_camellia;
-$cflags.=&quot; -DOPENSSL_NO_SEED&quot; if $no_seed;
-$cflags.=&quot; -DOPENSSL_NO_RC2&quot;  if $no_rc2;
-$cflags.=&quot; -DOPENSSL_NO_RC4&quot;  if $no_rc4;
-$cflags.=&quot; -DOPENSSL_NO_RC5&quot;  if $no_rc5;
-$cflags.=&quot; -DOPENSSL_NO_MD2&quot;  if $no_md2;
-$cflags.=&quot; -DOPENSSL_NO_MD4&quot;  if $no_md4;
-$cflags.=&quot; -DOPENSSL_NO_MD5&quot;  if $no_md5;
-$cflags.=&quot; -DOPENSSL_NO_RMD160&quot; if $no_ripemd;
-$cflags.=&quot; -DOPENSSL_NO_MDC2&quot; if $no_mdc2;
-$cflags.=&quot; -DOPENSSL_NO_BF&quot;  if $no_bf;
-$cflags.=&quot; -DOPENSSL_NO_CAST&quot; if $no_cast;
-$cflags.=&quot; -DOPENSSL_NO_DES&quot;  if $no_des;
-$cflags.=&quot; -DOPENSSL_NO_RSA&quot;  if $no_rsa;
-$cflags.=&quot; -DOPENSSL_NO_DSA&quot;  if $no_dsa;
-$cflags.=&quot; -DOPENSSL_NO_DH&quot;   if $no_dh;
-$cflags.=&quot; -DOPENSSL_NO_WHIRLPOOL&quot;   if $no_whirlpool;
-$cflags.=&quot; -DOPENSSL_NO_SOCK&quot; if $no_sock;
-$cflags.=&quot; -DOPENSSL_NO_SSL3&quot; if $no_ssl3;
-$cflags.=&quot; -DOPENSSL_NO_SRP&quot; if $no_srp;
-$cflags.=&quot; -DOPENSSL_NO_CMS&quot; if $no_cms;
-$cflags.=&quot; -DOPENSSL_NO_ERR&quot;  if $no_err;
-$cflags.=&quot; -DOPENSSL_NO_EC&quot;   if $no_ec;
-$cflags.=&quot; -DOPENSSL_NO_GOST&quot; if $no_gost;
-$cflags.=&quot; -DOPENSSL_NO_ENGINE&quot;   if $no_engine;
-$cflags.=&quot; -DOPENSSL_NO_HW&quot;   if $no_hw;
-$cflags.=&quot; -DOPENSSL_NO_ASYNC&quot; if $no_async;
-$cflags.=&quot; -DOPENSSL_NO_AUTOALGINIT&quot; if $no_autoalginit;
-$cflags.=&quot; -DOPENSSL_NO_AUTOERRINIT&quot; if $no_autoerrinit;
-$cflags.=&quot; -DOPENSSL_FIPS&quot;    if $fips;
-$cflags.=&quot; -DOPENSSL_NO_EC2M&quot;    if $no_ec2m;
-$cflags.=&quot; -DZLIB&quot; if $zlib_opt;
-$cflags.=&quot; -DZLIB_SHARED&quot; if $zlib_opt == 2;
-$cflags.=&quot; -DOPENSSL_PIC&quot;;
-$cflags.=&quot; -DOPENSSL_NO_COMP&quot; if $no_comp;
-
-if ($no_static_engine)
-	{
-	$cflags .= &quot; -DOPENSSL_NO_STATIC_ENGINE&quot;;
-	}
-else
-	{
-	$cflags .= &quot; -DOPENSSL_NO_DYNAMIC_ENGINE&quot;;
-	}
-
-#$cflags.=&quot; -DRSAref&quot;  if $rsaref ne &quot;&quot;;
-
-## if ($unix)
-##	{ $cflags=&quot;$c_flags&quot; if ($c_flags ne &quot;&quot;); }
-##else
-	{ $cflags=&quot;$c_flags$cflags&quot; if ($c_flags ne &quot;&quot;); }
-
-if ($orig_platform eq 'copy') {
-    $cflags = &quot;$mf_cflag $mf_shared_cflag&quot;;
-    $cc = $mf_cc;
-}
-
-$ex_libs=&quot;$l_flags$ex_libs&quot; if ($l_flags ne &quot;&quot;);
-
-
-%shlib_ex_cflags=(&quot;SSL&quot; =&gt; &quot; -DOPENSSL_BUILD_SHLIBSSL&quot;,
-		  &quot;CRYPTO&quot; =&gt; &quot; -DOPENSSL_BUILD_SHLIBCRYPTO&quot;);
-
-if ($msdos)
-	{
-	$banner =&quot;\t\@echo Make sure you have run 'perl Configure $platform' in the\n&quot;;
-	$banner.=&quot;\t\@echo top level directory, if you don't have perl, you will\n&quot;;
-	$banner.=&quot;\t\@echo need to probably edit crypto/bn/bn.h, check the\n&quot;;
-	$banner.=&quot;\t\@echo documentation for details.\n&quot;;
-	}
-
-# have to do this to allow $(CC) under unix
-$link=&quot;$bin_dir$link&quot; if ($link !~ /^\$/);
-
-$INSTALLTOP =~ s|/|$o|g;
-$OPENSSLDIR =~ s|/|$o|g;
-
-#############################################
-# We parse in input file and 'store' info for later printing.
-open(IN,&quot;&lt;$infile&quot;) || die &quot;unable to open $infile:$!\n&quot;;
-$_=&lt;IN&gt;;
-for (;;)
-	{
-	s/\s*$//; # was chop, didn't work in mixture of perls for Windows...
-
-	($key,$val)=/^([^=]+)=(.*)/;
-	if ($key eq &quot;RELATIVE_DIRECTORY&quot;)
-		{
-		if ($lib ne &quot;&quot;)
-			{
- 			if ($fips &amp;&amp; $dir =~ /^fips/)
- 				{
- 				$uc = &quot;FIPS&quot;;
- 				}
- 			else
- 				{
- 				$uc=$lib;
- 				$uc =~ s/^lib(.*)\.a/$1/;
- 				$uc =~ tr/a-z/A-Z/;
-				}
-			if (($uc ne &quot;FIPS&quot;) || $fipscanisterbuild)
-				{
-				$lib_nam{$uc}=$uc;
-				$lib_obj{$uc}.=$libobj.&quot; &quot;;
-				}
-			}
-		last if ($val eq &quot;FINISHED&quot;);
-		$lib=&quot;&quot;;
-		$libobj=&quot;&quot;;
-		$dir=$val;
-		}
-
-	if ($key eq &quot;ZLIB_INCLUDE&quot;)
-		{ $cflags .= &quot; $val&quot; if $val ne &quot;&quot;;}
-
-	if ($key eq &quot;LIBZLIB&quot;)
-		{ $zlib_lib = &quot;$val&quot; if $val ne &quot;&quot;;}
-
-	if ($key eq &quot;EX_LIBS&quot;)
-		{ $ex_libs .= &quot; $val&quot; if $val ne &quot;&quot;;}
-
-	# There was a condition here before:
-	#       !$fipscanisteronly || $dir =~ /^fips/
-	# It currently fills no function and needs to be rewritten anyway, so
-	# removed for now.
-	if ($dir eq &quot;test&quot; &amp;&amp; $key eq &quot;EXE&quot;)
-		{
-		foreach my $t (split /\s+/, $val) {
-			$test.=&amp;var_add($dir,$t, 0) if $t; }
-		}
-
-	if ($key eq &quot;EXE_OBJ&quot;)
-		{ $e_exe.=&amp;var_add($dir,$val, 0); }
-
-	if ($key eq &quot;LIB&quot;)
-		{
-		$lib=$val;
-		$lib =~ s/^.*\/([^\/]+)$/$1/;
-		}
-	if ($key eq &quot;LIBNAME&quot; &amp;&amp; $no_static_engine)
-		{
-		$lib=$val;
-		$lib =~ s/^.*\/([^\/]+)$/$1/;
-		$otherlibs .= &quot; $lib&quot;;
-		}
-
-	if ($key eq &quot;HEADER&quot;)
-		{ $header.=&amp;var_add($dir,$val, 1); }
-
-	if ($key eq &quot;LIBOBJ&quot;)
-	    {
-	    if ($dir ne &quot;engines&quot; || !$no_static_engine)
-		{ $libobj=&amp;var_add($dir,$val, 0); }
-	    else
-		{ push(@engines_obj,split(/\s+/,&amp;var_add($dir,$val,0))); }
-	    }
-	if ($key eq &quot;LIBNAMES&quot; &amp;&amp; $dir eq &quot;engines&quot; &amp;&amp; $no_static_engine)
- 		{ $engines.=$val }
-
-	if ($key eq &quot;FIPS_EX_OBJ&quot;)
-		{ 
-		$fips_ex_obj=&amp;var_add(&quot;crypto&quot;,$val,0);
-		}
-
-	if ($key eq &quot;FIPSLIBDIR&quot;)
-		{
-		$fipslibdir=$val;
-		$fipslibdir =~ s/\/$//;
-		$fipslibdir =~ s/\//$o/g;
-		}
-
-	if ($key eq &quot;BASEADDR&quot;)
-		{ $baseaddr=$val;}
-
-	if (!($_=&lt;IN&gt;))
-		{ $_=&quot;RELATIVE_DIRECTORY=FINISHED\n&quot;; }
-	}
-close(IN);
-
-if ($orig_platform eq 'copy')
-	{
-	# Remove opensslconf.h so it doesn't get updated if we configure a
-	# different branch.
-	$header =~ s/[^ ]+\/opensslconf.h//;
-	}
-
-if ($fips)
-	{
-
-	foreach (split &quot; &quot;, $fips_ex_obj)
-		{
-		$fips_exclude_obj{$1} = 1 if (/\/([^\/]*)$/);
-		}
-	foreach (split &quot; &quot;,
-		&quot;$mf_cpuid_asm $mf_aes_asm $mf_sha_asm $mf_bn_asm &quot; .
-		&quot;$mf_des_asm $mf_modes_asm&quot;)
-		{
-		s/\.o//;
-		$fips_exclude_obj{$_} = 1;
-		}
-	my @ltmp = split &quot; &quot;, $lib_obj{&quot;CRYPTO&quot;};
-
-
-	$lib_obj{&quot;CRYPTO&quot;} = &quot;&quot;;
-
-	foreach(@ltmp)
-		{
-		if (/\/([^\/]*)$/ &amp;&amp; exists $fips_exclude_obj{$1})
-			{
-			if ($fipscanisterbuild)
-				{
-				$lib_obj{&quot;FIPS&quot;} .= &quot;$_ &quot;;
-				}
-			}
-		elsif (!$fipscanisteronly)
-			{
-			$lib_obj{&quot;CRYPTO&quot;} .= &quot;$_ &quot;;
-			}
-		}
-
-	}
-
-if ($fipscanisterbuild)
-	{
-	$fips_canister_path = &quot;\$(LIB_D)${o}fipscanister.lib&quot; if $fips_canister_path eq &quot;&quot;;
-	$fips_premain_c_path = &quot;\$(LIB_D)${o}fips_premain.c&quot;;
-	}
-else
-	{
-	if ($fips_canister_path eq &quot;&quot;)
-		{
-		$fips_canister_path = &quot;\$(FIPSLIB_D)${o}fipscanister.lib&quot;;
-		}
-
-	if ($fips_premain_c_path eq &quot;&quot;)
-		{
-		$fips_premain_c_path = &quot;\$(FIPSLIB_D)${o}fips_premain.c&quot;;
-		}
-	}
-
-if ($fips)
-	{
-	if ($fips_sha1_exe_path eq &quot;&quot;)
-		{
-		$fips_sha1_exe_path =
-			&quot;\$(BIN_D)${o}fips_standalone_sha1$exep&quot;;
-		}
-	}
-	else
-	{
-	$fips_sha1_exe_path = &quot;&quot;;
-	}
-
-if ($fips_premain_dso_exe_path eq &quot;&quot;)
-	{
-	$fips_premain_dso_exe_path = &quot;\$(BIN_D)${o}fips_premain_dso$exep&quot;;
-	}
-
-#	$ex_build_targets .= &quot;\$(BIN_D)${o}\$(E_PREMAIN_DSO)$exep&quot; if ($fips);
-
-if ($fips)
-	{
-	if (!$shlib)
-		{
-		$build_targets .= &quot; \$(LIB_D)$o$crypto_compat \$(PREMAIN_DSO_EXE)&quot;;
-		$ex_l_libs .= &quot; \$(O_FIPSCANISTER)&quot;;
-		$ex_libs_dep .= &quot; \$(O_FIPSCANISTER)&quot; if $fipscanisterbuild;
-		}
-	if ($fipscanisterbuild)
-		{
-		$fipslibdir = &quot;\$(LIB_D)&quot;;
-		}
-	else
-		{
-		if ($fipslibdir eq &quot;&quot;)
-			{
-			open (IN, &quot;util/fipslib_path.txt&quot;) || fipslib_error();
-			$fipslibdir = &lt;IN&gt;;
-			close IN;
-			$fipslibdir = &quot;&quot; unless defined($fipslibdir);
-			$fipslibdir =~ s{\R$}{};
-			fipslib_error() if ($fipslibdir eq &quot;&quot;);
-			}
-		fips_check_files($fipslibdir,
-				&quot;fipscanister.lib&quot;, &quot;fipscanister.lib.sha1&quot;,
-				&quot;fips_premain.c&quot;, &quot;fips_premain.c.sha1&quot;);
-		}
-	}
-
-if ($fipscanisteronly)
-	{
-	$build_targets = &quot;\$(O_FIPSCANISTER) \$(T_EXE)&quot;;
-	$libs_dep = &quot;&quot;;
-	}
-
-$cp2 = $cp unless defined $cp2;
-
-$extra_install= &lt;&lt;&quot;EOF&quot;;
-	\$(CP) \&quot;include${o}openssl${o}*.\[ch\]\&quot; \&quot;\$(INSTALLTOP)${o}include${o}openssl\&quot;
-	\$(CP) \&quot;\$(BIN_D)$o\$(E_EXE)$exep \$(INSTALLTOP)${o}bin\&quot;
-	\$(MKDIR) \&quot;\$(OPENSSLDIR)\&quot;
-	\$(CP) apps${o}openssl.cnf \&quot;\$(OPENSSLDIR)\&quot;
-EOF
-
-if ($fipscanisteronly)
-	{
-	$extra_install = &lt;&lt;&quot;EOF&quot;;
-	\$(CP) \&quot;\$(O_FIPSCANISTER)\&quot; \&quot;\$(INSTALLTOP)${o}lib\&quot;
-	\$(CP) \&quot;\$(O_FIPSCANISTER).sha1\&quot; \&quot;\$(INSTALLTOP)${o}lib\&quot;
-	\$(CP2) \&quot;fips${o}fips_premain.c\&quot; \&quot;\$(INSTALLTOP)${o}lib\&quot;
-	\$(CP) \&quot;fips${o}fips_premain.c.sha1\&quot; \&quot;\$(INSTALLTOP)${o}lib\&quot;
-	\$(CP) \&quot;include${o}openssl${o}fips.h\&quot; \&quot;\$(INSTALLTOP)${o}include${o}openssl\&quot;
-	\$(CP) \&quot;include${o}openssl${o}fips_rand.h\&quot; \&quot;\$(INSTALLTOP)${o}include${o}openssl\&quot;
-	\$(CP) &quot;\$(BIN_D)${o}fips_standalone_sha1$exep&quot; \&quot;\$(INSTALLTOP)${o}bin\&quot;
-	\$(CP) \&quot;util${o}fipslink.pl\&quot; \&quot;\$(INSTALLTOP)${o}bin\&quot;
-EOF
-	}
-elsif ($shlib)
-	{
-	$extra_install .= &lt;&lt;&quot;EOF&quot;;
-	\$(CP) \&quot;\$(O_SSL)\&quot; \&quot;\$(INSTALLTOP)${o}bin\&quot;
-	\$(CP) \&quot;\$(O_CRYPTO)\&quot; \&quot;\$(INSTALLTOP)${o}bin\&quot;
-	\$(CP) \&quot;\$(L_SSL)\&quot; \&quot;\$(INSTALLTOP)${o}lib\&quot;
-	\$(CP) \&quot;\$(L_CRYPTO)\&quot; \&quot;\$(INSTALLTOP)${o}lib\&quot;
-EOF
-	if ($no_static_engine)
-		{
-		$extra_install .= &lt;&lt;&quot;EOF&quot;
-	\$(MKDIR) \&quot;\$(INSTALLTOP)${o}lib${o}engines\&quot;
-	\$(CP) \&quot;\$(E_SHLIB)\&quot; \&quot;\$(INSTALLTOP)${o}lib${o}engines\&quot;
-EOF
-		}
-	}
-else
-	{
-	$extra_install .= &lt;&lt;&quot;EOF&quot;;
-	\$(CP) \&quot;\$(O_SSL)\&quot; \&quot;\$(INSTALLTOP)${o}lib\&quot;
-	\$(CP) \&quot;\$(O_CRYPTO)\&quot; \&quot;\$(INSTALLTOP)${o}lib\&quot;
-EOF
-	$ex_libs .= &quot; $zlib_lib&quot; if $zlib_opt == 1;
-	}
-
-my $asm_def = $orig_platform eq 'copy' ? &quot;&quot; : &quot;ASM=$bin_dir$asm&quot;;
-
-$cflags =~ s/\((ENGINESDIR|OPENSSLDIR)\)/\(${1}_QQ\)/g;
-(my $cflags_q = $cflags) =~ s/([\\&quot;])/\\$1/g;
-(my $INSTALLTOP_Q = $INSTALLTOP) =~ s/([\\&quot;])/\\$1/g;
-(my $INSTALLTOP_QQ = $INSTALLTOP_Q) =~ s/\\/\\\\/g;
-(my $OPENSSLDIR_Q = $OPENSSLDIR) =~ s/([\\&quot;])/\\$1/g;
-(my $OPENSSLDIR_QQ = $OPENSSLDIR_Q) =~ s/\\/\\\\/g;
-(my $ENGINESDIR_Q = $ENGINESDIR) =~ s/([\\&quot;])/\\$1/g;
-(my $ENGINESDIR_QQ = $ENGINESDIR_Q) =~ s/\\/\\\\/g;
-
-$defs= &lt;&lt;&quot;EOF&quot;;
-# N.B. You MUST use -j on FreeBSD.
-# This makefile has been automatically generated from the OpenSSL distribution.
-# This single makefile will build the complete OpenSSL distribution and
-# by default leave the 'interesting' output files in .${o}out and the stuff
-# that needs deleting in .${o}tmp.
-# The file was generated by running 'make makefile.one', which
-# does a 'make files', which writes all the environment variables from all
-# the makefiles to the file call MINFO.  This file is used by
-# util${o}mk1mf.pl to generate makefile.one.
-# The 'makefile per directory' system suites me when developing this
-# library and also so I can 'distribute' indervidual library sections.
-# The one monster makefile better suits building in non-unix
-# environments.
-
-EOF
-
-$defs .= $preamble if defined $preamble;
-
-$defs.= &lt;&lt;&quot;EOF&quot;;
-INSTALLTOP=$INSTALLTOP
-INSTALLTOP_QQ=$INSTALLTOP_QQ
-OPENSSLDIR=$OPENSSLDIR
-OPENSSLDIR_QQ=$OPENSSLDIR_QQ
-ENGINESDIR=$ENGINESDIR
-ENGINESDIR_QQ=$ENGINESDIR_QQ
-
-# Set your compiler options
-PLATFORM=$platform
-CC=$bin_dir${cc}
-CFLAG=$cflags
-CFLAG_Q=$cflags_q
-APP_CFLAG=$app_cflag
-LIB_CFLAG=$lib_cflag
-SHLIB_CFLAG=$shl_cflag
-APP_EX_OBJ=$app_ex_obj
-SHLIB_EX_OBJ=$shlib_ex_obj
-# add extra libraries to this define, for solaris -lsocket -lnsl would
-# be added
-EX_LIBS=$ex_libs
-
-# The OpenSSL directory
-SRC_D=$src_dir
-
-LINK_CMD=$link
-LFLAGS=$lflags
-RSC=$rsc
-FIPSLINK=\$(PERL) util${o}fipslink.pl
-
-# The output directory for everything interesting
-OUT_D=$out_dir
-# The output directory for all the temporary muck
-TMP_D=$tmp_dir
-
-PERL=$perl
-PERLASM_SCHEME=$mf_perlasm_scheme
-CP=$cp
-CP2=$cp2
-RM=$rm
-MV=$mv
-RANLIB=$ranlib
-MKDIR=$mkdir
-MKLIB=$bin_dir$mklib
-MLFLAGS=$mlflags
-$asm_def
-
-# FIPS validated module and support file locations
-
-E_PREMAIN_DSO=fips_premain_dso
-
-FIPSLIB_D=$fipslibdir
-BASEADDR=$baseaddr
-FIPS_PREMAIN_SRC=$fips_premain_c_path
-O_FIPSCANISTER=$fips_canister_path
-FIPS_SHA1_EXE=$fips_sha1_exe_path
-PREMAIN_DSO_EXE=$fips_premain_dso_exe_path
-
-######################################################
-# You should not need to touch anything below this point
-######################################################
-
-E_EXE=openssl
-SSL=$ssl
-CRYPTO=$crypto
-
-# BIN_D  - Binary output directory
-# TEST_D - Binary test file output directory
-# LIB_D  - library output directory
-# ENG_D  - dynamic engine output directory
-# Note: if you change these point to different directories then uncomment out
-# the lines around the 'NB' comment below.
-# 
-BIN_D=\$(OUT_D)
-TEST_D=\$(OUT_D)
-LIB_D=\$(OUT_D)
-ENG_D=\$(OUT_D)
-
-# INCL_D - local library directory
-# OBJ_D  - temp object file directory
-OBJ_D=\$(TMP_D)
-INCL_D=\$(TMP_D)
-
-O_SSL=     \$(LIB_D)$o$plib\$(SSL)$shlibp
-O_CRYPTO=  \$(LIB_D)$o$plib\$(CRYPTO)$shlibp
-SO_SSL=    $plib\$(SSL)$so_shlibp
-SO_CRYPTO= $plib\$(CRYPTO)$so_shlibp
-L_SSL=     \$(LIB_D)$o$plib\$(SSL)$libp
-L_CRYPTO=  \$(LIB_D)$o$plib\$(CRYPTO)$libp
-
-L_LIBS= \$(L_SSL) \$(L_CRYPTO) $ex_l_libs
-
-######################################################
-# Don't touch anything below this point
-######################################################
-
-INC=-I\$(SRC_D)${o}include -I\$(INCL_D) -I\$(SRC_D)${o}crypto${o}include
-APP_CFLAGS=\$(INC) \$(CFLAG) \$(APP_CFLAG)
-LIB_CFLAGS=\$(INC) \$(CFLAG) \$(LIB_CFLAG)
-SHLIB_CFLAGS=\$(INC) \$(CFLAG) \$(LIB_CFLAG) \$(SHLIB_CFLAG)
-LIBS_DEP=$libs_dep
-
-#############################################
-EOF
-
-$rules=&lt;&lt;&quot;EOF&quot;;
-all: banner \$(TMP_D) \$(BIN_D) \$(TEST_D) \$(LIB_D) headers \$(FIPS_SHA1_EXE) $build_targets
-
-banner:
-$banner
-
-\$(TMP_D):
-	\$(MKDIR) \&quot;\$(TMP_D)\&quot;
-# NB: uncomment out these lines if BIN_D, TEST_D and LIB_D are different
-#\$(BIN_D):
-#	\$(MKDIR) \$(BIN_D)
-#
-#\$(TEST_D):
-#	\$(MKDIR) \$(TEST_D)
-
-\$(LIB_D):
-	\$(MKDIR) \&quot;\$(LIB_D)\&quot;
-
-# This needs to be invoked once, when the makefile is first constructed, or
-# after cleaning.
-init: \$(TMP_D) \$(LIB_D) \$(BIN_D) \$(TEST_D) headers
-
-headers: \$(HEADER)
-
-lib: \$(LIBS_DEP) \$(E_SHLIB)
-
-exe: apps tools testapps
-apps: \$(BIN_D)$o\$(E_EXE)$exep \$(BIN_D)${o}CA.pl
-testapps: \$(T_EXE)
-tools: \$(BIN_D)${o}c_rehash
-
-install: all
-	\$(MKDIR) \&quot;\$(INSTALLTOP)\&quot;
-	\$(MKDIR) \&quot;\$(INSTALLTOP)${o}bin\&quot;
-	\$(MKDIR) \&quot;\$(INSTALLTOP)${o}include\&quot;
-	\$(MKDIR) \&quot;\$(INSTALLTOP)${o}include${o}openssl\&quot;
-	\$(MKDIR) \&quot;\$(INSTALLTOP)${o}lib\&quot;
-	\$(MKDIR) \&quot;\$(INSTALLTOP)${o}lib${o}engines\&quot;
-$extra_install
-
-clean:
-	\$(RM) \$(TMP_D)$o*.*
-
-vclean:
-	\$(RM) \$(TMP_D)$o*.*
-	\$(RM) \$(OUT_D)$o*.*
-
-reallyclean:
-	\$(RM) -rf \$(TMP_D)
-	\$(RM) -rf \$(BIN_D)
-	\$(RM) -rf \$(TEST_D)
-	\$(RM) -rf \$(LIB_D)
-
-EOF
-
-$rules .= &amp;do_rehash_rule(&quot;rehash.time&quot;, &quot;apps tools&quot;);
-$rules .= &amp;do_test_rule(&quot;test&quot;, &quot;rehash.time&quot;, &quot;run_tests.pl&quot;);
-
-$rules .= &lt;&lt;&quot;EOF&quot;;
-crypto${o}buildinf.h : MINFO
-	\$(PERL) util${o}mkbuildinf.pl &quot;\$(CC) \$(CFLAG_Q)&quot; &quot;\$(PLATFORM)&quot; &gt; crypto${o}buildinf.h
-$(OBJ_D)${o}cversion${obj} : crypto${o}buildinf.h
-EOF
-
-# Strip off trailing ' '
-foreach (keys %lib_obj) { $lib_obj{$_}=&amp;clean_up_ws($lib_obj{$_}); }
-$test=&amp;clean_up_ws($test);
-$e_exe=&amp;clean_up_ws($e_exe);
-$header=&amp;clean_up_ws($header);
-
-$defs.=&amp;do_defs(&quot;HEADER&quot;,$header,&quot;\$(INCL_D)&quot;,&quot;&quot;);
-$rules.=&amp;do_copy_rule(&quot;\$(INCL_D)&quot;,$header,&quot;&quot;);
-
-$defs.=&amp;do_defs(&quot;T_OBJ&quot;,$test,&quot;\$(OBJ_D)&quot;,$obj);
-$rules.=&amp;do_compile_rule(&quot;\$(OBJ_D)&quot;,$test,&quot;\$(APP_CFLAGS)&quot;);
-
-$defs.=&amp;do_defs(&quot;E_OBJ&quot;,$e_exe,&quot;\$(OBJ_D)&quot;,$obj);
-$rules.=&amp;do_compile_rule(&quot;\$(OBJ_D)&quot;,$e_exe,'-DMONOLITH $(APP_CFLAGS)');
-
-# Special case rules for fips_start and fips_end fips_premain_dso
-
-if ($fips)
-	{
-	if ($fipscanisterbuild)
-		{
-		$rules.=&amp;cc_compile_target(&quot;\$(OBJ_D)${o}fips_start$obj&quot;,
-			&quot;fips${o}fips_canister.c&quot;,
-			&quot;-DFIPS_START \$(SHLIB_CFLAGS)&quot;);
-		$rules.=&amp;cc_compile_target(&quot;\$(OBJ_D)${o}fips_end$obj&quot;,
-			&quot;fips${o}fips_canister.c&quot;, &quot;\$(SHLIB_CFLAGS)&quot;);
-		}
-	$rules.=&amp;cc_compile_target(&quot;\$(OBJ_D)${o}fips_standalone_sha1$obj&quot;,
-		&quot;fips${o}sha${o}fips_standalone_sha1.c&quot;,
-		&quot;\$(APP_CFLAGS)&quot;);
-	$rules.=&amp;cc_compile_target(&quot;\$(OBJ_D)${o}\$(E_PREMAIN_DSO)$obj&quot;,
-		&quot;fips${o}fips_premain.c&quot;,
-		&quot;-DFINGERPRINT_PREMAIN_DSO_LOAD \$(APP_CFLAGS)&quot;);
-	}
-
-sub fix_asm
-	{
-	my($asm, $dir) = @_;
-
-	$asm = &quot; $asm&quot;;
-	$asm =~ s/\s+/ $dir\//g;
-	$asm =~ s/\.o//g;
-	$asm =~ s/^ //;
-
-	return $asm . ' ';
-	}
-
-if ($orig_platform eq 'copy') {
-	$lib_obj{CRYPTO} .= fix_asm($mf_md5_asm, 'crypto/md5');
-	$lib_obj{CRYPTO} .= fix_asm($mf_bn_asm, 'crypto/bn');
-	# cpuid is included by the crypto dir
-	#$lib_obj{CRYPTO} .= fix_asm($mf_cpuid_asm, 'crypto');
-	# AES asm files end up included by the aes dir itself
-	#$lib_obj{CRYPTO} .= fix_asm($mf_aes_asm, 'crypto/aes');
-	$lib_obj{CRYPTO} .= fix_asm($mf_sha_asm, 'crypto/sha');
-	$lib_obj{CRYPTO} .= fix_asm($mf_engines_asm, 'engines');
-	$lib_obj{CRYPTO} .= fix_asm($mf_rc4_asm, 'crypto/rc4');
-	$lib_obj{CRYPTO} .= fix_asm($mf_modes_asm, 'crypto/modes');
-	$lib_obj{CRYPTO} .= fix_asm($mf_ec_asm, 'crypto/ec');
-}
-
-foreach (values %lib_nam)
-	{
-	$lib_obj=$lib_obj{$_};
-	local($slib)=$shlib;
-
-	$defs.=&amp;do_defs(${_}.&quot;OBJ&quot;,$lib_obj,&quot;\$(OBJ_D)&quot;,$obj);
-	$lib=($slib)?&quot; \$(SHLIB_CFLAGS)&quot;.$shlib_ex_cflags{$_}:&quot; \$(LIB_CFLAGS)&quot;;
-	$rules.=&amp;do_compile_rule(&quot;\$(OBJ_D)&quot;,$lib_obj{$_},$lib);
-	}
-
-$defs.=&amp;do_defs(&quot;T_EXE&quot;,$test,&quot;\$(TEST_D)&quot;,$exep);
-foreach (split(/\s+/,$test))
-	{
-	my $t_libs;
-	$t=&amp;bname($_);
-	my $ltype;
-	# Check to see if test program is FIPS
-	if ($fips &amp;&amp; /fips/)
-		{
-		# If fips perform static link to 
-		# $(O_FIPSCANISTER)
-		$t_libs = &quot;\$(O_FIPSCANISTER)&quot;;
-		$ltype = 2;
-		}
-	else
-		{
-		$t_libs = &quot;\$(L_LIBS)&quot;;
-		$ltype = 0;
-		}
-
-	$tt=&quot;\$(OBJ_D)${o}$t${obj}&quot;;
-	$rules.=&amp;do_link_rule(&quot;\$(TEST_D)$o$t$exep&quot;,$tt,&quot;\$(LIBS_DEP)&quot;,&quot;$t_libs \$(EX_LIBS)&quot;, $ltype);
-	}
-
-$defs.=&amp;do_defs(&quot;E_SHLIB&quot;,$engines . $otherlibs,&quot;\$(ENG_D)&quot;,$shlibp);
-
-foreach (split(/\s+/,$engines))
-	{
-	my $engine = $_;
-	my @objs   = grep {/e_$engine/} @engines_obj;
-	$rules.=&amp;do_compile_rule(&quot;\$(OBJ_D)&quot;,join(&quot; &quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at objs</A>),$lib);
-	map {$_=~s/.*\/([^\/]+)$/\$(OBJ_D)${o}$1$obj/} @objs;
-	$rules.= &amp;do_lib_rule(join(&quot; &quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at objs</A>),&quot;\$(ENG_D)$o$engine$shlibp&quot;,&quot;&quot;,$shlib,&quot;&quot;);
-	}
-
-
-
-$rules.= &amp;do_lib_rule(&quot;\$(SSLOBJ)&quot;,&quot;\$(O_SSL)&quot;,$ssl,$shlib,&quot;\$(SO_SSL)&quot;);
-#$rules.= &amp;do_lib_rule(&quot;\$(CRYPTOOBJ)&quot;,&quot;\$(O_CRYPTO)&quot;,$crypto,$shlib,&quot;\$(SO_CRYPTO)&quot;);
-
-foreach (split(&quot; &quot;,$otherlibs))
-	{
-	my $uc = $_;
-	$uc =~ tr /a-z/A-Z/;	
-	$rules.= &amp;do_lib_rule(&quot;\$(${uc}OBJ)&quot;,&quot;\$(ENG_D)$o$_$shlibp&quot;, &quot;&quot;, $shlib, &quot;&quot;);
-
-	}
-
-if ($fips)
-	{
-	if ($shlib)
-		{
-		$rules.= &amp;do_lib_rule(&quot;\$(CRYPTOOBJ) \$(O_FIPSCANISTER)&quot;,
-				&quot;\$(O_CRYPTO)&quot;, &quot;$crypto&quot;,
-				$shlib, &quot;\$(SO_CRYPTO)&quot;, &quot;\$(BASEADDR)&quot;);
-		}
-	else
-		{
-		$rules.= &amp;do_lib_rule(&quot;\$(CRYPTOOBJ)&quot;,
-			&quot;\$(O_CRYPTO)&quot;,$crypto,$shlib,&quot;\$(SO_CRYPTO)&quot;, &quot;&quot;);
-		$rules.= &amp;do_lib_rule(&quot;\$(CRYPTOOBJ) \$(O_FIPSCANISTER)&quot;,
-			&quot;\$(LIB_D)$o$crypto_compat&quot;,$crypto,$shlib,&quot;\$(SO_CRYPTO)&quot;, &quot;&quot;);
-		}
-	}
-	else
-	{
-	$rules.= &amp;do_lib_rule(&quot;\$(CRYPTOOBJ)&quot;,&quot;\$(O_CRYPTO)&quot;,$crypto,$shlib,
-							&quot;\$(SO_CRYPTO)&quot;);
-	}
-
-if ($fips)
-	{
-	if ($fipscanisterbuild)
-		{
-		$rules.= &amp;do_rlink_rule(&quot;\$(O_FIPSCANISTER)&quot;,
-					&quot;\$(OBJ_D)${o}fips_start$obj&quot;,
-					&quot;\$(FIPSOBJ)&quot;,
-					&quot;\$(OBJ_D)${o}fips_end$obj&quot;,
-					&quot;\$(FIPS_SHA1_EXE)&quot;, &quot;&quot;);
-		# FIXME
-		$rules.=&amp;do_link_rule(&quot;\$(FIPS_SHA1_EXE)&quot;,
-					&quot;\$(OBJ_D)${o}fips_standalone_sha1$obj \$(OBJ_D)${o}sha1dgst$obj $sha1_asm_obj&quot;,
-					&quot;&quot;,&quot;\$(EX_LIBS)&quot;, 1);
-		}
-	else
-		{
-		$rules.=&amp;do_link_rule(&quot;\$(FIPS_SHA1_EXE)&quot;,
-					&quot;\$(OBJ_D)${o}fips_standalone_sha1$obj \$(O_FIPSCANISTER)&quot;,
-					&quot;&quot;,&quot;&quot;, 1);
-
-		}
-	$rules.=&amp;do_link_rule(&quot;\$(PREMAIN_DSO_EXE)&quot;,&quot;\$(OBJ_D)${o}\$(E_PREMAIN_DSO)$obj \$(CRYPTOOBJ) \$(O_FIPSCANISTER)&quot;,&quot;&quot;,&quot;\$(EX_LIBS)&quot;, 1);
-	
-	}
-
-$rules.=&amp;do_link_rule(&quot;\$(BIN_D)$o\$(E_EXE)$exep&quot;,&quot;\$(E_OBJ)&quot;,&quot;\$(LIBS_DEP)&quot;,&quot;\$(L_LIBS) \$(EX_LIBS)&quot;, ($fips &amp;&amp; !$shlib) ? 2 : 0);
-
-$rules.=&amp;do_dofile_rule(&quot;\$(BIN_D)&quot;,&quot;c_rehash&quot;,&quot;tools/c_rehash.in&quot;);
-$rules.=&amp;do_dofile_rule(&quot;\$(BIN_D)&quot;,&quot;CA.pl&quot;,&quot;apps/CA.pl.in&quot;);
-
-print $defs;
-
-if ($platform eq &quot;linux-elf&quot;) {
-    print &lt;&lt;&quot;EOF&quot;;
-# Generate perlasm output files
-%.cpp:
-	(cd \$(\@D)/..; PERL=perl make -f Makefile asm/\$(\@F))
-EOF
-}
-print &quot;###################################################################\n&quot;;
-print $rules;
-
-###############################################
-# strip off any trailing .[och] and append the relative directory
-# also remembering to do nothing if we are in one of the dropped
-# directories
-sub var_add
-	{
-	local($dir,$val,$keepext)=@_;
-	local(@a,$_,$ret);
-
-	return(&quot;&quot;) if $no_engine &amp;&amp; $dir =~ /\/engine/;
-	return(&quot;&quot;) if $no_hw   &amp;&amp; $dir =~ /\/hw/;
-	return(&quot;&quot;) if $no_idea &amp;&amp; $dir =~ /\/idea/;
-	return(&quot;&quot;) if $no_aes  &amp;&amp; $dir =~ /\/aes/;
-	return(&quot;&quot;) if $no_camellia  &amp;&amp; $dir =~ /\/camellia/;
-	return(&quot;&quot;) if $no_seed &amp;&amp; $dir =~ /\/seed/;
-	return(&quot;&quot;) if $no_rc2  &amp;&amp; $dir =~ /\/rc2/;
-	return(&quot;&quot;) if $no_rc4  &amp;&amp; $dir =~ /\/rc4/;
-	return(&quot;&quot;) if $no_rc5  &amp;&amp; $dir =~ /\/rc5/;
-	return(&quot;&quot;) if $no_rsa  &amp;&amp; $dir =~ /\/rsa/;
-	return(&quot;&quot;) if $no_rsa  &amp;&amp; $dir =~ /^rsaref/;
-	return(&quot;&quot;) if $no_dsa  &amp;&amp; $dir =~ /\/dsa/;
-	return(&quot;&quot;) if $no_dh   &amp;&amp; $dir =~ /\/dh/;
-	return(&quot;&quot;) if $no_ec   &amp;&amp; $dir =~ /\/ec/;
-	return(&quot;&quot;) if $no_cms  &amp;&amp; $dir =~ /\/cms/;
-	return(&quot;&quot;) if $no_comp &amp;&amp; $dir =~ /\/comp/;
-	return(&quot;&quot;) if !$fips   &amp;&amp; $dir =~ /^fips/;
-	if ($no_des &amp;&amp; $dir =~ /\/des/)
-		{
-		if ($val =~ /read_pwd/)
-			{ return(&quot;$dir/read_pwd &quot;); }
-		else
-			{ return(&quot;&quot;); }
-		}
-	return(&quot;&quot;) if $no_mdc2 &amp;&amp; $dir =~ /\/mdc2/;
-	return(&quot;&quot;) if $no_sock &amp;&amp; $dir =~ /\/proxy/;
-	return(&quot;&quot;) if $no_bf   &amp;&amp; $dir =~ /\/bf/;
-	return(&quot;&quot;) if $no_cast &amp;&amp; $dir =~ /\/cast/;
-	return(&quot;&quot;) if $no_whirlpool &amp;&amp; $dir =~ /\/whrlpool/;
-
-	$val =~ s/^\s*(.*)\s*$/$1/;
-	@a=split(/\s+/,$val);
-	grep(s/\.[och]$//<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) unless $keepext;
-
-	@a=grep(!/^e_.*_3d$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_des;
-	@a=grep(!/^e_.*_d$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_des;
-	@a=grep(!/^e_.*_ae$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_idea;
-	@a=grep(!/^e_.*_i$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_aes;
-	@a=grep(!/^e_.*_r2$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_rc2;
-	@a=grep(!/^e_.*_r5$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_rc5;
-	@a=grep(!/^e_.*_bf$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_bf;
-	@a=grep(!/^e_.*_c$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_cast;
-	@a=grep(!/^e_rc4$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_rc4;
-	@a=grep(!/^e_camellia$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_camellia;
-	@a=grep(!/^e_seed$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_seed;
-
-	#@a=grep(!/(^s3_)|(^s23_)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_ssl3;
-
-	@a=grep(!/(_sock$)|(_acpt$)|(_conn$)|(^pxy_)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_sock;
-
-	@a=grep(!/(^md2)|(_md2$)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_md2;
-	@a=grep(!/(^md4)|(_md4$)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_md4;
-	@a=grep(!/(^md5)|(_md5$)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_md5;
-	@a=grep(!/(rmd)|(ripemd)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_ripemd;
-	@a=grep(!/(^blake)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_blake2;
-
-	@a=grep(!/(^d2i_r_)|(^i2d_r_)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_rsa;
-	@a=grep(!/(^p_open$)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_rsa;
-
-	@a=grep(!/(m_dss$)|(m_dss1$)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_dsa;
-	@a=grep(!/(^d2i_s_)|(^i2d_s_)|(_dsap$)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_dsa;
-
-	@a=grep(!/^n_pkey$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_rsa || $no_rc4;
-
-	@a=grep(!/_dhp$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_dh;
-
-	@a=grep(!/_mdc2$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_mdc2;
-
-	@a=grep(!/(srp)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_srp;
-
-	@a=grep(!/^engine$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_engine;
-	@a=grep(!/^hw$/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_hw;
-	@a=grep(!/(^rsa$)|(^genrsa$)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_rsa;
-	@a=grep(!/(^dsa$)|(^gendsa$)|(^dsaparam$)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_dsa;
-	@a=grep(!/(^dh$)|(^gendh$)/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_dh;
-
-	grep($_=&quot;$dir/$_&quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>);
-	@a=grep(!/(^|\/)s_/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_sock;
-	@a=grep(!/(^|\/)bio_sock/<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>) if $no_sock;
-	$ret=join(' '<A HREF="../../../mailman/listinfo/openssl-commits.html">, at a</A>).&quot; &quot;;
-	return($ret);
-	}
-
-# change things so that each 'token' is only separated by one space
-sub clean_up_ws
-	{
-	local($w)=@_;
-
-	$w =~ s/^\s*(.*)\s*$/$1/;
-	$w =~ s/\s+/ /g;
-	return($w);
-	}
-
-sub do_defs
-	{
-	local($var,$files,$location,$postfix)=@_;
-	local($_,$ret,$pf);
-	local(*OUT,$tmp,$t);
-
-	$files =~ s/\//$o/g if $o ne '/';
-	$ret=&quot;$var=&quot;; 
-	$n=1;
-	$Vars{$var}.=&quot;&quot;;
-	foreach (split(/ /,$files))
-		{
-		$orig=$_;
-		$_=&amp;bname($_) unless /^\$/;
-		if ($n++ == 2)
-			{
-			$n=0;
-			$ret.=&quot;\\\n\t&quot;;
-			}
-		if (($_ =~ /bss_file/) &amp;&amp; ($postfix eq &quot;.h&quot;))
-			{ $pf=&quot;.c&quot;; }
-		else	{ $pf=$postfix; }
-		if ($_ =~ /BN_ASM/)	{ $t=&quot;$_ &quot;; }
-		elsif ($_ =~ /BNCO_ASM/){ $t=&quot;$_ &quot;; }
-		elsif ($_ =~ /AES_ASM/){ $t=&quot;$_ &quot;; }
-		elsif ($_ =~ /DES_ENC/)	{ $t=&quot;$_ &quot;; }
-		elsif ($_ =~ /BF_ENC/)	{ $t=&quot;$_ &quot;; }
-		elsif ($_ =~ /CAST_ENC/){ $t=&quot;$_ &quot;; }
-		elsif ($_ =~ /RC4_ENC/)	{ $t=&quot;$_ &quot;; }
-		elsif ($_ =~ /RC5_ENC/)	{ $t=&quot;$_ &quot;; }
-		elsif ($_ =~ /MD5_ASM/)	{ $t=&quot;$_ &quot;; }
-		elsif ($_ =~ /SHA1_ASM/){ $t=&quot;$_ &quot;; }
-		elsif ($_ =~ /RMD160_ASM/){ $t=&quot;$_ &quot;; }
-		elsif ($_ =~ /WHIRLPOOL_ASM/){ $t=&quot;$_ &quot;; }
-		elsif ($_ =~ /CPUID_ASM/){ $t=&quot;$_ &quot;; }
-		else	{ $t=&quot;$location${o}$_$pf &quot;; }
-
-		$Vars{$var}.=&quot;$t &quot;;
-		$ret.=$t;
-		}
-	chomp($ret);            # Does this actually do something? /RL
-	$ret.=&quot;\n\n&quot;;
-	return($ret);
-	}
-
-# return the name with the leading path removed
-sub bname
-	{
-	local($ret)=@_;
-	$ret =~ s/^.*[\\\/]([^\\\/]+)$/$1/;
-	return($ret);
-	}
-
-# return the leading path
-sub dname
-	{
-	my $ret=shift;
-	$ret =~ s/(^.*)[\\\/][^\\\/]+$/$1/;
-	return($ret);
-	}
-
-##############################################################
-# do a rule for each file that says 'compile' to new direcory
-# compile the files in '$files' into $to
-sub do_compile_rule
-	{
-	local($to,$files,$ex)=@_;
-	local($ret,$_,$n,$d,$s);
-
-	$files =~ s/\//$o/g if $o ne '/';
-	foreach (split(/\s+/,$files))
-		{
-		$n=&amp;bname($_);
-		$d=&amp;dname($_);
-		if (-f &quot;${_}.c&quot;)
-			{
-			$ret.=&amp;cc_compile_target(&quot;$to${o}$n$obj&quot;,&quot;${_}.c&quot;,$ex)
-			}
-		elsif (-f ($s=&quot;${d}${o}asm${o}${n}.pl&quot;) or
-		       ($s=~s/sha256/sha512/ and -f $s) or
-		       -f ($s=&quot;${d}${o}${n}.pl&quot;))
-			{
-			$ret.=&amp;perlasm_compile_target(&quot;$to${o}$n$obj&quot;,$s,$n);
-			}
-		elsif (-f ($s=&quot;${d}${o}asm${o}${n}.S&quot;) or
-		       -f ($s=&quot;${d}${o}${n}.S&quot;))
-			{
-			$ret.=&amp;Sasm_compile_target(&quot;$to${o}$n$obj&quot;,$s,$n);
-			}
-		elsif (defined &amp;special_compile_target and
-		       ($s=special_compile_target($_)))
-			{
-			$ret.=$s;
-			}
-		else	{ die &quot;no rule for $_&quot;; }
-		}
-	return($ret);
-	}
-
-##############################################################
-# do a rule for each file that says 'compile' to new direcory
-sub perlasm_compile_target
-	{
-	my($target,$source,$bname)=@_;
-
-	return platform_perlasm_compile_target($target, $source, $bname)
-	    if defined &amp;platform_perlasm_compile_target;
-
-	my($ret);
-	$bname =~ s/(.*)\.[^\.]$/$1/;
-	$ret =&quot;\$(TMP_D)$o$bname$asm_suffix: $source\n&quot;;
-	$ret.=&quot;\t\$(PERL) $source $asmtype \$(CFLAG) \$\@\n&quot;;
-	if ($fipscanisteronly)
-		{
-		$ret .= &quot;\t\$(PERL) util$o.pl . \$@ norunasm \$(CFLAG)\n&quot;;
-		}
-	$ret .= &quot;\n&quot;;
-	$ret.=&quot;$target: \$(TMP_D)$o$bname$asm_suffix\n&quot;;
-	$ret.=&quot;\t\$(ASM) $afile\$\@ \$(TMP_D)$o$bname$asm_suffix\n\n&quot;;
-	return($ret);
-	}
-
-sub Sasm_compile_target
-	{
-	my($target,$source,$bname)=@_;
-	my($ret);
-
-	$bname =~ s/(.*)\.[^\.]$/$1/;
-	$ret =&quot;\$(TMP_D)$o$bname.asm: $source\n&quot;;
-	$ret.=&quot;\t\$(CC) -E \$(CFLAG) $source &gt;\$\@\n&quot;;
-	$ret.=&quot;\t\$(PERL) util\\fipsas.pl . \$@ norunasm \$(CFLAG)\n&quot; if $fipscanisteronly;
-	$ret.=&quot;\n&quot;;
-	$ret.=&quot;$target: \$(TMP_D)$o$bname.asm\n&quot;;
-	$ret.=&quot;\t\$(ASM) $afile\$\@ \$(TMP_D)$o$bname.asm\n\n&quot;;
-	return($ret);
-	}
-
-sub cc_compile_target
-	{
-	local($target,$source,$ex_flags)=@_;
-	local($ret);
-	
-	$target =~ s/\//$o/g if $o ne &quot;/&quot;;
-	$source =~ s/\//$o/g if $o ne &quot;/&quot;;
-	$ret =&quot;$target: \$(SRC_D)$o$source\n\t&quot;;
-	$ret.=&quot;\$(CC)&quot;;
-	$ret.= &quot; -MMD&quot; if $orig_platform eq &quot;copy&quot;;
-	$ret.= &quot; ${ofile}$target $ex_flags -c \$(SRC_D)$o$source\n\n&quot;;
-	$target =~ s/\.o$/.d/;
-	$ret.=&quot;.sinclude \&quot;$target\&quot;\n\n&quot; if $orig_platform eq &quot;copy&quot;;
-	return($ret);
-	}
-
-##############################################################
-sub do_asm_rule
-	{
-	local($target,$src)=@_;
-	local($<A HREF="../../../mailman/listinfo/openssl-commits.html">ret, at s</A><A HREF="../../../mailman/listinfo/openssl-commits.html">, at t</A>,$i);
-
-	$target =~ s/\//$o/g if $o ne &quot;/&quot;;
-	$src =~ s/\//$o/g if $o ne &quot;/&quot;;
-
-	@t=split(/\s+/,$target);
-	@s=split(/\s+/,$src);
-
-
-	for ($i=0; $i&lt;=$#s; $i++)
-		{
-		my $objfile = $t[$i];
-		my $srcfile = $s[$i];
-
-		if ($perl_asm == 1)
-			{
-			my $plasm = $objfile;
-			$plasm =~ s/${obj}/.pl/;
-			$ret.=&quot;$srcfile: $plasm\n&quot;;
-			$ret.=&quot;\t\$(PERL) $plasm $asmtype \$(CFLAG) $srcfile\n\n&quot;;
-			}
-
-		$ret.=&quot;$objfile: $srcfile\n&quot;;
-		$ret.=&quot;\t\$(ASM) $afile$objfile \$(SRC_D)$o$srcfile\n\n&quot;;
-		}
-	return($ret);
-	}
-
-sub do_shlib_rule
-	{
-	local($n,$def)=@_;
-	local($ret,$nn);
-	local($t);
-
-	($nn=$n) =~ tr/a-z/A-Z/;
-	$ret.=&quot;$n.dll: \$(${nn}OBJ)\n&quot;;
-	if ($vc &amp;&amp; $w32)
-		{
-		$ret.=&quot;\t\$(MKSHLIB) $efile$n.dll $def @&lt;&lt;\n  \$(${nn}OBJ_F)\n&lt;&lt;\n&quot;;
-		}
-	$ret.=&quot;\n&quot;;
-	return($ret);
-	}
-
-# do a rule for each file that says 'copy' to new direcory on change
-sub do_copy_rule
-	{
-	local($to,$files,$p)=@_;
-	local($ret,$_,$n,$pp);
-	
-
-	$files =~ s/\//$o/g if $o ne '/';
-	foreach (split(/\s+/,$files))
-		{
-		$n=&amp;bname($_);
-		if ($n =~ /bss_file/)
-			{ $pp=&quot;.c&quot;; }
-		else	{ $pp=$p; }
-		$ret.=&quot;$to${o}$n$pp: \$(SRC_D)$o$_$pp\n\t\$(PERL) \$(SRC_D)${o}util${o}copy-if-different.pl \&quot;\$(SRC_D)$o$_$pp\&quot; \&quot;$to${o}$n$pp\&quot;\n\n&quot;;
-		}
-	return($ret);
-	}
-
-sub do_dofile_rule
-	{
-	(my $to, my $file, my $tmpl) = @_;
-
-	$file =~ s|/|$o|g if $o ne '/';
-	return &lt;&lt;&quot;EOF&quot;;
-$to${o}$file: $tmpl
-	\$(PERL) &quot;-I.&quot; &quot;-Mconfigdata&quot; util/dofile.pl &quot;$tmpl&quot; &gt; &quot;$to${o}$file.new&quot;
-	\$(MV) &quot;$to${o}$file.new&quot; &quot;$to${o}$file&quot;
-EOF
-	}
-
-# Options picked up from the OPTIONS line in the top level Makefile
-# generated by Configure.
-
-sub read_options
-	{
-	# Many options are handled in a similar way. In particular
-	# no-xxx sets zero or more scalars to 1.
-	# Process these using the %valid_options hash containing the option
-	# name and reference to the scalars to set. In some cases the option
-	# needs no special handling and can be ignored: this is done by
-	# setting the value to 0.
-
-	my %valid_options = (
-		&quot;no-rc2&quot; =&gt; \$no_rc2,
-		&quot;no-rc4&quot; =&gt; \$no_rc4,
-		&quot;no-rc5&quot; =&gt; \$no_rc5,
-		&quot;no-idea&quot; =&gt; \$no_idea,
-		&quot;no-aes&quot; =&gt; \$no_aes,
-		&quot;no-camellia&quot; =&gt; \$no_camellia,
-		&quot;no-seed&quot; =&gt; \$no_seed,
-		&quot;no-des&quot; =&gt; \$no_des,
-		&quot;no-bf&quot; =&gt; \$no_bf,
-		&quot;no-cast&quot; =&gt; \$no_cast,
-		&quot;no-md2&quot; =&gt; \$no_md2,
-		&quot;no-md4&quot; =&gt; \$no_md4,
-		&quot;no-md5&quot; =&gt; \$no_md5,
-		&quot;no-rmd160&quot; =&gt; \$no_ripemd,
-		&quot;no-blake2&quot; =&gt; \$no_blake2,		
-		&quot;no-mdc2&quot; =&gt; \$no_mdc2,
-		&quot;no-whirlpool&quot; =&gt; \$no_whirlpool,
-		&quot;no-patents&quot; =&gt; 
-			[\$no_rc2, \$no_rc4, \$no_rc5, \$no_idea, \$no_rsa],
-		&quot;no-rsa&quot; =&gt; \$no_rsa,
-		&quot;no-dsa&quot; =&gt; \$no_dsa,
-		&quot;no-dh&quot; =&gt; \$no_dh,
-		&quot;no-asm&quot; =&gt; \$no_asm,
-		&quot;nasm&quot; =&gt; \$nasm,
-		&quot;gaswin&quot; =&gt; \$gaswin,
-		&quot;no-ssl3&quot; =&gt; \$no_ssl3,
-		&quot;no-ssl3-method&quot; =&gt; 0,
-		&quot;no-weak-ssl-ciphers&quot; =&gt; 0,
-		&quot;no-srp&quot; =&gt; \$no_srp,
-		&quot;no-cms&quot; =&gt; \$no_cms,
-		&quot;no-ec2m&quot; =&gt; \$no_ec2m,
-		&quot;no-ec_nistp_64_gcc_128&quot; =&gt; 0,
-		&quot;no-err&quot; =&gt; \$no_err,
-		&quot;no-sock&quot; =&gt; \$no_sock,
-		&quot;no-ec&quot; =&gt; \$no_ec,
-		&quot;no-gost&quot; =&gt; \$no_gost,
-		&quot;no-engine&quot; =&gt; \$no_engine,
-		&quot;no-egd&quot; =&gt; 0,
-		&quot;no-heartbeats&quot; =&gt; 0,
-		&quot;no-hw&quot; =&gt; \$no_hw,
-		&quot;no-async&quot; =&gt; \$no_async,
-		&quot;no-autoalginit&quot; =&gt; \$no_autoalginit,
-		&quot;no-autoerrinit&quot; =&gt; \$no_autoerrinit,
-		&quot;just-ssl&quot; =&gt;
-			[\$no_rc2, \$no_idea, \$no_des, \$no_bf, \$no_cast,
-			  \$no_md2, \$no_mdc2, \$no_dsa, \$no_dh,
-			  \$no_err, \$no_ripemd, \$no_rc5,
-			  \$no_aes, \$no_camellia, \$no_seed, \$no_srp],
-		&quot;rsaref&quot; =&gt; 0,
-		&quot;gcc&quot; =&gt; \$gcc,
-		&quot;debug&quot; =&gt; \$debug,
-		&quot;--debug&quot; =&gt; \$debug,
-		&quot;--classic&quot; =&gt; 0,
-		&quot;profile&quot; =&gt; \$profile,
-		&quot;shlib&quot; =&gt; \$shlib,
-		&quot;dll&quot; =&gt; \$shlib,
-		&quot;shared&quot; =&gt; 0,
-		&quot;no-sctp&quot; =&gt; 0,
-		&quot;no-srtp&quot; =&gt; 0,
-		&quot;no-gmp&quot; =&gt; 0,
-		&quot;no-rfc3779&quot; =&gt; 0,
-		&quot;no-montasm&quot; =&gt; 0,
-		&quot;no-shared&quot; =&gt; 0,
-		&quot;no-store&quot; =&gt; 0,
-		&quot;no-zlib&quot; =&gt; 0,
-		&quot;no-zlib-dynamic&quot; =&gt; 0,
-		&quot;no-ssl-trace&quot; =&gt; 0,
-		&quot;no-unit-test&quot; =&gt; 0,
-		&quot;no-comp&quot; =&gt; \$no_comp,
-		&quot;no-deprecated&quot; =&gt; 0,
-		&quot;no-ocb&quot; =&gt; 0,
-		&quot;no-crypto-mdebug&quot; =&gt; 0,
-		&quot;no-crypto-mdebug-backtrace&quot; =&gt; 0,
-		&quot;fips&quot; =&gt; \$fips,
-		&quot;fipscanisterbuild&quot; =&gt; [\$fips, \$fipscanisterbuild],
-		&quot;fipscanisteronly&quot; =&gt; [\$fips, \$fipscanisterbuild, \$fipscanisteronly],
-		&quot;fipscheck&quot; =&gt; [\$fips, \$fipscanisterbuild, \$fipscanisteronly],
-		);
-
-	if (exists $valid_options{$_})
-		{
-		my $r = $valid_options{$_};
-		if ( ref $r eq &quot;SCALAR&quot;)
-			{ $$r = 1;}
-		elsif ( ref $r eq &quot;ARRAY&quot;)
-			{
-			my $r2;
-			foreach $r2 (@$r)
-				{
-				$$r2 = 1;
-				}
-			}
-		}
-	elsif (/^enable-zlib$/) { $zlib_opt = 1 if $zlib_opt == 0 }
-	elsif (/^enable-zlib-dynamic$/)
-		{
-		$zlib_opt = 2;
-		}
-	elsif (/^no-static-engine/ or /^enable-dynamic-engine/)
-		{
-		$no_static_engine = 1;
-		}
-	elsif (/^no-dynamic-engine/ or /^enable-static-engine/)
-		{
-		$no_static_engine = 0;
-		}
-	# There are also enable-xxx options which correspond to
-	# the no-xxx. Since the scalars are enabled by default
-	# these can be ignored.
-	elsif (/^enable-/)
-		{
-		my $t = $_;
-		$t =~ s/^enable/no/;
-		if (exists $valid_options{$t})
-			{return 1;}
-		return 0;
-		}
-	elsif (/^([^=]*)=(.*)$/){ $VARS{$1}=$2; }
-	elsif (/^-[lL].*$/)	{ $l_flags.=&quot;$_ &quot;; }
-	elsif ((!/^-help/) &amp;&amp; (!/^-h/) &amp;&amp; (!/^-\?/) &amp;&amp; /^-.*$/)
-		{ $c_flags.=&quot;$_ &quot;; }
-	else { return(0); }
-	return(1);
-	}
-
-sub fipslib_error
-	{
-	print STDERR &quot;***FIPS module directory sanity check failed***\n&quot;;
-	print STDERR &quot;FIPS module build failed, or was deleted\n&quot;;
-	print STDERR &quot;Please rebuild FIPS module.\n&quot;; 
-	exit 1;
-	}
-
-sub fips_check_files
-	{
-	my $dir = shift @_;
-	my $ret = 1;
-	if (!-d $dir)
-		{
-		print STDERR &quot;FIPS module directory $dir does not exist\n&quot;;
-		fipslib_error();
-		}
-	foreach (@_)
-		{
-		if (!-f &quot;$dir${o}$_&quot;)
-			{
-			print STDERR &quot;FIPS module file $_ does not exist!\n&quot;;
-			$ret = 0;
-			}
-		}
-	fipslib_error() if ($ret == 0);
-	}
diff --git a/util/mkfiles.pl b/util/mkfiles.pl
deleted file mode 100755
index 0e4f71e..0000000
--- a/util/mkfiles.pl
+++ /dev/null
@@ -1,150 +0,0 @@
-#!/usr/local/bin/perl
-#
-# This is a hacked version of files.pl for systems that can't do a 'make files'.
-# Do a perl util/mkminfo.pl &gt;MINFO to build MINFO
-# Written by Steve Henson 1999.
-
-# List of directories to process
-
-my @dirs = (
-&quot;.&quot;,
-&quot;crypto&quot;,
-&quot;crypto/md2&quot;,
-&quot;crypto/md4&quot;,
-&quot;crypto/md5&quot;,
-&quot;crypto/sha&quot;,
-&quot;crypto/mdc2&quot;,
-&quot;crypto/hmac&quot;,
-&quot;crypto/ripemd&quot;,
-&quot;crypto/des&quot;,
-&quot;crypto/rc2&quot;,
-&quot;crypto/rc4&quot;,
-&quot;crypto/rc5&quot;,
-&quot;crypto/idea&quot;,
-&quot;crypto/bf&quot;,
-&quot;crypto/cast&quot;,
-&quot;crypto/aes&quot;,
-&quot;crypto/camellia&quot;,
-&quot;crypto/seed&quot;,
-&quot;crypto/modes&quot;,
-&quot;crypto/cmac&quot;,
-&quot;crypto/bn&quot;,
-&quot;crypto/rsa&quot;,
-&quot;crypto/dsa&quot;,
-&quot;crypto/dso&quot;,
-&quot;crypto/dh&quot;,
-&quot;crypto/ec&quot;,
-&quot;crypto/buffer&quot;,
-&quot;crypto/bio&quot;,
-&quot;crypto/stack&quot;,
-&quot;crypto/lhash&quot;,
-&quot;crypto/rand&quot;,
-&quot;crypto/err&quot;,
-&quot;crypto/objects&quot;,
-&quot;crypto/evp&quot;,
-&quot;crypto/asn1&quot;,
-&quot;crypto/pem&quot;,
-&quot;crypto/x509&quot;,
-&quot;crypto/x509v3&quot;,
-&quot;crypto/cms&quot;,
-&quot;crypto/conf&quot;,
-&quot;crypto/txt_db&quot;,
-&quot;crypto/pkcs7&quot;,
-&quot;crypto/pkcs12&quot;,
-&quot;crypto/comp&quot;,
-&quot;crypto/engine&quot;,
-&quot;crypto/ocsp&quot;,
-&quot;crypto/ui&quot;,
-#&quot;crypto/store&quot;,
-&quot;crypto/whrlpool&quot;,
-&quot;crypto/ts&quot;,
-&quot;crypto/srp&quot;,
-&quot;crypto/ct&quot;,
-&quot;crypto/async&quot;,
-&quot;crypto/chacha&quot;,
-&quot;crypto/poly1305&quot;,
-&quot;crypto/blake2&quot;,
-&quot;crypto/kdf&quot;,
-&quot;ssl&quot;,
-&quot;apps&quot;,
-&quot;engines&quot;,
-&quot;test&quot;,
-&quot;tools&quot;
-);
-
-%top;
-
-my $fipscanisteronly = 0;
-
-foreach (@dirs) {
-	next if ($fipscanisteronly &amp;&amp; !(-d $_));
-	&amp;files_dir ($_, &quot;Makefile&quot;);
-}
-
-exit(0);
-
-sub files_dir
-{
-my ($dir, $makefile) = @_;
-
-my %sym;
-
-open (IN, &quot;$dir/$makefile&quot;) || die &quot;Can't open $dir/$makefile&quot;;
-
-my $s=&quot;&quot;;
-
-while (&lt;IN&gt;)
-	{
-	s|\R$||;
-	s/#.*//;
-	if (/^([^\s=]+)\s*=\s*(.*)$/)
-		{
-		$o=&quot;&quot;;
-		($s,$b)=($1,$2);
-		for (;;)
-			{
-			if ($b =~ /\\$/)
-				{
-				$b=$`;
-				$o.=$b.&quot; &quot;;
-				$b = &quot;&quot; unless defined($b = &lt;IN&gt;);
-				$b =~ s{\R$}{};
-				}
-			else
-				{
-				$o.=$b.&quot; &quot;;
-				last;
-				}
-			}
-		$o =~ s/^\s+//;
-		$o =~ s/\s+$//;
-		$o =~ s/\s+/ /g;
-
-		$o =~ s/\$[({]([^)}]+)[)}]/$top{$1} or $sym{$1}/ge;
-		$sym{$s}=($top{$s} or $o);
-		}
-	}
-
-print &quot;RELATIVE_DIRECTORY=$dir\n&quot;;
-
-foreach (sort keys %sym)
-	{
-	print &quot;$_=$sym{$_}\n&quot;;
-	}
-if ($dir eq &quot;.&quot; &amp;&amp; defined($sym{&quot;BUILDENV&quot;}))
-	{
-	foreach (split(' ',$sym{&quot;BUILDENV&quot;}))
-		{
-		/^(.+)=/;
-		$top{$1}=$sym{$1};
-		}
-	}
-
-print &quot;RELATIVE_DIRECTORY=\n&quot;;
-
-close (IN);
-if ($dir eq &quot;.&quot; &amp;&amp; $sym{FIPSCANISTERONLY} eq &quot;y&quot;)
-	{
-	$fipscanisteronly = 1;
-	}
-}
diff --git a/util/pl/Mingw32.pl b/util/pl/Mingw32.pl
deleted file mode 100644
index 55c85f6..0000000
--- a/util/pl/Mingw32.pl
+++ /dev/null
@@ -1,104 +0,0 @@
-#!/usr/local/bin/perl
-#
-# Mingw32.pl -- Mingw
-#
-
-$o='/';
-$cp='cp';
-$rm='rm -f';
-$mkdir='gmkdir';
-
-$o='\\';
-$cp='copy';
-$rm='del';
-$mkdir='mkdir';
-
-# C compiler stuff
-
-$cc='gcc';
-if ($debug)
-	{ $cflags=&quot;-DL_ENDIAN -DDSO_WIN32 -g2 -ggdb&quot;; }
-else
-	{ $cflags=&quot;-DL_ENDIAN -DDSO_WIN32 -fomit-frame-pointer -O3 -mcpu=i486 -Wall&quot;; }
-
-if ($gaswin and !$no_asm)
-	{
-        $bn_asm_obj='$(OBJ_D)\bn-win32.o';
-        $bn_asm_src='crypto/bn/asm/bn-win32.s';
-        $bnco_asm_obj='$(OBJ_D)\co-win32.o';
-        $bnco_asm_src='crypto/bn/asm/co-win32.s';
-        $des_enc_obj='$(OBJ_D)\d-win32.o $(OBJ_D)\y-win32.o';
-        $des_enc_src='crypto/des/asm/d-win32.s crypto/des/asm/y-win32.s';
-        $bf_enc_obj='$(OBJ_D)\b-win32.o';
-        $bf_enc_src='crypto/bf/asm/b-win32.s';
-#       $cast_enc_obj='$(OBJ_D)\c-win32.o';
-#       $cast_enc_src='crypto/cast/asm/c-win32.s';
-        $rc4_enc_obj='$(OBJ_D)\r4-win32.o';
-        $rc4_enc_src='crypto/rc4/asm/r4-win32.s';
-        $rc5_enc_obj='$(OBJ_D)\r5-win32.o';
-        $rc5_enc_src='crypto/rc5/asm/r5-win32.s';
-        $md5_asm_obj='$(OBJ_D)\m5-win32.o';
-        $md5_asm_src='crypto/md5/asm/m5-win32.s';
-        $rmd160_asm_obj='$(OBJ_D)\rm-win32.o';
-        $rmd160_asm_src='crypto/ripemd/asm/rm-win32.s';
-        $sha1_asm_obj='$(OBJ_D)\s1-win32.o';
-        $sha1_asm_src='crypto/sha/asm/s1-win32.s';
-	$cflags.=&quot; -DBN_ASM -DMD5_ASM -DSHA1_ASM -DOPENSSL_BN_ASM_PART_WORDS&quot;;
-	}
-
-
-$obj='.o';
-$ofile='-o ';
-
-# EXE linking stuff
-$link='${CC}';
-$lflags='${CFLAGS}';
-$efile='-o ';
-$exep='';
-$ex_libs=&quot;-lws2_32 -lgdi32&quot;;
-
-# static library stuff
-$mklib='ar r';
-$mlflags='';
-$ranlib='ranlib';
-$plib='lib';
-$libp=&quot;.a&quot;;
-$shlibp=&quot;.a&quot;;
-$lfile='';
-
-$asm='as';
-$afile='-o ';
-#$bn_asm_obj=&quot;&quot;;
-#$bn_asm_src=&quot;&quot;;
-#$des_enc_obj=&quot;&quot;;
-#$des_enc_src=&quot;&quot;;
-#$bf_enc_obj=&quot;&quot;;
-#$bf_enc_src=&quot;&quot;;
-
-sub do_lib_rule
-	{
-	local($obj,$target,$name,$shlib)=@_;
-	local($ret,$_,$Name);
-
-	$target =~ s/\//$o/g if $o ne '/';
-	$target=&quot;$target&quot;;
-	($Name=$name) =~ tr/a-z/A-Z/;
-
-	$ret.=&quot;$target: \$(${Name}OBJ)\n&quot;;
-	$ret.=&quot;\tif exist $target \$(RM) $target\n&quot;;
-	$ret.=&quot;\t\$(MKLIB) $target \$(${Name}OBJ)\n&quot;;
-	$ret.=&quot;\t\$(RANLIB) $target\n\n&quot;;
-	}
-
-sub do_link_rule
-	{
-	local($target,$files,$dep_libs,$libs)=@_;
-	local($ret,$_);
-	
-	$file =~ s/\//$o/g if $o ne '/';
-	$n=&amp;bname($target);
-	$ret.=&quot;$target: $files $dep_libs\n&quot;;
-	$ret.=&quot;\t\$(LINK_CMD) ${efile}$target \$(LFLAGS) $files $libs\n\n&quot;;
-	return($ret);
-	}
-1;
diff --git a/util/pl/linux.pl b/util/pl/linux.pl
deleted file mode 100644
index cb5dd59..0000000
--- a/util/pl/linux.pl
+++ /dev/null
@@ -1,104 +0,0 @@
-#!/usr/local/bin/perl
-#
-# linux.pl - the standard unix makefile stuff.
-#
-
-$o='/';
-$cp='/bin/cp';
-$rm='/bin/rm -f';
-
-# C compiler stuff
-
-$cc='gcc';
-if ($debug)
-	{ $cflags=&quot;-g2 -ggdb -DREF_DEBUG&quot;; }
-elsif ($profile)
-	{ $cflags=&quot;-pg -O3&quot;; }
-else
-	{ $cflags=&quot;-O3 -fomit-frame-pointer&quot;; }
-
-if (!$no_asm)
-	{
-	$bn_asm_obj='$(OBJ_D)/bn86-elf.o';
-	$bn_asm_src='crypto/bn/asm/bn86unix.cpp';
-	$bnco_asm_obj='$(OBJ_D)/co86-elf.o';
-	$bnco_asm_src='crypto/bn/asm/co86unix.cpp';
-	$des_enc_obj='$(OBJ_D)/dx86-elf.o $(OBJ_D)/yx86-elf.o';
-	$des_enc_src='crypto/des/asm/dx86unix.cpp crypto/des/asm/yx86unix.cpp';
-	$bf_enc_obj='$(OBJ_D)/bx86-elf.o';
-	$bf_enc_src='crypto/bf/asm/bx86unix.cpp';
-	$cast_enc_obj='$(OBJ_D)/cx86-elf.o';
-	$cast_enc_src='crypto/cast/asm/cx86unix.cpp';
-	$rc4_enc_obj='$(OBJ_D)/rx86-elf.o';
-	$rc4_enc_src='crypto/rc4/asm/rx86unix.cpp';
-	$rc5_enc_obj='$(OBJ_D)/r586-elf.o';
-	$rc5_enc_src='crypto/rc5/asm/r586unix.cpp';
-	$md5_asm_obj='$(OBJ_D)/mx86-elf.o';
-	$md5_asm_src='crypto/md5/asm/mx86unix.cpp';
-	$rmd160_asm_obj='$(OBJ_D)/rm86-elf.o';
-	$rmd160_asm_src='crypto/ripemd/asm/rm86unix.cpp';
-	$sha1_asm_obj='$(OBJ_D)/sx86-elf.o';
-	$sha1_asm_src='crypto/sha/asm/sx86unix.cpp';
-	$cflags.=&quot; -DBN_ASM -DMD5_ASM -DSHA1_ASM -DOPENSSL_BN_ASM_PART_WORDS&quot;;
-	}
-
-$cflags.=&quot; -DTERMIO -DL_ENDIAN -m486 -Wall&quot;;
-
-if ($shlib)
-	{
-	$shl_cflag=&quot; -DPIC -fpic&quot;;
-	$shlibp=&quot;.so.$ssl_version&quot;;
-	$so_shlibp=&quot;.so&quot;;
-	}
-
-sub do_shlib_rule
-	{
-	local($obj,$target,$name,$shlib,$so_name)=@_;
-	local($ret,$_,$Name);
-
-	$target =~ s/\//$o/g if $o ne '/';
-	($Name=$name) =~ tr/a-z/A-Z/;
-
-	$ret.=&quot;$target: \$(${Name}OBJ)\n&quot;;
-	$ret.=&quot;\t\$(RM) target\n&quot;;
-	$ret.=&quot;\tgcc \${CFLAGS} -shared -Wl,-soname,$target -o $target \$(${Name}OBJ)\n&quot;;
-	($t=$target) =~ s/(^.*)\/[^\/]*$/$1/;
-	if ($so_name ne &quot;&quot;)
-		{
-		$ret.=&quot;\t\$(RM) \$(LIB_D)$o$so_name\n&quot;;
-		$ret.=&quot;\tln -s $target \$(LIB_D)$o$so_name\n\n&quot;;
-		}
-	}
-
-sub do_link_rule
-	{
-	local($target,$files,$dep_libs,$libs)=@_;
-	local($ret,$_);
-	
-	$file =~ s/\//$o/g if $o ne '/';
-	$n=&amp;bname($target);
-	$ret.=&quot;$target: $files $dep_libs\n&quot;;
-	$ret.=&quot;\t\$(LINK_CMD) ${efile}$target \$(LFLAGS) $files $libs\n\n&quot;;
-	return($ret);
-	}
-
-sub do_asm_rule
-	{
-	local($target,$src)=@_;
-	local($<A HREF="../../../mailman/listinfo/openssl-commits.html">ret, at s</A><A HREF="../../../mailman/listinfo/openssl-commits.html">, at t</A>,$i);
-
-	$target =~ s/\//$o/g if $o ne &quot;/&quot;;
-	$src =~ s/\//$o/g if $o ne &quot;/&quot;;
-
-	@s=split(/\s+/,$src);
-	@t=split(/\s+/,$target);
-
-	for ($i=0; $i&lt;=$#s; $i++)
-		{
-		$ret.=&quot;$t[$i]: $s[$i]\n&quot;;
-		$ret.=&quot;\tgcc -E -DELF \$(SRC_D)$o$s[$i]|\$(AS) $afile$t[$i]\n\n&quot;;
-		}
-	return($ret);
-	}
-
-1;
diff --git a/util/pl/unix.pl b/util/pl/unix.pl
deleted file mode 100644
index 8d9f25a..0000000
--- a/util/pl/unix.pl
+++ /dev/null
@@ -1,210 +0,0 @@
-#!/usr/local/bin/perl
-#
-# unix.pl - the standard unix makefile stuff.
-#
-
-$o='/';
-$cp='/bin/cp';
-$rm='/bin/rm -f';
-
-# C compiler stuff
-
-if ($gcc)
-	{
-	$cc='gcc';
-	if ($debug)
-		{ $cflags=&quot;-g2 -ggdb&quot;; }
-	else
-		{ $cflags=&quot;-O3 -fomit-frame-pointer&quot;; }
-	}
-else
-	{
-	$cc='cc';
-	if ($debug)
-		{ $cflags=&quot;-g&quot;; }
-	else
-		{ $cflags=&quot;-O&quot;; }
-	}
-$obj='.o';
-$asm_suffix='.s';
-$ofile='-o ';
-
-# EXE linking stuff
-$link='${CC}';
-$lflags='${CFLAG}';
-$efile='-o ';
-$exep='';
-$ex_libs=&quot;&quot;;
-
-# static library stuff
-$mklib='ar r';
-$mlflags='';
-$ranlib=&amp;which(&quot;ranlib&quot;) or $ranlib=&quot;true&quot;;
-$plib='lib';
-$libp=&quot;.a&quot;;
-$shlibp=&quot;.a&quot;;
-$lfile='';
-
-$asm='as';
-$afile='-o ';
-$bn_asm_obj=&quot;&quot;;
-$bn_asm_src=&quot;&quot;;
-$des_enc_obj=&quot;&quot;;
-$des_enc_src=&quot;&quot;;
-$bf_enc_obj=&quot;&quot;;
-$bf_enc_src=&quot;&quot;;
-
-%perl1 = (
-	  'md5-x86_64' =&gt; 'crypto/md5',
-	  'x86_64-mont' =&gt; 'crypto/bn',
-	  'x86_64-mont5' =&gt; 'crypto/bn',
-	  'x86_64-gf2m' =&gt; 'crypto/bn',
-	  'aes-x86_64' =&gt; 'crypto/aes',
-	  'vpaes-x86_64' =&gt; 'crypto/aes',
-	  'bsaes-x86_64' =&gt; 'crypto/aes',
-	  'aesni-x86_64' =&gt; 'crypto/aes',
-	  'aesni-sha1-x86_64' =&gt; 'crypto/aes',
-	  'sha1-x86_64' =&gt; 'crypto/sha',
-	  'e_padlock-x86_64' =&gt; 'engines',
-	  'rc4-x86_64' =&gt; 'crypto/rc4',
-	  'rc4-md5-x86_64' =&gt; 'crypto/rc4',
-	  'ghash-x86_64' =&gt; 'crypto/modes',
-	  'aesni-gcm-x86_64' =&gt; 'crypto/modes',
-	  'aesni-sha256-x86_64' =&gt; 'crypto/aes',
-          'rsaz-x86_64' =&gt; 'crypto/bn',
-          'rsaz-avx2' =&gt; 'crypto/bn',
-	  'aesni-mb-x86_64' =&gt; 'crypto/aes',
-	  'sha1-mb-x86_64' =&gt; 'crypto/sha',
-	  'sha256-mb-x86_64' =&gt; 'crypto/sha',
-	  'ecp_nistz256-x86_64' =&gt; 'crypto/ec',
-	  'wp-x86_64' =&gt; 'crypto/whrlpool',
-	  'cmll-x86_64' =&gt; 'crypto/camellia',
-         );
-
-# If I were feeling more clever, these could probably be extracted
-# from makefiles.
-sub platform_perlasm_compile_target
-	{
-	local($target, $source, $bname) = @_;
-
-	for $p (keys %perl1)
-	        {
-# FIXME: export CC so rsaz-avx2 can test for it, since BSD make does
-# not export variables, unlike GNU make. But this also requires fixing
-# the .s.o rule to use CC!
-		if ($target eq &quot;\$(OBJ_D)/$p.o&quot;)
-		        {
-			return &lt;&lt; &quot;EOF&quot;;
-\$(TMP_D)/$p.s: $perl1{$p}/asm/$p.pl
-	\$(PERL) $perl1{$p}/asm/$p.pl \$(PERLASM_SCHEME) \$@
-EOF
-		        }
-	        }
-	if ($target eq '$(OBJ_D)/x86_64cpuid.o')
-		{
-		return &lt;&lt; 'EOF';
-$(TMP_D)/x86_64cpuid.s: crypto/x86_64cpuid.pl
-	$(PERL) crypto/x86_64cpuid.pl $(PERLASM_SCHEME) $@
-EOF
-		}
-	elsif ($target eq '$(OBJ_D)/sha256-x86_64.o')
-		{
-		return &lt;&lt; 'EOF';
-$(TMP_D)/sha256-x86_64.s: crypto/sha/asm/sha512-x86_64.pl
-	$(PERL) crypto/sha/asm/sha512-x86_64.pl $(PERLASM_SCHEME) $@
-EOF
-	        }
-	elsif ($target eq '$(OBJ_D)/sha512-x86_64.o')
-		{
-		return &lt;&lt; 'EOF';
-$(TMP_D)/sha512-x86_64.s: crypto/sha/asm/sha512-x86_64.pl
-	$(PERL) crypto/sha/asm/sha512-x86_64.pl $(PERLASM_SCHEME) $@
-EOF
-	        }
-	elsif ($target eq '$(OBJ_D)/sha512-x86_64.o')
-		{
-		return &lt;&lt; 'EOF';
-$(TMP_D)/sha512-x86_64.s: crypto/sha/asm/sha512-x86_64.pl
-	$(PERL) crypto/sha/asm/sha512-x86_64.pl $(PERLASM_SCHEME) $@
-EOF
-	        }
-
-	die $target;
-	}
-
-sub special_compile_target
-	{
-	local($target) = @_;
-
-	if ($target eq 'crypto/bn/x86_64-gcc')
-		{
-		return &lt;&lt; &quot;EOF&quot;;
-\$(TMP_D)/x86_64-gcc.o:	crypto/bn/asm/x86_64-gcc.c
-	\$(CC) \$(LIB_CFLAGS) -c -o \$@ crypto/bn/asm/x86_64-gcc.c
-EOF
-		}
-	return undef;
-	}
-
-sub do_lib_rule
-	{
-	local($obj,$target,$name,$shlib)=@_;
-	local($ret,$_,$Name);
-
-	$target =~ s/\//$o/g if $o ne '/';
-	$target=&quot;$target&quot;;
-	($Name=$name) =~ tr/a-z/A-Z/;
-
-	$ret.=&quot;$target: \$(${Name}OBJ)\n&quot;;
-	$ret.=&quot;\t\$(RM) $target\n&quot;;
-	$ret.=&quot;\t\$(MKLIB) $target \$(${Name}OBJ)\n&quot;;
-	$ret.=&quot;\t\$(RANLIB) $target\n\n&quot;;
-	}
-
-sub do_link_rule
-	{
-	local($target,$files,$dep_libs,$libs)=@_;
-	local($ret,$_);
-
-	$file =~ s/\//$o/g if $o ne '/';
-	$n=&amp;bname($target);
-	$ret.=&quot;$target: $files $dep_libs\n&quot;;
-	$ret.=&quot;\t\$(LINK_CMD) ${efile}$target \$(LFLAGS) $files $libs\n\n&quot;;
-	return($ret);
-	}
-
-sub which
-	{
-	my ($name)=@_;
-	my $path;
-	foreach $path (split /:/, $ENV{PATH})
-		{
-		if (-x &quot;$path/$name&quot;)
-			{
-			return &quot;$path/$name&quot;;
-			}
-		}
-	}
-
-sub do_rehash_rule {
-    my ($target, $deps) = @_;
-    my $ret = &lt;&lt;&quot;EOF&quot;;
-$target: $deps
-	touch $target
-EOF
-    return $ret
-}
-sub do_test_rule {
-    my ($target, $deps, $test_cmd) = @_;
-    my $ret = &lt;&lt;&quot;EOF&quot;;
-$target: $deps force.$target
-	TOP=. BIN_D=\$(BIN_D) TEST_D=\$(TEST_D) OPENSSL_ENGINES=$(ENG_D) \\
-	    PERL=\$(PERL) \$(PERL) test/$test_cmd \$(TESTS)
-force.$target:
-
-EOF
-    return $ret;
-}
-
-
-1;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005779.html">[openssl-commits] [openssl]  master update
</A></li>
	<LI>Next message: <A HREF="005781.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5780">[ date ]</a>
              <a href="thread.html#5780">[ thread ]</a>
              <a href="subject.html#5780">[ subject ]</a>
              <a href="author.html#5780">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
