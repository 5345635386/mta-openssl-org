<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 18e72c: Fix occasional assertion failure when storing prop...
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2022-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%2018e72c%3A%20Fix%20occasional%20assertion%20failure%20when%0A%20storing%20prop...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.1/93d3ad-18e72c%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037904.html">
   <LINK REL="Next"  HREF="037906.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 18e72c: Fix occasional assertion failure when storing prop...</H1>
    <B>Tom&#225;&#353; Mr&#225;z</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%2018e72c%3A%20Fix%20occasional%20assertion%20failure%20when%0A%20storing%20prop...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.1/93d3ad-18e72c%40github.com%3E"
       TITLE="[openssl/openssl] 18e72c: Fix occasional assertion failure when storing prop...">noreply at github.com
       </A><BR>
    <I>Tue Nov 29 07:23:58 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="037904.html">[openssl/openssl] 92a25e: Fix occasional assertion failure when storing prop...
</A></li>
        <LI>Next message (by thread): <A HREF="037906.html">[openssl/openssl] e2758d: Fix occasional assertion failure when storing prop...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37905">[ date ]</a>
              <a href="thread.html#37905">[ thread ]</a>
              <a href="subject.html#37905">[ subject ]</a>
              <a href="author.html#37905">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.1
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 18e72cbefec5410d360f5c64b51243e12bd60bae
      <A HREF="https://github.com/openssl/openssl/commit/18e72cbefec5410d360f5c64b51243e12bd60bae">https://github.com/openssl/openssl/commit/18e72cbefec5410d360f5c64b51243e12bd60bae</A>
  Author: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
  Date:   2022-11-29 (Tue, 29 Nov 2022)

  Changed paths:
    M crypto/property/defn_cache.c
    M crypto/property/property.c
    M crypto/property/property_local.h
    M test/property_test.c

  Log Message:
  -----------
  Fix occasional assertion failure when storing properties

Fixes #18631

The store lock does not prevent concurrent access to the
property cache, because there are multiple stores.

We drop the newly created entry and use the exisiting one
if there is one already.

Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/19762">https://github.com/openssl/openssl/pull/19762</A>)

(cherry picked from commit 92a25e24e6ec9735dea9ec645502cb075a5f8d24)


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="037904.html">[openssl/openssl] 92a25e: Fix occasional assertion failure when storing prop...
</A></li>
	<LI>Next message (by thread): <A HREF="037906.html">[openssl/openssl] e2758d: Fix occasional assertion failure when storing prop...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37905">[ date ]</a>
              <a href="thread.html#37905">[ thread ]</a>
              <a href="subject.html#37905">[ subject ]</a>
              <a href="author.html#37905">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
