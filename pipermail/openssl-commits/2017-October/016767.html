<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  OpenSSL_1_1_0-stable update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2017-October/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20OpenSSL_1_1_0-stable%20update&In-Reply-To=%3C1509449406.947504.19275.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016766.html">
   <LINK REL="Next"  HREF="016770.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  OpenSSL_1_1_0-stable update</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20OpenSSL_1_1_0-stable%20update&In-Reply-To=%3C1509449406.947504.19275.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl-commits] [openssl]  OpenSSL_1_1_0-stable update">levitte at openssl.org
       </A><BR>
    <I>Tue Oct 31 11:30:06 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="016766.html">[openssl-commits] [openssl]  OpenSSL_1_1_0-stable update
</A></li>
        <LI>Next message: <A HREF="016770.html">[openssl-commits] [openssl]  OpenSSL_1_1_0-stable update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16767">[ date ]</a>
              <a href="thread.html#16767">[ thread ]</a>
              <a href="subject.html#16767">[ subject ]</a>
              <a href="author.html#16767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch OpenSSL_1_1_0-stable has been updated
       via  df45d1a0410f6c51cb7ecb0af1b62f50da1b6429 (commit)
       via  847685c49f72c6a3e3f2f0ead2c8dd30e7c354e6 (commit)
       via  4401e2802e624bbd1dc6cabf425680a3bf203db3 (commit)
       via  41d74a575d466e92f4bd35fac3f9d6027338b5ad (commit)
      from  7fb42788e8d1e8025c706e9b0ab5ece57b625352 (commit)


- Log -----------------------------------------------------------------
commit df45d1a0410f6c51cb7ecb0af1b62f50da1b6429
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Tue Oct 31 12:13:45 2017 +0100

    docs: assign section 7 where appropriate
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/4633">https://github.com/openssl/openssl/pull/4633</A>)

commit 847685c49f72c6a3e3f2f0ead2c8dd30e7c354e6
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Tue Oct 31 12:13:21 2017 +0100

    doc/crypto/OPENSSL_secure_malloc: add missing names
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/4633">https://github.com/openssl/openssl/pull/4633</A>)

commit 4401e2802e624bbd1dc6cabf425680a3bf203db3
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Tue Oct 31 12:12:58 2017 +0100

    docs: fixup OpenSSL version style
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/4633">https://github.com/openssl/openssl/pull/4633</A>)

commit 41d74a575d466e92f4bd35fac3f9d6027338b5ad
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Tue Oct 31 12:10:08 2017 +0100

    Adapt util/find-doc-nits back to 1.1.0
    
    This version was a direct port from 1.1.1-dev, which has a different
    source structure for the docs.  Adjustment done.
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/4633">https://github.com/openssl/openssl/pull/4633</A>)

-----------------------------------------------------------------------

Summary of changes:
 doc/crypto/BIO_get_data.pod                        |  2 +-
 doc/crypto/BIO_meth_new.pod                        |  2 +-
 doc/crypto/BIO_push.pod                            |  2 +-
 doc/crypto/BIO_should_retry.pod                    |  2 +-
 doc/crypto/DH_get0_pqg.pod                         |  2 +-
 doc/crypto/DH_meth_new.pod                         |  2 +-
 doc/crypto/DSA_get0_pqg.pod                        |  2 +-
 doc/crypto/DSA_meth_new.pod                        |  2 +-
 doc/crypto/EVP_CIPHER_meth_new.pod                 |  4 ++--
 doc/crypto/EVP_MD_meth_new.pod                     |  2 +-
 doc/crypto/OCSP_response_status.pod                |  2 +-
 doc/crypto/OPENSSL_secure_malloc.pod               |  5 +++--
 doc/crypto/RSA_get0_key.pod                        |  2 +-
 doc/crypto/RSA_meth_new.pod                        |  2 +-
 doc/crypto/X509_STORE_get0_param.pod               |  2 +-
 ...9_get_notBefore.pod =&gt; X509_get0_notBefore.pod} |  0
 doc/crypto/ct.pod                                  |  2 ++
 doc/crypto/des_modes.pod                           |  1 +
 doc/crypto/x509.pod                                |  2 ++
 doc/ssl/ssl.pod                                    |  2 ++
 util/find-doc-nits                                 | 25 +++++++++++-----------
 21 files changed, 38 insertions(+), 29 deletions(-)
 rename doc/crypto/{X509_get_notBefore.pod =&gt; X509_get0_notBefore.pod} (100%)

diff --git a/doc/crypto/BIO_get_data.pod b/doc/crypto/BIO_get_data.pod
index 14f21fa..c3137c4 100644
--- a/doc/crypto/BIO_get_data.pod
+++ b/doc/crypto/BIO_get_data.pod
@@ -51,7 +51,7 @@ L&lt;bio&gt;, L&lt;BIO_meth_new&gt;
 
 =head1 HISTORY
 
-The functions described here were added in OpenSSL version 1.1.0.
+The functions described here were added in OpenSSL 1.1.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/BIO_meth_new.pod b/doc/crypto/BIO_meth_new.pod
index 2fe6721..ec0af8a 100644
--- a/doc/crypto/BIO_meth_new.pod
+++ b/doc/crypto/BIO_meth_new.pod
@@ -117,7 +117,7 @@ L&lt;bio&gt;, L&lt;BIO_find_type&gt;, L&lt;BIO_ctrl&gt;, L&lt;BIO_read&gt;, L&lt;BIO_new&gt;
 
 =head1 HISTORY
 
-The functions described here were added in OpenSSL version 1.1.0.
+The functions described here were added in OpenSSL 1.1.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/BIO_push.pod b/doc/crypto/BIO_push.pod
index 762027f..ce56db9 100644
--- a/doc/crypto/BIO_push.pod
+++ b/doc/crypto/BIO_push.pod
@@ -75,7 +75,7 @@ L&lt;bio&gt;
 
 =head1 HISTORY
 
-The BIO_set_next() function was added in OpenSSL version 1.1.0.
+The BIO_set_next() function was added in OpenSSL 1.1.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/BIO_should_retry.pod b/doc/crypto/BIO_should_retry.pod
index d6ddf48..d01d5bb 100644
--- a/doc/crypto/BIO_should_retry.pod
+++ b/doc/crypto/BIO_should_retry.pod
@@ -118,7 +118,7 @@ L&lt;bio&gt;
 =head1 HISTORY
 
 The BIO_get_retry_reason() and BIO_set_retry_reason() functions were added in
-OpenSSL version 1.1.0.
+OpenSSL 1.1.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/DH_get0_pqg.pod b/doc/crypto/DH_get0_pqg.pod
index 530f0b2..3809813 100644
--- a/doc/crypto/DH_get0_pqg.pod
+++ b/doc/crypto/DH_get0_pqg.pod
@@ -96,7 +96,7 @@ L&lt;DH_set_method(3)&gt;, L&lt;DH_size(3)&gt;, L&lt;DH_meth_new(3)&gt;
 
 =head1 HISTORY
 
-The functions described here were added in OpenSSL version 1.1.0.
+The functions described here were added in OpenSSL 1.1.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/DH_meth_new.pod b/doc/crypto/DH_meth_new.pod
index bcf5592..d768da8 100644
--- a/doc/crypto/DH_meth_new.pod
+++ b/doc/crypto/DH_meth_new.pod
@@ -142,7 +142,7 @@ L&lt;DH_set_method(3)&gt;, L&lt;DH_size(3)&gt;, L&lt;DH_get0_pqg(3)&gt;
 
 =head1 HISTORY
 
-The functions described here were added in OpenSSL version 1.1.0.
+The functions described here were added in OpenSSL 1.1.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/DSA_get0_pqg.pod b/doc/crypto/DSA_get0_pqg.pod
index e87e42a..6c1c09a 100644
--- a/doc/crypto/DSA_get0_pqg.pod
+++ b/doc/crypto/DSA_get0_pqg.pod
@@ -88,7 +88,7 @@ L&lt;DSA_sign(3)&gt;, L&lt;DSA_size(3)&gt;, L&lt;DSA_meth_new(3)&gt;
 
 =head1 HISTORY
 
-The functions described here were added in OpenSSL version 1.1.0.
+The functions described here were added in OpenSSL 1.1.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/DSA_meth_new.pod b/doc/crypto/DSA_meth_new.pod
index 28d1892..948ab29 100644
--- a/doc/crypto/DSA_meth_new.pod
+++ b/doc/crypto/DSA_meth_new.pod
@@ -179,7 +179,7 @@ L&lt;DSA_sign(3)&gt;, L&lt;DSA_size(3)&gt;, L&lt;DSA_get0_pqg(3)&gt;
 
 =head1 HISTORY
 
-The functions described here were added in OpenSSL version 1.1.0.
+The functions described here were added in OpenSSL 1.1.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/EVP_CIPHER_meth_new.pod b/doc/crypto/EVP_CIPHER_meth_new.pod
index 6190b71..917fb3e 100644
--- a/doc/crypto/EVP_CIPHER_meth_new.pod
+++ b/doc/crypto/EVP_CIPHER_meth_new.pod
@@ -223,8 +223,8 @@ L&lt;EVP_EncryptInit&gt;
 =head1 HISTORY
 
 The B&lt;EVP_CIPHER&gt; structure was openly available in OpenSSL before version
-1.1.
-The functions described here were added in OpenSSL version 1.1.
+1.1.0.
+The functions described here were added in OpenSSL 1.1.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/EVP_MD_meth_new.pod b/doc/crypto/EVP_MD_meth_new.pod
index c15a31e..e0c36cb 100644
--- a/doc/crypto/EVP_MD_meth_new.pod
+++ b/doc/crypto/EVP_MD_meth_new.pod
@@ -156,7 +156,7 @@ L&lt;EVP_DigestInit(3)&gt;, L&lt;EVP_SignInit(3)&gt;, L&lt;EVP_VerifyInit(3)&gt;
 =head1 HISTORY
 
 The B&lt;EVP_MD&gt; structure was openly available in OpenSSL before version
-1.1.  The functions described here were added in OpenSSL version 1.1.
+1.1.0.  The functions described here were added in OpenSSL 1.1.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/OCSP_response_status.pod b/doc/crypto/OCSP_response_status.pod
index 81946a6..180ab8d 100644
--- a/doc/crypto/OCSP_response_status.pod
+++ b/doc/crypto/OCSP_response_status.pod
@@ -86,7 +86,7 @@ L&lt;OCSP_RESPID_free(3)&gt;
 =head1 HISTORY
 
 The OCSP_RESPID_set_by_name(), OCSP_RESPID_set_by_key() and OCSP_RESPID_match()
-functions were added in OpenSSL version 1.1.0a.
+functions were added in OpenSSL 1.1.0a.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/OPENSSL_secure_malloc.pod b/doc/crypto/OPENSSL_secure_malloc.pod
index 75b5b3c..3f27d76 100644
--- a/doc/crypto/OPENSSL_secure_malloc.pod
+++ b/doc/crypto/OPENSSL_secure_malloc.pod
@@ -5,8 +5,9 @@
 CRYPTO_secure_malloc_init, CRYPTO_secure_malloc_initialized,
 CRYPTO_secure_malloc_done, OPENSSL_secure_malloc, CRYPTO_secure_malloc,
 OPENSSL_secure_zalloc, CRYPTO_secure_zalloc, OPENSSL_secure_free,
-CRYPTO_secure_free, OPENSSL_secure_actual_size, OPENSSL_secure_allocated,
-CRYPTO_secure_used - secure heap storage
+OPENSSL_secure_clear_free, CRYPTO_secure_free, CRYPTO_secure_clear_free,
+OPENSSL_secure_actual_size, OPENSSL_secure_allocated, CRYPTO_secure_used
+- secure heap storage
 
 =head1 SYNOPSIS
 
diff --git a/doc/crypto/RSA_get0_key.pod b/doc/crypto/RSA_get0_key.pod
index 827c22f..579a2df 100644
--- a/doc/crypto/RSA_get0_key.pod
+++ b/doc/crypto/RSA_get0_key.pod
@@ -98,7 +98,7 @@ L&lt;rsa(3)&gt;, L&lt;RSA_new(3)&gt;, L&lt;RSA_size(3)&gt;
 
 =head1 HISTORY
 
-The functions described here were added in OpenSSL version 1.1.0.
+The functions described here were added in OpenSSL 1.1.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/RSA_meth_new.pod b/doc/crypto/RSA_meth_new.pod
index e46b398..9970aa6 100644
--- a/doc/crypto/RSA_meth_new.pod
+++ b/doc/crypto/RSA_meth_new.pod
@@ -221,7 +221,7 @@ L&lt;RSA_set_method(3)&gt;, L&lt;RSA_size(3)&gt;, L&lt;RSA_get0_key(3)&gt;
 
 =head1 HISTORY
 
-The functions described here were added in OpenSSL version 1.1.0.
+The functions described here were added in OpenSSL 1.1.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/X509_STORE_get0_param.pod b/doc/crypto/X509_STORE_get0_param.pod
index 2144f2b..0aed725 100644
--- a/doc/crypto/X509_STORE_get0_param.pod
+++ b/doc/crypto/X509_STORE_get0_param.pod
@@ -43,7 +43,7 @@ L&lt;X509_STORE_new(3)&gt;
 =head1 HISTORY
 
 B&lt;X509_STORE_get0_param&gt; and B&lt;X509_STORE_get0_objects&gt; were added in
-OpenSSL version 1.1.0.
+OpenSSL 1.1.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/crypto/X509_get_notBefore.pod b/doc/crypto/X509_get0_notBefore.pod
similarity index 100%
rename from doc/crypto/X509_get_notBefore.pod
rename to doc/crypto/X509_get0_notBefore.pod
diff --git a/doc/crypto/ct.pod b/doc/crypto/ct.pod
index 355204d..60718b3 100644
--- a/doc/crypto/ct.pod
+++ b/doc/crypto/ct.pod
@@ -1,5 +1,7 @@
 =pod
 
+=for comment openssl_manual_section:7
+
 =head1 NAME
 
 ct - Certificate Transparency
diff --git a/doc/crypto/des_modes.pod b/doc/crypto/des_modes.pod
index 7c17969..d5a3f8d 100644
--- a/doc/crypto/des_modes.pod
+++ b/doc/crypto/des_modes.pod
@@ -1,4 +1,5 @@
 =pod
+
 =for comment openssl_manual_section:7
 
 =head1 NAME
diff --git a/doc/crypto/x509.pod b/doc/crypto/x509.pod
index 06584e3..483b037 100644
--- a/doc/crypto/x509.pod
+++ b/doc/crypto/x509.pod
@@ -1,5 +1,7 @@
 =pod
 
+=for comment openssl_manual_section:7
+
 =head1 NAME
 
 x509 - X.509 certificate handling
diff --git a/doc/ssl/ssl.pod b/doc/ssl/ssl.pod
index a0540e7..daee30d 100644
--- a/doc/ssl/ssl.pod
+++ b/doc/ssl/ssl.pod
@@ -1,5 +1,7 @@
 =pod
 
+=for comment openssl_manual_section:7
+
 =head1 NAME
 
 ssl - OpenSSL SSL/TLS library
diff --git a/util/find-doc-nits b/util/find-doc-nits
index aaf3eeb..598854c 100755
--- a/util/find-doc-nits
+++ b/util/find-doc-nits
@@ -154,9 +154,14 @@ sub check()
 
     my $id = &quot;${filename}:1:&quot;;
 
+    # Find what section this page is in; assume 3.
+    my $section = 3;
+    $section = 1 if $dirname eq 'apps';
+    $section = $1 if ( $contents =~ /=for comment openssl_manual_section:(\d)/);
+
     &amp;name_synopsis($id, $filename, $contents)
         unless $contents =~ /=for comment generic/
-            or $filename =~ <A HREF="../../../mailman/listinfo/openssl-commits.html">m at man</A>[157]/@;
+            or $section != 3;
 
     print &quot;$id doesn't start with =pod\n&quot;
         if $contents !~ /^=pod/;
@@ -185,7 +190,7 @@ sub check()
 
     if ( $contents !~ /=for comment multiple includes/ ) {
         # Look for multiple consecutive openssl #include lines
-        # (non-consecutive lines are okay; see man3/MD5.pod).
+        # (non-consecutive lines are okay; see crypto/MD5.pod).
         if ( $contents =~ /=head1 SYNOPSIS(.*)=head1 DESCRIPTION/ms ) {
             my $count = 0;
             foreach my $line ( split /\n+/, $1 ) {
@@ -211,10 +216,6 @@ sub check()
     close $OUT;
     unlink $temp || warn &quot;Can't remove $temp, $!&quot;;
 
-    # Find what section this page is in; assume 3.
-    my $section = 3;
-    $section = $1 if $dirname =~ /man([1-9])/;
-
     foreach ((@{$mandatory_sections{'*'}}, @{$mandatory_sections{$section}})) {
         # Skip &quot;return values&quot; if not -s
         next if $_ eq 'RETURN VALUES' and not $opt_s;
@@ -436,7 +437,7 @@ sub checkflags() {
     close CFH;
 
     # Get the list of flags from the synopsis
-    open CFH, &quot;&lt;doc/man1/$cmd.pod&quot;
+    open CFH, &quot;&lt;doc/apps/$cmd.pod&quot;
         || die &quot;Can't open $cmd.pod, $!&quot;;
     while ( &lt;CFH&gt; ) {
         chop;
@@ -454,7 +455,7 @@ sub checkflags() {
     if ( scalar @undocced &gt; 0 ) {
         $ok = 0;
         foreach ( @undocced ) {
-            print &quot;doc/man1/$cmd.pod: Missing -$_\n&quot;;
+            print &quot;doc/apps/$cmd.pod: Missing -$_\n&quot;;
         }
     }
 
@@ -467,7 +468,7 @@ sub checkflags() {
         $ok = 0;
         foreach ( @unimpl ) {
             next if defined $skips{$_};
-            print &quot;doc/man1/$cmd.pod: Not implemented -$_\n&quot;;
+            print &quot;doc/apps/$cmd.pod: Not implemented -$_\n&quot;;
         }
     }
 
@@ -499,8 +500,8 @@ if ( $opt_c ) {
     # See if each has a manpage.
     foreach ( @commands ) {
         next if $_ eq 'help' || $_ eq 'exit';
-        if ( ! -f &quot;doc/man1/$_.pod&quot; ) {
-            print &quot;doc/man1/$_.pod does not exist\n&quot;;
+        if ( ! -f &quot;doc/apps/$_.pod&quot; ) {
+            print &quot;doc/apps/$_.pod does not exist\n&quot;;
             $ok = 0;
         } else {
             $ok = 0 if not &amp;checkflags($_);
@@ -536,7 +537,7 @@ if ( $opt_n ) {
 }
 
 if ( $opt_u ) {
-    my %temp = &amp;getdocced('doc/man3');
+    my %temp = &amp;getdocced('doc/crypto');
     foreach ( keys %temp ) {
         $docced{$_} = $temp{$_};
     }
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016766.html">[openssl-commits] [openssl]  OpenSSL_1_1_0-stable update
</A></li>
	<LI>Next message: <A HREF="016770.html">[openssl-commits] [openssl]  OpenSSL_1_1_0-stable update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16767">[ date ]</a>
              <a href="thread.html#16767">[ thread ]</a>
              <a href="subject.html#16767">[ subject ]</a>
              <a href="author.html#16767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
