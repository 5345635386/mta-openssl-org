<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2015-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1426692544.058986.16875.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000721.html">
   <LINK REL="Next"  HREF="000728.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  master update</H1>
    <B>Andy Polyakov</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1426692544.058986.16875.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl-commits] [openssl]  master update">appro at openssl.org
       </A><BR>
    <I>Wed Mar 18 15:29:04 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000721.html">[openssl-commits] [openssl]  master update
</A></li>
        <LI>Next message: <A HREF="000728.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#723">[ date ]</a>
              <a href="thread.html#723">[ thread ]</a>
              <a href="subject.html#723">[ subject ]</a>
              <a href="author.html#723">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  7ead0c89185c46378e3ed85c0012d083f4b3039b (commit)
      from  9e43c6b5c28731d13afcb4658dc2fa4dd188cc0b (commit)


- Log -----------------------------------------------------------------
commit 7ead0c89185c46378e3ed85c0012d083f4b3039b
Author: Andy Polyakov &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">appro at openssl.org</A>&gt;
Date:   Mon Mar 16 22:33:36 2015 +0100

    Configure: fold related configurations more aggressively and clean-up.
    
    Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;

-----------------------------------------------------------------------

Summary of changes:
 Configurations/10-main.conf | 1268 ++++++++++++++-----------------------------
 Configure                   |   90 +--
 2 files changed, 418 insertions(+), 940 deletions(-)

diff --git a/Configurations/10-main.conf b/Configurations/10-main.conf
index eb46789..9d38554 100644
--- a/Configurations/10-main.conf
+++ b/Configurations/10-main.conf
@@ -6,10 +6,12 @@
 
 %targets = (
 
-# Basic configs that should work on any (32 and less bit) box
+#### Basic configs that should work on any 32-bit box
     &quot;gcc&quot; =&gt; {
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3&quot;,
+        cflags           =&gt; &quot;&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g&quot;,
+        release_cflags   =&gt; &quot;-O3&quot;,
         thread_cflag     =&gt; &quot;(unknown)&quot;,
         bn_ops           =&gt; &quot;BN_LLONG&quot;,
     },
@@ -19,9 +21,8 @@
         thread_cflag     =&gt; &quot;(unknown)&quot;,
     },
 
-####VOS Configurations
+#### VOS Configurations
     &quot;vos-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;gcc&quot;,
         cflags           =&gt; &quot;-Wall -DOPENSSL_SYS_VOS -D_POSIX_C_SOURCE=200112L -D_BSD -D_VOS_EXTENDED_NAMES -DB_ENDIAN&quot;,
         debug_cflags     =&gt; &quot;-O0 -g -DBN_DEBUG -DREF_CHECK -DCONF_DEBUG -DCRYPTO_MDEBUG&quot;,
@@ -34,15 +35,17 @@
     },
 
 #### Solaris x86 with GNU C setups
-# -DOPENSSL_NO_INLINE_ASM switches off inline assembler. We have to do it
-# here because whenever GNU C instantiates an assembler template it
-# surrounds it with #APP #NO_APP comment pair which (at least Solaris
-# 7_x86) /usr/ccs/bin/as fails to assemble with &quot;Illegal mnemonic&quot;
-# error message.
     &quot;solaris-x86-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_elf_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3 -fomit-frame-pointer -march=pentium -Wall -DL_ENDIAN -DOPENSSL_NO_INLINE_ASM&quot;,
+        # -DOPENSSL_NO_INLINE_ASM switches off inline assembler. We have
+        # to do it here because whenever GNU C instantiates an assembler
+        # template it surrounds it with #APP #NO_APP comment pair which
+        # (at least Solaris 7_x86) /usr/ccs/bin/as fails to assemble
+        # with &quot;Illegal mnemonic&quot; error message.
+        inherit_from     =&gt; [ asm(&quot;x86_elf_asm&quot;) ],
+        cc               =&gt; &quot;gcc&quot;,
+        cflags           =&gt; &quot;-march=pentium -Wall -DL_ENDIAN -DOPENSSL_NO_INLINE_ASM&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g&quot;,
+        release_cflags   =&gt; &quot;-O3 -fomit-frame-pointer&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-lsocket -lnsl -ldl&quot;,
         bn_ops           =&gt; &quot;BN_LLONG ${x86_gcc_des} ${x86_gcc_opts}&quot;,
@@ -52,18 +55,20 @@
         shared_ldflag    =&gt; &quot;-shared&quot;,
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
-# -shared -static-libgcc might appear controversial, but modules taken
-# from static libgcc do not have relocations and linking them into our
-# shared objects doesn't have any negative side-effects. On the contrary,
-# doing so makes it possible to use gcc shared build with Sun C. Given
-# that gcc generates faster code [thanks to inline assembler], I would
-# actually recommend to consider using gcc shared build even with vendor
-# compiler:-)
-#						&lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">appro at fy.chalmers.se</A>&gt;
     &quot;solaris64-x86_64-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_64_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-m64 -O3 -Wall -DL_ENDIAN&quot;,
+        # -shared -static-libgcc might appear controversial, but modules
+        # taken from static libgcc do not have relocations and linking
+        # them into our shared objects doesn't have any negative side
+        # effects. On the contrary, doing so makes it possible to use
+        # gcc shared build with Sun C. Given that gcc generates faster
+        # code [thanks to inline assembler], I would actually recommend
+        # to consider using gcc shared build even with vendor compiler:-)
+        #					&lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">appro at fy.chalmers.se</A>&gt;
+        inherit_from     =&gt; [ asm(&quot;x86_64_asm&quot;) ],
+        cc               =&gt; &quot;gcc&quot;,
+        cflags           =&gt; &quot;-m64 -Wall -DL_ENDIAN&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g&quot;,
+        release_cflags   =&gt; &quot;-O3&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-lsocket -lnsl -ldl&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_INT DES_UNROLL&quot;,
@@ -78,9 +83,10 @@
 
 #### Solaris x86 with Sun C setups
     &quot;solaris-x86-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-fast -xarch=generic -O -Xa&quot;,
+        cflags           =&gt; &quot;-xarch=generic -xstrconst -Xa -DL_ENDIAN&quot;,
+        debug_cflags     =&gt; &quot;-g&quot;,
+        release_cflags   =&gt; &quot;-xO5 -xregs=frameptr -xdepend -xbuiltin&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-lsocket -lnsl -ldl&quot;,
         bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_PTR DES_UNROLL BF_PTR&quot;,
@@ -91,9 +97,11 @@
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
     &quot;solaris64-x86_64-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_64_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;x86_64_asm&quot;) ],
         cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-fast -xarch=amd64 -xstrconst -Xa -DL_ENDIAN&quot;,
+        cflags           =&gt; &quot;-xarch=generic64 -xstrconst -Xa -DL_ENDIAN&quot;,
+        debug_cflags     =&gt; &quot;-g&quot;,
+        release_cflags   =&gt; &quot;-xO5 -xdepend -xbuiltin&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-lsocket -lnsl -ldl&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_INT DES_UNROLL&quot;,
@@ -101,16 +109,17 @@
         dso_scheme       =&gt; &quot;dlfcn&quot;,
         shared_target    =&gt; &quot;solaris-shared&quot;,
         shared_cflag     =&gt; &quot;-KPIC&quot;,
-        shared_ldflag    =&gt; &quot;-xarch=amd64 -G -dy -z text&quot;,
+        shared_ldflag    =&gt; &quot;-xarch=generic64 -G -dy -z text&quot;,
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
         multilib         =&gt; &quot;/64&quot;,
     },
 
 #### SPARC Solaris with GNU C setups
     &quot;solaris-sparcv7-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3 -fomit-frame-pointer -Wall -DB_ENDIAN -DBN_DIV2W&quot;,
+        cflags           =&gt; &quot;-Wall -DB_ENDIAN -DBN_DIV2W&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g&quot;,
+        release_cflags   =&gt; &quot;-O3&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-lsocket -lnsl -ldl&quot;,
         bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_UNROLL BF_PTR&quot;,
@@ -120,52 +129,25 @@
         shared_ldflag    =&gt; &quot;-shared&quot;,
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
-####
     &quot;solaris-sparcv8-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;sparcv8_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-mv8 -Wall -DB_ENDIAN&quot;,
-        debug_cflags     =&gt; &quot;-DBN_DEBUG -DREF_CHECK -DCONF_DEBUG -DBN_CTX_DEBUG -DCRYPTO_MDEBUG_ALL -O -g&quot;,
-        release_cflags   =&gt; &quot;-O3 -fomit-frame-pointer -DBN_DIV2W&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-lsocket -lnsl -ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;solaris-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_ldflag    =&gt; &quot;-shared&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        inherit_from     =&gt; [ &quot;solaris-sparcv7-gcc&quot;, asm(&quot;sparcv8_asm&quot;) ],
+        cflags           =&gt; sub { join(&quot; &quot;,&quot;-mv8&quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>); },
     },
-# -m32 should be safe to add as long as driver recognizes -mcpu=ultrasparc
     &quot;solaris-sparcv9-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;sparcv9_asm&quot; ],
+        # -m32 should be safe to add as long as driver recognizes
+	# -mcpu=ultrasparc
+        inherit_from     =&gt; [ &quot;solaris-sparcv7-gcc&quot;, asm(&quot;sparcv9_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-m32 -mcpu=ultrasparc -Wall -DB_ENDIAN -DBN_DIV2W&quot;,
+        cflags           =&gt; sub { join(&quot; &quot;,&quot;-m32 -mcpu=ultrasparc&quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>); },
         debug_cflags     =&gt; &quot;-DBN_DEBUG -DREF_CHECK -DCONF_DEBUG -DBN_CTX_DEBUG -DCRYPTO_MDEBUG_ALL -DPEDANTIC -O -g -pedantic -ansi -Wshadow -Wno-long-long -D__EXTENSIONS__&quot;,
-        release_cflags   =&gt; &quot;-O3 -fomit-frame-pointer&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        sys_id           =&gt; &quot;ULTRASPARC&quot;,
-        lflags           =&gt; &quot;-lsocket -lnsl -ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;solaris-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_ldflag    =&gt; &quot;-shared&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        release_cflags   =&gt; &quot;-O3&quot;,
     },
     &quot;solaris64-sparcv9-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;sparcv9_asm&quot; ],
+        inherit_from     =&gt; [ &quot;solaris-sparcv9-gcc&quot; ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-m64 -mcpu=ultrasparc -O3 -Wall -DB_ENDIAN&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        sys_id           =&gt; &quot;ULTRASPARC&quot;,
-        lflags           =&gt; &quot;-lsocket -lnsl -ldl&quot;,
+        cflags           =&gt; &quot;-m64 -mcpu=ultrasparc -Wall -DB_ENDIAN&quot;,
         bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_INT DES_PTR DES_RISC1 DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;solaris-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
         shared_ldflag    =&gt; &quot;-m64 -shared&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
         multilib         =&gt; &quot;/64&quot;,
     },
 
@@ -174,9 +156,10 @@
 # SC4.2 is ok, better than gcc even on bn as long as you tell it -xarch=v8
 # SC5.0 note: Compiler common patch 107357-01 or later is required!
     &quot;solaris-sparcv7-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-xO5 -xstrconst -xdepend -Xa -DB_ENDIAN -DBN_DIV2W&quot;,
+        cflags           =&gt; &quot;-xstrconst -Xa -DB_ENDIAN -DBN_DIV2W&quot;,
+        debug_cflags     =&gt; &quot;-g -DBN_DEBUG -DREF_CHECK -DCONF_DEBUG -DBN_CTX_DEBUG -DCRYPTO_MDEBUG_ALL&quot;,
+        release_cflags   =&gt; &quot;-xO5 -xdepend&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-lsocket -lnsl -ldl&quot;,
         bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_PTR DES_RISC1 DES_UNROLL BF_PTR&quot;,
@@ -188,58 +171,29 @@
     },
 ####
     &quot;solaris-sparcv8-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;sparcv8_asm&quot; ],
-        cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-xarch=v8 -xstrconst -Xa -DB_ENDIAN -DBN_DIV2W&quot;,
-        debug_cflags     =&gt; &quot;-DBN_DEBUG -DREF_CHECK -DCONF_DEBUG -DBN_CTX_DEBUG -DCRYPTO_MDEBUG_ALL -g -O&quot;,
-        release_cflags   =&gt; &quot;-xO5 -xdepend&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-lsocket -lnsl -ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_PTR DES_RISC1 DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;solaris-shared&quot;,
-        shared_cflag     =&gt; &quot;-KPIC&quot;,
-        shared_ldflag    =&gt; &quot;-G -dy -z text&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        inherit_from     =&gt; [ &quot;solaris-sparcv7-cc&quot;, asm(&quot;sparcv8_asm&quot;) ],
+        cflags           =&gt; sub { join(&quot; &quot;,&quot;-xarch=v8&quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>); },
     },
     &quot;solaris-sparcv9-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;sparcv9_asm&quot; ],
-        cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-xtarget=ultra -xarch=v8plus -xstrconst -Xa -DB_ENDIAN -DBN_DIV2W&quot;,
-        debug_cflags     =&gt; &quot;-DBN_DEBUG -DREF_CHECK -DCONF_DEBUG -DBN_CTX_DEBUG -DCRYPTO_MDEBUG_ALL -g -O&quot;,
-        release_cflags   =&gt; &quot;-xO5 -xdepend&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        sys_id           =&gt; &quot;ULTRASPARC&quot;,
-        lflags           =&gt; &quot;-lsocket -lnsl -ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK_LL DES_PTR DES_RISC1 DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;solaris-shared&quot;,
-        shared_cflag     =&gt; &quot;-KPIC&quot;,
-        shared_ldflag    =&gt; &quot;-G -dy -z text&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        inherit_from     =&gt; [ &quot;solaris-sparcv7-cc&quot;, asm(&quot;sparcv9_asm&quot;) ],
+        cflags           =&gt; sub { join(&quot; &quot;,&quot;-xarch=v8plus -xtarget=ultra&quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>); },
     },
     &quot;solaris64-sparcv9-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;sparcv9_asm&quot; ],
-        cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-xtarget=ultra -xarch=v9 -xO5 -xstrconst -xdepend -Xa -DB_ENDIAN&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        sys_id           =&gt; &quot;ULTRASPARC&quot;,
-        lflags           =&gt; &quot;-lsocket -lnsl -ldl&quot;,
+        inherit_from     =&gt; [ &quot;solaris-sparcv7-cc&quot;, asm(&quot;sparcv9_asm&quot;) ],
+        cflags           =&gt; sub { join(&quot; &quot;,&quot;-xarch=v9 -xtarget=ultra&quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>); },
         bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_INT DES_PTR DES_RISC1 DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;solaris-shared&quot;,
-        shared_cflag     =&gt; &quot;-KPIC&quot;,
         shared_ldflag    =&gt; &quot;-xarch=v9 -G -dy -z text&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
         multilib         =&gt; &quot;/64&quot;,
     },
 
 #### IRIX 5.x configs
 # -mips2 flag is added by ./config when appropriate.
     &quot;irix-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;mips32_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;mips32_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3 -DB_ENDIAN&quot;,
+        cflags           =&gt; &quot;-DB_ENDIAN&quot;,
+        debug_cflags     =&gt; &quot;-g -O0&quot;,
+        release_cflags   =&gt; &quot;-O3&quot;,
         thread_cflag     =&gt; &quot;(unknown)&quot;,
         bn_ops           =&gt; &quot;BN_LLONG MD2_CHAR RC4_INDEX RC4_CHAR RC4_CHUNK DES_UNROLL DES_RISC2 DES_PTR BF_PTR&quot;,
         perlasm_scheme   =&gt; &quot;o32&quot;,
@@ -248,9 +202,11 @@
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
     &quot;irix-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;mips32_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;mips32_asm&quot;) ],
         cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-O2 -use_readonly_const -DB_ENDIAN&quot;,
+        cflags           =&gt; &quot;-use_readonly_const -DB_ENDIAN&quot;,
+        debug_cflags     =&gt; &quot;-g -O0&quot;,
+        release_cflags   =&gt; &quot;-O2&quot;,
         thread_cflag     =&gt; &quot;(unknown)&quot;,
         bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_PTR DES_RISC2 DES_UNROLL BF_PTR&quot;,
         perlasm_scheme   =&gt; &quot;o32&quot;,
@@ -262,9 +218,11 @@
 # Only N32 and N64 ABIs are supported. If you need O32 ABI build, invoke
 # './Configure irix-cc -o32' manually.
     &quot;irix-mips3-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;mips64_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;mips64_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-mabi=n32 -O3 -DB_ENDIAN -DBN_DIV3W&quot;,
+        cflags           =&gt; &quot;-mabi=n32 -DB_ENDIAN -DBN_DIV3W&quot;,
+        debug_cflags     =&gt; &quot;-g -O0&quot;,
+        release_cflags   =&gt; &quot;-O3&quot;,
         thread_cflag     =&gt; &quot;-D_SGI_MP_SOURCE&quot;,
         bn_ops           =&gt; &quot;MD2_CHAR RC4_INDEX RC4_CHAR RC4_CHUNK_LL DES_UNROLL DES_RISC2 DES_PTR BF_PTR SIXTY_FOUR_BIT&quot;,
         perlasm_scheme   =&gt; &quot;n32&quot;,
@@ -275,9 +233,11 @@
         multilib         =&gt; &quot;32&quot;,
     },
     &quot;irix-mips3-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;mips64_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;mips64_asm&quot;) ],
         cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-n32 -mips3 -O2 -use_readonly_const -G0 -rdata_shared -DB_ENDIAN -DBN_DIV3W&quot;,
+        cflags           =&gt; &quot;-n32 -mips3 -use_readonly_const -G0 -rdata_shared -DB_ENDIAN -DBN_DIV3W&quot;,
+        debug_cflags     =&gt; &quot;-g -O0&quot;,
+        release_cflags   =&gt; &quot;-O2&quot;,
         thread_cflag     =&gt; &quot;-D_SGI_MP_SOURCE&quot;,
         bn_ops           =&gt; &quot;DES_PTR RC4_CHAR RC4_CHUNK_LL DES_RISC2 DES_UNROLL BF_PTR SIXTY_FOUR_BIT&quot;,
         perlasm_scheme   =&gt; &quot;n32&quot;,
@@ -287,11 +247,13 @@
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
         multilib         =&gt; &quot;32&quot;,
     },
-# N64 ABI builds.
+    # N64 ABI builds.
     &quot;irix64-mips4-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;mips64_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;mips64_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-mabi=64 -mips4 -O3 -DB_ENDIAN -DBN_DIV3W&quot;,
+        cflags           =&gt; &quot;-mabi=64 -mips4 -DB_ENDIAN -DBN_DIV3W&quot;,
+        debug_cflags     =&gt; &quot;-g -O0&quot;,
+        release_cflags   =&gt; &quot;-O3&quot;,
         thread_cflag     =&gt; &quot;-D_SGI_MP_SOURCE&quot;,
         bn_ops           =&gt; &quot;RC4_CHAR RC4_CHUNK DES_RISC2 DES_UNROLL SIXTY_FOUR_BIT_LONG&quot;,
         perlasm_scheme   =&gt; &quot;64&quot;,
@@ -302,9 +264,11 @@
         multilib         =&gt; &quot;64&quot;,
     },
     &quot;irix64-mips4-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;mips64_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;mips64_asm&quot;) ],
         cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-64 -mips4 -O2 -use_readonly_const -G0 -rdata_shared -DB_ENDIAN -DBN_DIV3W&quot;,
+        cflags           =&gt; &quot;-64 -mips4 -use_readonly_const -G0 -rdata_shared -DB_ENDIAN -DBN_DIV3W&quot;,
+        debug_cflags     =&gt; &quot;-g -O0&quot;,
+        release_cflags   =&gt; &quot;-O2&quot;,
         thread_cflag     =&gt; &quot;-D_SGI_MP_SOURCE&quot;,
         bn_ops           =&gt; &quot;RC4_CHAR RC4_CHUNK DES_RISC2 DES_UNROLL SIXTY_FOUR_BIT_LONG&quot;,
         perlasm_scheme   =&gt; &quot;64&quot;,
@@ -331,36 +295,23 @@
 # - Keep in mind that the HP compiler by default generates code
 #   suitable for execution on the host you're currently compiling at.
 #   If the toolkit is ment to be used on various PA-RISC processors
-#   consider './config +DAportable'.
-# - +DD64 is chosen in favour of +DA2.0W because it's meant to be
-#   compatible with *future* releases.
-# - If you run ./Configure hpux-parisc-[g]cc manually don't forget to
-#   pass -D_REENTRANT on HP-UX 10 and later.
+#   consider './Configure hpux-parisc-[g]cc +DAportable'.
 # - -DMD32_XARRAY triggers workaround for compiler bug we ran into in
 #   32-bit message digests. (For the moment of this writing) HP C
 #   doesn't seem to &quot;digest&quot; too many local variables (they make &quot;him&quot;
 #   chew forever:-). For more details look-up MD32_XARRAY comment in
 #   crypto/sha/sha_lcl.h.
+# - originally there were 32-bit hpux-parisc2-* targets. They were
+#   scrapped, because a) they were not interchangable with other 32-bit
+#   targets; a) when critical 32-bit assembly modules detect if they
+#   are executed on PA-RISC 2.0 and thus adequate performance is
+#   provided. 
 #					&lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">appro at fy.chalmers.se</A>&gt;
-#
-# Since there is mention of this in shlib/hpux10-cc.sh
-    &quot;hpux-parisc-cc-o4&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
-        cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-Ae +O4 +ESlit -z -DB_ENDIAN -DBN_DIV2W -DMD32_XARRAY&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldld&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG DES_PTR DES_UNROLL DES_RISC1&quot;,
-        dso_scheme       =&gt; &quot;dl&quot;,
-        shared_target    =&gt; &quot;hpux-shared&quot;,
-        shared_cflag     =&gt; &quot;+Z&quot;,
-        shared_ldflag    =&gt; &quot;-b&quot;,
-        shared_extension =&gt; &quot;.sl.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-    },
     &quot;hpux-parisc-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3 -DB_ENDIAN -DBN_DIV2W&quot;,
+        cflags           =&gt; &quot;-DB_ENDIAN -DBN_DIV2W&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g&quot;,
+        release_cflags   =&gt; &quot;-O3&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-Wl,+s -ldld&quot;,
         bn_ops           =&gt; &quot;BN_LLONG DES_PTR DES_UNROLL DES_RISC1&quot;,
@@ -371,39 +322,18 @@
         shared_extension =&gt; &quot;.sl.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
     &quot;hpux-parisc1_1-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;parisc11_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3 -DB_ENDIAN -DBN_DIV2W&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-Wl,+s -ldld&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG DES_PTR DES_UNROLL DES_RISC1&quot;,
-        dso_scheme       =&gt; &quot;dl&quot;,
-        shared_target    =&gt; &quot;hpux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_ldflag    =&gt; &quot;-shared&quot;,
-        shared_extension =&gt; &quot;.sl.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        inherit_from     =&gt; [ &quot;hpux-parisc-gcc&quot;, asm(&quot;parisc11_asm&quot;) ],
         multilib         =&gt; &quot;/pa1.1&quot;,
     },
-    &quot;hpux-parisc2-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;parisc20_32_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-march=2.0 -O3 -DB_ENDIAN -D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-Wl,+s -ldld&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT RC4_CHAR RC4_CHUNK DES_PTR DES_UNROLL DES_RISC1&quot;,
-        dso_scheme       =&gt; &quot;dl&quot;,
-        shared_target    =&gt; &quot;hpux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_ldflag    =&gt; &quot;-shared&quot;,
-        shared_extension =&gt; &quot;.sl.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-        multilib         =&gt; &quot;/pa20_32&quot;,
-    },
     &quot;hpux64-parisc2-gcc&quot; =&gt; {
+        inherit_from     =&gt; [ asm(&quot;parisc20_64_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3 -DB_ENDIAN -D_REENTRANT&quot;,
+        cflags           =&gt; &quot;-DB_ENDIAN&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g&quot;,
+        release_cflags   =&gt; &quot;-O3&quot;,
+        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-ldl&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG MD2_CHAR RC4_INDEX RC4_CHAR DES_UNROLL DES_RISC1 DES_INT&quot;,
-        bn_obj           =&gt; &quot;pa-risc2W.o&quot;,
-        perlasm_scheme   =&gt; &quot;void&quot;,
         dso_scheme       =&gt; &quot;dlfcn&quot;,
         shared_target    =&gt; &quot;hpux-shared&quot;,
         shared_cflag     =&gt; &quot;-fpic&quot;,
@@ -412,14 +342,15 @@
         multilib         =&gt; &quot;/pa20_64&quot;,
     },
 
-# More attempts at unified 10.X and 11.X targets for HP C compiler.
-#
-# Chris Ruemmler &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">ruemmler at cup.hp.com</A>&gt;
-# Kevin Steves &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">ks at hp.se</A>&gt;
+    # More attempts at unified 10.X and 11.X targets for HP C compiler.
+    #
+    # Chris Ruemmler &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">ruemmler at cup.hp.com</A>&gt;
+    # Kevin Steves &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">ks at hp.se</A>&gt;
     &quot;hpux-parisc-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;+O3 +Optrs_strongly_typed -Ae +ESlit -DB_ENDIAN -DBN_DIV2W -DMD32_XARRAY&quot;,
+        cflags           =&gt; &quot;+Optrs_strongly_typed -Ae +ESlit -DB_ENDIAN -DBN_DIV2W -DMD32_XARRAY&quot;,
+        debug_cflags      =&gt; &quot;+O0 +d -g&quot;,
+        release_cflags   =&gt; &quot;+O3&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-Wl,+s -ldld&quot;,
         bn_ops           =&gt; &quot;MD2_CHAR RC4_INDEX RC4_CHAR DES_UNROLL DES_RISC1 DES_INT&quot;,
@@ -430,36 +361,17 @@
         shared_extension =&gt; &quot;.sl.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
     &quot;hpux-parisc1_1-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;parisc11_asm&quot; ],
-        cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;+DA1.1 +O3 +Optrs_strongly_typed -Ae +ESlit -DB_ENDIAN -DMD32_XARRAY&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-Wl,+s -ldld&quot;,
-        bn_ops           =&gt; &quot;MD2_CHAR RC4_INDEX RC4_CHAR DES_UNROLL DES_RISC1 DES_INT&quot;,
-        dso_scheme       =&gt; &quot;dl&quot;,
-        shared_target    =&gt; &quot;hpux-shared&quot;,
-        shared_cflag     =&gt; &quot;+Z&quot;,
-        shared_ldflag    =&gt; &quot;-b&quot;,
-        shared_extension =&gt; &quot;.sl.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        inherit_from     =&gt; [ &quot;hpux-parisc-cc&quot;, asm(&quot;parisc11_asm&quot;) ],
+        cflags           =&gt; sub { join(&quot; &quot;,&quot;+DA1.1&quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>); },
         multilib         =&gt; &quot;/pa1.1&quot;,
     },
-    &quot;hpux-parisc2-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;parisc20_32_asm&quot; ],
-        cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;+DA2.0 +DS2.0 +O3 +Optrs_strongly_typed -Ae +ESlit -DB_ENDIAN -DMD32_XARRAY -D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-Wl,+s -ldld&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT MD2_CHAR RC4_INDEX RC4_CHAR DES_UNROLL DES_RISC1 DES_INT&quot;,
-        dso_scheme       =&gt; &quot;dl&quot;,
-        shared_target    =&gt; &quot;hpux-shared&quot;,
-        shared_cflag     =&gt; &quot;+Z&quot;,
-        shared_ldflag    =&gt; &quot;-b&quot;,
-        shared_extension =&gt; &quot;.sl.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-        multilib         =&gt; &quot;/pa20_32&quot;,
-    },
     &quot;hpux64-parisc2-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;parisc20_64_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;parisc20_64_asm&quot;) ],
         cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;+DD64 +O3 +Optrs_strongly_typed -Ae +ESlit -DB_ENDIAN -DMD32_XARRAY -D_REENTRANT&quot;,
+        cflags           =&gt; &quot;+DD64 +Optrs_strongly_typed -Ae +ESlit -DB_ENDIAN -DMD32_XARRAY&quot;,
+        debug_cflags      =&gt; &quot;+O0 +d -g&quot;,
+        release_cflags   =&gt; &quot;+O3&quot;,
+        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-ldl&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG MD2_CHAR RC4_INDEX RC4_CHAR DES_UNROLL DES_RISC1 DES_INT&quot;,
         dso_scheme       =&gt; &quot;dlfcn&quot;,
@@ -470,11 +382,14 @@
         multilib         =&gt; &quot;/pa20_64&quot;,
     },
 
-# HP/UX IA-64 targets
+    # HP/UX IA-64 targets
     &quot;hpux-ia64-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ia64_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;ia64_asm&quot;) ],
         cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-Ae +DD32 +O2 +Olit=all -z -DB_ENDIAN -D_REENTRANT&quot;,
+        cflags           =&gt; &quot;-Ae +DD32 +Olit=all -z -DB_ENDIAN&quot;,
+        debug_cflags     =&gt; &quot;+O0 +d -g&quot;,
+        release_cflags   =&gt; &quot;+O2&quot;,
+        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-ldl&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT MD2_CHAR RC4_INDEX DES_UNROLL DES_RISC1 DES_INT&quot;,
         dso_scheme       =&gt; &quot;dlfcn&quot;,
@@ -484,12 +399,15 @@
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
         multilib         =&gt; &quot;/hpux32&quot;,
     },
-# Frank Geurts &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">frank.geurts at nl.abnamro.com</A>&gt; has patiently assisted with
-# with debugging of the following config.
+    # Frank Geurts &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">frank.geurts at nl.abnamro.com</A>&gt; has patiently assisted
+    # with debugging of the following config.
     &quot;hpux64-ia64-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ia64_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;ia64_asm&quot;) ],
         cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-Ae +DD64 +O3 +Olit=all -z -DB_ENDIAN -D_REENTRANT&quot;,
+        cflags           =&gt; &quot;-Ae +DD64 +Olit=all -z -DB_ENDIAN&quot;,
+        debug_cflags     =&gt; &quot;+O0 +d -g&quot;,
+        release_cflags   =&gt; &quot;+O3&quot;,
+        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-ldl&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG MD2_CHAR RC4_INDEX DES_UNROLL DES_RISC1 DES_INT&quot;,
         dso_scheme       =&gt; &quot;dlfcn&quot;,
@@ -499,11 +417,14 @@
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
         multilib         =&gt; &quot;/hpux64&quot;,
     },
-# GCC builds...
+    # GCC builds...
     &quot;hpux-ia64-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ia64_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;ia64_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3 -DB_ENDIAN -D_REENTRANT&quot;,
+        cflags           =&gt; &quot;-DB_ENDIAN&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g&quot;,
+        release_cflags   =&gt; &quot;-O3&quot;,
+        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-ldl&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT MD2_CHAR RC4_INDEX DES_UNROLL DES_RISC1 DES_INT&quot;,
         dso_scheme       =&gt; &quot;dlfcn&quot;,
@@ -514,9 +435,12 @@
         multilib         =&gt; &quot;/hpux32&quot;,
     },
     &quot;hpux64-ia64-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ia64_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;ia64_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-mlp64 -O3 -DB_ENDIAN -D_REENTRANT&quot;,
+        cflags           =&gt; &quot;-mlp64 -DB_ENDIAN&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g&quot;,
+        release_cflags   =&gt; &quot;-O3&quot;,
+        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-ldl&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG MD2_CHAR RC4_INDEX DES_UNROLL DES_RISC1 DES_INT&quot;,
         dso_scheme       =&gt; &quot;dlfcn&quot;,
@@ -527,34 +451,6 @@
         multilib         =&gt; &quot;/hpux64&quot;,
     },
 
-# Legacy HPUX 9.X configs...
-    &quot;hpux-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
-        cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-DB_ENDIAN -DBN_DIV2W -DMD32_XARRAY -Ae +ESlit +O2 -z&quot;,
-        thread_cflag     =&gt; &quot;(unknown)&quot;,
-        lflags           =&gt; &quot;-Wl,+s -ldld&quot;,
-        bn_ops           =&gt; &quot;DES_PTR DES_UNROLL DES_RISC1&quot;,
-        dso_scheme       =&gt; &quot;dl&quot;,
-        shared_target    =&gt; &quot;hpux-shared&quot;,
-        shared_cflag     =&gt; &quot;+Z&quot;,
-        shared_ldflag    =&gt; &quot;-b&quot;,
-        shared_extension =&gt; &quot;.sl.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-    },
-    &quot;hpux-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-DB_ENDIAN -DBN_DIV2W -O3&quot;,
-        thread_cflag     =&gt; &quot;(unknown)&quot;,
-        lflags           =&gt; &quot;-Wl,+s -ldld&quot;,
-        bn_ops           =&gt; &quot;DES_PTR DES_UNROLL DES_RISC1&quot;,
-        dso_scheme       =&gt; &quot;dl&quot;,
-        shared_target    =&gt; &quot;hpux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_ldflag    =&gt; &quot;-shared&quot;,
-        shared_extension =&gt; &quot;.sl.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-    },
-
 #### HP MPE/iX <A HREF="http://jazz.external.hp.com/src/openssl/">http://jazz.external.hp.com/src/openssl/</A>
     &quot;MPE/iX-gcc&quot; =&gt; {
         cc               =&gt; &quot;gcc&quot;,
@@ -565,7 +461,7 @@
         bn_ops           =&gt; &quot;BN_LLONG DES_PTR DES_UNROLL DES_RISC1&quot;,
     },
 
-# DEC Alpha OSF/1/Tru64 targets.
+#### DEC Alpha OSF/1/Tru64 targets.
 #
 #	&quot;What's in a name? That which we call a rose
 #	 By any other word would smell as sweet.&quot;
@@ -575,7 +471,7 @@
 # For gcc, the following gave a %50 speedup on a 164 over the 'DES_INT' version
 #
     &quot;osf1-alpha-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;alpha_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;alpha_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
         cflags           =&gt; &quot;-O3&quot;,
         thread_cflag     =&gt; &quot;(unknown)&quot;,
@@ -585,7 +481,7 @@
         shared_extension =&gt; &quot;.so&quot;,
     },
     &quot;osf1-alpha-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;alpha_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;alpha_asm&quot;) ],
         cc               =&gt; &quot;cc&quot;,
         cflags           =&gt; &quot;-std1 -tune host -O4 -readonly_strings&quot;,
         thread_cflag     =&gt; &quot;(unknown)&quot;,
@@ -595,7 +491,7 @@
         shared_extension =&gt; &quot;.so&quot;,
     },
     &quot;tru64-alpha-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;alpha_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;alpha_asm&quot;) ],
         cc               =&gt; &quot;cc&quot;,
         cflags           =&gt; &quot;-std1 -tune host -fast -readonly_strings&quot;,
         thread_cflag     =&gt; &quot;-pthread&quot;,
@@ -612,11 +508,10 @@
 # *-generic* is endian-neutral target, but ./config is free to
 # throw in -D[BL]_ENDIAN, whichever appropriate...
     &quot;linux-generic32&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;gcc&quot;,
         cflags           =&gt; &quot;-Wall&quot;,
-        debug_cflags     =&gt; &quot;-DBN_DEBUG -DREF_CHECK -DCONF_DEBUG -DCRYPTO_MDEBUG -g&quot;,
-        release_cflags   =&gt; &quot;-O3 -fomit-frame-pointer&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g -DBN_DEBUG -DREF_CHECK -DCONF_DEBUG -DCRYPTO_MDEBUG&quot;,
+        release_cflags   =&gt; &quot;-O3&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         lflags           =&gt; &quot;-ldl&quot;,
         bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR&quot;,
@@ -625,425 +520,206 @@
         shared_cflag     =&gt; &quot;-fPIC&quot;,
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
+    &quot;linux-generic64&quot; =&gt; {
+        inherit_from     =&gt; [ &quot;linux-generic32&quot; ],
+        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR&quot;,
+    },
+
     &quot;linux-ppc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ppc32_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-DB_ENDIAN -O3 -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_RISC1 DES_UNROLL&quot;,
+        inherit_from     =&gt; [ &quot;linux-generic32&quot;, asm(&quot;ppc32_asm&quot;) ],
         perlasm_scheme   =&gt; &quot;linux32&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+    },
+    &quot;linux-ppc64&quot; =&gt; {
+        inherit_from     =&gt; [ &quot;linux-generic64&quot;, asm(&quot;ppc64_asm&quot;) ],
+        cflags           =&gt; &quot;-m64 -Wall -DB_ENDIAN&quot;,
+        perlasm_scheme   =&gt; &quot;linux64&quot;,
+        shared_ldflag    =&gt; &quot;-m64&quot;,
+        multilib         =&gt; &quot;64&quot;,
+    },
+    &quot;linux-ppc64le&quot; =&gt; {
+        inherit_from     =&gt; [ &quot;linux-generic64&quot;, asm(&quot;ppc64_asm&quot;) ],
+        cflags           =&gt; &quot;-m64 -Wall -DL_ENDIAN&quot;,
+        perlasm_scheme   =&gt; &quot;linux64le&quot;,
+        shared_ldflag    =&gt; &quot;-m64&quot;,
     },
 
-#######################################################################
-# Note that -march is not among compiler options in below linux-armv4
-# target line. Not specifying one is intentional to give you choice to:
-#
-# a) rely on your compiler default by not specifying one;
-# b) specify your target platform explicitly for optimal performance,
-#    e.g. -march=armv6 or -march=armv7-a;
-# c) build &quot;universal&quot; binary that targets *range* of platforms by
-#    specifying minimum and maximum supported architecture;
-#
-# As for c) option. It actually makes no sense to specify maximum to be
-# less than ARMv7, because it's the least requirement for run-time
-# switch between platform-specific code paths. And without run-time
-# switch performance would be equivalent to one for minimum. Secondly,
-# there are some natural limitations that you'd have to accept and
-# respect. Most notably you can *not* build &quot;universal&quot; binary for
-# big-endian platform. This is because ARMv7 processor always picks
-# instructions in little-endian order. Another similar limitation is
-# that -mthumb can't &quot;cross&quot; -march=armv6t2 boundary, because that's
-# where it became Thumb-2. Well, this limitation is a bit artificial,
-# because it's not really impossible, but it's deemed too tricky to
-# support. And of course you have to be sure that your binutils are
-# actually up to the task of handling maximum target platform. With all
-# this in mind here is an example of how to configure &quot;universal&quot; build:
-#
-#       ./Configure linux-armv4 -march=armv6 -D__ARM_MAX_ARCH__=8
-#
     &quot;linux-armv4&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;armv4_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3 -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        ################################################################
+        # Note that -march is not among compiler options in linux-armv4
+        # target description. Not specifying one is intentional to give
+        # you choice to:
+        #
+        # a) rely on your compiler default by not specifying one;
+        # b) specify your target platform explicitly for optimal
+        # performance, e.g. -march=armv6 or -march=armv7-a;
+        # c) build &quot;universal&quot; binary that targets *range* of platforms
+        # by specifying minimum and maximum supported architecture;
+        #
+        # As for c) option. It actually makes no sense to specify
+        # maximum to be less than ARMv7, because it's the least
+        # requirement for run-time switch between platform-specific
+        # code paths. And without run-time switch performance would be
+        # equivalent to one for minimum. Secondly, there are some
+        # natural limitations that you'd have to accept and respect.
+        # Most notably you can *not* build &quot;universal&quot; binary for
+        # big-endian platform. This is because ARMv7 processor always
+        # picks instructions in little-endian order. Another similar
+        # limitation is that -mthumb can't &quot;cross&quot; -march=armv6t2
+        # boundary, because that's where it became Thumb-2. Well, this
+        # limitation is a bit artificial, because it's not really
+        # impossible, but it's deemed too tricky to support. And of
+        # course you have to be sure that your binutils are actually
+        # up to the task of handling maximum target platform. With all
+        # this in mind here is an example of how to configure
+        # &quot;universal&quot; build:
+        #
+        # ./Configure linux-armv4 -march=armv6 -D__ARM_MAX_ARCH__=8
+        #
+        inherit_from     =&gt; [ &quot;linux-generic32&quot;, asm(&quot;armv4_asm&quot;) ],
+        perlasm_scheme   =&gt; &quot;linux32&quot;,
     },
     &quot;linux-aarch64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;aarch64_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3 -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR&quot;,
+        inherit_from     =&gt; [ &quot;linux-generic64&quot;, asm(&quot;aarch64_asm&quot;) ],
         perlasm_scheme   =&gt; &quot;linux64&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
-# Configure script adds minimally required -march for assembly support,
-# if no -march was specified at command line. mips32 and mips64 below
-# refer to contemporary MIPS Architecture specifications, MIPS32 and
-# MIPS64, rather than to kernel bitness.
+
     &quot;linux-mips32&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;mips32_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-mabi=32 -O3 -Wall -DBN_DIV3W&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR&quot;,
+        # Configure script adds minimally required -march for assembly
+        # support, if no -march was specified at command line.
+        inherit_from     =&gt; [ &quot;linux-generic32&quot;, asm(&quot;mips32_asm&quot;) ],
+        cflags           =&gt; &quot;-mabi=32 -Wall -DBN_DIV3W&quot;,
         perlasm_scheme   =&gt; &quot;o32&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        shared_ldflag    =&gt; &quot;-mabi=32&quot;,
     },
+    # mips32 and mips64 below refer to contemporary MIPS Architecture
+    # specifications, MIPS32 and MIPS64, rather than to kernel bitness.
     &quot;linux-mips64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;mips64_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-mabi=n32 -O3 -Wall -DBN_DIV3W&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
+        inherit_from     =&gt; [ &quot;linux-generic32&quot;, asm(&quot;mips64_asm&quot;) ],
+        cflags           =&gt; &quot;-mabi=n32 -Wall -DBN_DIV3W&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR&quot;,
         perlasm_scheme   =&gt; &quot;n32&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
         shared_ldflag    =&gt; &quot;-mabi=n32&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
         multilib         =&gt; &quot;32&quot;,
     },
     &quot;linux64-mips64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;mips64_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
+        inherit_from     =&gt; [ &quot;linux-generic64&quot;, asm(&quot;mips64_asm&quot;) ],
         cflags           =&gt; &quot;-mabi=64 -O3 -Wall -DBN_DIV3W&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR&quot;,
         perlasm_scheme   =&gt; &quot;64&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
         shared_ldflag    =&gt; &quot;-mabi=64&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
         multilib         =&gt; &quot;64&quot;,
     },
-#### IA-32 targets...
-    &quot;linux-ia32-icc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_elf_asm&quot; ],
-        cc               =&gt; &quot;icc&quot;,
-        cflags           =&gt; &quot;-DL_ENDIAN -O2&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl -no_cpprt&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG ${x86_gcc_des} ${x86_gcc_opts}&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-KPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-    },
+
+    #### IA-32 targets...
     &quot;linux-elf&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_elf_asm&quot; ],
+        inherit_from     =&gt; [ &quot;linux-generic32&quot;, asm(&quot;x86_elf_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-DL_ENDIAN -Wall&quot;,
-        debug_cflags     =&gt; &quot;-DBN_DEBUG -DREF_CHECK -DCONF_DEBUG -DBN_CTX_DEBUG -DCRYPTO_MDEBUG -g -march=i486&quot;,
+        cflags           =&gt; &quot;-march=i486 -DL_ENDIAN -Wall&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g -DBN_DEBUG -DREF_CHECK -DCONF_DEBUG -DBN_CTX_DEBUG -DCRYPTO_MDEBUG&quot;,
         release_cflags   =&gt; &quot;-O3 -fomit-frame-pointer&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
         debug_lflags     =&gt; &quot;-lefence&quot;,
         bn_ops           =&gt; &quot;BN_LLONG ${x86_gcc_des} ${x86_gcc_opts}&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
     &quot;linux-aout&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;x86_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-DL_ENDIAN -O3 -fomit-frame-pointer -march=i486 -Wall&quot;,
+        cflags           =&gt; &quot;-DL_ENDIAN -march=i486 -Wall&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g&quot;,
+        release_cflags   =&gt; &quot;-O3 -fomit-frame-pointer&quot;,
         thread_cflag     =&gt; &quot;(unknown)&quot;,
         bn_ops           =&gt; &quot;BN_LLONG ${x86_gcc_des} ${x86_gcc_opts}&quot;,
         perlasm_scheme   =&gt; &quot;a.out&quot;,
     },
-####
-    &quot;linux-generic64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-Wall&quot;,
-        debug_cflags     =&gt; &quot;-DBN_DEBUG -DREF_CHECK -DCONF_DEBUG -DCRYPTO_MDEBUG -g&quot;,
-        release_cflags   =&gt; &quot;-O3&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-    },
-    &quot;linux-ppc64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ppc64_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-m64 -DB_ENDIAN -O3 -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_RISC1 DES_UNROLL&quot;,
-        perlasm_scheme   =&gt; &quot;linux64&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_ldflag    =&gt; &quot;-m64&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-        multilib         =&gt; &quot;64&quot;,
-    },
-    &quot;linux-ppc64le&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ppc64_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-m64 -DL_ENDIAN -O3 -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_RISC1 DES_UNROLL&quot;,
-        perlasm_scheme   =&gt; &quot;linux64le&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_ldflag    =&gt; &quot;-m64&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-    },
-    &quot;linux-ia64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ia64_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-DL_ENDIAN -O3 -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_UNROLL DES_INT&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-    },
-    &quot;linux-ia64-icc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ia64_asm&quot; ],
-        cc               =&gt; &quot;icc&quot;,
-        cflags           =&gt; &quot;-DL_ENDIAN -O2 -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl -no_cpprt&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_RISC1 DES_INT&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-    },
+
     &quot;linux-x86_64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_64_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
+        inherit_from     =&gt; [ &quot;linux-generic64&quot;, asm(&quot;x86_64_asm&quot;) ],
         cflags           =&gt; &quot;-m64 -DL_ENDIAN -Wall&quot;,
-        debug_cflags     =&gt; &quot;-DBN_DEBUG -DREF_CHECK -DCONF_DEBUG -DCRYPTO_MDEBUG -g&quot;,
-        release_cflags   =&gt; &quot;-O3&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_INT DES_UNROLL&quot;,
-        perlasm_scheme   =&gt; &quot;elf&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_ldflag    =&gt; &quot;-m64&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-        multilib         =&gt; &quot;64&quot;,
-    },
-    &quot;linux-x86_64-clang&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_64_asm&quot; ],
-        cc               =&gt; &quot;clang&quot;,
-        cflags           =&gt; &quot;-m64 -DL_ENDIAN -O3 -Weverything $clang_disabled_warnings -Qunused-arguments&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_INT DES_UNROLL&quot;,
-        perlasm_scheme   =&gt; &quot;elf&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_ldflag    =&gt; &quot;-m64&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-        multilib         =&gt; &quot;64&quot;,
-    },
-    &quot;linux-x86_64-icc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_64_asm&quot; ],
-        cc               =&gt; &quot;icc&quot;,
-        cflags           =&gt; &quot;-DL_ENDIAN -O2&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl -no_cpprt&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_INT DES_UNROLL&quot;,
         perlasm_scheme   =&gt; &quot;elf&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        shared_ldflag    =&gt; &quot;-m64&quot;,
         multilib         =&gt; &quot;64&quot;,
     },
+    &quot;linux-x86_64-clang&quot; =&gt; {
+        inherit_from     =&gt; [ &quot;linux-x86_64&quot; ],
+        cc               =&gt; &quot;clang&quot;,
+        cflags           =&gt; &quot;-m64 -DL_ENDIAN -Weverything $clang_disabled_warnings -Qunused-arguments&quot;,
+    },
     &quot;linux-x32&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_64_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-mx32 -DL_ENDIAN -O3 -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
+        inherit_from     =&gt; [ &quot;linux-generic32&quot;, asm(&quot;x86_64_asm&quot;) ],
+        cflags           =&gt; &quot;-mx32 -DL_ENDIAN -Wall&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT RC4_CHUNK_LL DES_INT DES_UNROLL&quot;,
         perlasm_scheme   =&gt; &quot;elf&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
         shared_ldflag    =&gt; &quot;-mx32&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
         multilib         =&gt; &quot;x32&quot;,
     },
+
+    &quot;linux-ia64&quot; =&gt; {
+        inherit_from     =&gt; [ &quot;linux-generic64&quot;, asm(&quot;ia64_asm&quot;) ],
+        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_UNROLL DES_INT&quot;,
+    },
+
     &quot;linux64-s390x&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;s390x_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-m64 -DB_ENDIAN -O3 -Wall&quot;,
+        inherit_from     =&gt; [ &quot;linux-generic64&quot;, asm(&quot;s390x_asm&quot;) ],
+        cflags           =&gt; &quot;-m64 -Wall -DB_ENDIAN&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL&quot;,
         perlasm_scheme   =&gt; &quot;64&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
         shared_ldflag    =&gt; &quot;-m64&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
         multilib         =&gt; &quot;64&quot;,
     },
-#### So called &quot;highgprs&quot; target for z/Architecture CPUs
-# &quot;Highgprs&quot; is kernel feature first implemented in Linux 2.6.32, see
-# /proc/cpuinfo. The idea is to preserve most significant bits of
-# general purpose registers not only upon 32-bit process context
-# switch, but even on asynchronous signal delivery to such process.
-# This makes it possible to deploy 64-bit instructions even in legacy
-# application context and achieve better [or should we say adequate]
-# performance. The build is binary compatible with linux-generic32,
-# and the idea is to be able to install the resulting libcrypto.so
-# alongside generic one, e.g. as /lib/highgprs/libcrypto.so.x.y, for
-# ldconfig and run-time linker to autodiscover. Unfortunately it
-# doesn't work just yet, because of couple of bugs in glibc
-# sysdeps/s390/dl-procinfo.c affecting ldconfig and ld.so.1...
     &quot;linux32-s390x&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;s390x_32_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-m31 -Wa,-mzarch -DB_ENDIAN -O3 -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL&quot;,
+        #### So called &quot;highgprs&quot; target for z/Architecture CPUs
+        # &quot;Highgprs&quot; is kernel feature first implemented in Linux
+        # 2.6.32, see /proc/cpuinfo. The idea is to preserve most
+        # significant bits of general purpose registers not only
+        # upon 32-bit process context switch, but even on
+        # asynchronous signal delivery to such process. This makes
+        # it possible to deploy 64-bit instructions even in legacy
+        # application context and achieve better [or should we say
+        # adequate] performance. The build is binary compatible with
+        # linux-generic32, and the idea is to be able to install the
+        # resulting libcrypto.so alongside generic one, e.g. as
+        # /lib/highgprs/libcrypto.so.x.y, for ldconfig and run-time
+        # linker to autodiscover. Unfortunately it doesn't work just
+        # yet, because of couple of bugs in glibc
+        # sysdeps/s390/dl-procinfo.c affecting ldconfig and ld.so.1...
+        #
+        inherit_from     =&gt; [ &quot;linux-generic32&quot;, asm(&quot;s390x_asm&quot;) ],
+        cflags           =&gt; &quot;-m31 -Wall -Wa,-mzarch -DB_ENDIAN&quot;,
+        bn_obj           =&gt; sub { my $r=join(&quot; &quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>); $r=~s/bn\-s390x/bn_asm/; $r; },
         perlasm_scheme   =&gt; &quot;31&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
         shared_ldflag    =&gt; &quot;-m31&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
         multilib         =&gt; &quot;/highgprs&quot;,
     },
-#### SPARC Linux setups
-# Ray Miller &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">ray.miller at computing-services.oxford.ac.uk</A>&gt; has patiently
-# assisted with debugging of following two configs.
+
+    #### SPARC Linux setups
+    # Ray Miller &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">ray.miller at computing-services.oxford.ac.uk</A>&gt; has
+    # patiently assisted with debugging of following two configs.
     &quot;linux-sparcv8&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;sparcv8_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-mv8 -DB_ENDIAN -O3 -fomit-frame-pointer -Wall -DBN_DIV2W&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        inherit_from     =&gt; [ &quot;linux-generic32&quot;, asm(&quot;sparcv8_asm&quot;) ],
+        cflags           =&gt; &quot;-mv8 -Wall -DB_ENDIAN -DBN_DIV2W&quot;,
     },
-# it's a real mess with -mcpu=ultrasparc option under Linux, but
-# -Wa,-Av8plus should do the trick no matter what.
     &quot;linux-sparcv9&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;sparcv9_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-m32 -mcpu=ultrasparc -DB_ENDIAN -O3 -fomit-frame-pointer -Wall -Wa,-Av8plus -DBN_DIV2W&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        sys_id           =&gt; &quot;ULTRASPARC&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
+        # it's a real mess with -mcpu=ultrasparc option under Linux,
+        # but -Wa,-Av8plus should do the trick no matter what.
+        inherit_from     =&gt; [ &quot;linux-generic32&quot;, asm(&quot;sparcv9_asm&quot;) ],
+        cflags           =&gt; &quot;-m32 -mcpu=ultrasparc -Wall -Wa,-Av8plus -DB_ENDIAN -DBN_DIV2W&quot;,
         shared_ldflag    =&gt; &quot;-m32&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
-# GCC 3.1 is a requirement
     &quot;linux64-sparcv9&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;sparcv9_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-m64 -mcpu=ultrasparc -DB_ENDIAN -O3 -fomit-frame-pointer -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        sys_id           =&gt; &quot;ULTRASPARC&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_INT DES_PTR DES_RISC1 DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
+        # GCC 3.1 is a requirement
+        inherit_from     =&gt; [ &quot;linux-generic64&quot;, asm(&quot;sparcv9_asm&quot;) ],
+        cflags           =&gt; &quot;-m64 -mcpu=ultrasparc -Wall -DB_ENDIAN&quot;,
+        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR&quot;,
         shared_ldflag    =&gt; &quot;-m64&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
         multilib         =&gt; &quot;64&quot;,
     },
-#### Alpha Linux with GNU C and Compaq C setups
-# Special notes:
-# - linux-alpha+bwx-gcc is ment to be used from ./config only. If you
-#   ought to run './Configure linux-alpha+bwx-gcc' manually, do
-#   complement the command line with -mcpu=ev56, -mcpu=ev6 or whatever
-#   which is appropriate.
-# - If you use ccc keep in mind that -fast implies -arch host and the
-#   compiler is free to issue instructions which gonna make elder CPU
-#   choke. If you wish to build &quot;blended&quot; toolkit, add -arch generic
-#   *after* -fast and invoke './Configure linux-alpha-ccc' manually.
+
     &quot;linux-alpha-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;alpha_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3 -DL_ENDIAN&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
+        inherit_from     =&gt; [ &quot;linux-generic64&quot;, asm(&quot;alpha_asm&quot;) ],
+        cflags           =&gt; &quot;-DL_ENDIAN&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_RISC1 DES_UNROLL&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-    },
-    &quot;linux-alpha+bwx-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;alpha_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3 -DL_ENDIAN&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_RISC1 DES_UNROLL&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
-    },
-    &quot;linux-alpha-ccc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;alpha_asm&quot; ],
-        cc               =&gt; &quot;ccc&quot;,
-        cflags           =&gt; &quot;-fast -readonly_strings -DL_ENDIAN&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_INT DES_PTR DES_RISC1 DES_UNROLL&quot;,
     },
-    &quot;linux-alpha+bwx-ccc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;alpha_asm&quot; ],
-        cc               =&gt; &quot;ccc&quot;,
-        cflags           =&gt; &quot;-fast -readonly_strings -DL_ENDIAN&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_INT DES_PTR DES_RISC1 DES_UNROLL&quot;,
-    },
-#
-# TI_CGT_C6000_7.3.x is a requirement
     &quot;linux-c64xplus&quot; =&gt; {
+        # TI_CGT_C6000_7.3.x is a requirement
         cc               =&gt; &quot;cl6x&quot;,
         cflags           =&gt; &quot;--linux -ea=.s -eo=.o -mv6400+ -o2 -ox -ms -pden -DOPENSSL_SMALL_FOOTPRINT&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
@@ -1063,62 +739,33 @@
         ranlib           =&gt; &quot;true&quot;,
     },
 
-# Android: linux-* but without pointers to headers and libs.
+#### Android: linux-* but without pointers to headers and libs.
     &quot;android&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-mandroid -I\$(ANDROID_DEV)/include -B\$(ANDROID_DEV)/lib -O3 -fomit-frame-pointer -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        inherit_from     =&gt; [ &quot;linux-generic32&quot; ],
+        cflags           =&gt; &quot;-mandroid -I\$(ANDROID_DEV)/include -B\$(ANDROID_DEV)/lib -Wall&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g&quot;,
     },
     &quot;android-x86&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;android_x86_elf_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-mandroid -I\$(ANDROID_DEV)/include -B\$(ANDROID_DEV)/lib -O3 -fomit-frame-pointer -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
+        inherit_from     =&gt; [ &quot;android&quot;, asm(&quot;x86_asm&quot;) ],
+        release_cflags   =&gt; &quot;-O3 -fomit-frame-pointer&quot;,
         bn_ops           =&gt; &quot;BN_LLONG ${x86_gcc_des} ${x86_gcc_opts}&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        perlasm_scheme   =&gt; &quot;android&quot;,
     },
     &quot;android-armv7&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;armv4_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-march=armv7-a -mandroid -I\$(ANDROID_DEV)/include -B\$(ANDROID_DEV)/lib -O3 -fomit-frame-pointer -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        inherit_from     =&gt; [ &quot;android&quot;, asm(&quot;armv4_asm&quot;) ],
+        cflags           =&gt; sub { join (&quot; &quot;,&quot;-march=armv7-a&quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>); },
     },
     &quot;android-mips&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;mips32_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-mandroid -I\$(ANDROID_DEV)/include -B\$(ANDROID_DEV)/lib -O3 -Wall&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        lflags           =&gt; &quot;-ldl&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR&quot;,
+        inherit_from     =&gt; [ &quot;android&quot;, asm(&quot;mips32_asm&quot;) ],
         perlasm_scheme   =&gt; &quot;o32&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;linux-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
 
 #### *BSD [do see comment about ${BSDthreads} in Configure!]
     &quot;BSD-generic32&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3 -fomit-frame-pointer -Wall&quot;,
+        cflags           =&gt; &quot;-Wall&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g&quot;,
+        release_cflags   =&gt; &quot;-O3&quot;,
         thread_cflag     =&gt; &quot;${BSDthreads}&quot;,
         bn_ops           =&gt; &quot;BN_LLONG RC2_CHAR RC4_INDEX DES_INT DES_UNROLL&quot;,
         dso_scheme       =&gt; &quot;dlfcn&quot;,
@@ -1126,94 +773,52 @@
         shared_cflag     =&gt; &quot;-fPIC&quot;,
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
-    &quot;BSD-x86&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-DL_ENDIAN -O3 -fomit-frame-pointer -Wall&quot;,
-        thread_cflag     =&gt; &quot;${BSDthreads}&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG ${x86_gcc_des} ${x86_gcc_opts}&quot;,
-        perlasm_scheme   =&gt; &quot;a.out&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;bsd-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+    &quot;BSD-generic64&quot; =&gt; {
+        inherit_from     =&gt; [ &quot;BSD-generic32&quot; ],
+        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_INT DES_UNROLL&quot;,
     },
-    &quot;BSD-x86-elf&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_elf_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
+
+    &quot;BSD-x86&quot; =&gt; {
+        inherit_from     =&gt; [ &quot;BSD-generic32&quot;, asm(&quot;x86_asm&quot;) ],
         cflags           =&gt; &quot;-DL_ENDIAN -Wall&quot;,
-        debug_cflags     =&gt; &quot;-g&quot;,
         release_cflags   =&gt; &quot;-O3 -fomit-frame-pointer&quot;,
-        thread_cflag     =&gt; &quot;${BSDthreads}&quot;,
         bn_ops           =&gt; &quot;BN_LLONG ${x86_gcc_des} ${x86_gcc_opts}&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
         shared_target    =&gt; &quot;bsd-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+        perlasm_scheme   =&gt; &quot;a.out&quot;,
     },
-    &quot;BSD-sparcv8&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;sparcv8_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-DB_ENDIAN -O3 -mv8 -Wall&quot;,
-        thread_cflag     =&gt; &quot;${BSDthreads}&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC2_CHAR RC4_INDEX DES_INT DES_UNROLL&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;bsd-gcc-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+    &quot;BSD-x86-elf&quot; =&gt; {
+        inherit_from     =&gt; [ &quot;BSD-x86&quot; ],
+        perlasm_scheme   =&gt; &quot;elf&quot;,
     },
 
-    &quot;BSD-generic64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O3 -Wall&quot;,
-        thread_cflag     =&gt; &quot;${BSDthreads}&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_INT DES_UNROLL&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;bsd-gcc-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
+    &quot;BSD-sparcv8&quot; =&gt; {
+        inherit_from     =&gt; [ &quot;BSD-generic32&quot;, asm(&quot;sparcv8_asm&quot;) ],
+        cflags           =&gt; &quot;-mv8 -Wall -DB_ENDIAN&quot;,
     },
-# -DMD32_REG_T=int doesn't actually belong in sparc64 target, it
-# simply *happens* to work around a compiler bug in gcc 3.3.3,
-# triggered by RIPEMD160 code.
     &quot;BSD-sparc64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;sparcv9_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-DB_ENDIAN -O3 -DMD32_REG_T=int -Wall&quot;,
-        thread_cflag     =&gt; &quot;${BSDthreads}&quot;,
+        # -DMD32_REG_T=int doesn't actually belong in sparc64 target, it
+        # simply *happens* to work around a compiler bug in gcc 3.3.3,
+        # triggered by RIPEMD160 code.
+        inherit_from     =&gt; [ &quot;BSD-generic64&quot;, asm(&quot;sparcv9_asm&quot;) ],
+        cflags           =&gt; &quot;-DB_ENDIAN -DMD32_REG_T=int -Wall&quot;,
         bn_ops           =&gt; &quot;BN_LLONG RC2_CHAR RC4_CHUNK DES_INT DES_PTR DES_RISC2 BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;bsd-gcc-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
+
     &quot;BSD-ia64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ia64_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-DL_ENDIAN -O3 -Wall&quot;,
-        thread_cflag     =&gt; &quot;${BSDthreads}&quot;,
+        inherit_from     =&gt; [ &quot;BSD-generic64&quot;, asm(&quot;ia64_asm&quot;) ],
+        cflags           =&gt; &quot;-DL_ENDIAN -Wall&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_UNROLL DES_INT&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;bsd-gcc-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
+
     &quot;BSD-x86_64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_64_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-DL_ENDIAN -O3 -Wall&quot;,
-        thread_cflag     =&gt; &quot;${BSDthreads}&quot;,
+        inherit_from     =&gt; [ &quot;BSD-generic64&quot;, asm(&quot;x86_64_asm&quot;) ],
+        cflags           =&gt; &quot;-DL_ENDIAN -Wall&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_INT DES_UNROLL&quot;,
         perlasm_scheme   =&gt; &quot;elf&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;bsd-gcc-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC&quot;,
-        shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
 
     &quot;bsdi-elf-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_elf_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;x86_elf_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
         cflags           =&gt; &quot;-DPERL5 -DL_ENDIAN -fomit-frame-pointer -O3 -march=i486 -Wall&quot;,
         thread_cflag     =&gt; &quot;(unknown)&quot;,
@@ -1248,7 +853,6 @@
         bn_ops           =&gt; &quot;${x86_gcc_des} ${x86_gcc_opts}&quot;,
     },
     &quot;QNX6&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;gcc&quot;,
         lflags           =&gt; &quot;-lsocket&quot;,
         dso_scheme       =&gt; &quot;dlfcn&quot;,
@@ -1257,7 +861,7 @@
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
     &quot;QNX6-i386&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_elf_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;x86_elf_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
         cflags           =&gt; &quot;-DL_ENDIAN -O2 -Wall&quot;,
         lflags           =&gt; &quot;-lsocket&quot;,
@@ -1295,7 +899,7 @@
         bn_ops           =&gt; &quot;${x86_gcc_des} ${x86_gcc_opts}&quot;,
     },
     &quot;unixware-7&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_elf_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;x86_elf_asm&quot;) ],
         cc               =&gt; &quot;cc&quot;,
         cflags           =&gt; &quot;-O -DFILIO_H -Kalloca&quot;,
         thread_cflag     =&gt; &quot;-Kthread&quot;,
@@ -1308,7 +912,7 @@
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
     &quot;unixware-7-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_elf_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;x86_elf_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
         cflags           =&gt; &quot;-DL_ENDIAN -DFILIO_H -O3 -fomit-frame-pointer -march=pentium -Wall&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
@@ -1322,7 +926,7 @@
     },
 # SCO 5 - Ben Laurie &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">ben at algroup.co.uk</A>&gt; says the -O breaks the SCO cc.
     &quot;sco5-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_elf_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;x86_elf_asm&quot;) ],
         cc               =&gt; &quot;cc&quot;,
         cflags           =&gt; &quot;-belf&quot;,
         thread_cflag     =&gt; &quot;(unknown)&quot;,
@@ -1335,7 +939,7 @@
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
     },
     &quot;sco5-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_elf_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;x86_elf_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
         cflags           =&gt; &quot;-O3 -fomit-frame-pointer&quot;,
         thread_cflag     =&gt; &quot;(unknown)&quot;,
@@ -1349,17 +953,12 @@
     },
 
 #### IBM's AIX.
-    &quot;aix3-cc&quot; =&gt; {
-        cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-O -DB_ENDIAN -qmaxmem=16384&quot;,
-        thread_cflag     =&gt; &quot;(unknown)&quot;,
-        sys_id           =&gt; &quot;AIX&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR&quot;,
-    },
     &quot;aix-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ppc32_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;ppc32_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O -DB_ENDIAN&quot;,
+        cflags           =&gt; &quot;-DB_ENDIAN&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g&quot;,
+        release_cflags   =&gt; &quot;-O&quot;,
         thread_cflag     =&gt; &quot;-pthread&quot;,
         sys_id           =&gt; &quot;AIX&quot;,
         bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR&quot;,
@@ -1371,9 +970,11 @@
         arflags          =&gt; &quot;-X32&quot;,
     },
     &quot;aix64-gcc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ppc64_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;ppc64_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-maix64 -O -DB_ENDIAN&quot;,
+        cflags           =&gt; &quot;-maix64 -DB_ENDIAN&quot;,
+        debug_cflags     =&gt; &quot;-O0 -g&quot;,
+        release_cflags   =&gt; &quot;-O&quot;,
         thread_cflag     =&gt; &quot;-pthread&quot;,
         sys_id           =&gt; &quot;AIX&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHAR&quot;,
@@ -1384,12 +985,15 @@
         shared_extension =&gt; &quot;.so.\$(SHLIB_MAJOR).\$(SHLIB_MINOR)&quot;,
         arflags          =&gt; &quot;-X64&quot;,
     },
-# Below targets assume AIX 5. Idea is to effectively disregard $OBJECT_MODE
-# at build time. $OBJECT_MODE is respected at ./config stage!
+    # Below targets assume AIX 5. Idea is to effectively disregard
+    # $OBJECT_MODE at build time. $OBJECT_MODE is respected at
+    # ./config stage!
     &quot;aix-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ppc32_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;ppc32_asm&quot;) ],
         cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-q32 -O -DB_ENDIAN -qmaxmem=16384 -qro -qroconst&quot;,
+        cflags           =&gt; &quot;-q32 -DB_ENDIAN -qmaxmem=16384 -qro -qroconst&quot;,
+        debug_cflags     =&gt; &quot;&quot;,
+        release_cflags   =&gt; &quot;-O&quot;,
         thread_cflag     =&gt; &quot;-qthreaded -D_THREAD_SAFE&quot;,
         sys_id           =&gt; &quot;AIX&quot;,
         bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR&quot;,
@@ -1401,9 +1005,11 @@
         arflags          =&gt; &quot;-X 32&quot;,
     },
     &quot;aix64-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ppc64_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;ppc64_asm&quot;) ],
         cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-q64 -O -DB_ENDIAN -qmaxmem=16384 -qro -qroconst&quot;,
+        cflags           =&gt; &quot;-q64 -DB_ENDIAN -qmaxmem=16384 -qro -qroconst&quot;,
+        debug_cflags     =&gt; &quot;&quot;,
+        release_cflags   =&gt; &quot;-O&quot;,
         thread_cflag     =&gt; &quot;-qthreaded -D_THREAD_SAFE&quot;,
         sys_id           =&gt; &quot;AIX&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHAR&quot;,
@@ -1435,7 +1041,7 @@
         bn_ops           =&gt; &quot;THIRTY_TWO_BIT DES_PTR DES_UNROLL MD2_CHAR RC4_INDEX RC4_CHAR BF_PTR&quot;,
     },
 
-# Visual C targets
+#### Visual C targets
 #
 # Win64 targets, WIN64I denotes IA-64 and WIN64A - AMD64
 #
@@ -1443,79 +1049,59 @@
 # positives in some situations. Disabling it altogether masks both
 # legitimate and false cases, but as we compile on multiple platforms,
 # we rely on other compilers to catch legitimate cases.
-    &quot;VC-WIN64I&quot; =&gt; {
+    &quot;VC-common&quot; =&gt; {
+        template         =&gt; 1,
         cc               =&gt; &quot;cl&quot;,
-        cflags           =&gt; &quot;-W3 -wd4090 -Gs0 -Gy -nologo -DOPENSSL_SYS_WIN32 -DWIN32_LEAN_AND_MEAN -DL_ENDIAN -DUNICODE -D_UNICODE -D_CRT_SECURE_NO_DEPRECATE&quot;,
-        sys_id           =&gt; &quot;WIN64I&quot;,
-        bn_ops           =&gt; &quot;SIXTY_FOUR_BIT RC4_CHUNK_LL DES_INT EXPORT_VAR_AS_FN&quot;,
-        cpuid_obj        =&gt; &quot;ia64cpuid.o&quot;,
-        bn_obj           =&gt; &quot;ia64.o ia64-mont.o&quot;,
-        aes_obj          =&gt; &quot;aes_core.o aes_cbc.o aes-ia64.o&quot;,
-        md5_obj          =&gt; &quot;md5-ia64.o&quot;,
-        sha1_obj         =&gt; &quot;sha1-ia64.o sha256-ia64.o sha512-ia64.o&quot;,
-        modes_obj        =&gt; &quot;ghash-ia64.o&quot;,
-        perlasm_scheme   =&gt; &quot;ias&quot;,
+        cflags           =&gt; &quot;-W3 -wd4090 -Gs0 -GF -Gy -nologo -DOPENSSL_SYS_WIN32 -DWIN32_LEAN_AND_MEAN -DL_ENDIAN -D_CRT_SECURE_NO_DEPRECATE&quot;,
         dso_scheme       =&gt; &quot;win32&quot;,
     },
-    &quot;debug-VC-WIN64I&quot; =&gt; {
-        cc               =&gt; &quot;cl&quot;,
-        cflags           =&gt; &quot;-W3 -wd4090 -Gs0 -Gy -Zi -nologo -DOPENSSL_SYS_WIN32 -DWIN32_LEAN_AND_MEAN -DL_ENDIAN -DUNICODE -D_UNICODE -D_CRT_SECURE_NO_DEPRECATE&quot;,
+    &quot;VC-WIN64I&quot; =&gt; {
+        inherit_from     =&gt; [ &quot;VC-common&quot;, asm(&quot;ia64_asm&quot;) ],
+        cflags           =&gt; sub { join(&quot; &quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>,&quot;-DUNICODE -D_UNICODE&quot;); },
         sys_id           =&gt; &quot;WIN64I&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT RC4_CHUNK_LL DES_INT EXPORT_VAR_AS_FN&quot;,
-        cpuid_obj        =&gt; &quot;ia64cpuid.o&quot;,
-        bn_obj           =&gt; &quot;ia64.o&quot;,
-        aes_obj          =&gt; &quot;aes_core.o aes_cbc.o aes-ia64.o&quot;,
-        md5_obj          =&gt; &quot;md5-ia64.o&quot;,
-        sha1_obj         =&gt; &quot;sha1-ia64.o sha256-ia64.o sha512-ia64.o&quot;,
-        modes_obj        =&gt; &quot;ghash-ia64.o&quot;,
+        bn_obj           =&gt; sub { my $r=join(&quot; &quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>); $r=~s/bn\-//; $r; },
+        rc4_obj          =&gt; &quot;&quot;,
         perlasm_scheme   =&gt; &quot;ias&quot;,
-        dso_scheme       =&gt; &quot;win32&quot;,
     },
     &quot;VC-WIN64A&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;win_x86_64_asm&quot; ],
-        cc               =&gt; &quot;cl&quot;,
-        cflags           =&gt; &quot;-W3 -wd4090 -Gs0 -Gy -nologo -DOPENSSL_SYS_WIN32 -DWIN32_LEAN_AND_MEAN -DL_ENDIAN -DUNICODE -D_UNICODE -D_CRT_SECURE_NO_DEPRECATE&quot;,
-        debug_cflags     =&gt; &quot;-Zi&quot;,
+        inherit_from     =&gt; [ &quot;VC-common&quot;, asm(&quot;x86_64_asm&quot;) ],
+        cflags           =&gt; sub { join(&quot; &quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>,&quot;-DUNICODE -D_UNICODE&quot;); },
         sys_id           =&gt; &quot;WIN64A&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT RC4_CHUNK_LL DES_INT EXPORT_VAR_AS_FN&quot;,
+        bn_obj           =&gt; sub { my $r=join(&quot; &quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>); $r=~s/x86_64\-gcc/bn_asm/; $r; },
         perlasm_scheme   =&gt; &quot;auto&quot;,
-        dso_scheme       =&gt; &quot;win32&quot;,
     },
-# x86 Win32 target defaults to ANSI API, if you want UNICODE, complement
-# 'perl Configure VC-WIN32' with '-DUNICODE -D_UNICODE'
     &quot;VC-WIN32&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_asm&quot; ],
-        cc               =&gt; &quot;cl&quot;,
-        cflags           =&gt; &quot;-W3 -wd4090 -Gs0 -GF -Gy -nologo -DOPENSSL_SYS_WIN32 -DWIN32_LEAN_AND_MEAN -DL_ENDIAN -D_CRT_SECURE_NO_DEPRECATE&quot;,
-        debug_cflags     =&gt; &quot;-Zi&quot;,
+        # x86 Win32 target defaults to ANSI API, if you want UNICODE,
+        # configure with 'perl Configure VC-WIN32 -DUNICODE -D_UNICODE'
+        inherit_from     =&gt; [ &quot;VC-common&quot;, asm(&quot;x86_asm&quot;) ],
         sys_id           =&gt; &quot;WIN32&quot;,
         bn_ops           =&gt; &quot;BN_LLONG RC4_INDEX EXPORT_VAR_AS_FN ${x86_gcc_opts}&quot;,
         perlasm_scheme   =&gt; &quot;win32n&quot;,
-        dso_scheme       =&gt; &quot;win32&quot;,
     },
-# Unified CE target
     &quot;VC-CE&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;cl&quot;,
         sys_id           =&gt; &quot;WINCE&quot;,
         bn_ops           =&gt; &quot;BN_LLONG RC4_INDEX EXPORT_VAR_AS_FN ${x86_gcc_opts}&quot;,
         dso_scheme       =&gt; &quot;win32&quot;,
     },
 
-# Borland C++ 4.5
+#### Borland C++ 4.5
     &quot;BC-32&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;bcc32&quot;,
         sys_id           =&gt; &quot;WIN32&quot;,
         bn_ops           =&gt; &quot;BN_LLONG DES_PTR RC4_INDEX EXPORT_VAR_AS_FN&quot;,
         dso_scheme       =&gt; &quot;win32&quot;,
     },
 
-# MinGW
+#### MinGW
     &quot;mingw&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;x86_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-mno-cygwin -DL_ENDIAN -DWIN32_LEAN_AND_MEAN -fomit-frame-pointer -O3 -march=i486 -Wall&quot;,
+        cflags           =&gt; &quot;-mno-cygwin -DL_ENDIAN -DWIN32_LEAN_AND_MEAN -march=i486 -Wall&quot;,
+        debug_cflags     =&gt; &quot;-g -O0&quot;,
+        release_clags    =&gt; &quot;-O3 -fomit-frame-pointer&quot;,
         thread_cflag     =&gt; &quot;-D_MT&quot;,
         sys_id           =&gt; &quot;MINGW32&quot;,
         lflags           =&gt; &quot;-lws2_32 -lgdi32 -lcrypt32&quot;,
@@ -1527,17 +1113,20 @@
         shared_ldflag    =&gt; &quot;-mno-cygwin&quot;,
         shared_extension =&gt; &quot;.dll.a&quot;,
     },
-# As for OPENSSL_USE_APPLINK. Applink makes it possible to use .dll
-# compiled with one compiler with application compiled with another
-# compiler. It's possible to engage Applink support in mingw64 build,
-# but it's not done, because till mingw64 supports structured exception
-# handling, one can't seriously consider its binaries for using with
-# non-mingw64 run-time environment. And as mingw64 is always consistent
-# with itself, Applink is never engaged and can as well be omitted.
     &quot;mingw64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_64_asm&quot; ],
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-mno-cygwin -DL_ENDIAN -O3 -Wall -DWIN32_LEAN_AND_MEAN -DUNICODE -D_UNICODE&quot;,
+        # As for OPENSSL_USE_APPLINK. Applink makes it possible to use
+        # .dll compiled with one compiler with application compiled with
+        # another compiler. It's possible to engage Applink support in
+        # mingw64 build, but it's not done, because till mingw64
+        # supports structured exception handling, one can't seriously
+        # consider its binaries for using with non-mingw64 run-time
+        # environment. And as mingw64 is always consistent with itself,
+        # Applink is never engaged and can as well be omitted.
+        inherit_from     =&gt; [ asm(&quot;x86_64_asm&quot;) ],
+        cc               =&gt; &quot;gcc&quot;,
+        cflags           =&gt; &quot;-mno-cygwin -DL_ENDIAN -Wall -DWIN32_LEAN_AND_MEAN -DUNICODE -D_UNICODE&quot;,
+        debug_cflags     =&gt; &quot;-g -O0&quot;,
+        release_clags    =&gt; &quot;-O3&quot;,
         thread_cflag     =&gt; &quot;-D_MT&quot;,
         sys_id           =&gt; &quot;MINGW64&quot;,
         lflags           =&gt; &quot;-lws2_32 -lgdi32 -lcrypt32&quot;,
@@ -1550,9 +1139,8 @@
         shared_extension =&gt; &quot;.dll.a&quot;,
     },
 
-# UWIN
+#### UWIN
     &quot;UWIN&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;cc&quot;,
         cflags           =&gt; &quot;-DTERMIOS -DL_ENDIAN -O -Wall&quot;,
         sys_id           =&gt; &quot;UWIN&quot;,
@@ -1560,11 +1148,13 @@
         dso_scheme       =&gt; &quot;win32&quot;,
     },
 
-# Cygwin
+#### Cygwin
     &quot;Cygwin&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;x86_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-DTERMIOS -DL_ENDIAN -fomit-frame-pointer -O3 -march=i486 -Wall&quot;,
+        cflags           =&gt; &quot;-DTERMIOS -DL_ENDIAN -march=i486 -Wall&quot;,
+        debug_cflags     =&gt; &quot;-g -O0&quot;,
+        release_clags    =&gt; &quot;-O3 -fomit-frame-pointer&quot;,
         sys_id           =&gt; &quot;CYGWIN&quot;,
         bn_ops           =&gt; &quot;BN_LLONG ${x86_gcc_des} ${x86_gcc_opts}&quot;,
         perlasm_scheme   =&gt; &quot;coff&quot;,
@@ -1575,9 +1165,11 @@
         shared_extension =&gt; &quot;.dll.a&quot;,
     },
     &quot;Cygwin-x86_64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_64_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;x86_64_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-DTERMIOS -DL_ENDIAN -O3 -Wall&quot;,
+        cflags           =&gt; &quot;-DTERMIOS -DL_ENDIAN -Wall&quot;,
+        debug_cflags     =&gt; &quot;-g -O0&quot;,
+        release_clags    =&gt; &quot;-O3&quot;,
         sys_id           =&gt; &quot;CYGWIN&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_INT DES_UNROLL&quot;,
         perlasm_scheme   =&gt; &quot;mingw64&quot;,
@@ -1588,7 +1180,7 @@
         shared_extension =&gt; &quot;.dll.a&quot;,
     },
 
-# NetWare from David Ward (<A HREF="../../../mailman/listinfo/openssl-commits.html">dsward at novell.com</A>)
+#### NetWare from David Ward (<A HREF="../../../mailman/listinfo/openssl-commits.html">dsward at novell.com</A>)
 # requires either MetroWerks NLM development tools, or gcc / nlmconv
 # NetWare defaults socket bio to WinSock sockets. However,
 # the builds can be configured to use BSD sockets instead.
@@ -1611,7 +1203,7 @@
         cflags           =&gt; &quot;-nostdinc -I/ndk/nwsdk/include/nlm -DNETWARE_BSDSOCK -DNETDB_USE_INTERNET -DL_ENDIAN -DNETWARE_CLIB -DOPENSSL_SYS_NETWARE -O2 -Wall&quot;,
         bn_ops           =&gt; &quot;${x86_gcc_opts}&quot;,
     },
-# netware-libc =&gt; LibC/NKS support
+    # netware-libc =&gt; LibC/NKS support
     &quot;netware-libc&quot; =&gt; {
         cc               =&gt; &quot;mwccnlm&quot;,
         bn_ops           =&gt; &quot;BN_LLONG ${x86_gcc_opts}&quot;,
@@ -1631,9 +1223,9 @@
         bn_ops           =&gt; &quot;BN_LLONG ${x86_gcc_opts}&quot;,
     },
 
-# DJGPP
+#### DJGPP
     &quot;DJGPP&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;x86_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
         cflags           =&gt; &quot;-I/dev/env/WATT_ROOT/inc -DTERMIO -DL_ENDIAN -fomit-frame-pointer -O2 -Wall&quot;,
         sys_id           =&gt; &quot;MSDOS&quot;,
@@ -1642,7 +1234,7 @@
         perlasm_scheme   =&gt; &quot;a.out&quot;,
     },
 
-# Ultrix from Bernhard Simon &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">simon at zid.tuwien.ac.at</A>&gt;
+#### Ultrix from Bernhard Simon &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">simon at zid.tuwien.ac.at</A>&gt;
     &quot;ultrix-cc&quot; =&gt; {
         cc               =&gt; &quot;cc&quot;,
         cflags           =&gt; &quot;-std1 -O -Olimit 2500 -DL_ENDIAN&quot;,
@@ -1658,11 +1250,11 @@
 ##&quot;ultrix&quot;,&quot;cc:-O2 -DNOPROTO -DNOCONST -DL_ENDIAN::(unknown):::::::&quot;,
 
 ##### MacOS X (a.k.a. Darwin) setup
-    &quot;darwin-ppc-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ppc32_asm&quot; ],
+    &quot;darwin-common&quot; =&gt; {
+        template         =&gt; 1,
         cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-arch ppc -DB_ENDIAN -Wa,-force_cpusubtype_ALL&quot;,
-        debug_cflags     =&gt; &quot;-DBN_DEBUG -DREF_CHECK -DCONF_DEBUG -DCRYPTO_MDEBUG -g -Wall -O&quot;,
+        cflags           =&gt; &quot;&quot;,
+        debug_cflags     =&gt; &quot;-g -O0&quot;,
         release_cflags   =&gt; &quot;-O3&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
         sys_id           =&gt; &quot;MACOSX&quot;,
@@ -1672,59 +1264,39 @@
         dso_scheme       =&gt; &quot;dlfcn&quot;,
         shared_target    =&gt; &quot;darwin-shared&quot;,
         shared_cflag     =&gt; &quot;-fPIC -fno-common&quot;,
-        shared_ldflag    =&gt; &quot;-arch ppc -dynamiclib&quot;,
+        shared_ldflag    =&gt; &quot;-dynamiclib&quot;,
         shared_extension =&gt; &quot;.\$(SHLIB_MAJOR).\$(SHLIB_MINOR).dylib&quot;,
     },
+    &quot;darwin-ppc-cc&quot; =&gt; {
+        inherit_from     =&gt; [ &quot;darwin-common&quot;, asm(&quot;ppc32_asm&quot;) ],
+        cflags           =&gt; &quot;-arch ppc -DB_ENDIAN -Wa,-force_cpusubtype_ALL&quot;,
+        perlasm_scheme   =&gt; &quot;osx32&quot;,
+        shared_ldflag    =&gt; &quot;-arch ppc -dynamiclib&quot;,
+    },
     &quot;darwin64-ppc-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;ppc64_asm&quot; ],
-        cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-arch ppc64 -O3 -DB_ENDIAN&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        sys_id           =&gt; &quot;MACOSX&quot;,
-        lflags           =&gt; &quot;-Wl,-search_paths_first%&quot;,
+        inherit_from     =&gt; [ &quot;darwin-common&quot;, asm(&quot;ppc64_asm&quot;) ],
+        cflags           =&gt; &quot;-arch ppc64 -DB_ENDIAN&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_UNROLL BF_PTR&quot;,
         perlasm_scheme   =&gt; &quot;osx64&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;darwin-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC -fno-common&quot;,
         shared_ldflag    =&gt; &quot;-arch ppc64 -dynamiclib&quot;,
-        shared_extension =&gt; &quot;.\$(SHLIB_MAJOR).\$(SHLIB_MINOR).dylib&quot;,
     },
     &quot;darwin-i386-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_asm_nocast&quot; ],
-        cc               =&gt; &quot;cc&quot;,
+        inherit_from     =&gt; [ &quot;darwin-common&quot;, asm(&quot;x86_asm&quot;) ],
         cflags           =&gt; &quot;-arch i386 -DL_ENDIAN&quot;,
-        debug_cflags     =&gt; &quot;-g3&quot;,
         release_cflags   =&gt; &quot;-O3 -fomit-frame-pointer&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        sys_id           =&gt; &quot;MACOSX&quot;,
-        lflags           =&gt; &quot;-Wl,-search_paths_first%&quot;,
         bn_ops           =&gt; &quot;BN_LLONG RC4_INT RC4_CHUNK DES_UNROLL BF_PTR&quot;,
         perlasm_scheme   =&gt; &quot;macosx&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;darwin-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC -fno-common&quot;,
         shared_ldflag    =&gt; &quot;-arch i386 -dynamiclib&quot;,
-        shared_extension =&gt; &quot;.\$(SHLIB_MAJOR).\$(SHLIB_MINOR).dylib&quot;,
     },
     &quot;darwin64-x86_64-cc&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_64_asm&quot; ],
-        cc               =&gt; &quot;cc&quot;,
+        inherit_from     =&gt; [ &quot;darwin-common&quot;, asm(&quot;x86_64_asm&quot;) ],
         cflags           =&gt; &quot;-arch x86_64 -DL_ENDIAN -Wall&quot;,
-        debug_cflags     =&gt; &quot;-ggdb -g2 -O0&quot;,
-        release_cflags   =&gt; &quot;-O3&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
-        sys_id           =&gt; &quot;MACOSX&quot;,
-        lflags           =&gt; &quot;-Wl,-search_paths_first%&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHUNK DES_INT DES_UNROLL&quot;,
         perlasm_scheme   =&gt; &quot;macosx&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;darwin-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC -fno-common&quot;,
         shared_ldflag    =&gt; &quot;-arch x86_64 -dynamiclib&quot;,
-        shared_extension =&gt; &quot;.\$(SHLIB_MAJOR).\$(SHLIB_MINOR).dylib&quot;,
     },
-# iPhoneOS/iOS
+
+#### iPhoneOS/iOS
 #
 # It takes three prior-set environment variables to make it work:
 #
@@ -1737,51 +1309,24 @@
 #
 # CROSS_COMPILE=`xcode-select --print-path`/Toolchains/XcodeDefault.xctoolchain/usr/bin/
 # CROSS_TOP=`xcode-select --print-path`/Platforms/iPhoneOS.platform/Developer
-# CROSS_SDK=iPhoneOS7.0.sdk
+# CROSS_SDK=iPhoneOS.sdk
 #
     &quot;iphoneos-cross&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
-        cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-O3 -isysroot \$(CROSS_TOP)/SDKs/\$(CROSS_SDK) -fomit-frame-pointer -fno-common&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
+        inherit_from     =&gt; [ &quot;darwin-common&quot; ],
+        cflags           =&gt; &quot;-isysroot \$(CROSS_TOP)/SDKs/\$(CROSS_SDK) -fno-common&quot;,
         sys_id           =&gt; &quot;iOS&quot;,
-        lflags           =&gt; &quot;-Wl,-search_paths_first%&quot;,
-        bn_ops           =&gt; &quot;BN_LLONG RC4_CHAR RC4_CHUNK DES_UNROLL BF_PTR&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;darwin-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC -fno-common&quot;,
-        shared_ldflag    =&gt; &quot;-dynamiclib&quot;,
-        shared_extension =&gt; &quot;.\$(SHLIB_MAJOR).\$(SHLIB_MINOR).dylib&quot;,
     },
     &quot;ios64-cross&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;aarch64_asm&quot; ],
-        cc               =&gt; &quot;cc&quot;,
-        cflags           =&gt; &quot;-O3 -arch arm64 -mios-version-min=7.0.0 -isysroot \$(CROSS_TOP)/SDKs/\$(CROSS_SDK) -fno-common&quot;,
-        thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
+        inherit_from     =&gt; [ &quot;darwin-common&quot;, asm(&quot;aarch64_asm&quot;) ],
+        cflags           =&gt; &quot;-arch arm64 -mios-version-min=7.0.0 -isysroot \$(CROSS_TOP)/SDKs/\$(CROSS_SDK) -fno-common&quot;,
         sys_id           =&gt; &quot;iOS&quot;,
-        lflags           =&gt; &quot;-Wl,-search_paths_first%&quot;,
         bn_ops           =&gt; &quot;SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR&quot;,
         perlasm_scheme   =&gt; &quot;ios64&quot;,
-        dso_scheme       =&gt; &quot;dlfcn&quot;,
-        shared_target    =&gt; &quot;darwin-shared&quot;,
-        shared_cflag     =&gt; &quot;-fPIC -fno-common&quot;,
-        shared_ldflag    =&gt; &quot;-dynamiclib&quot;,
-        shared_extension =&gt; &quot;.\$(SHLIB_MAJOR).\$(SHLIB_MINOR).dylib&quot;,
-    },
-
-##### A/UX
-    &quot;aux3-gcc&quot; =&gt; {
-        cc               =&gt; &quot;gcc&quot;,
-        cflags           =&gt; &quot;-O2 -DTERMIO&quot;,
-        thread_cflag     =&gt; &quot;(unknown)&quot;,
-        sys_id           =&gt; &quot;AUX&quot;,
-        lflags           =&gt; &quot;-lbsd&quot;,
-        bn_ops           =&gt; &quot;RC4_CHAR RC4_CHUNK DES_UNROLL BF_PTR&quot;,
     },
 
 ##### GNU Hurd
     &quot;hurd-x86&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;x86_elf_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;x86_elf_asm&quot;) ],
         cc               =&gt; &quot;gcc&quot;,
         cflags           =&gt; &quot;-DL_ENDIAN -O3 -fomit-frame-pointer -march=i486 -Wall&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
@@ -1835,7 +1380,6 @@
         lflags           =&gt; &quot;-r&quot;,
     },
     &quot;vxworks-simlinux&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;ccpentium&quot;,
         cflags           =&gt; &quot;-B\$(WIND_BASE)/host/\$(WIND_HOST_TYPE)/lib/gcc-lib/ -D_VSB_CONFIG_FILE=\&quot;\$(WIND_BASE)/target/lib/h/config/vsbConfig.h\&quot; -DL_ENDIAN -DCPU=SIMLINUX -DTOOL_FAMILY=gnu -DTOOL=gnu -fno-builtin -fno-defer-pop -DNO_STRINGS_H -I\$(WIND_BASE)/target/h -I\$(WIND_BASE)/target/h/wrn/coreip -DOPENSSL_NO_HW_PADLOCK&quot;,
         sys_id           =&gt; &quot;VXWORKS&quot;,
@@ -1843,7 +1387,7 @@
         ranlib           =&gt; &quot;ranlibpentium&quot;,
     },
     &quot;vxworks-mips&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;mips32_asm&quot; ],
+        inherit_from     =&gt; [ asm(&quot;mips32_asm&quot;) ],
         cc               =&gt; &quot;ccmips&quot;,
         cflags           =&gt; &quot;-mrtp -mips2 -O -G 0 -B\$(WIND_BASE)/host/\$(WIND_HOST_TYPE)/lib/gcc-lib/ -D_VSB_CONFIG_FILE=\&quot;\$(WIND_BASE)/target/lib/h/config/vsbConfig.h\&quot; -DCPU=MIPS32 -msoft-float -mno-branch-likely -DTOOL_FAMILY=gnu -DTOOL=gnu -fno-builtin -fno-defer-pop -DNO_STRINGS_H -I\$(WIND_BASE)/target/usr/h -I\$(WIND_BASE)/target/h/wrn/coreip&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
@@ -1853,9 +1397,8 @@
         ranlib           =&gt; &quot;ranlibmips&quot;,
     },
 
-# uClinux
+#### uClinux
     &quot;uClinux-dist&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;$ENV{'CC'}&quot;,
         cflags           =&gt; &quot;\$(CFLAGS)&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
@@ -1869,7 +1412,6 @@
         ranlib           =&gt; &quot;$ENV{'RANLIB'}&quot;,
     },
     &quot;uClinux-dist64&quot; =&gt; {
-        inherit_from     =&gt; [ &quot;no_asm_filler&quot; ],
         cc               =&gt; &quot;$ENV{'CC'}&quot;,
         cflags           =&gt; &quot;\$(CFLAGS)&quot;,
         thread_cflag     =&gt; &quot;-D_REENTRANT&quot;,
diff --git a/Configure b/Configure
index 4a34b4e..c038f85 100755
--- a/Configure
+++ b/Configure
@@ -166,7 +166,6 @@ my $ppc32_asm=$ppc64_asm;
 # seems to be sufficient?
 my $BSDthreads=&quot;-pthread -D_THREAD_SAFE -D_REENTRANT&quot;;
 
-
 # table of known configurations, read in from files
 #
 # The content of each entry can take one of two forms:
@@ -349,29 +348,7 @@ my %table=(
     # Note: as long as someone might use old style configuration strings,
     # or we bother supporting that, those variables need to stay
 
-    # Filler used for when there are no asm files.
-    no_asm_filler =&gt; {
-	template	=&gt; 1,
-	cpuid_obj	=&gt; &quot;&quot;,
-	bn_obj		=&gt; &quot;&quot;,
-	ec_obj		=&gt; &quot;&quot;,
-	des_obj		=&gt; &quot;&quot;,
-	aes_obj		=&gt; &quot;&quot;,
-	bf_obj		=&gt; &quot;&quot;,
-	md5_obj		=&gt; &quot;&quot;,
-	sha1_obj	=&gt; &quot;&quot;,
-	cast_obj	=&gt; &quot;&quot;,
-	rc4_obj		=&gt; &quot;&quot;,
-	rmd160_obj	=&gt; &quot;&quot;,
-	rc5_obj		=&gt; &quot;&quot;,
-	wp_obj		=&gt; &quot;&quot;,
-	cmll_obj	=&gt; &quot;&quot;,
-	modes_obj	=&gt; &quot;&quot;,
-	engines_obj	=&gt; &quot;&quot;,
-	perlasm_scheme	=&gt; &quot;void&quot;
-    },
-
-    x86_asm_nocast =&gt; {
+    x86_asm =&gt; {
 	template	=&gt; 1,
 	cpuid_obj	=&gt; &quot;x86cpuid.o&quot;,
 	bn_obj		=&gt; &quot;bn-586.o co-586.o x86-mont.o x86-gf2m.o&quot;,
@@ -389,26 +366,15 @@ my %table=(
 	modes_obj	=&gt; &quot;ghash-x86.o&quot;,
 	engines_obj	=&gt; &quot;e_padlock-x86.o&quot;
     },
-    x86_asm =&gt; {
-	template	=&gt; 1,
-	inherit_from	=&gt; [ &quot;x86_asm_nocast&quot; ],
-	cast_obj	=&gt; &quot;cast-586.o&quot;,
-    },
     x86_elf_asm =&gt; {
 	template	=&gt; 1,
 	inherit_from	=&gt; [ &quot;x86_asm&quot; ],
 	perlasm_scheme	=&gt; &quot;elf&quot;
     },
-    android_x86_elf_asm =&gt; {
-	template	=&gt; 1,
-	inherit_from	=&gt; [ &quot;x86_asm&quot; ],
-	perlasm_scheme	=&gt; &quot;android&quot;
-    },
-
-    _x86_64_asm =&gt; {
+    x86_64_asm =&gt; {
 	template	=&gt; 1,
 	cpuid_obj       =&gt; &quot;x86_64cpuid.o&quot;,
-	bn_obj          =&gt; &quot;x86_64-mont.o x86_64-mont5.o x86_64-gf2m.o rsaz_exp.o rsaz-x86_64.o rsaz-avx2.o&quot;,
+	bn_obj          =&gt; &quot;x86_64-gcc.o x86_64-mont.o x86_64-mont5.o x86_64-gf2m.o rsaz_exp.o rsaz-x86_64.o rsaz-avx2.o&quot;,
 	ec_obj          =&gt; &quot;ecp_nistz256.o ecp_nistz256-x86_64.o&quot;,
 	aes_obj         =&gt; &quot;aes-x86_64.o vpaes-x86_64.o bsaes-x86_64.o aesni-x86_64.o aesni-sha1-x86_64.o aesni-sha256-x86_64.o aesni-mb-x86_64.o&quot;,
 	md5_obj         =&gt; &quot;md5-x86_64.o&quot;,
@@ -419,16 +385,6 @@ my %table=(
 	modes_obj       =&gt; &quot;ghash-x86_64.o aesni-gcm-x86_64.o&quot;,
 	engines_obj     =&gt; &quot;e_padlock-x86_64.o&quot;
     },
-    x86_64_asm =&gt; {
-	inherit_from	=&gt; [ &quot;_x86_64_asm&quot; ],
-	template	=&gt; 1,
-	bn_obj          =&gt; sub { join(&quot; &quot;,&quot;x86_64-gcc.o&quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>) }
-    },
-    win_x86_64_asm =&gt; {
-	inherit_from	=&gt; [ &quot;_x86_64_asm&quot; ],
-	template	=&gt; 1,
-	bn_obj          =&gt; sub { join(&quot; &quot;,&quot;bn_asm.o&quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>) }
-    },
     ia64_asm =&gt; {
 	template	=&gt; 1,
 	cpuid_obj       =&gt; &quot;ia64cpuid.o&quot;,
@@ -478,25 +434,15 @@ my %table=(
 	template	=&gt; 1,
 	sha1_obj        =&gt; sub { join(&quot; &quot;, @_, &quot;sha512-mips.o&quot;) }
     },
-    _s390x_asm =&gt; {
+    s390x_asm =&gt; {
 	template	=&gt; 1,
 	cpuid_obj       =&gt; &quot;s390xcap.o s390xcpuid.o&quot;,
-	bn_obj          =&gt; &quot;s390x-mont.o s390x-gf2m.o&quot;,
+	bn_obj          =&gt; &quot;bn-s390x.o s390x-mont.o s390x-gf2m.o&quot;,
 	aes_obj         =&gt; &quot;aes-s390x.o aes-ctr.o aes-xts.o&quot;,
 	sha1_obj        =&gt; &quot;sha1-s390x.o sha256-s390x.o sha512-s390x.o&quot;,
 	rc4_obj         =&gt; &quot;rc4-s390x.o&quot;,
 	modes_obj       =&gt; &quot;ghash-s390x.o&quot;,
     },
-    s390x_asm =&gt; {
-	template	=&gt; 1,
-	inherit_from	=&gt; [ &quot;_s390x_asm&quot; ],
-	bn_obj          =&gt; sub { join(&quot; &quot;, &quot;bn-s390x.o&quot;, @_) }
-    },
-    s390x_32_asm =&gt; {
-	template	=&gt; 1,
-	inherit_from	=&gt; [ &quot;_s390x_asm&quot; ],
-	bn_obj          =&gt; sub { join(&quot; &quot;, &quot;bn_asm.o&quot;, @_) }
-    },
     armv4_asm =&gt; {
 	template	=&gt; 1,
 	cpuid_obj       =&gt; &quot;armcap.o armv4cpuid.o&quot;,
@@ -524,26 +470,10 @@ my %table=(
 	modes_obj       =&gt; &quot;ghash-parisc.o&quot;,
 	perlasm_scheme	=&gt; &quot;32&quot;
     },
-    _parisc20_asm =&gt; {
-	template	=&gt; 1,
-	cpuid_obj       =&gt; &quot;pariscid.o&quot;,
-	bn_obj          =&gt; &quot;parisc-mont.o&quot;,
-	aes_obj         =&gt; &quot;aes_core.o aes_cbc.o aes-parisc.o&quot;,
-	sha1_obj        =&gt; &quot;sha1-parisc.o sha256-parisc.o sha512-parisc.o&quot;,
-	rc4_obj         =&gt; &quot;rc4-parisc.o&quot;,
-	modes_obj       =&gt; &quot;ghash-parisc.o&quot;,
-	perlasm_scheme	=&gt; &quot;64&quot;
-    },
-    parisc20_32_asm =&gt; {
-	template	=&gt; 1,
-	inherit_from	=&gt; [ &quot;_parisc20_asm&quot; ],
-	bn_obj          =&gt; sub { join(&quot; &quot;, &quot;pa-risc2.o&quot;, @_) },
-	perlasm_scheme	=&gt; &quot;32&quot;,
-    },
     parisc20_64_asm =&gt; {
 	template	=&gt; 1,
-	inherit_from	=&gt; [ &quot;_parisc20_asm&quot; ],
-	bn_obj          =&gt; sub { join(&quot; &quot;, &quot;pa-risc2W.o&quot;, @_) },
+	inherit_from	=&gt; [ &quot;parisc11_asm&quot; ],
+	bn_obj          =&gt; sub { my $r=join(&quot; &quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">, at _</A>); $r=~s/bn_asm/pa-risc2W/; $r; },
 	perlasm_scheme	=&gt; &quot;64&quot;,
     },
     ppc64_asm =&gt; {
@@ -560,6 +490,12 @@ my %table=(
     },
 );
 
+{   my $no_asm_templates=0;
+    foreach (@ARGV) { $no_asm_templates=1 if (/^\-?no\-asm$/); }
+    sub asm { $no_asm_templates?():@_; }
+}
+
+
 sub stringtohash {
     my $in = shift @_;
     if (ref($in) eq &quot;HASH&quot;) {
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000721.html">[openssl-commits] [openssl]  master update
</A></li>
	<LI>Next message: <A HREF="000728.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#723">[ date ]</a>
              <a href="thread.html#723">[ thread ]</a>
              <a href="subject.html#723">[ subject ]</a>
              <a href="author.html#723">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
