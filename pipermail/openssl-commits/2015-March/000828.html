<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2015-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1427825796.075112.14655.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000826.html">
   <LINK REL="Next"  HREF="000829.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  master update</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1427825796.075112.14655.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl-commits] [openssl]  master update">levitte at openssl.org
       </A><BR>
    <I>Tue Mar 31 18:16:36 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000826.html">[openssl-commits] [openssl]  master update
</A></li>
        <LI>Next message: <A HREF="000829.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#828">[ date ]</a>
              <a href="thread.html#828">[ thread ]</a>
              <a href="subject.html#828">[ subject ]</a>
              <a href="author.html#828">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  a72d89fda6a97e47fa65d49c50b6d4649a4965e2 (commit)
       via  0190de80d57ec234f4b15bdab0efd71264239c62 (commit)
       via  a80e33b991e29988309964439fa8dba30af7ea5c (commit)
       via  dee502be89e78e2979e3bd1d7724cf79daa6ef61 (commit)
      from  30cd4ff294252c4b6a4b69cbef6a5b4117705d22 (commit)


- Log -----------------------------------------------------------------
commit a72d89fda6a97e47fa65d49c50b6d4649a4965e2
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Tue Mar 31 17:19:43 2015 +0200

    Now that we've removed the need for symlinks, we can safely remove util/mklinks.pl
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;

commit 0190de80d57ec234f4b15bdab0efd71264239c62
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Fri Mar 27 01:31:03 2015 +0100

    Remove remaining variables for symlinked/copied headers and tests
    
    GitConfigure:   no more 'no-symlinks'
    
    util/bat.sh, util/mk1mf.pl, util/pl/VC-32.pl, util/pl/unix.pl:
    - Remove all uses of EXHEADER.
      That includes removing the use if INC_D and INCO_D.
    - Replace the check for TEST with a check for [A-Z0-9_]*TEST.
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;

commit a80e33b991e29988309964439fa8dba30af7ea5c
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Thu Mar 26 21:44:59 2015 +0100

    Remove EXHEADER, TEST, APPS, links:, install: and uninstall: where relevant
    
    With no more symlinks, there's no need for those variables, or the links
    target.  This also goes for all install: and uninstall: targets that do
    nothing but copy $(EXHEADER) files, since that's now taken care of by the
    top Makefile.
    
    Also, removed METHTEST from test/Makefile.  It looks like an old test that's
    forgotten...
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;

commit dee502be89e78e2979e3bd1d7724cf79daa6ef61
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Thu Mar 26 21:33:18 2015 +0100

    Stop symlinking, move files to intended directory
    
    Rather than making include/openssl/foo.h a symlink to
    crypto/foo/foo.h, this change moves the file to include/openssl/foo.h
    once and for all.
    
    Likewise, move crypto/foo/footest.c to test/footest.c, instead of
    symlinking it there.
    
    Originally-by: Geoff Thorpe &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">geoff at openssl.org</A>&gt;
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;

-----------------------------------------------------------------------

Summary of changes:
 .gitignore                                      |  14 +--
 Configure                                       |  28 ++---
 GitConfigure                                    |   2 +-
 Makefile.org                                    |  26 ++---
 apps/Makefile                                   |   8 +-
 crypto/Makefile                                 |  24 +----
 crypto/aes/Makefile                             |  19 +---
 crypto/asn1/Makefile                            |  18 +---
 crypto/bf/Makefile                              |  21 +---
 crypto/bio/Makefile                             |  18 +---
 crypto/bn/Makefile                              |  18 +---
 crypto/buffer/Makefile                          |  18 +---
 crypto/camellia/Makefile                        |  18 +---
 crypto/cast/Makefile                            |  18 +---
 crypto/cmac/Makefile                            |  18 +---
 crypto/cms/Makefile                             |  18 +---
 crypto/comp/Makefile                            |  18 +---
 crypto/conf/Makefile                            |  18 +---
 crypto/des/Makefile                             |  21 +---
 crypto/dh/Makefile                              |  18 +---
 crypto/dsa/Makefile                             |  18 +---
 crypto/dso/Makefile                             |  18 +---
 crypto/ec/Makefile                              |  18 +---
 crypto/ecdh/Makefile                            |  18 +---
 crypto/ecdsa/Makefile                           |  18 +---
 crypto/engine/Makefile                          |  18 +---
 crypto/err/Makefile                             |  18 +---
 crypto/err/openssl.ec                           |  63 +++++------
 crypto/evp/Makefile                             |  22 +---
 crypto/hmac/Makefile                            |  18 +---
 crypto/idea/Makefile                            |  18 +---
 crypto/jpake/Makefile                           |  19 +---
 crypto/krb5/Makefile                            |  18 +---
 crypto/lhash/Makefile                           |  18 +---
 crypto/md2/Makefile                             |  18 +---
 crypto/md4/Makefile                             |  18 +---
 crypto/md5/Makefile                             |  18 +---
 crypto/mdc2/Makefile                            |  18 +---
 crypto/modes/Makefile                           |  19 +---
 crypto/objects/Makefile                         |  28 ++---
 crypto/ocsp/Makefile                            |  18 +---
 crypto/pem/Makefile                             |  18 +---
 crypto/pkcs12/Makefile                          |  18 +---
 crypto/pkcs7/Makefile                           |  20 +---
 crypto/pqueue/Makefile                          |  18 +---
 crypto/rand/Makefile                            |  18 +---
 crypto/rc2/Makefile                             |  18 +---
 crypto/rc4/Makefile                             |  18 +---
 crypto/rc5/Makefile                             |  18 +---
 crypto/ripemd/Makefile                          |  18 +---
 crypto/rsa/Makefile                             |  18 +---
 crypto/seed/Makefile                            |  18 +---
 crypto/sha/Makefile                             |  18 +---
 crypto/srp/Makefile                             |  18 +---
 crypto/stack/Makefile                           |  18 +---
 crypto/store/Makefile                           |  20 +---
 crypto/ts/Makefile                              |  20 +---
 crypto/txt_db/Makefile                          |  18 +---
 crypto/ui/Makefile                              |  19 +---
 crypto/whrlpool/Makefile                        |  18 +---
 crypto/x509/Makefile                            |  18 +---
 crypto/x509v3/Makefile                          |  18 +---
 engines/Makefile                                |   8 +-
 engines/ccgost/Makefile                         |   5 -
 {crypto/aes =&gt; include/openssl}/aes.h           |   0
 {crypto/asn1 =&gt; include/openssl}/asn1.h         |   0
 {crypto/asn1 =&gt; include/openssl}/asn1_mac.h     |   0
 {crypto/asn1 =&gt; include/openssl}/asn1t.h        |   0
 {crypto/bio =&gt; include/openssl}/bio.h           |   0
 {crypto/bf =&gt; include/openssl}/blowfish.h       |   0
 {crypto/bn =&gt; include/openssl}/bn.h             |   0
 {crypto/buffer =&gt; include/openssl}/buffer.h     |   0
 {crypto/camellia =&gt; include/openssl}/camellia.h |   0
 {crypto/cast =&gt; include/openssl}/cast.h         |   0
 {crypto/cmac =&gt; include/openssl}/cmac.h         |   0
 {crypto/cms =&gt; include/openssl}/cms.h           |   0
 {crypto/comp =&gt; include/openssl}/comp.h         |   0
 {crypto/conf =&gt; include/openssl}/conf.h         |   0
 {crypto/conf =&gt; include/openssl}/conf_api.h     |   0
 {crypto =&gt; include/openssl}/crypto.h            |   0
 {crypto/des =&gt; include/openssl}/des.h           |   0
 {crypto/dh =&gt; include/openssl}/dh.h             |   0
 {crypto/dsa =&gt; include/openssl}/dsa.h           |   0
 {crypto/dso =&gt; include/openssl}/dso.h           |   0
 {ssl =&gt; include/openssl}/dtls1.h                |   0
 e_os2.h =&gt; include/openssl/e_os2.h              |   0
 {crypto =&gt; include/openssl}/ebcdic.h            |   0
 {crypto/ec =&gt; include/openssl}/ec.h             |   0
 {crypto/ecdh =&gt; include/openssl}/ecdh.h         |   0
 {crypto/ecdsa =&gt; include/openssl}/ecdsa.h       |   0
 {crypto/engine =&gt; include/openssl}/engine.h     |   0
 {crypto/err =&gt; include/openssl}/err.h           |   0
 {crypto/evp =&gt; include/openssl}/evp.h           |   0
 {crypto/hmac =&gt; include/openssl}/hmac.h         |   0
 {crypto/idea =&gt; include/openssl}/idea.h         |   0
 {crypto/jpake =&gt; include/openssl}/jpake.h       |   0
 {crypto/krb5 =&gt; include/openssl}/krb5_asn.h     |   0
 {ssl =&gt; include/openssl}/kssl.h                 |   0
 {crypto/lhash =&gt; include/openssl}/lhash.h       |   0
 {crypto/md2 =&gt; include/openssl}/md2.h           |   0
 {crypto/md4 =&gt; include/openssl}/md4.h           |   0
 {crypto/md5 =&gt; include/openssl}/md5.h           |   0
 {crypto/mdc2 =&gt; include/openssl}/mdc2.h         |   0
 {crypto/modes =&gt; include/openssl}/modes.h       |   0
 {crypto/objects =&gt; include/openssl}/obj_mac.h   |   0
 {crypto/objects =&gt; include/openssl}/objects.h   |   0
 {crypto/ocsp =&gt; include/openssl}/ocsp.h         |   0
 {crypto =&gt; include/openssl}/opensslv.h          |   0
 {crypto =&gt; include/openssl}/ossl_typ.h          |   0
 {crypto/pem =&gt; include/openssl}/pem.h           |   0
 {crypto/pem =&gt; include/openssl}/pem2.h          |   0
 {crypto/pkcs12 =&gt; include/openssl}/pkcs12.h     |   0
 {crypto/pkcs7 =&gt; include/openssl}/pkcs7.h       |   0
 {crypto/pqueue =&gt; include/openssl}/pqueue.h     |   0
 {crypto/rand =&gt; include/openssl}/rand.h         |   0
 {crypto/rc2 =&gt; include/openssl}/rc2.h           |   0
 {crypto/rc4 =&gt; include/openssl}/rc4.h           |   0
 {crypto/rc5 =&gt; include/openssl}/rc5.h           |   0
 {crypto/ripemd =&gt; include/openssl}/ripemd.h     |   0
 {crypto/rsa =&gt; include/openssl}/rsa.h           |   0
 {crypto/stack =&gt; include/openssl}/safestack.h   |   0
 {crypto/seed =&gt; include/openssl}/seed.h         |   0
 {crypto/sha =&gt; include/openssl}/sha.h           |   0
 {crypto/srp =&gt; include/openssl}/srp.h           |   0
 {ssl =&gt; include/openssl}/srtp.h                 |   0
 {ssl =&gt; include/openssl}/ssl.h                  |   0
 {ssl =&gt; include/openssl}/ssl2.h                 |   0
 {ssl =&gt; include/openssl}/ssl23.h                |   0
 {ssl =&gt; include/openssl}/ssl3.h                 |   0
 {crypto/stack =&gt; include/openssl}/stack.h       |   0
 {crypto/store =&gt; include/openssl}/store.h       |   0
 {crypto =&gt; include/openssl}/symhacks.h          |   0
 {ssl =&gt; include/openssl}/tls1.h                 |   0
 {crypto/ts =&gt; include/openssl}/ts.h             |   0
 {crypto/txt_db =&gt; include/openssl}/txt_db.h     |   0
 {crypto/ui =&gt; include/openssl}/ui.h             |   0
 {crypto/whrlpool =&gt; include/openssl}/whrlpool.h |   0
 {crypto/x509 =&gt; include/openssl}/x509.h         |   0
 {crypto/x509 =&gt; include/openssl}/x509_vfy.h     |   0
 {crypto/x509v3 =&gt; include/openssl}/x509v3.h     |   0
 ssl/Makefile                                    |  22 +---
 test/Makefile                                   |  13 +--
 {crypto/bf =&gt; test}/bftest.c                    |   0
 {crypto/bn =&gt; test}/bntest.c                    |   0
 {crypto/cast =&gt; test}/casttest.c                |   0
 {crypto =&gt; test}/constant_time_test.c           |   0
 {crypto/des =&gt; test}/destest.c                  |   0
 {crypto/dh =&gt; test}/dhtest.c                    |   0
 {crypto/dsa =&gt; test}/dsatest.c                  |   0
 {crypto/ecdh =&gt; test}/ecdhtest.c                |   0
 {crypto/ecdsa =&gt; test}/ecdsatest.c              |   0
 {crypto/ec =&gt; test}/ectest.c                    |   0
 {crypto/engine =&gt; test}/enginetest.c            |   0
 {crypto/evp =&gt; test}/evp_extra_test.c           |   0
 {crypto/evp =&gt; test}/evp_test.c                 |   0
 {crypto/evp =&gt; test}/evptests.txt               |   0
 {crypto/bn =&gt; test}/exptest.c                   |   0
 {engines/ccgost =&gt; test}/gost2814789test.c      |   0
 {ssl =&gt; test}/heartbeat_test.c                  |   0
 {crypto/hmac =&gt; test}/hmactest.c                |   0
 {crypto/idea =&gt; test}/ideatest.c                |   0
 {crypto/jpake =&gt; test}/jpaketest.c              |   0
 {crypto/md2 =&gt; test}/md2test.c                  |   0
 {crypto/md4 =&gt; test}/md4test.c                  |   0
 {crypto/md5 =&gt; test}/md5test.c                  |   0
 {crypto/mdc2 =&gt; test}/mdc2test.c                |   0
 {crypto/evp =&gt; test}/p5_crpt2_test.c            |   0
 {crypto/rand =&gt; test}/randtest.c                |   0
 {crypto/rc2 =&gt; test}/rc2test.c                  |   0
 {crypto/rc4 =&gt; test}/rc4test.c                  |   0
 {crypto/rc5 =&gt; test}/rc5test.c                  |   0
 {crypto/ripemd =&gt; test}/rmdtest.c               |   0
 {crypto/rsa =&gt; test}/rsa_test.c                 |   0
 {crypto/sha =&gt; test}/sha1test.c                 |   0
 {crypto/sha =&gt; test}/sha256t.c                  |   0
 {crypto/sha =&gt; test}/sha512t.c                  |   0
 {crypto/srp =&gt; test}/srptest.c                  |   0
 {ssl =&gt; test}/ssltest.c                         |   0
 {crypto/x509v3 =&gt; test}/v3nametest.c            |   0
 {crypto/whrlpool =&gt; test}/wp_test.c             |   0
 tools/Makefile                                  |   3 -
 util/bat.sh                                     |   3 -
 util/mk1mf.pl                                   |  40 ++-----
 util/mkdef.pl                                   | 138 ++++++++++++------------
 util/mklink.pl                                  |  73 -------------
 util/mkstack.pl                                 |   4 +-
 util/pl/VC-32.pl                                |   4 -
 util/pl/unix.pl                                 |   5 +-
 188 files changed, 212 insertions(+), 1291 deletions(-)
 rename {crypto/aes =&gt; include/openssl}/aes.h (100%)
 rename {crypto/asn1 =&gt; include/openssl}/asn1.h (100%)
 rename {crypto/asn1 =&gt; include/openssl}/asn1_mac.h (100%)
 rename {crypto/asn1 =&gt; include/openssl}/asn1t.h (100%)
 rename {crypto/bio =&gt; include/openssl}/bio.h (100%)
 rename {crypto/bf =&gt; include/openssl}/blowfish.h (100%)
 rename {crypto/bn =&gt; include/openssl}/bn.h (100%)
 rename {crypto/buffer =&gt; include/openssl}/buffer.h (100%)
 rename {crypto/camellia =&gt; include/openssl}/camellia.h (100%)
 rename {crypto/cast =&gt; include/openssl}/cast.h (100%)
 rename {crypto/cmac =&gt; include/openssl}/cmac.h (100%)
 rename {crypto/cms =&gt; include/openssl}/cms.h (100%)
 rename {crypto/comp =&gt; include/openssl}/comp.h (100%)
 rename {crypto/conf =&gt; include/openssl}/conf.h (100%)
 rename {crypto/conf =&gt; include/openssl}/conf_api.h (100%)
 rename {crypto =&gt; include/openssl}/crypto.h (100%)
 rename {crypto/des =&gt; include/openssl}/des.h (100%)
 rename {crypto/dh =&gt; include/openssl}/dh.h (100%)
 rename {crypto/dsa =&gt; include/openssl}/dsa.h (100%)
 rename {crypto/dso =&gt; include/openssl}/dso.h (100%)
 rename {ssl =&gt; include/openssl}/dtls1.h (100%)
 rename e_os2.h =&gt; include/openssl/e_os2.h (100%)
 rename {crypto =&gt; include/openssl}/ebcdic.h (100%)
 rename {crypto/ec =&gt; include/openssl}/ec.h (100%)
 rename {crypto/ecdh =&gt; include/openssl}/ecdh.h (100%)
 rename {crypto/ecdsa =&gt; include/openssl}/ecdsa.h (100%)
 rename {crypto/engine =&gt; include/openssl}/engine.h (100%)
 rename {crypto/err =&gt; include/openssl}/err.h (100%)
 rename {crypto/evp =&gt; include/openssl}/evp.h (100%)
 rename {crypto/hmac =&gt; include/openssl}/hmac.h (100%)
 rename {crypto/idea =&gt; include/openssl}/idea.h (100%)
 rename {crypto/jpake =&gt; include/openssl}/jpake.h (100%)
 rename {crypto/krb5 =&gt; include/openssl}/krb5_asn.h (100%)
 rename {ssl =&gt; include/openssl}/kssl.h (100%)
 rename {crypto/lhash =&gt; include/openssl}/lhash.h (100%)
 rename {crypto/md2 =&gt; include/openssl}/md2.h (100%)
 rename {crypto/md4 =&gt; include/openssl}/md4.h (100%)
 rename {crypto/md5 =&gt; include/openssl}/md5.h (100%)
 rename {crypto/mdc2 =&gt; include/openssl}/mdc2.h (100%)
 rename {crypto/modes =&gt; include/openssl}/modes.h (100%)
 rename {crypto/objects =&gt; include/openssl}/obj_mac.h (100%)
 rename {crypto/objects =&gt; include/openssl}/objects.h (100%)
 rename {crypto/ocsp =&gt; include/openssl}/ocsp.h (100%)
 rename {crypto =&gt; include/openssl}/opensslv.h (100%)
 rename {crypto =&gt; include/openssl}/ossl_typ.h (100%)
 rename {crypto/pem =&gt; include/openssl}/pem.h (100%)
 rename {crypto/pem =&gt; include/openssl}/pem2.h (100%)
 rename {crypto/pkcs12 =&gt; include/openssl}/pkcs12.h (100%)
 rename {crypto/pkcs7 =&gt; include/openssl}/pkcs7.h (100%)
 rename {crypto/pqueue =&gt; include/openssl}/pqueue.h (100%)
 rename {crypto/rand =&gt; include/openssl}/rand.h (100%)
 rename {crypto/rc2 =&gt; include/openssl}/rc2.h (100%)
 rename {crypto/rc4 =&gt; include/openssl}/rc4.h (100%)
 rename {crypto/rc5 =&gt; include/openssl}/rc5.h (100%)
 rename {crypto/ripemd =&gt; include/openssl}/ripemd.h (100%)
 rename {crypto/rsa =&gt; include/openssl}/rsa.h (100%)
 rename {crypto/stack =&gt; include/openssl}/safestack.h (100%)
 rename {crypto/seed =&gt; include/openssl}/seed.h (100%)
 rename {crypto/sha =&gt; include/openssl}/sha.h (100%)
 rename {crypto/srp =&gt; include/openssl}/srp.h (100%)
 rename {ssl =&gt; include/openssl}/srtp.h (100%)
 rename {ssl =&gt; include/openssl}/ssl.h (100%)
 rename {ssl =&gt; include/openssl}/ssl2.h (100%)
 rename {ssl =&gt; include/openssl}/ssl23.h (100%)
 rename {ssl =&gt; include/openssl}/ssl3.h (100%)
 rename {crypto/stack =&gt; include/openssl}/stack.h (100%)
 rename {crypto/store =&gt; include/openssl}/store.h (100%)
 rename {crypto =&gt; include/openssl}/symhacks.h (100%)
 rename {ssl =&gt; include/openssl}/tls1.h (100%)
 rename {crypto/ts =&gt; include/openssl}/ts.h (100%)
 rename {crypto/txt_db =&gt; include/openssl}/txt_db.h (100%)
 rename {crypto/ui =&gt; include/openssl}/ui.h (100%)
 rename {crypto/whrlpool =&gt; include/openssl}/whrlpool.h (100%)
 rename {crypto/x509 =&gt; include/openssl}/x509.h (100%)
 rename {crypto/x509 =&gt; include/openssl}/x509_vfy.h (100%)
 rename {crypto/x509v3 =&gt; include/openssl}/x509v3.h (100%)
 rename {crypto/bf =&gt; test}/bftest.c (100%)
 rename {crypto/bn =&gt; test}/bntest.c (100%)
 rename {crypto/cast =&gt; test}/casttest.c (100%)
 rename {crypto =&gt; test}/constant_time_test.c (100%)
 rename {crypto/des =&gt; test}/destest.c (100%)
 rename {crypto/dh =&gt; test}/dhtest.c (100%)
 rename {crypto/dsa =&gt; test}/dsatest.c (100%)
 rename {crypto/ecdh =&gt; test}/ecdhtest.c (100%)
 rename {crypto/ecdsa =&gt; test}/ecdsatest.c (100%)
 rename {crypto/ec =&gt; test}/ectest.c (100%)
 rename {crypto/engine =&gt; test}/enginetest.c (100%)
 rename {crypto/evp =&gt; test}/evp_extra_test.c (100%)
 rename {crypto/evp =&gt; test}/evp_test.c (100%)
 rename {crypto/evp =&gt; test}/evptests.txt (100%)
 rename {crypto/bn =&gt; test}/exptest.c (100%)
 rename {engines/ccgost =&gt; test}/gost2814789test.c (100%)
 rename {ssl =&gt; test}/heartbeat_test.c (100%)
 rename {crypto/hmac =&gt; test}/hmactest.c (100%)
 rename {crypto/idea =&gt; test}/ideatest.c (100%)
 rename {crypto/jpake =&gt; test}/jpaketest.c (100%)
 rename {crypto/md2 =&gt; test}/md2test.c (100%)
 rename {crypto/md4 =&gt; test}/md4test.c (100%)
 rename {crypto/md5 =&gt; test}/md5test.c (100%)
 rename {crypto/mdc2 =&gt; test}/mdc2test.c (100%)
 rename {crypto/evp =&gt; test}/p5_crpt2_test.c (100%)
 rename {crypto/rand =&gt; test}/randtest.c (100%)
 rename {crypto/rc2 =&gt; test}/rc2test.c (100%)
 rename {crypto/rc4 =&gt; test}/rc4test.c (100%)
 rename {crypto/rc5 =&gt; test}/rc5test.c (100%)
 rename {crypto/ripemd =&gt; test}/rmdtest.c (100%)
 rename {crypto/rsa =&gt; test}/rsa_test.c (100%)
 rename {crypto/sha =&gt; test}/sha1test.c (100%)
 rename {crypto/sha =&gt; test}/sha256t.c (100%)
 rename {crypto/sha =&gt; test}/sha512t.c (100%)
 rename {crypto/srp =&gt; test}/srptest.c (100%)
 rename {ssl =&gt; test}/ssltest.c (100%)
 rename {crypto/x509v3 =&gt; test}/v3nametest.c (100%)
 rename {crypto/whrlpool =&gt; test}/wp_test.c (100%)
 delete mode 100755 util/mklink.pl

diff --git a/.gitignore b/.gitignore
index 2f27dc6..9f85632 100644
--- a/.gitignore
+++ b/.gitignore
@@ -14,7 +14,6 @@
 /MINFO
 /TABLE
 /*.a
-/include
 /*.pc
 /rehash.time
 /inc.*
@@ -22,17 +21,6 @@
 /out.*
 /tmp.*
 
-# Most *.c files under test/ are symlinks
-/test/*.c
-# Apart from these
-!/test/asn1test.c
-!/test/methtest.c
-!/test/dummytest.c
-!/test/igetest.c
-!/test/r160test.c
-!/test/fips_algvs.c
-!/test/testutil.c
-
 /test/*.ss
 /test/*.srl
 /test/.rnd
@@ -94,8 +82,8 @@ crypto/sha/asm/sha512-sse2.asm
 !/crypto/des/times/486-50.sol
 
 # Misc auto generated files
+include/openssl/opensslconf.h
 /tools/c_rehash
-/test/evptests.txt
 lib
 Makefile.save
 *.bak
diff --git a/Configure b/Configure
index ba8cd96..97c2573 100755
--- a/Configure
+++ b/Configure
@@ -779,13 +779,13 @@ my $no_gmp=0;
 my @skip=();
 my $Makefile=&quot;Makefile&quot;;
 my $des_locl=&quot;crypto/des/des_locl.h&quot;;
-my $des	=&quot;crypto/des/des.h&quot;;
-my $bn	=&quot;crypto/bn/bn.h&quot;;
-my $md2	=&quot;crypto/md2/md2.h&quot;;
-my $rc4	=&quot;crypto/rc4/rc4.h&quot;;
+my $des	=&quot;include/openssl/des.h&quot;;
+my $bn	=&quot;include/openssl/bn.h&quot;;
+my $md2	=&quot;include/openssl/md2.h&quot;;
+my $rc4	=&quot;include/openssl/rc4.h&quot;;
 my $rc4_locl=&quot;crypto/rc4/rc4_locl.h&quot;;
-my $idea	=&quot;crypto/idea/idea.h&quot;;
-my $rc2	=&quot;crypto/rc2/rc2.h&quot;;
+my $idea	=&quot;include/openssl/idea.h&quot;;
+my $rc2	=&quot;include/openssl/rc2.h&quot;;
 my $bf	=&quot;crypto/bf/bf_locl.h&quot;;
 my $bn_asm	=&quot;bn_asm.o&quot;;
 my $des_enc=&quot;des_enc.o fcrypt_b.o&quot;;
@@ -848,7 +848,6 @@ my $libs;
 my $libkrb5=&quot;&quot;;
 my $target;
 my $options;
-my $symlink;
 my $make_depend=0;
 my %withargs=();
 my $build_prefix = &quot;release_&quot;;
@@ -869,7 +868,6 @@ while($argv_unprocessed)
 	$libs=&quot;&quot;;
 	$target=&quot;&quot;;
 	$options=&quot;&quot;;
-	$symlink=1;
 
 	$argv_unprocessed=0;
 	$argvstring=join(' '<A HREF="../../../mailman/listinfo/openssl-commits.html">, at argvcopy</A>);
@@ -1192,8 +1190,6 @@ foreach (sort (keys %disabled))
 		{ }
 	elsif (/^zlib-dynamic$/)
 		{ }
-	elsif (/^symlinks$/)
-		{ $symlink = 0; }
 	elsif (/^sse2$/)
 		{ $no_sse2 = 1; }
 	else
@@ -1702,7 +1698,7 @@ my $shlib_version_history = &quot;unknown&quot;;
 my $shlib_major = &quot;unknown&quot;;
 my $shlib_minor = &quot;unknown&quot;;
 
-open(IN,'&lt;crypto/opensslv.h') || die &quot;unable to read opensslv.h:$!\n&quot;;
+open(IN,'&lt;include/openssl/opensslv.h') || die &quot;unable to read opensslv.h:$!\n&quot;;
 while (&lt;IN&gt;)
 	{
 	$version=$1 if /OPENSSL.VERSION.TEXT.*OpenSSL (\S+) /;
@@ -1923,8 +1919,8 @@ foreach (sort split(/\s+/,$bn_ops))
 	}
 
 open(IN,'&lt;crypto/opensslconf.h.in') || die &quot;unable to read crypto/opensslconf.h.in:$!\n&quot;;
-unlink(&quot;crypto/opensslconf.h.new&quot;) || die &quot;unable to remove old crypto/opensslconf.h.new:$!\n&quot; if -e &quot;crypto/opensslconf.h.new&quot;;
-open(OUT,'&gt;crypto/opensslconf.h.new') || die &quot;unable to create crypto/opensslconf.h.new:$!\n&quot;;
+unlink(&quot;include/openssl/opensslconf.h.new&quot;) || die &quot;unable to remove old include/openssl/opensslconf.h.new:$!\n&quot; if -e &quot;include/openssl/opensslconf.h.new&quot;;
+open(OUT,'&gt;include/openssl/opensslconf.h.new') || die &quot;unable to create include/openssl/opensslconf.h.new:$!\n&quot;;
 print OUT &quot;/* opensslconf.h */\n&quot;;
 print OUT &quot;/* WARNING: Generated automatically from opensslconf.h.in by Configure. */\n\n&quot;;
 
@@ -2039,8 +2035,8 @@ print OUT &quot;#ifdef  __cplusplus\n&quot;;
 print OUT &quot;}\n&quot;;
 print OUT &quot;#endif\n&quot;;
 close(OUT);
-rename(&quot;crypto/opensslconf.h&quot;,&quot;crypto/opensslconf.h.bak&quot;) || die &quot;unable to rename crypto/opensslconf.h\n&quot; if -e &quot;crypto/opensslconf.h&quot;;
-rename(&quot;crypto/opensslconf.h.new&quot;,&quot;crypto/opensslconf.h&quot;) || die &quot;unable to rename crypto/opensslconf.h.new\n&quot;;
+rename(&quot;include/openssl/opensslconf.h&quot;,&quot;include/openssl/opensslconf.h.bak&quot;) || die &quot;unable to rename include/openssl/opensslconf.h\n&quot; if -e &quot;include/openssl/opensslconf.h&quot;;
+rename(&quot;include/openssl/opensslconf.h.new&quot;,&quot;include/openssl/opensslconf.h&quot;) || die &quot;unable to rename include/openssl/opensslconf.h.new\n&quot;;
 
 
 # Fix the date
@@ -2082,9 +2078,7 @@ EOF
 } else {
 	my $make_command = &quot;$make PERL=\'$perl\'&quot;;
 	my $make_targets = &quot;&quot;;
-	$make_targets .= &quot; links&quot; if $symlink;
 	$make_targets .= &quot; depend&quot; if $depflags ne $default_depflags &amp;&amp; $make_depend;
-	$make_targets .= &quot; gentests&quot; if $symlink;
 	(system $make_command.$make_targets) == 0 or die &quot;make $make_targets failed&quot;
 		if $make_targets ne &quot;&quot;;
 	if ( $perl =~ m@^/@) {
diff --git a/GitConfigure b/GitConfigure
index 0821031..3451553 100755
--- a/GitConfigure
+++ b/GitConfigure
@@ -2,7 +2,7 @@
 
 BRANCH=`git rev-parse --abbrev-ref HEAD`
 
-./Configure $@ no-symlinks
+./Configure $@
 make files
 util/mk1mf.pl OUT=out.$BRANCH TMP=tmp.$BRANCH INC=inc.$BRANCH copy &gt; makefile.$BRANCH
 MAKE=make
diff --git a/Makefile.org b/Makefile.org
index 0d09ad4..de08a47 100644
--- a/Makefile.org
+++ b/Makefile.org
@@ -137,6 +137,7 @@ BASEADDR=
 DIRS=   crypto ssl engines apps test tools
 ENGDIRS= ccgost
 SHLIBDIRS= crypto ssl
+INSTALL_SUBS= engines apps tools
 
 # dirs in crypto to build
 SDIRS=  \
@@ -180,7 +181,6 @@ BASENAME=       openssl
 NAME=           $(BASENAME)-$(VERSION)
 TARFILE=        $(NAME).tar
 WTARFILE=       $(NAME)-win.tar
-EXHEADER=       e_os2.h
 HEADER=         e_os.h
 
 # Directories created on install if they don't exist.
@@ -205,7 +205,7 @@ CLEARENV=	TOP= &amp;&amp; unset TOP $${LIB+LIB} $${LIBS+LIBS}	\
 		$${INCLUDE+INCLUDE} $${INCLUDES+INCLUDES}	\
 		$${DIR+DIR} $${DIRS+DIRS} $${SRC+SRC}		\
 		$${LIBSRC+LIBSRC} $${LIBOBJ+LIBOBJ} $${ALL+ALL}	\
-		$${EXHEADER+EXHEADER} $${HEADER+HEADER}		\
+		$${HEADER+HEADER}				\
 		$${GENERAL+GENERAL} $${CFLAGS+CFLAGS}		\
 		$${ASFLAGS+ASFLAGS} $${AFLAGS+AFLAGS}		\
 		$${LDCMD+LDCMD} $${LDFLAGS+LDFLAGS} $${SCRIPTS+SCRIPTS}	\
@@ -426,11 +426,6 @@ files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt; $(TOP)/MINFO
 	@set -e; target=files; $(RECURSIVE_BUILD_CMD)
 
-links:
-	@$(PERL) $(TOP)/util/mkdir-p.pl include/openssl
-	@$(PERL) $(TOP)/util/mklink.pl include/openssl $(EXHEADER)
-	@set -e; target=links; $(RECURSIVE_BUILD_CMD)
-
 gentests:
 	@(cd test &amp;&amp; echo &quot;generating dummy tests (if needed)...&quot; &amp;&amp; \
 	$(CLEARENV) &amp;&amp; $(MAKE) -e $(BUILDENV) TESTS='$(TESTS)' OPENSSL_DEBUG_MEMORY=on generate );
@@ -486,10 +481,10 @@ util/libeay.num::
 util/ssleay.num::
 	$(PERL) util/mkdef.pl ssl update
 
-crypto/objects/obj_dat.h: crypto/objects/obj_dat.pl crypto/objects/obj_mac.h
-	$(PERL) crypto/objects/obj_dat.pl crypto/objects/obj_mac.h crypto/objects/obj_dat.h
-crypto/objects/obj_mac.h: crypto/objects/objects.pl crypto/objects/objects.txt crypto/objects/obj_mac.num
-	$(PERL) crypto/objects/objects.pl crypto/objects/objects.txt crypto/objects/obj_mac.num crypto/objects/obj_mac.h
+crypto/objects/obj_dat.h: crypto/objects/obj_dat.pl include/openssl/obj_mac.h
+	$(PERL) crypto/objects/obj_dat.pl include/openssl/obj_mac.h crypto/objects/obj_dat.h
+include/openssl/obj_mac.h: crypto/objects/objects.pl crypto/objects/objects.txt crypto/objects/obj_mac.num
+	$(PERL) crypto/objects/objects.pl crypto/objects/objects.txt crypto/objects/obj_mac.num include/openssl/obj_mac.h
 crypto/objects/obj_xref.h: crypto/objects/objxref.pl crypto/objects/obj_xref.txt crypto/objects/obj_mac.num
 	$(PERL) crypto/objects/objxref.pl crypto/objects/obj_mac.num crypto/objects/obj_xref.txt &gt;crypto/objects/obj_xref.h
 
@@ -547,12 +542,11 @@ uninstall: uninstall_sw uninstall_docs
 
 install_sw:
 	@$(PERL) $(TOP)/util/mkdir-p.pl $(INSTALLDIRS)
-	@set -e; headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist;\
-	do \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
+	@set -e; for i in include/openssl/*.h; do \
+	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/$$i; \
+	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/$$i ); \
 	done;
-	@set -e; target=install; $(RECURSIVE_BUILD_CMD)
+	@set -e; target=install; for dir in $(INSTALL_SUBS); do $(BUILD_CMD); done
 	@set -e; liblist=&quot;$(LIBS)&quot;; for i in $$liblist ;\
 	do \
 		if [ -f &quot;$$i&quot; ]; then \
diff --git a/apps/Makefile b/apps/Makefile
index ac2663a..25e197f 100644
--- a/apps/Makefile
+++ b/apps/Makefile
@@ -68,12 +68,10 @@ E_SRC=	verify.c asn1pars.c req.c dgst.c dh.c enc.c passwd.c gendh.c errstr.c ca.
 
 SRC=$(E_SRC)
 
-EXHEADER=
 HEADER=	apps.h progs.h s_apps.h \
-	testdsa.h testrsa.h \
-	$(EXHEADER)
+	testdsa.h testrsa.h
 
-ALL=    $(GENERAL) $(SRC) $(HEADER)
+ALL=	$(GENERAL) $(SRC) $(HEADER)
 
 top:
 	@(cd ..; $(MAKE) DIRS=$(DIR) all)
@@ -135,8 +133,6 @@ tags:
 
 tests:
 
-links:
-
 lint:
 	lint -DLINT $(INCLUDES) $(SRC)&gt;fluff
 
diff --git a/crypto/Makefile b/crypto/Makefile
index 5eddc5a..ec5af47 100644
--- a/crypto/Makefile
+++ b/crypto/Makefile
@@ -31,7 +31,6 @@ CPUID_OBJ=mem_clr.o
 LIBS=
 
 GENERAL=Makefile README crypto-lib.com install.com
-TEST=constant_time_test.c
 
 LIB= $(TOP)/libcrypto.a
 SHARED_LIB= libcrypto$(SHLIB_EXT)
@@ -44,12 +43,10 @@ LIBOBJ= cryptlib.o mem.o mem_dbg.o cversion.o ex_data.o cpt_err.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= crypto.h opensslv.h opensslconf.h ebcdic.h symhacks.h \
-	ossl_typ.h
 HEADER=	cryptlib.h buildinf.h md32_common.h o_str.h o_dir.h \
-	constant_time_locl.h $(EXHEADER)
+	constant_time_locl.h
 
-ALL=    $(GENERAL) $(SRC) $(HEADER)
+ALL=	$(GENERAL) $(SRC) $(HEADER)
 
 top:
 	@(cd ..; $(MAKE) DIRS=$(DIR) all)
@@ -95,12 +92,6 @@ files:
 	$(PERL) $(TOP)/util/files.pl &quot;CPUID_OBJ=$(CPUID_OBJ)&quot; Makefile &gt;&gt; $(TOP)/MINFO
 	@target=files; $(RECURSIVE_MAKE)
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../apps $(APPS)
-	@target=links; $(RECURSIVE_MAKE)
-
 # lib: $(LIB): are splitted to avoid end-less loop
 lib:	$(LIB)
 	@touch lib
@@ -116,17 +107,6 @@ shared: buildinf.h lib subdirs
 libs:
 	@target=lib; $(RECURSIVE_MAKE)
 
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ;\
-	do \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-	@target=install; $(RECURSIVE_MAKE)
-
-uninstall:
-
 lint:
 	@target=lint; $(RECURSIVE_MAKE)
 
diff --git a/crypto/aes/Makefile b/crypto/aes/Makefile
index 2defcb1..5c3b2d3 100644
--- a/crypto/aes/Makefile
+++ b/crypto/aes/Makefile
@@ -18,9 +18,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-#TEST=aestest.c
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=aes_core.c aes_misc.c aes_ecb.c aes_cbc.c aes_cfb.c aes_ofb.c \
@@ -30,8 +27,7 @@ LIBOBJ=aes_misc.o aes_ecb.o aes_cfb.o aes_ofb.o aes_ige.o aes_wrap.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= aes.h
-HEADER= aes_locl.h $(EXHEADER)
+HEADER= aes_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -104,19 +100,6 @@ bsaes-armv7.o:	bsaes-armv7.S
 files:
 	$(PERL) $(TOP)/util/files.pl &quot;AES_ENC=$(AES_ENC)&quot; Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/asn1/Makefile b/crypto/asn1/Makefile
index 2a15f16..ff5e3ba 100644
--- a/crypto/asn1/Makefile
+++ b/crypto/asn1/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile README
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=	a_object.c a_bitstr.c a_utctm.c a_gentm.c a_time.c a_int.c a_octet.c \
@@ -48,8 +46,7 @@ LIBOBJ= a_object.o a_bitstr.o a_utctm.o a_gentm.o a_time.o a_int.o a_octet.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER=  asn1.h asn1_mac.h asn1t.h
-HEADER=	$(EXHEADER) asn1_locl.h
+HEADER=	asn1_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -74,19 +71,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/bf/Makefile b/crypto/bf/Makefile
index dd2c2c7..928e94d 100644
--- a/crypto/bf/Makefile
+++ b/crypto/bf/Makefile
@@ -18,8 +18,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-TEST=bftest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=bf_skey.c bf_ecb.c bf_enc.c bf_cfb64.c bf_ofb64.c 
@@ -27,8 +25,7 @@ LIBOBJ=bf_skey.o bf_ecb.o $(BF_ENC) bf_cfb64.o bf_ofb64.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= blowfish.h
-HEADER=	bf_pi.h bf_locl.h $(EXHEADER)
+HEADER=	bf_pi.h bf_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -48,22 +45,6 @@ bf-586.s:	asm/bf-586.pl ../perlasm/x86asm.pl ../perlasm/cbc.pl
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-# We need to use force because 'install' matches 'INSTALL' on case
-# insensitive systems
-FRC.install:
-install: FRC.install
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/bio/Makefile b/crypto/bio/Makefile
index c395d80..5477ffb 100644
--- a/crypto/bio/Makefile
+++ b/crypto/bio/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= bio_lib.c bio_cb.c bio_err.c \
@@ -34,8 +32,7 @@ LIBOBJ= bio_lib.o bio_cb.o bio_err.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= bio.h
-HEADER=	bio_lcl.h $(EXHEADER)
+HEADER=	bio_lcl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -52,19 +49,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/bn/Makefile b/crypto/bn/Makefile
index d1019c9..5b45f11 100644
--- a/crypto/bn/Makefile
+++ b/crypto/bn/Makefile
@@ -18,8 +18,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-TEST=bntest.c exptest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=	bn_add.c bn_div.c bn_exp.c bn_lib.c bn_ctx.c bn_mul.c bn_mod.c \
@@ -36,8 +34,7 @@ LIBOBJ=	bn_add.o bn_div.o bn_exp.o bn_lib.o bn_ctx.o bn_mul.o bn_mod.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= bn.h
-HEADER=	bn_lcl.h bn_prime.h $(EXHEADER)
+HEADER=	bn_lcl.h bn_prime.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -148,19 +145,6 @@ armv4-gf2m.o:	armv4-gf2m.S
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 div:
 	rm -f a.out
 	gcc -I.. -g div.c ../../libcrypto.a
diff --git a/crypto/buffer/Makefile b/crypto/buffer/Makefile
index 2efba47..d87738c 100644
--- a/crypto/buffer/Makefile
+++ b/crypto/buffer/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= buffer.c buf_str.c buf_err.c
@@ -22,8 +20,7 @@ LIBOBJ= buffer.o buf_str.o buf_err.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= buffer.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -40,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/camellia/Makefile b/crypto/camellia/Makefile
index a5b983b..2602dbf 100644
--- a/crypto/camellia/Makefile
+++ b/crypto/camellia/Makefile
@@ -18,8 +18,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-#TEST=camelliatest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=camellia.c cmll_misc.c cmll_ecb.c cmll_cbc.c cmll_ofb.c \
@@ -29,8 +27,7 @@ LIBOBJ= cmll_ecb.o cmll_ofb.o cmll_cfb.o cmll_ctr.o $(CMLL_ENC)
 
 SRC= $(LIBSRC)
 
-EXHEADER= camellia.h
-HEADER= cmll_locl.h $(EXHEADER)
+HEADER= cmll_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -54,19 +51,6 @@ cmllt4-sparcv9.s: asm/cmllt4-sparcv9.pl ../perlasm/sparcv9_modes.pl
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/cast/Makefile b/crypto/cast/Makefile
index 0acc38f..08d24b0 100644
--- a/crypto/cast/Makefile
+++ b/crypto/cast/Makefile
@@ -18,8 +18,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-TEST=casttest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=c_skey.c c_ecb.c c_enc.c c_cfb64.c c_ofb64.c 
@@ -27,8 +25,7 @@ LIBOBJ=c_skey.o c_ecb.o $(CAST_ENC) c_cfb64.o c_ofb64.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= cast.h
-HEADER=	cast_s.h cast_lcl.h $(EXHEADER)
+HEADER=	cast_s.h cast_lcl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -48,19 +45,6 @@ cast-586.s:	asm/cast-586.pl ../perlasm/x86asm.pl ../perlasm/cbc.pl
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/cmac/Makefile b/crypto/cmac/Makefile
index 2e92a14..87a20fc 100644
--- a/crypto/cmac/Makefile
+++ b/crypto/cmac/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=cmac.c cm_ameth.c cm_pmeth.c
@@ -22,8 +20,7 @@ LIBOBJ=cmac.o cm_ameth.o cm_pmeth.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= cmac.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -40,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/cms/Makefile b/crypto/cms/Makefile
index b767e25..47aec7c 100644
--- a/crypto/cms/Makefile
+++ b/crypto/cms/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= cms_lib.c cms_asn1.c cms_att.c cms_io.c cms_smime.c cms_err.c \
@@ -26,8 +24,7 @@ LIBOBJ= cms_lib.o cms_asn1.o cms_att.o cms_io.o cms_smime.o cms_err.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER=  cms.h
-HEADER=	cms_lcl.h $(EXHEADER)
+HEADER=	cms_lcl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -46,19 +43,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/comp/Makefile b/crypto/comp/Makefile
index efda832..4d1ef52 100644
--- a/crypto/comp/Makefile
+++ b/crypto/comp/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= comp_lib.c comp_err.c \
@@ -25,8 +23,7 @@ LIBOBJ=	comp_lib.o comp_err.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= comp.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -43,19 +40,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/conf/Makefile b/crypto/conf/Makefile
index 78bb324..8af03a6 100644
--- a/crypto/conf/Makefile
+++ b/crypto/conf/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= conf_err.c conf_lib.c conf_api.c conf_def.c conf_mod.c \
@@ -25,8 +23,7 @@ LIBOBJ=	conf_err.o conf_lib.o conf_api.o conf_def.o conf_mod.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= conf.h conf_api.h
-HEADER=	conf_def.h $(EXHEADER)
+HEADER=	conf_def.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -43,19 +40,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/des/Makefile b/crypto/des/Makefile
index 10b7e34..2a8f06f 100644
--- a/crypto/des/Makefile
+++ b/crypto/des/Makefile
@@ -18,8 +18,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-TEST=destest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=	cbc_cksm.c cbc_enc.c  cfb64enc.c cfb_enc.c  \
@@ -41,8 +39,7 @@ LIBOBJ= set_key.o  ecb_enc.o  cbc_enc.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= des.h
-HEADER=	des_locl.h rpc_des.h spr.h des_ver.h $(EXHEADER)
+HEADER=	des_locl.h rpc_des.h spr.h des_ver.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -69,22 +66,6 @@ crypt586.s:	asm/crypt586.pl ../perlasm/x86asm.pl ../perlasm/cbc.pl
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-# We need to use force because 'install' matches 'INSTALL' on case
-# insensitive systems
-FRC.install:
-install: FRC.install
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/dh/Makefile b/crypto/dh/Makefile
index 6af06d9..8f468e3 100644
--- a/crypto/dh/Makefile
+++ b/crypto/dh/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST= dhtest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= dh_asn1.c dh_gen.c dh_key.c dh_lib.c dh_check.c dh_err.c dh_depr.c \
@@ -24,8 +22,7 @@ LIBOBJ= dh_asn1.o dh_gen.o dh_key.o dh_lib.o dh_check.o dh_err.o dh_depr.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= dh.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -42,19 +39,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/dsa/Makefile b/crypto/dsa/Makefile
index 5c1982c..4571b88 100644
--- a/crypto/dsa/Makefile
+++ b/crypto/dsa/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=dsatest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= dsa_gen.c dsa_key.c dsa_lib.c dsa_asn1.c dsa_vrf.c dsa_sign.c \
@@ -24,8 +22,7 @@ LIBOBJ= dsa_gen.o dsa_key.o dsa_lib.o dsa_asn1.o dsa_vrf.o dsa_sign.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= dsa.h
-HEADER=	dsa_locl.h $(EXHEADER)
+HEADER=	dsa_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -42,19 +39,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/dso/Makefile b/crypto/dso/Makefile
index 07f5d8d..0471fc4 100644
--- a/crypto/dso/Makefile
+++ b/crypto/dso/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= dso_dl.c dso_dlfcn.c dso_err.c dso_lib.c dso_null.c \
@@ -24,8 +22,7 @@ LIBOBJ= dso_dl.o dso_dlfcn.o dso_err.o dso_lib.o dso_null.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= dso.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -42,19 +39,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/ec/Makefile b/crypto/ec/Makefile
index b6d50c7..5425967 100644
--- a/crypto/ec/Makefile
+++ b/crypto/ec/Makefile
@@ -15,8 +15,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-TEST=ectest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=	ec_lib.c ecp_smpl.c ecp_mont.c ecp_nist.c ec_cvt.c ec_mult.c\
@@ -33,8 +31,7 @@ LIBOBJ=	ec_lib.o ecp_smpl.o ecp_mont.o ecp_nist.o ec_cvt.o ec_mult.o\
 
 SRC= $(LIBSRC)
 
-EXHEADER= ec.h
-HEADER=	ec_lcl.h $(EXHEADER)
+HEADER=	ec_lcl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -63,19 +60,6 @@ ecp_nistz256-armv4.o:	ecp_nistz256-armv4.S
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/ecdh/Makefile b/crypto/ecdh/Makefile
index df1b03a..03c6948 100644
--- a/crypto/ecdh/Makefile
+++ b/crypto/ecdh/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=ecdhtest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=	ech_lib.c ech_ossl.c ech_key.c ech_err.c ech_kdf.c
@@ -23,8 +21,7 @@ LIBOBJ=	ech_lib.o ech_ossl.o ech_key.o ech_err.o ech_kdf.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= ecdh.h
-HEADER=	ech_locl.h $(EXHEADER)
+HEADER=	ech_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -41,19 +38,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/ecdsa/Makefile b/crypto/ecdsa/Makefile
index da08d2d..be6f849 100644
--- a/crypto/ecdsa/Makefile
+++ b/crypto/ecdsa/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=ecdsatest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=	ecs_lib.c ecs_asn1.c ecs_ossl.c ecs_sign.c ecs_vrf.c ecs_err.c
@@ -23,8 +21,7 @@ LIBOBJ=	ecs_lib.o ecs_asn1.o ecs_ossl.o ecs_sign.o ecs_vrf.o ecs_err.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= ecdsa.h
-HEADER=	ecs_locl.h $(EXHEADER)
+HEADER=	ecs_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -41,19 +38,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/engine/Makefile b/crypto/engine/Makefile
index 0bdd2aa..1739410 100644
--- a/crypto/engine/Makefile
+++ b/crypto/engine/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST= enginetest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= eng_err.c eng_lib.c eng_list.c eng_init.c eng_ctrl.c \
@@ -32,8 +30,7 @@ LIBOBJ= eng_err.o eng_lib.o eng_list.o eng_init.o eng_ctrl.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= engine.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -50,19 +47,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/err/Makefile b/crypto/err/Makefile
index 862b23b..0e95d0e 100644
--- a/crypto/err/Makefile
+++ b/crypto/err/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=err.c err_all.c err_prn.c
@@ -22,8 +20,7 @@ LIBOBJ=err.o err_all.o err_prn.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= err.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -40,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/err/openssl.ec b/crypto/err/openssl.ec
index 3c268d2..8a10b80 100644
--- a/crypto/err/openssl.ec
+++ b/crypto/err/openssl.ec
@@ -4,37 +4,38 @@
 
 # files that may have to be rewritten by util/mkerr.pl
 L ERR		NONE				NONE
-L BN		crypto/bn/bn.h			crypto/bn/bn_err.c
-L RSA		crypto/rsa/rsa.h		crypto/rsa/rsa_err.c
-L DH		crypto/dh/dh.h			crypto/dh/dh_err.c
-L EVP		crypto/evp/evp.h		crypto/evp/evp_err.c
-L BUF		crypto/buffer/buffer.h		crypto/buffer/buf_err.c
-L OBJ		crypto/objects/objects.h	crypto/objects/obj_err.c
-L PEM		crypto/pem/pem.h		crypto/pem/pem_err.c
-L DSA		crypto/dsa/dsa.h		crypto/dsa/dsa_err.c
-L X509		crypto/x509/x509.h		crypto/x509/x509_err.c
-L ASN1		crypto/asn1/asn1.h		crypto/asn1/asn1_err.c
-L CONF		crypto/conf/conf.h		crypto/conf/conf_err.c
-L CRYPTO	crypto/crypto.h			crypto/cpt_err.c
-L EC		crypto/ec/ec.h			crypto/ec/ec_err.c
-L SSL		ssl/ssl.h			ssl/ssl_err.c
-L BIO		crypto/bio/bio.h		crypto/bio/bio_err.c
-L PKCS7		crypto/pkcs7/pkcs7.h		crypto/pkcs7/pkcs7err.c
-L X509V3	crypto/x509v3/x509v3.h		crypto/x509v3/v3err.c
-L PKCS12	crypto/pkcs12/pkcs12.h		crypto/pkcs12/pk12err.c
-L RAND		crypto/rand/rand.h		crypto/rand/rand_err.c
-L DSO		crypto/dso/dso.h		crypto/dso/dso_err.c
-L ENGINE	crypto/engine/engine.h		crypto/engine/eng_err.c
-L OCSP		crypto/ocsp/ocsp.h		crypto/ocsp/ocsp_err.c
-L UI		crypto/ui/ui.h			crypto/ui/ui_err.c
-L COMP		crypto/comp/comp.h		crypto/comp/comp_err.c
-L ECDSA		crypto/ecdsa/ecdsa.h		crypto/ecdsa/ecs_err.c
-L ECDH		crypto/ecdh/ecdh.h		crypto/ecdh/ech_err.c
-L STORE		crypto/store/store.h		crypto/store/str_err.c
-L TS		crypto/ts/ts.h			crypto/ts/ts_err.c
-L HMAC		crypto/hmac/hmac.h		crypto/hmac/hmac_err.c
-L CMS		crypto/cms/cms.h		crypto/cms/cms_err.c
-L JPAKE		crypto/jpake/jpake.h		crypto/jpake/jpake_err.c
+L BN		include/openssl/bn.h		crypto/bn/bn_err.c
+L RSA		include/openssl/rsa.h		crypto/rsa/rsa_err.c
+L DH		include/openssl/dh.h		crypto/dh/dh_err.c
+L EVP		include/openssl/evp.h		crypto/evp/evp_err.c
+L BUF		include/openssl/buffer.h	crypto/buffer/buf_err.c
+L OBJ		include/openssl/objects.h	crypto/objects/obj_err.c
+L PEM		include/openssl/pem.h		crypto/pem/pem_err.c
+L DSA		include/openssl/dsa.h		crypto/dsa/dsa_err.c
+L X509		include/openssl/x509.h		crypto/x509/x509_err.c
+L ASN1		include/openssl/asn1.h		crypto/asn1/asn1_err.c
+L CONF		include/openssl/conf.h		crypto/conf/conf_err.c
+L CRYPTO	include/openssl/crypto.h	crypto/cpt_err.c
+L EC		include/openssl/ec.h		crypto/ec/ec_err.c
+L SSL		include/openssl/ssl.h		ssl/ssl_err.c
+L BIO		include/openssl/bio.h		crypto/bio/bio_err.c
+L PKCS7		include/openssl/pkcs7.h		crypto/pkcs7/pkcs7err.c
+L X509V3	include/openssl/x509v3.h	crypto/x509v3/v3err.c
+L PKCS12	include/openssl/pkcs12.h	crypto/pkcs12/pk12err.c
+L RAND		include/openssl/rand.h		crypto/rand/rand_err.c
+L DSO		include/openssl/dso.h		crypto/dso/dso_err.c
+L ENGINE	include/openssl/engine.h	crypto/engine/eng_err.c
+L OCSP		include/openssl/ocsp.h		crypto/ocsp/ocsp_err.c
+L UI		include/openssl/ui.h		crypto/ui/ui_err.c
+L COMP		include/openssl/comp.h		crypto/comp/comp_err.c
+L ECDSA		include/openssl/ecdsa.h		crypto/ecdsa/ecs_err.c
+L ECDH		include/openssl/ecdh.h		crypto/ecdh/ech_err.c
+L STORE		include/openssl/store.h		crypto/store/str_err.c
+L TS		include/openssl/ts.h		crypto/ts/ts_err.c
+L HMAC		include/openssl/hmac.h		crypto/hmac/hmac_err.c
+L CMS		include/openssl/cms.h		crypto/cms/cms_err.c
+L JPAKE		include/openssl/jpake.h		crypto/jpake/jpake_err.c
+L FIPS		include/openssl/fips.h		crypto/fips_err.h
 
 # additional header files to be scanned for function names
 L NONE		crypto/x509/x509_vfy.h		NONE
diff --git a/crypto/evp/Makefile b/crypto/evp/Makefile
index d72e6e7..c523a6d 100644
--- a/crypto/evp/Makefile
+++ b/crypto/evp/Makefile
@@ -13,9 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=evp_test.c p5_crpt2_test.c evp_extra_test.c
-TESTDATA=evptests.txt
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= encode.c digest.c evp_enc.c evp_key.c evp_acnf.c evp_cnf.c \
@@ -46,10 +43,9 @@ LIBOBJ=	encode.o digest.o evp_enc.o evp_key.o evp_acnf.o evp_cnf.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= evp.h
-HEADER=	evp_locl.h $(EXHEADER)
+HEADER=	evp_locl.h
 
-ALL=    $(GENERAL) $(SRC) $(HEADER)
+ALL=	$(GENERAL) $(SRC) $(HEADER)
 
 top:
 	(cd ../..; $(MAKE) DIRS=crypto SDIRS=$(DIR) sub_all)
@@ -64,20 +60,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@[ -f $(TESTDATA) ] &amp;&amp; cp $(TESTDATA) ../../test &amp;&amp; echo &quot;$(TESTDATA) -&gt; ../../test/$(TESTDATA)&quot;
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/hmac/Makefile b/crypto/hmac/Makefile
index 42a9778..f51612e 100644
--- a/crypto/hmac/Makefile
+++ b/crypto/hmac/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=hmactest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=hmac.c hm_ameth.c hm_pmeth.c
@@ -22,8 +20,7 @@ LIBOBJ=hmac.o hm_ameth.o hm_pmeth.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= hmac.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -40,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/idea/Makefile b/crypto/idea/Makefile
index b2e7add..345b602 100644
--- a/crypto/idea/Makefile
+++ b/crypto/idea/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=ideatest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=i_cbc.c i_cfb64.c i_ofb64.c i_ecb.c i_skey.c
@@ -22,8 +20,7 @@ LIBOBJ=i_cbc.o i_cfb64.o i_ofb64.o i_ecb.o i_skey.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= idea.h
-HEADER=	idea_lcl.h $(EXHEADER)
+HEADER=	idea_lcl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -40,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/jpake/Makefile b/crypto/jpake/Makefile
index 112dfb1..1f01d73 100644
--- a/crypto/jpake/Makefile
+++ b/crypto/jpake/Makefile
@@ -3,13 +3,16 @@ TOP=../..
 
 CFLAGS= $(INCLUDES) $(CFLAG)
 
+GENERAL= Makefile
+
 LIB=$(TOP)/libcrypto.a
 LIBOBJ=jpake.o jpake_err.o
 LIBSRC=jpake.c jpake_err.c
 SRC= $(LIBSRC)
 
-EXHEADER=jpake.h
-TEST=jpaketest.c
+HEADER=
+
+ALL= $(GENERAL) $(SRC) $(HEADER)
 
 top:
 	(cd ../..; $(MAKE) DIRS=crypto SDIRS=$(DIR) sub_all)
@@ -24,18 +27,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 depend:
 	@[ -n &quot;$(MAKEDEPEND)&quot; ] # should be set by upper Makefile...
 	$(MAKEDEPEND) -- $(CFLAG) $(INCLUDES) $(DEPFLAG) -- $(PROGS) $(LIBSRC)
diff --git a/crypto/krb5/Makefile b/crypto/krb5/Makefile
index 1407739..3d923c4 100644
--- a/crypto/krb5/Makefile
+++ b/crypto/krb5/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile README
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= krb5_asn.c
@@ -23,8 +21,7 @@ LIBOBJ= krb5_asn.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= krb5_asn.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -41,19 +38,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/lhash/Makefile b/crypto/lhash/Makefile
index 82bddac..ca7f373 100644
--- a/crypto/lhash/Makefile
+++ b/crypto/lhash/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=lhash.c lh_stats.c
@@ -22,8 +20,7 @@ LIBOBJ=lhash.o lh_stats.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= lhash.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -40,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/md2/Makefile b/crypto/md2/Makefile
index 17f878a..153c48e 100644
--- a/crypto/md2/Makefile
+++ b/crypto/md2/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=md2test.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=md2_dgst.c md2_one.c
@@ -22,8 +20,7 @@ LIBOBJ=md2_dgst.o md2_one.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= md2.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -40,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/md4/Makefile b/crypto/md4/Makefile
index af68603..90aec00 100644
--- a/crypto/md4/Makefile
+++ b/crypto/md4/Makefile
@@ -14,8 +14,6 @@ AR=             ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=md4test.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=md4_dgst.c md4_one.c
@@ -23,8 +21,7 @@ LIBOBJ=md4_dgst.o md4_one.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= md4.h
-HEADER= md4_locl.h $(EXHEADER)
+HEADER= md4_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -41,19 +38,6 @@ lib:    $(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/md5/Makefile b/crypto/md5/Makefile
index 5e9464f..79a14bd 100644
--- a/crypto/md5/Makefile
+++ b/crypto/md5/Makefile
@@ -18,8 +18,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-TEST=md5test.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=md5_dgst.c md5_one.c
@@ -27,8 +25,7 @@ LIBOBJ=md5_dgst.o md5_one.o $(MD5_ASM_OBJ)
 
 SRC= $(LIBSRC)
 
-EXHEADER= md5.h
-HEADER= md5_locl.h $(EXHEADER)
+HEADER= md5_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -58,19 +55,6 @@ md5-sparcv9.S:	asm/md5-sparcv9.pl
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/mdc2/Makefile b/crypto/mdc2/Makefile
index 766008e..18915c8 100644
--- a/crypto/mdc2/Makefile
+++ b/crypto/mdc2/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST= mdc2test.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=mdc2dgst.c mdc2_one.c
@@ -22,8 +20,7 @@ LIBOBJ=mdc2dgst.o mdc2_one.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= mdc2.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -40,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/modes/Makefile b/crypto/modes/Makefile
index 658af0c..ed2a9e3 100644
--- a/crypto/modes/Makefile
+++ b/crypto/modes/Makefile
@@ -17,8 +17,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= cbc128.c ctr128.c cts128.c cfb128.c ofb128.c gcm128.c \
@@ -28,9 +26,7 @@ LIBOBJ= cbc128.o ctr128.o cts128.o cfb128.o ofb128.o gcm128.o \
 
 SRC= $(LIBSRC)
 
-#EXHEADER= store.h str_compat.h
-EXHEADER= modes.h
-HEADER=	modes_lcl.h $(EXHEADER)
+HEADER=	modes_lcl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -74,19 +70,6 @@ ghashv8-armx.o:	ghashv8-armx.S
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/objects/Makefile b/crypto/objects/Makefile
index c6ea71e..ad2db1e 100644
--- a/crypto/objects/Makefile
+++ b/crypto/objects/Makefile
@@ -14,8 +14,6 @@ PERL=		perl
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile README
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=	o_names.c obj_dat.c obj_lib.c obj_err.c obj_xref.c
@@ -23,8 +21,7 @@ LIBOBJ= o_names.o obj_dat.o obj_lib.o obj_err.o obj_xref.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= objects.h obj_mac.h
-HEADER=	$(EXHEADER) obj_dat.h obj_xref.h
+HEADER=	obj_dat.h obj_xref.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -38,13 +35,13 @@ lib:	$(LIBOBJ)
 	$(RANLIB) $(LIB) || echo Never mind.
 	@touch lib
 
-obj_dat.h: obj_dat.pl obj_mac.h
-	$(PERL) obj_dat.pl obj_mac.h obj_dat.h
+obj_dat.h: obj_dat.pl ../../include/openssl/obj_mac.h
+	$(PERL) obj_dat.pl ../../include/openssl/obj_mac.h obj_dat.h
 
 # objects.pl both reads and writes obj_mac.num
-obj_mac.h: objects.pl objects.txt obj_mac.num
-	$(PERL) objects.pl objects.txt obj_mac.num obj_mac.h
-	@sleep 1; touch obj_mac.h; sleep 1
+../../include/openssl/obj_mac.h: objects.pl objects.txt obj_mac.num
+	$(PERL) objects.pl objects.txt obj_mac.num ../../include/openssl/obj_mac.h
+	@sleep 1; touch ../../include/openssl/obj_mac.h; sleep 1
 
 obj_xref.h: objxref.pl obj_xref.txt obj_mac.num
 	$(PERL) objxref.pl obj_mac.num obj_xref.txt &gt; obj_xref.h
@@ -53,19 +50,6 @@ obj_xref.h: objxref.pl obj_xref.txt obj_mac.num
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/ocsp/Makefile b/crypto/ocsp/Makefile
index 098e663..77f015d 100644
--- a/crypto/ocsp/Makefile
+++ b/crypto/ocsp/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile README
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= ocsp_asn.c ocsp_ext.c ocsp_ht.c ocsp_lib.c ocsp_cl.c \
@@ -25,8 +23,7 @@ LIBOBJ= ocsp_asn.o ocsp_ext.o ocsp_ht.o ocsp_lib.o ocsp_cl.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= ocsp.h
-HEADER=	ocsp_lcl.h $(EXHEADER)
+HEADER=	ocsp_lcl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -43,19 +40,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/pem/Makefile b/crypto/pem/Makefile
index b3e554a..09a6cc8 100644
--- a/crypto/pem/Makefile
+++ b/crypto/pem/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= pem_sign.c pem_seal.c pem_info.c pem_lib.c pem_all.c pem_err.c \
@@ -25,8 +23,7 @@ LIBOBJ=	pem_sign.o pem_seal.o pem_info.o pem_lib.o pem_all.o pem_err.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= pem.h pem2.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -43,19 +40,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links: $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/pkcs12/Makefile b/crypto/pkcs12/Makefile
index 3a7498f..0746146 100644
--- a/crypto/pkcs12/Makefile
+++ b/crypto/pkcs12/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= p12_add.c p12_asn.c p12_attr.c p12_crpt.c p12_crt.c p12_decr.c \
@@ -26,8 +24,7 @@ LIBOBJ= p12_add.o p12_asn.o p12_attr.o p12_crpt.o p12_crt.o p12_decr.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER=  pkcs12.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -46,19 +43,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/pkcs7/Makefile b/crypto/pkcs7/Makefile
index 987bddf..4f218e8 100644
--- a/crypto/pkcs7/Makefile
+++ b/crypto/pkcs7/Makefile
@@ -12,12 +12,10 @@ AR=		ar r
 
 PEX_LIBS=
 EX_LIBS=
- 
+
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile README
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=	pk7_asn1.c pk7_lib.c pkcs7err.c pk7_doit.c pk7_smime.c pk7_attr.c \
@@ -27,8 +25,7 @@ LIBOBJ= pk7_asn1.o pk7_lib.o pkcs7err.o pk7_doit.o pk7_smime.o pk7_attr.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER=  pkcs7.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -47,19 +44,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/pqueue/Makefile b/crypto/pqueue/Makefile
index 3c2d33d..503b69c 100644
--- a/crypto/pqueue/Makefile
+++ b/crypto/pqueue/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=pqueue.c
@@ -22,8 +20,7 @@ LIBOBJ=pqueue.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= pqueue.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -40,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/rand/Makefile b/crypto/rand/Makefile
index 27694aa..bb9ef9a 100644
--- a/crypto/rand/Makefile
+++ b/crypto/rand/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST= randtest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=md_rand.c randfile.c rand_lib.c rand_err.c rand_egd.c \
@@ -24,8 +22,7 @@ LIBOBJ=md_rand.o randfile.o rand_lib.o rand_err.o rand_egd.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= rand.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -42,19 +39,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/rc2/Makefile b/crypto/rc2/Makefile
index 73eac34..22e1b49 100644
--- a/crypto/rc2/Makefile
+++ b/crypto/rc2/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=rc2test.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=rc2_ecb.c rc2_skey.c rc2_cbc.c rc2cfb64.c rc2ofb64.c
@@ -22,8 +20,7 @@ LIBOBJ=rc2_ecb.o rc2_skey.o rc2_cbc.o rc2cfb64.o rc2ofb64.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= rc2.h
-HEADER=	rc2_locl.h $(EXHEADER)
+HEADER=	rc2_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -40,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/rc4/Makefile b/crypto/rc4/Makefile
index f7be5f9..b09da2d 100644
--- a/crypto/rc4/Makefile
+++ b/crypto/rc4/Makefile
@@ -17,8 +17,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-TEST=rc4test.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=rc4_skey.c rc4_enc.c
@@ -26,8 +24,7 @@ LIBOBJ=$(RC4_ENC)
 
 SRC= $(LIBSRC)
 
-EXHEADER= rc4.h
-HEADER=	$(EXHEADER) rc4_locl.h
+HEADER=	rc4_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -68,19 +65,6 @@ rc4-%.s:	asm/rc4-%.pl;	$(PERL) $&lt; $(PERLASM_SCHEME) $@
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/rc5/Makefile b/crypto/rc5/Makefile
index 8a8b00e..4336e6e 100644
--- a/crypto/rc5/Makefile
+++ b/crypto/rc5/Makefile
@@ -18,8 +18,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-TEST=rc5test.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=rc5_skey.c rc5_ecb.c rc5_enc.c rc5cfb64.c rc5ofb64.c 
@@ -27,8 +25,7 @@ LIBOBJ=rc5_skey.o rc5_ecb.o $(RC5_ENC) rc5cfb64.o rc5ofb64.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= rc5.h
-HEADER=	rc5_locl.h $(EXHEADER)
+HEADER=	rc5_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -48,19 +45,6 @@ rc5-586.s: asm/rc5-586.pl ../perlasm/x86asm.pl ../perlasm/cbc.pl
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/ripemd/Makefile b/crypto/ripemd/Makefile
index d5b1067..a5aea85 100644
--- a/crypto/ripemd/Makefile
+++ b/crypto/ripemd/Makefile
@@ -18,8 +18,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-TEST=rmdtest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=rmd_dgst.c rmd_one.c
@@ -27,8 +25,7 @@ LIBOBJ=rmd_dgst.o rmd_one.o $(RMD160_ASM_OBJ)
 
 SRC= $(LIBSRC)
 
-EXHEADER= ripemd.h
-HEADER= rmd_locl.h rmdconst.h $(EXHEADER)
+HEADER= rmd_locl.h rmdconst.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -48,19 +45,6 @@ rmd-586.s:	asm/rmd-586.pl ../perlasm/x86asm.pl
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/rsa/Makefile b/crypto/rsa/Makefile
index 28213bf..be8dc75 100644
--- a/crypto/rsa/Makefile
+++ b/crypto/rsa/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=rsa_test.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= rsa_eay.c rsa_gen.c rsa_lib.c rsa_sign.c rsa_saos.c rsa_err.c \
@@ -28,8 +26,7 @@ LIBOBJ= rsa_eay.o rsa_gen.o rsa_lib.o rsa_sign.o rsa_saos.o rsa_err.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= rsa.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -46,19 +43,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/seed/Makefile b/crypto/seed/Makefile
index 4bc55e4..b4ea879 100644
--- a/crypto/seed/Makefile
+++ b/crypto/seed/Makefile
@@ -14,8 +14,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=seed.c seed_ecb.c seed_cbc.c seed_cfb.c seed_ofb.c
@@ -23,8 +21,7 @@ LIBOBJ=seed.o seed_ecb.o seed_cbc.o seed_cfb.o seed_ofb.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= seed.h
-HEADER= seed_locl.h $(EXHEADER)
+HEADER= seed_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -41,19 +38,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/sha/Makefile b/crypto/sha/Makefile
index 17dcbc8..593aa79 100644
--- a/crypto/sha/Makefile
+++ b/crypto/sha/Makefile
@@ -18,8 +18,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-TEST=sha1test.c sha256t.c sha512t.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=sha1dgst.c sha1_one.c sha256.c sha512.c
@@ -27,8 +25,7 @@ LIBOBJ=sha1dgst.o sha1_one.o sha256.o sha512.o $(SHA1_ASM_OBJ)
 
 SRC= $(LIBSRC)
 
-EXHEADER= sha.h
-HEADER= sha_locl.h $(EXHEADER)
+HEADER= sha_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -103,19 +100,6 @@ sha512-armv8.o:		sha512-armv8.S
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/srp/Makefile b/crypto/srp/Makefile
index 3674dd6..5967ca1 100644
--- a/crypto/srp/Makefile
+++ b/crypto/srp/Makefile
@@ -14,8 +14,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=srptest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=srp_lib.c srp_vfy.c
@@ -23,8 +21,7 @@ LIBOBJ=srp_lib.o srp_vfy.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= srp.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 top:
 	(cd ../..; $(MAKE) DIRS=crypto SDIRS=$(DIR) sub_all)
@@ -39,19 +36,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/stack/Makefile b/crypto/stack/Makefile
index 5327692..f97b3e8 100644
--- a/crypto/stack/Makefile
+++ b/crypto/stack/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=stack.c
@@ -22,8 +20,7 @@ LIBOBJ=stack.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= stack.h safestack.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -40,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/store/Makefile b/crypto/store/Makefile
index 0dcfd78..79e31b5 100644
--- a/crypto/store/Makefile
+++ b/crypto/store/Makefile
@@ -13,9 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-#TEST= storetest.c
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= str_err.c str_lib.c str_meth.c str_mem.c
@@ -23,9 +20,7 @@ LIBOBJ= str_err.o str_lib.o str_meth.o str_mem.o
 
 SRC= $(LIBSRC)
 
-#EXHEADER= store.h str_compat.h
-EXHEADER= store.h
-HEADER=	$(EXHEADER) str_locl.h
+HEADER=	str_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -42,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/ts/Makefile b/crypto/ts/Makefile
index 32872a7..9635991 100644
--- a/crypto/ts/Makefile
+++ b/crypto/ts/Makefile
@@ -17,12 +17,10 @@ AR=		ar r
 
 PEX_LIBS=
 EX_LIBS=
- 
+
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL= Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=	ts_err.c ts_req_utils.c ts_req_print.c ts_rsp_utils.c ts_rsp_print.c \
@@ -34,8 +32,7 @@ LIBOBJ= ts_err.o ts_req_utils.o ts_req_print.o ts_rsp_utils.o ts_rsp_print.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= ts.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -54,19 +51,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/txt_db/Makefile b/crypto/txt_db/Makefile
index e6f3033..454bda0 100644
--- a/crypto/txt_db/Makefile
+++ b/crypto/txt_db/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=txt_db.c
@@ -22,8 +20,7 @@ LIBOBJ=txt_db.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= txt_db.h
-HEADER=	$(EXHEADER)
+HEADER=	
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -40,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/ui/Makefile b/crypto/ui/Makefile
index f0376a3..4ab59a1 100644
--- a/crypto/ui/Makefile
+++ b/crypto/ui/Makefile
@@ -13,9 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-#TEST= uitest.c
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC= ui_err.c ui_lib.c ui_openssl.c ui_util.c
@@ -23,8 +20,7 @@ LIBOBJ= ui_err.o ui_lib.o ui_openssl.o ui_util.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= ui.h
-HEADER=	$(EXHEADER) ui_locl.h
+HEADER=	ui_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -41,19 +37,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/whrlpool/Makefile b/crypto/whrlpool/Makefile
index 566b996..31c63ad 100644
--- a/crypto/whrlpool/Makefile
+++ b/crypto/whrlpool/Makefile
@@ -18,8 +18,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile
-TEST=wp_test.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=wp_dgst.c wp_block.c
@@ -27,8 +25,7 @@ LIBOBJ=wp_dgst.o $(WP_ASM_OBJ)
 
 SRC= $(LIBSRC)
 
-EXHEADER= whrlpool.h
-HEADER= wp_locl.h $(EXHEADER)
+HEADER= wp_locl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -53,19 +50,6 @@ $(LIBOBJ): $(LIBSRC)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/x509/Makefile b/crypto/x509/Makefile
index 9572ed2..914129a 100644
--- a/crypto/x509/Makefile
+++ b/crypto/x509/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile README
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=	x509_def.c x509_d2.c x509_r2x.c x509_cmp.c \
@@ -34,8 +32,7 @@ LIBOBJ= x509_def.o x509_d2.o x509_r2x.o x509_cmp.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= x509.h x509_vfy.h
-HEADER=	$(EXHEADER) x509_lcl.h
+HEADER=	x509_lcl.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -52,19 +49,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/x509v3/Makefile b/crypto/x509v3/Makefile
index f232e67..30c1ede 100644
--- a/crypto/x509v3/Makefile
+++ b/crypto/x509v3/Makefile
@@ -13,8 +13,6 @@ AR=		ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile README
-TEST=v3nametest.c
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBSRC=	v3_bcons.c v3_bitst.c v3_conf.c v3_extku.c v3_ia5.c v3_lib.c \
@@ -32,8 +30,7 @@ v3_asid.o v3_addr.o v3_scts.o
 
 SRC= $(LIBSRC)
 
-EXHEADER= x509v3.h
-HEADER=	$(EXHEADER) pcy_int.h
+HEADER=	pcy_int.h
 
 ALL=    $(GENERAL) $(SRC) $(HEADER)
 
@@ -50,19 +47,6 @@ lib:	$(LIBOBJ)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
 tags:
 	ctags $(SRC)
 
diff --git a/engines/Makefile b/engines/Makefile
index da4ae77..769a4e5 100644
--- a/engines/Makefile
+++ b/engines/Makefile
@@ -29,8 +29,6 @@ ASFLAGS= $(INCLUDES) $(ASFLAG)
 AFLAGS= $(ASFLAGS)
 
 GENERAL=Makefile engines.com install.com engine_vector.mar
-TEST=
-APPS=
 
 LIB=$(TOP)/libcrypto.a
 LIBNAMES= 4758cca gmp padlock capi
@@ -47,7 +45,6 @@ LIBOBJ= e_4758cca.o \
 
 SRC= $(LIBSRC)
 
-EXHEADER= 
 HEADER=	e_4758cca_err.c e_4758cca_err.h \
 	e_gmp_err.c e_gmp_err.h \
 	e_chil_err.c e_chil_err.h \
@@ -56,7 +53,7 @@ HEADER=	e_4758cca_err.c e_4758cca_err.h \
 	e_ubsec_err.c e_ubsec_err.h \
 	e_capi_err.c e_capi_err.h
 
-ALL=    $(GENERAL) $(SRC) $(HEADER)
+ALL=	$(GENERAL) $(SRC) $(HEADER)
 
 top:
 	(cd ..; $(MAKE) DIRS=$(DIR) all)
@@ -90,9 +87,6 @@ files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 	@target=files; $(RECURSIVE_MAKE)
 
-links:
-	@target=links; $(RECURSIVE_MAKE)
-
 # XXXXX This currently only works on systems that use .so as suffix
 # for shared libraries as well as for Cygwin which uses the
 # dlfcn_name_converter and therefore stores the engines with .so suffix, too.
diff --git a/engines/ccgost/Makefile b/engines/ccgost/Makefile
index c44b704..edd1e50 100644
--- a/engines/ccgost/Makefile
+++ b/engines/ccgost/Makefile
@@ -8,8 +8,6 @@ AR= ar r
 CFLAGS= $(INCLUDES) $(CFLAG)
 LIB=$(TOP)/libcrypto.a
 
-TEST=gost2814789test.c
-
 LIBSRC= gost2001.c gost2001_keyx.c gost89.c gost94_keyx.c gost_ameth.c gost_asn1.c gost_crypt.c gost_ctl.c gost_eng.c gosthash.c gost_keywrap.c gost_md.c gost_params.c gost_pmeth.c gost_sign.c
 
 LIBOBJ= e_gost_err.o gost2001_keyx.o gost2001.o gost89.o gost94_keyx.o gost_ameth.o gost_asn1.o gost_crypt.o gost_ctl.o gost_eng.o gosthash.o gost_keywrap.o gost_md.o gost_params.o gost_pmeth.o gost_sign.o
@@ -63,9 +61,6 @@ install:
 		mv -f $(INSTALL_PREFIX)$(INSTALLTOP)/$(LIBDIR)/engines/$${pfx}$(LIBNAME)$$sfx.new $(INSTALL_PREFIX)$(INSTALLTOP)/$(LIBDIR)/engines/$${pfx}$(LIBNAME)$$sfx; \
 	fi
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../../test $(TEST)
-
 tests:
 
 depend:
diff --git a/crypto/aes/aes.h b/include/openssl/aes.h
similarity index 100%
rename from crypto/aes/aes.h
rename to include/openssl/aes.h
diff --git a/crypto/asn1/asn1.h b/include/openssl/asn1.h
similarity index 100%
rename from crypto/asn1/asn1.h
rename to include/openssl/asn1.h
diff --git a/crypto/asn1/asn1_mac.h b/include/openssl/asn1_mac.h
similarity index 100%
rename from crypto/asn1/asn1_mac.h
rename to include/openssl/asn1_mac.h
diff --git a/crypto/asn1/asn1t.h b/include/openssl/asn1t.h
similarity index 100%
rename from crypto/asn1/asn1t.h
rename to include/openssl/asn1t.h
diff --git a/crypto/bio/bio.h b/include/openssl/bio.h
similarity index 100%
rename from crypto/bio/bio.h
rename to include/openssl/bio.h
diff --git a/crypto/bf/blowfish.h b/include/openssl/blowfish.h
similarity index 100%
rename from crypto/bf/blowfish.h
rename to include/openssl/blowfish.h
diff --git a/crypto/bn/bn.h b/include/openssl/bn.h
similarity index 100%
rename from crypto/bn/bn.h
rename to include/openssl/bn.h
diff --git a/crypto/buffer/buffer.h b/include/openssl/buffer.h
similarity index 100%
rename from crypto/buffer/buffer.h
rename to include/openssl/buffer.h
diff --git a/crypto/camellia/camellia.h b/include/openssl/camellia.h
similarity index 100%
rename from crypto/camellia/camellia.h
rename to include/openssl/camellia.h
diff --git a/crypto/cast/cast.h b/include/openssl/cast.h
similarity index 100%
rename from crypto/cast/cast.h
rename to include/openssl/cast.h
diff --git a/crypto/cmac/cmac.h b/include/openssl/cmac.h
similarity index 100%
rename from crypto/cmac/cmac.h
rename to include/openssl/cmac.h
diff --git a/crypto/cms/cms.h b/include/openssl/cms.h
similarity index 100%
rename from crypto/cms/cms.h
rename to include/openssl/cms.h
diff --git a/crypto/comp/comp.h b/include/openssl/comp.h
similarity index 100%
rename from crypto/comp/comp.h
rename to include/openssl/comp.h
diff --git a/crypto/conf/conf.h b/include/openssl/conf.h
similarity index 100%
rename from crypto/conf/conf.h
rename to include/openssl/conf.h
diff --git a/crypto/conf/conf_api.h b/include/openssl/conf_api.h
similarity index 100%
rename from crypto/conf/conf_api.h
rename to include/openssl/conf_api.h
diff --git a/crypto/crypto.h b/include/openssl/crypto.h
similarity index 100%
rename from crypto/crypto.h
rename to include/openssl/crypto.h
diff --git a/crypto/des/des.h b/include/openssl/des.h
similarity index 100%
rename from crypto/des/des.h
rename to include/openssl/des.h
diff --git a/crypto/dh/dh.h b/include/openssl/dh.h
similarity index 100%
rename from crypto/dh/dh.h
rename to include/openssl/dh.h
diff --git a/crypto/dsa/dsa.h b/include/openssl/dsa.h
similarity index 100%
rename from crypto/dsa/dsa.h
rename to include/openssl/dsa.h
diff --git a/crypto/dso/dso.h b/include/openssl/dso.h
similarity index 100%
rename from crypto/dso/dso.h
rename to include/openssl/dso.h
diff --git a/ssl/dtls1.h b/include/openssl/dtls1.h
similarity index 100%
rename from ssl/dtls1.h
rename to include/openssl/dtls1.h
diff --git a/e_os2.h b/include/openssl/e_os2.h
similarity index 100%
rename from e_os2.h
rename to include/openssl/e_os2.h
diff --git a/crypto/ebcdic.h b/include/openssl/ebcdic.h
similarity index 100%
rename from crypto/ebcdic.h
rename to include/openssl/ebcdic.h
diff --git a/crypto/ec/ec.h b/include/openssl/ec.h
similarity index 100%
rename from crypto/ec/ec.h
rename to include/openssl/ec.h
diff --git a/crypto/ecdh/ecdh.h b/include/openssl/ecdh.h
similarity index 100%
rename from crypto/ecdh/ecdh.h
rename to include/openssl/ecdh.h
diff --git a/crypto/ecdsa/ecdsa.h b/include/openssl/ecdsa.h
similarity index 100%
rename from crypto/ecdsa/ecdsa.h
rename to include/openssl/ecdsa.h
diff --git a/crypto/engine/engine.h b/include/openssl/engine.h
similarity index 100%
rename from crypto/engine/engine.h
rename to include/openssl/engine.h
diff --git a/crypto/err/err.h b/include/openssl/err.h
similarity index 100%
rename from crypto/err/err.h
rename to include/openssl/err.h
diff --git a/crypto/evp/evp.h b/include/openssl/evp.h
similarity index 100%
rename from crypto/evp/evp.h
rename to include/openssl/evp.h
diff --git a/crypto/hmac/hmac.h b/include/openssl/hmac.h
similarity index 100%
rename from crypto/hmac/hmac.h
rename to include/openssl/hmac.h
diff --git a/crypto/idea/idea.h b/include/openssl/idea.h
similarity index 100%
rename from crypto/idea/idea.h
rename to include/openssl/idea.h
diff --git a/crypto/jpake/jpake.h b/include/openssl/jpake.h
similarity index 100%
rename from crypto/jpake/jpake.h
rename to include/openssl/jpake.h
diff --git a/crypto/krb5/krb5_asn.h b/include/openssl/krb5_asn.h
similarity index 100%
rename from crypto/krb5/krb5_asn.h
rename to include/openssl/krb5_asn.h
diff --git a/ssl/kssl.h b/include/openssl/kssl.h
similarity index 100%
rename from ssl/kssl.h
rename to include/openssl/kssl.h
diff --git a/crypto/lhash/lhash.h b/include/openssl/lhash.h
similarity index 100%
rename from crypto/lhash/lhash.h
rename to include/openssl/lhash.h
diff --git a/crypto/md2/md2.h b/include/openssl/md2.h
similarity index 100%
rename from crypto/md2/md2.h
rename to include/openssl/md2.h
diff --git a/crypto/md4/md4.h b/include/openssl/md4.h
similarity index 100%
rename from crypto/md4/md4.h
rename to include/openssl/md4.h
diff --git a/crypto/md5/md5.h b/include/openssl/md5.h
similarity index 100%
rename from crypto/md5/md5.h
rename to include/openssl/md5.h
diff --git a/crypto/mdc2/mdc2.h b/include/openssl/mdc2.h
similarity index 100%
rename from crypto/mdc2/mdc2.h
rename to include/openssl/mdc2.h
diff --git a/crypto/modes/modes.h b/include/openssl/modes.h
similarity index 100%
rename from crypto/modes/modes.h
rename to include/openssl/modes.h
diff --git a/crypto/objects/obj_mac.h b/include/openssl/obj_mac.h
similarity index 100%
rename from crypto/objects/obj_mac.h
rename to include/openssl/obj_mac.h
diff --git a/crypto/objects/objects.h b/include/openssl/objects.h
similarity index 100%
rename from crypto/objects/objects.h
rename to include/openssl/objects.h
diff --git a/crypto/ocsp/ocsp.h b/include/openssl/ocsp.h
similarity index 100%
rename from crypto/ocsp/ocsp.h
rename to include/openssl/ocsp.h
diff --git a/crypto/opensslv.h b/include/openssl/opensslv.h
similarity index 100%
rename from crypto/opensslv.h
rename to include/openssl/opensslv.h
diff --git a/crypto/ossl_typ.h b/include/openssl/ossl_typ.h
similarity index 100%
rename from crypto/ossl_typ.h
rename to include/openssl/ossl_typ.h
diff --git a/crypto/pem/pem.h b/include/openssl/pem.h
similarity index 100%
rename from crypto/pem/pem.h
rename to include/openssl/pem.h
diff --git a/crypto/pem/pem2.h b/include/openssl/pem2.h
similarity index 100%
rename from crypto/pem/pem2.h
rename to include/openssl/pem2.h
diff --git a/crypto/pkcs12/pkcs12.h b/include/openssl/pkcs12.h
similarity index 100%
rename from crypto/pkcs12/pkcs12.h
rename to include/openssl/pkcs12.h
diff --git a/crypto/pkcs7/pkcs7.h b/include/openssl/pkcs7.h
similarity index 100%
rename from crypto/pkcs7/pkcs7.h
rename to include/openssl/pkcs7.h
diff --git a/crypto/pqueue/pqueue.h b/include/openssl/pqueue.h
similarity index 100%
rename from crypto/pqueue/pqueue.h
rename to include/openssl/pqueue.h
diff --git a/crypto/rand/rand.h b/include/openssl/rand.h
similarity index 100%
rename from crypto/rand/rand.h
rename to include/openssl/rand.h
diff --git a/crypto/rc2/rc2.h b/include/openssl/rc2.h
similarity index 100%
rename from crypto/rc2/rc2.h
rename to include/openssl/rc2.h
diff --git a/crypto/rc4/rc4.h b/include/openssl/rc4.h
similarity index 100%
rename from crypto/rc4/rc4.h
rename to include/openssl/rc4.h
diff --git a/crypto/rc5/rc5.h b/include/openssl/rc5.h
similarity index 100%
rename from crypto/rc5/rc5.h
rename to include/openssl/rc5.h
diff --git a/crypto/ripemd/ripemd.h b/include/openssl/ripemd.h
similarity index 100%
rename from crypto/ripemd/ripemd.h
rename to include/openssl/ripemd.h
diff --git a/crypto/rsa/rsa.h b/include/openssl/rsa.h
similarity index 100%
rename from crypto/rsa/rsa.h
rename to include/openssl/rsa.h
diff --git a/crypto/stack/safestack.h b/include/openssl/safestack.h
similarity index 100%
rename from crypto/stack/safestack.h
rename to include/openssl/safestack.h
diff --git a/crypto/seed/seed.h b/include/openssl/seed.h
similarity index 100%
rename from crypto/seed/seed.h
rename to include/openssl/seed.h
diff --git a/crypto/sha/sha.h b/include/openssl/sha.h
similarity index 100%
rename from crypto/sha/sha.h
rename to include/openssl/sha.h
diff --git a/crypto/srp/srp.h b/include/openssl/srp.h
similarity index 100%
rename from crypto/srp/srp.h
rename to include/openssl/srp.h
diff --git a/ssl/srtp.h b/include/openssl/srtp.h
similarity index 100%
rename from ssl/srtp.h
rename to include/openssl/srtp.h
diff --git a/ssl/ssl.h b/include/openssl/ssl.h
similarity index 100%
rename from ssl/ssl.h
rename to include/openssl/ssl.h
diff --git a/ssl/ssl2.h b/include/openssl/ssl2.h
similarity index 100%
rename from ssl/ssl2.h
rename to include/openssl/ssl2.h
diff --git a/ssl/ssl23.h b/include/openssl/ssl23.h
similarity index 100%
rename from ssl/ssl23.h
rename to include/openssl/ssl23.h
diff --git a/ssl/ssl3.h b/include/openssl/ssl3.h
similarity index 100%
rename from ssl/ssl3.h
rename to include/openssl/ssl3.h
diff --git a/crypto/stack/stack.h b/include/openssl/stack.h
similarity index 100%
rename from crypto/stack/stack.h
rename to include/openssl/stack.h
diff --git a/crypto/store/store.h b/include/openssl/store.h
similarity index 100%
rename from crypto/store/store.h
rename to include/openssl/store.h
diff --git a/crypto/symhacks.h b/include/openssl/symhacks.h
similarity index 100%
rename from crypto/symhacks.h
rename to include/openssl/symhacks.h
diff --git a/ssl/tls1.h b/include/openssl/tls1.h
similarity index 100%
rename from ssl/tls1.h
rename to include/openssl/tls1.h
diff --git a/crypto/ts/ts.h b/include/openssl/ts.h
similarity index 100%
rename from crypto/ts/ts.h
rename to include/openssl/ts.h
diff --git a/crypto/txt_db/txt_db.h b/include/openssl/txt_db.h
similarity index 100%
rename from crypto/txt_db/txt_db.h
rename to include/openssl/txt_db.h
diff --git a/crypto/ui/ui.h b/include/openssl/ui.h
similarity index 100%
rename from crypto/ui/ui.h
rename to include/openssl/ui.h
diff --git a/crypto/whrlpool/whrlpool.h b/include/openssl/whrlpool.h
similarity index 100%
rename from crypto/whrlpool/whrlpool.h
rename to include/openssl/whrlpool.h
diff --git a/crypto/x509/x509.h b/include/openssl/x509.h
similarity index 100%
rename from crypto/x509/x509.h
rename to include/openssl/x509.h
diff --git a/crypto/x509/x509_vfy.h b/include/openssl/x509_vfy.h
similarity index 100%
rename from crypto/x509/x509_vfy.h
rename to include/openssl/x509_vfy.h
diff --git a/crypto/x509v3/x509v3.h b/include/openssl/x509v3.h
similarity index 100%
rename from crypto/x509v3/x509v3.h
rename to include/openssl/x509v3.h
diff --git a/ssl/Makefile b/ssl/Makefile
index 39cba8b..4168306 100644
--- a/ssl/Makefile
+++ b/ssl/Makefile
@@ -15,8 +15,6 @@ KRB5_INCLUDES=
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile README ssl-lib.com install.com
-TEST=ssltest.c heartbeat_test.c
-APPS=
 
 LIB=$(TOP)/libssl.a
 SHARED_LIB= libssl$(SHLIB_EXT)
@@ -47,10 +45,9 @@ LIBOBJ= \
 
 SRC= $(LIBSRC)
 
-EXHEADER= ssl.h ssl2.h ssl3.h ssl23.h tls1.h dtls1.h kssl.h srtp.h
-HEADER=	$(EXHEADER) ssl_locl.h kssl_lcl.h  record/record_locl.h record/record.h
+HEADER=	ssl_locl.h kssl_lcl.h  record/record_locl.h record/record.h
 
-ALL=    $(GENERAL) $(SRC) $(HEADER)
+ALL=	$(GENERAL) $(SRC) $(HEADER)
 
 top:
 	(cd ..; $(MAKE) DIRS=$(DIR) all)
@@ -70,21 +67,6 @@ shared: lib
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-	@$(PERL) $(TOP)/util/mklink.pl ../include/openssl $(EXHEADER)
-	@$(PERL) $(TOP)/util/mklink.pl ../test $(TEST)
-	@$(PERL) $(TOP)/util/mklink.pl ../apps $(APPS)
-
-install:
-	@[ -n &quot;$(INSTALLTOP)&quot; ] # should be set by top Makefile...
-	@headerlist=&quot;$(EXHEADER)&quot;; for i in $$headerlist ; \
-	do  \
-	(cp $$i $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i; \
-	chmod 644 $(INSTALL_PREFIX)$(INSTALLTOP)/include/openssl/$$i ); \
-	done;
-
-uninstall:
-
 tags:
 	ctags $(SRC)
 
diff --git a/test/Makefile b/test/Makefile
index f4635b8..2e3efd8 100644
--- a/test/Makefile
+++ b/test/Makefile
@@ -12,7 +12,6 @@ PERL=		perl
 # KRB5 stuff
 KRB5_INCLUDES=
 LIBKRB5=
-TEST=		igetest.c
 
 PEX_LIBS=
 EX_LIBS= #-lnsl -lsocket
@@ -56,7 +55,6 @@ GOST2814789TEST=gost2814789test
 RANDTEST=	randtest
 DHTEST=		dhtest
 DSATEST=	dsatest
-METHTEST=	methtest
 SSLTEST=	ssltest
 RSATEST=	rsa_test
 ENGINETEST=	enginetest
@@ -111,10 +109,9 @@ SRC=	$(BNTEST).c $(ECTEST).c  $(ECDSATEST).c $(ECDHTEST).c $(IDEATEST).c \
 	$(GOST2814789TEST).c $(HEARTBEATTEST).c $(P5_CRPT2_TEST).c \
 	$(CONSTTIMETEST).c testutil.c
 
-EXHEADER= 
-HEADER=	testutil.h $(EXHEADER)
+HEADER=	testutil.h
 
-ALL=    $(GENERAL) $(SRC) $(HEADER)
+ALL=	$(GENERAL) $(SRC) $(HEADER)
 
 top:
 	(cd ..; $(MAKE) DIRS=$(DIR) TESTS=$(TESTS) all)
@@ -126,18 +123,12 @@ exe:	$(EXE) dummytest$(EXE_EXT)
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-
 generate: $(SRC)
 $(SRC):
 	@sh $(TOP)/util/point.sh dummytest.c $@
 
 errors:
 
-install:
-
-uninstall:
-
 tags:
 	ctags $(SRC)
 
diff --git a/crypto/bf/bftest.c b/test/bftest.c
similarity index 100%
rename from crypto/bf/bftest.c
rename to test/bftest.c
diff --git a/crypto/bn/bntest.c b/test/bntest.c
similarity index 100%
rename from crypto/bn/bntest.c
rename to test/bntest.c
diff --git a/crypto/cast/casttest.c b/test/casttest.c
similarity index 100%
rename from crypto/cast/casttest.c
rename to test/casttest.c
diff --git a/crypto/constant_time_test.c b/test/constant_time_test.c
similarity index 100%
rename from crypto/constant_time_test.c
rename to test/constant_time_test.c
diff --git a/crypto/des/destest.c b/test/destest.c
similarity index 100%
rename from crypto/des/destest.c
rename to test/destest.c
diff --git a/crypto/dh/dhtest.c b/test/dhtest.c
similarity index 100%
rename from crypto/dh/dhtest.c
rename to test/dhtest.c
diff --git a/crypto/dsa/dsatest.c b/test/dsatest.c
similarity index 100%
rename from crypto/dsa/dsatest.c
rename to test/dsatest.c
diff --git a/crypto/ecdh/ecdhtest.c b/test/ecdhtest.c
similarity index 100%
rename from crypto/ecdh/ecdhtest.c
rename to test/ecdhtest.c
diff --git a/crypto/ecdsa/ecdsatest.c b/test/ecdsatest.c
similarity index 100%
rename from crypto/ecdsa/ecdsatest.c
rename to test/ecdsatest.c
diff --git a/crypto/ec/ectest.c b/test/ectest.c
similarity index 100%
rename from crypto/ec/ectest.c
rename to test/ectest.c
diff --git a/crypto/engine/enginetest.c b/test/enginetest.c
similarity index 100%
rename from crypto/engine/enginetest.c
rename to test/enginetest.c
diff --git a/crypto/evp/evp_extra_test.c b/test/evp_extra_test.c
similarity index 100%
rename from crypto/evp/evp_extra_test.c
rename to test/evp_extra_test.c
diff --git a/crypto/evp/evp_test.c b/test/evp_test.c
similarity index 100%
rename from crypto/evp/evp_test.c
rename to test/evp_test.c
diff --git a/crypto/evp/evptests.txt b/test/evptests.txt
similarity index 100%
rename from crypto/evp/evptests.txt
rename to test/evptests.txt
diff --git a/crypto/bn/exptest.c b/test/exptest.c
similarity index 100%
rename from crypto/bn/exptest.c
rename to test/exptest.c
diff --git a/engines/ccgost/gost2814789test.c b/test/gost2814789test.c
similarity index 100%
rename from engines/ccgost/gost2814789test.c
rename to test/gost2814789test.c
diff --git a/ssl/heartbeat_test.c b/test/heartbeat_test.c
similarity index 100%
rename from ssl/heartbeat_test.c
rename to test/heartbeat_test.c
diff --git a/crypto/hmac/hmactest.c b/test/hmactest.c
similarity index 100%
rename from crypto/hmac/hmactest.c
rename to test/hmactest.c
diff --git a/crypto/idea/ideatest.c b/test/ideatest.c
similarity index 100%
rename from crypto/idea/ideatest.c
rename to test/ideatest.c
diff --git a/crypto/jpake/jpaketest.c b/test/jpaketest.c
similarity index 100%
rename from crypto/jpake/jpaketest.c
rename to test/jpaketest.c
diff --git a/crypto/md2/md2test.c b/test/md2test.c
similarity index 100%
rename from crypto/md2/md2test.c
rename to test/md2test.c
diff --git a/crypto/md4/md4test.c b/test/md4test.c
similarity index 100%
rename from crypto/md4/md4test.c
rename to test/md4test.c
diff --git a/crypto/md5/md5test.c b/test/md5test.c
similarity index 100%
rename from crypto/md5/md5test.c
rename to test/md5test.c
diff --git a/crypto/mdc2/mdc2test.c b/test/mdc2test.c
similarity index 100%
rename from crypto/mdc2/mdc2test.c
rename to test/mdc2test.c
diff --git a/crypto/evp/p5_crpt2_test.c b/test/p5_crpt2_test.c
similarity index 100%
rename from crypto/evp/p5_crpt2_test.c
rename to test/p5_crpt2_test.c
diff --git a/crypto/rand/randtest.c b/test/randtest.c
similarity index 100%
rename from crypto/rand/randtest.c
rename to test/randtest.c
diff --git a/crypto/rc2/rc2test.c b/test/rc2test.c
similarity index 100%
rename from crypto/rc2/rc2test.c
rename to test/rc2test.c
diff --git a/crypto/rc4/rc4test.c b/test/rc4test.c
similarity index 100%
rename from crypto/rc4/rc4test.c
rename to test/rc4test.c
diff --git a/crypto/rc5/rc5test.c b/test/rc5test.c
similarity index 100%
rename from crypto/rc5/rc5test.c
rename to test/rc5test.c
diff --git a/crypto/ripemd/rmdtest.c b/test/rmdtest.c
similarity index 100%
rename from crypto/ripemd/rmdtest.c
rename to test/rmdtest.c
diff --git a/crypto/rsa/rsa_test.c b/test/rsa_test.c
similarity index 100%
rename from crypto/rsa/rsa_test.c
rename to test/rsa_test.c
diff --git a/crypto/sha/sha1test.c b/test/sha1test.c
similarity index 100%
rename from crypto/sha/sha1test.c
rename to test/sha1test.c
diff --git a/crypto/sha/sha256t.c b/test/sha256t.c
similarity index 100%
rename from crypto/sha/sha256t.c
rename to test/sha256t.c
diff --git a/crypto/sha/sha512t.c b/test/sha512t.c
similarity index 100%
rename from crypto/sha/sha512t.c
rename to test/sha512t.c
diff --git a/crypto/srp/srptest.c b/test/srptest.c
similarity index 100%
rename from crypto/srp/srptest.c
rename to test/srptest.c
diff --git a/ssl/ssltest.c b/test/ssltest.c
similarity index 100%
rename from ssl/ssltest.c
rename to test/ssltest.c
diff --git a/crypto/x509v3/v3nametest.c b/test/v3nametest.c
similarity index 100%
rename from crypto/x509v3/v3nametest.c
rename to test/v3nametest.c
diff --git a/crypto/whrlpool/wp_test.c b/test/wp_test.c
similarity index 100%
rename from crypto/whrlpool/wp_test.c
rename to test/wp_test.c
diff --git a/tools/Makefile b/tools/Makefile
index 19950d1..edd7fc5 100644
--- a/tools/Makefile
+++ b/tools/Makefile
@@ -12,7 +12,6 @@ MAKEFILE=	Makefile
 CFLAGS= $(INCLUDES) $(CFLAG)
 
 GENERAL=Makefile
-TEST=
 APPS= c_rehash
 MISC_APPS= c_hash c_info c_issuer c_name
 
@@ -48,8 +47,6 @@ uninstall:
 files:
 	$(PERL) $(TOP)/util/files.pl Makefile &gt;&gt; $(TOP)/MINFO
 
-links:
-
 lint:
 
 tags:
diff --git a/util/bat.sh b/util/bat.sh
index 459cd9f..dee56d7 100755
--- a/util/bat.sh
+++ b/util/bat.sh
@@ -37,9 +37,6 @@ for (;;)
 		$lib =~ s/^.*\/([^\/]+)$/$1/;
 		}
 
-	if ($key eq &quot;EXHEADER&quot;)
-		{ $exheader.=&amp;var_add($dir,$val); }
-
 	if ($key eq &quot;HEADER&quot;)
 		{ $header.=&amp;var_add($dir,$val); }
 
diff --git a/util/mk1mf.pl b/util/mk1mf.pl
index 3ad17f6..e0a44cc 100755
--- a/util/mk1mf.pl
+++ b/util/mk1mf.pl
@@ -396,7 +396,7 @@ for (;;)
 	if ($key eq &quot;EX_LIBS&quot;)
 		{ $ex_libs .= &quot; $val&quot; if $val ne &quot;&quot;;}
 
-	if ($key eq &quot;TEST&quot; &amp;&amp; (!$fipscanisteronly || $dir =~ /^fips/ ))
+	if ($key =~ /^[A-Z0-9_]*TEST$/ &amp;&amp; (!$fipscanisteronly || $dir =~ /^fips/ ))
 		{ $test.=&amp;var_add($dir,$val, 0); }
 
 	if (($key eq &quot;PROGS&quot;) || ($key eq &quot;E_OBJ&quot;))
@@ -414,9 +414,6 @@ for (;;)
 		$otherlibs .= &quot; $lib&quot;;
 		}
 
-	if ($key eq &quot;EXHEADER&quot;)
-		{ $exheader.=&amp;var_add($dir,$val, 1); }
-
 	if ($key eq &quot;HEADER&quot;)
 		{ $header.=&amp;var_add($dir,$val, 1); }
 
@@ -454,7 +451,6 @@ if ($orig_platform eq 'copy')
 	{
 	# Remove opensslconf.h so it doesn't get updated if we configure a
 	# different branch.
-	$exheader =~ s/[^ ]+\/opensslconf.h//;
 	$header =~ s/[^ ]+\/opensslconf.h//;
 	}
 
@@ -568,7 +564,7 @@ if ($fipscanisteronly)
 $cp2 = $cp unless defined $cp2;
 
 $extra_install= &lt;&lt;&quot;EOF&quot;;
-	\$(CP) \&quot;\$(INCO_D)${o}*.\[ch\]\&quot; \&quot;\$(INSTALLTOP)${o}include${o}openssl\&quot;
+	\$(CP) \&quot;include${o}openssl${o}*.\[ch\]\&quot; \&quot;\$(INSTALLTOP)${o}include${o}openssl\&quot;
 	\$(CP) \&quot;\$(BIN_D)$o\$(E_EXE)$exep \$(INSTALLTOP)${o}bin\&quot;
 	\$(MKDIR) \&quot;\$(OPENSSLDIR)\&quot;
 	\$(CP) apps${o}openssl.cnf \&quot;\$(OPENSSLDIR)\&quot;
@@ -581,8 +577,8 @@ if ($fipscanisteronly)
 	\$(CP) \&quot;\$(O_FIPSCANISTER).sha1\&quot; \&quot;\$(INSTALLTOP)${o}lib\&quot;
 	\$(CP2) \&quot;fips${o}fips_premain.c\&quot; \&quot;\$(INSTALLTOP)${o}lib\&quot;
 	\$(CP) \&quot;fips${o}fips_premain.c.sha1\&quot; \&quot;\$(INSTALLTOP)${o}lib\&quot;
-	\$(CP) \&quot;\$(INCO_D)${o}fips.h\&quot; \&quot;\$(INSTALLTOP)${o}include${o}openssl\&quot;
-	\$(CP) \&quot;\$(INCO_D)${o}fips_rand.h\&quot; \&quot;\$(INSTALLTOP)${o}include${o}openssl\&quot;
+	\$(CP) \&quot;include${o}openssl${o}fips.h\&quot; \&quot;\$(INSTALLTOP)${o}include${o}openssl\&quot;
+	\$(CP) \&quot;include${o}openssl${o}fips_rand.h\&quot; \&quot;\$(INSTALLTOP)${o}include${o}openssl\&quot;
 	\$(CP) &quot;\$(BIN_D)${o}fips_standalone_sha1$exep&quot; \&quot;\$(INSTALLTOP)${o}bin\&quot;
 	\$(CP) \&quot;util${o}fipslink.pl\&quot; \&quot;\$(INSTALLTOP)${o}bin\&quot;
 EOF
@@ -662,9 +658,6 @@ FIPSLINK=\$(PERL) util${o}fipslink.pl
 OUT_D=$out_dir
 # The output directory for all the temporary muck
 TMP_D=$tmp_dir
-# The output directory for the header files
-INC_D=$inc_dir
-INCO_D=$inc_dir${o}openssl
 
 PERL=$perl
 PERLASM_SCHEME=$mf_perlasm_scheme
@@ -726,7 +719,7 @@ L_LIBS= \$(L_SSL) \$(L_CRYPTO) $ex_l_libs
 # Don't touch anything below this point
 ######################################################
 
-INC=-I\$(INC_D) -I\$(INCL_D) -I\$(SRC_D)${o}crypto${o}include
+INC=-I\$(SRC_D)${o}include -I\$(INCL_D) -I\$(SRC_D)${o}crypto${o}include
 APP_CFLAGS=\$(INC) \$(CFLAG) \$(APP_CFLAG)
 LIB_CFLAGS=\$(INC) \$(CFLAG) \$(LIB_CFLAG)
 SHLIB_CFLAGS=\$(INC) \$(CFLAG) \$(LIB_CFLAG) \$(SHLIB_CFLAG)
@@ -736,7 +729,7 @@ LIBS_DEP=$libs_dep
 EOF
 
 $rules=&lt;&lt;&quot;EOF&quot;;
-all: banner \$(TMP_D) \$(BIN_D) \$(TEST_D) \$(LIB_D) \$(INCO_D) headers \$(FIPS_SHA1_EXE) $build_targets
+all: banner \$(TMP_D) \$(BIN_D) \$(TEST_D) \$(LIB_D) headers \$(FIPS_SHA1_EXE) $build_targets
 
 banner:
 $banner
@@ -753,18 +746,11 @@ $banner
 \$(LIB_D):
 	\$(MKDIR) \&quot;\$(LIB_D)\&quot;
 
-\$(INCO_D): \$(INC_D)
-	\$(MKDIR) \&quot;\$(INCO_D)\&quot;
-
-\$(INC_D):
-	\$(MKDIR) \&quot;\$(INC_D)\&quot;
-
 # This needs to be invoked once, when the makefile is first constructed, or
 # after cleaning.
-init: \$(TMP_D) \$(LIB_D) \$(INC_D) \$(INCO_D) \$(BIN_D) \$(TEST_D) headers
-	\$(PERL) \$(SRC_D)/util/copy-if-different.pl &quot;\$(SRC_D)/crypto/opensslconf.h&quot; &quot;\$(INCO_D)/opensslconf.h&quot;
+init: \$(TMP_D) \$(LIB_D) \$(BIN_D) \$(TEST_D) headers
 
-headers: \$(HEADER) \$(EXHEADER)
+headers: \$(HEADER)
 
 lib: \$(LIBS_DEP) \$(E_SHLIB)
 
@@ -790,7 +776,6 @@ reallyclean:
 	\$(RM) -rf \$(BIN_D)
 	\$(RM) -rf \$(TEST_D)
 	\$(RM) -rf \$(LIB_D)
-	\$(RM) -rf \$(INC_D)
 
 EOF
 
@@ -844,20 +829,11 @@ close(OUT);
 foreach (keys %lib_obj) { $lib_obj{$_}=&amp;clean_up_ws($lib_obj{$_}); }
 $test=&amp;clean_up_ws($test);
 $e_exe=&amp;clean_up_ws($e_exe);
-$exheader=&amp;clean_up_ws($exheader);
 $header=&amp;clean_up_ws($header);
 
-# First we strip the exheaders from the headers list
-foreach (split(/\s+/,$exheader)){ $h{$_}=1; }
-foreach (split(/\s+/,$header))	{ $h.=$_.&quot; &quot; unless $h{$_}; }
-chop($h); $header=$h;
-
 $defs.=&amp;do_defs(&quot;HEADER&quot;,$header,&quot;\$(INCL_D)&quot;,&quot;&quot;);
 $rules.=&amp;do_copy_rule(&quot;\$(INCL_D)&quot;,$header,&quot;&quot;);
 
-$defs.=&amp;do_defs(&quot;EXHEADER&quot;,$exheader,&quot;\$(INCO_D)&quot;,&quot;&quot;);
-$rules.=&amp;do_copy_rule(&quot;\$(INCO_D)&quot;,$exheader,&quot;&quot;);
-
 $defs.=&amp;do_defs(&quot;T_OBJ&quot;,$test,&quot;\$(OBJ_D)&quot;,$obj);
 $rules.=&amp;do_compile_rule(&quot;\$(OBJ_D)&quot;,$test,&quot;\$(APP_CFLAGS)&quot;);
 
diff --git a/util/mkdef.pl b/util/mkdef.pl
index 1d47561..7f1c093 100755
--- a/util/mkdef.pl
+++ b/util/mkdef.pl
@@ -257,79 +257,79 @@ $max_ssl = $max_num;
 %crypto_list=&amp;load_numbers($crypto_num);
 $max_crypto = $max_num;
 
-my $ssl=&quot;ssl/ssl.h&quot;;
-$ssl.=&quot; ssl/kssl.h&quot;;
-$ssl.=&quot; ssl/tls1.h&quot;;
-$ssl.=&quot; ssl/srtp.h&quot;;
+my $ssl=&quot;include/openssl/ssl.h&quot;;
+$ssl.=&quot; include/openssl/kssl.h&quot;;
+$ssl.=&quot; include/openssl/tls1.h&quot;;
+$ssl.=&quot; include/openssl/srtp.h&quot;;
 
-my $crypto =&quot;crypto/crypto.h&quot;;
+my $crypto =&quot;include/openssl/crypto.h&quot;;
 $crypto.=&quot; crypto/cryptlib.h&quot;;
 $crypto.=&quot; crypto/o_dir.h&quot;;
 $crypto.=&quot; crypto/o_str.h&quot;;
-$crypto.=&quot; crypto/des/des.h&quot; ; # unless $no_des;
-$crypto.=&quot; crypto/idea/idea.h&quot; ; # unless $no_idea;
-$crypto.=&quot; crypto/rc4/rc4.h&quot; ; # unless $no_rc4;
-$crypto.=&quot; crypto/rc5/rc5.h&quot; ; # unless $no_rc5;
-$crypto.=&quot; crypto/rc2/rc2.h&quot; ; # unless $no_rc2;
-$crypto.=&quot; crypto/bf/blowfish.h&quot; ; # unless $no_bf;
-$crypto.=&quot; crypto/cast/cast.h&quot; ; # unless $no_cast;
-$crypto.=&quot; crypto/whrlpool/whrlpool.h&quot; ;
-$crypto.=&quot; crypto/md2/md2.h&quot; ; # unless $no_md2;
-$crypto.=&quot; crypto/md4/md4.h&quot; ; # unless $no_md4;
-$crypto.=&quot; crypto/md5/md5.h&quot; ; # unless $no_md5;
-$crypto.=&quot; crypto/mdc2/mdc2.h&quot; ; # unless $no_mdc2;
-$crypto.=&quot; crypto/sha/sha.h&quot; ; # unless $no_sha;
-$crypto.=&quot; crypto/ripemd/ripemd.h&quot; ; # unless $no_ripemd;
-$crypto.=&quot; crypto/aes/aes.h&quot; ; # unless $no_aes;
-$crypto.=&quot; crypto/camellia/camellia.h&quot; ; # unless $no_camellia;
-$crypto.=&quot; crypto/seed/seed.h&quot;; # unless $no_seed;
-
-$crypto.=&quot; crypto/bn/bn.h&quot;;
-$crypto.=&quot; crypto/rsa/rsa.h&quot; ; # unless $no_rsa;
-$crypto.=&quot; crypto/dsa/dsa.h&quot; ; # unless $no_dsa;
-$crypto.=&quot; crypto/dh/dh.h&quot; ; # unless $no_dh;
-$crypto.=&quot; crypto/ec/ec.h&quot; ; # unless $no_ec;
-$crypto.=&quot; crypto/ecdsa/ecdsa.h&quot; ; # unless $no_ecdsa;
-$crypto.=&quot; crypto/ecdh/ecdh.h&quot; ; # unless $no_ecdh;
-$crypto.=&quot; crypto/hmac/hmac.h&quot; ; # unless $no_hmac;
-$crypto.=&quot; crypto/cmac/cmac.h&quot; ;
-
-$crypto.=&quot; crypto/engine/engine.h&quot;; # unless $no_engine;
-$crypto.=&quot; crypto/stack/stack.h&quot; ; # unless $no_stack;
-$crypto.=&quot; crypto/buffer/buffer.h&quot; ; # unless $no_buffer;
-$crypto.=&quot; crypto/bio/bio.h&quot; ; # unless $no_bio;
-$crypto.=&quot; crypto/dso/dso.h&quot; ; # unless $no_dso;
-$crypto.=&quot; crypto/lhash/lhash.h&quot; ; # unless $no_lhash;
-$crypto.=&quot; crypto/conf/conf.h&quot;;
-$crypto.=&quot; crypto/txt_db/txt_db.h&quot;;
-
-$crypto.=&quot; crypto/evp/evp.h&quot; ; # unless $no_evp;
-$crypto.=&quot; crypto/objects/objects.h&quot;;
-$crypto.=&quot; crypto/pem/pem.h&quot;;
-#$crypto.=&quot; crypto/meth/meth.h&quot;;
-$crypto.=&quot; crypto/asn1/asn1.h&quot;;
-$crypto.=&quot; crypto/asn1/asn1t.h&quot;;
-$crypto.=&quot; crypto/asn1/asn1_mac.h&quot;;
-$crypto.=&quot; crypto/err/err.h&quot; ; # unless $no_err;
-$crypto.=&quot; crypto/pkcs7/pkcs7.h&quot;;
-$crypto.=&quot; crypto/pkcs12/pkcs12.h&quot;;
-$crypto.=&quot; crypto/x509/x509.h&quot;;
-$crypto.=&quot; crypto/x509/x509_vfy.h&quot;;
-$crypto.=&quot; crypto/x509v3/x509v3.h&quot;;
-$crypto.=&quot; crypto/ts/ts.h&quot;;
-$crypto.=&quot; crypto/rand/rand.h&quot;;
-$crypto.=&quot; crypto/comp/comp.h&quot; ; # unless $no_comp;
-$crypto.=&quot; crypto/ocsp/ocsp.h&quot;;
-$crypto.=&quot; crypto/ui/ui.h&quot;;
-$crypto.=&quot; crypto/krb5/krb5_asn.h&quot;;
-#$crypto.=&quot; crypto/store/store.h&quot;;
-$crypto.=&quot; crypto/pqueue/pqueue.h&quot;;
-$crypto.=&quot; crypto/cms/cms.h&quot;;
-$crypto.=&quot; crypto/jpake/jpake.h&quot;;
-$crypto.=&quot; crypto/srp/srp.h&quot;;
-$crypto.=&quot; crypto/modes/modes.h&quot;;
-
-my $symhacks=&quot;crypto/symhacks.h&quot;;
+$crypto.=&quot; include/openssl/des.h&quot; ; # unless $no_des;
+$crypto.=&quot; include/openssl/idea.h&quot; ; # unless $no_idea;
+$crypto.=&quot; include/openssl/rc4.h&quot; ; # unless $no_rc4;
+$crypto.=&quot; include/openssl/rc5.h&quot; ; # unless $no_rc5;
+$crypto.=&quot; include/openssl/rc2.h&quot; ; # unless $no_rc2;
+$crypto.=&quot; include/openssl/blowfish.h&quot; ; # unless $no_bf;
+$crypto.=&quot; include/openssl/cast.h&quot; ; # unless $no_cast;
+$crypto.=&quot; include/openssl/whrlpool.h&quot; ;
+$crypto.=&quot; include/openssl/md2.h&quot; ; # unless $no_md2;
+$crypto.=&quot; include/openssl/md4.h&quot; ; # unless $no_md4;
+$crypto.=&quot; include/openssl/md5.h&quot; ; # unless $no_md5;
+$crypto.=&quot; include/openssl/mdc2.h&quot; ; # unless $no_mdc2;
+$crypto.=&quot; include/openssl/sha.h&quot; ; # unless $no_sha;
+$crypto.=&quot; include/openssl/ripemd.h&quot; ; # unless $no_ripemd;
+$crypto.=&quot; include/openssl/aes.h&quot; ; # unless $no_aes;
+$crypto.=&quot; include/openssl/camellia.h&quot; ; # unless $no_camellia;
+$crypto.=&quot; include/openssl/seed.h&quot;; # unless $no_seed;
+
+$crypto.=&quot; include/openssl/bn.h&quot;;
+$crypto.=&quot; include/openssl/rsa.h&quot; ; # unless $no_rsa;
+$crypto.=&quot; include/openssl/dsa.h&quot; ; # unless $no_dsa;
+$crypto.=&quot; include/openssl/dh.h&quot; ; # unless $no_dh;
+$crypto.=&quot; include/openssl/ec.h&quot; ; # unless $no_ec;
+$crypto.=&quot; include/openssl/ecdsa.h&quot; ; # unless $no_ecdsa;
+$crypto.=&quot; include/openssl/ecdh.h&quot; ; # unless $no_ecdh;
+$crypto.=&quot; include/openssl/hmac.h&quot; ; # unless $no_hmac;
+$crypto.=&quot; include/openssl/cmac.h&quot; ;
+
+$crypto.=&quot; include/openssl/engine.h&quot;; # unless $no_engine;
+$crypto.=&quot; include/openssl/stack.h&quot; ; # unless $no_stack;
+$crypto.=&quot; include/openssl/buffer.h&quot; ; # unless $no_buffer;
+$crypto.=&quot; include/openssl/bio.h&quot; ; # unless $no_bio;
+$crypto.=&quot; include/openssl/dso.h&quot; ; # unless $no_dso;
+$crypto.=&quot; include/openssl/lhash.h&quot; ; # unless $no_lhash;
+$crypto.=&quot; include/openssl/conf.h&quot;;
+$crypto.=&quot; include/openssl/txt_db.h&quot;;
+
+$crypto.=&quot; include/openssl/evp.h&quot; ; # unless $no_evp;
+$crypto.=&quot; include/openssl/objects.h&quot;;
+$crypto.=&quot; include/openssl/pem.h&quot;;
+#$crypto.=&quot; include/openssl/meth.h&quot;;
+$crypto.=&quot; include/openssl/asn1.h&quot;;
+$crypto.=&quot; include/openssl/asn1t.h&quot;;
+$crypto.=&quot; include/openssl/asn1_mac.h&quot;;
+$crypto.=&quot; include/openssl/err.h&quot; ; # unless $no_err;
+$crypto.=&quot; include/openssl/pkcs7.h&quot;;
+$crypto.=&quot; include/openssl/pkcs12.h&quot;;
+$crypto.=&quot; include/openssl/x509.h&quot;;
+$crypto.=&quot; include/openssl/x509_vfy.h&quot;;
+$crypto.=&quot; include/openssl/x509v3.h&quot;;
+$crypto.=&quot; include/openssl/ts.h&quot;;
+$crypto.=&quot; include/openssl/rand.h&quot;;
+$crypto.=&quot; include/openssl/comp.h&quot; ; # unless $no_comp;
+$crypto.=&quot; include/openssl/ocsp.h&quot;;
+$crypto.=&quot; include/openssl/ui.h&quot;;
+$crypto.=&quot; include/openssl/krb5_asn.h&quot;;
+#$crypto.=&quot; include/openssl/store.h&quot;;
+$crypto.=&quot; include/openssl/pqueue.h&quot;;
+$crypto.=&quot; include/openssl/cms.h&quot;;
+$crypto.=&quot; include/openssl/jpake.h&quot;;
+$crypto.=&quot; include/openssl/srp.h&quot;;
+$crypto.=&quot; include/openssl/modes.h&quot;;
+
+my $symhacks=&quot;include/openssl/symhacks.h&quot;;
 
 my @ssl_symbols = &amp;do_defs(&quot;SSLEAY&quot;, $ssl, $symhacks);
 my @crypto_symbols = &amp;do_defs(&quot;LIBEAY&quot;, $crypto, $symhacks);
diff --git a/util/mklink.pl b/util/mklink.pl
deleted file mode 100755
index 61db12c..0000000
--- a/util/mklink.pl
+++ /dev/null
@@ -1,73 +0,0 @@
-#!/usr/local/bin/perl
-
-# mklink.pl
-
-# The first command line argument is a non-empty relative path
-# specifying the &quot;from&quot; directory.
-# Each other argument is a file name not containing / and
-# names a file in the current directory.
-#
-# For each of these files, we create in the &quot;from&quot; directory a link
-# of the same name pointing to the local file.
-#
-# We assume that the directory structure is a tree, i.e. that it does
-# not contain symbolic links and that the parent of / is never referenced.
-# Apart from this, this script should be able to handle even the most
-# pathological cases.
-
-use Cwd;
-
-my $from = shift;
-my @files = @ARGV;
-
-my @from_path = split(/[\\\/]/, $from);
-my $pwd = getcwd();
-chomp($pwd);
-my @pwd_path = split(/[\\\/]/, $pwd);
-
-my @to_path = ();
-
-my $dirname;
-foreach $dirname (@from_path) {
-
-    # In this loop, @to_path always is a relative path from
-    # @pwd_path (interpreted is an absolute path) to the original pwd.
-
-    # At the end, @from_path (as a relative path from the original pwd)
-    # designates the same directory as the absolute path @pwd_path,
-    # which means that @to_path then is a path from there to the original pwd.
-
-    next if ($dirname eq &quot;&quot; || $dirname eq &quot;.&quot;);
-
-    if ($dirname eq &quot;..&quot;) {
-	@to_path = (pop(@pwd_path), @to_path);
-    } else {
-	@to_path = (&quot;..&quot;, @to_path);
-	push(@pwd_path, $dirname);
-    }
-}
-
-my $to = join('/', @to_path);
-
-my $file;
-$symlink_exists=eval {symlink(&quot;&quot;,&quot;&quot;); 1};
-if ($^O eq &quot;msys&quot;) { $symlink_exists=0 };
-foreach $file (@files) {
-    my $err = &quot;&quot;;
-    if ($symlink_exists) {
-	unlink &quot;$from/$file&quot;;
-	symlink(&quot;$to/$file&quot;, &quot;$from/$file&quot;) or $err = &quot; [$!]&quot;;
-    } else {
-	unlink &quot;$from/$file&quot;; 
-	open (OLD, &quot;&lt;$file&quot;) or die &quot;Can't open $file: $!&quot;;
-	open (NEW, &quot;&gt;$from/$file&quot;) or die &quot;Can't open $from/$file: $!&quot;;
-	binmode(OLD);
-	binmode(NEW);
-	while (&lt;OLD&gt;) {
-	    print NEW $_;
-	}
-	close (OLD) or die &quot;Can't close $file: $!&quot;;
-	close (NEW) or die &quot;Can't close $from/$file: $!&quot;;
-    }
-    print $file . &quot; =&gt; $from/$file$err\n&quot;;
-}
diff --git a/util/mkstack.pl b/util/mkstack.pl
index 6e6741f..0739027 100755
--- a/util/mkstack.pl
+++ b/util/mkstack.pl
@@ -3,7 +3,7 @@
 # Search out &quot;DECLARE_STACK_OF()&quot; # declarations in .h and .c files,
 # and create corresponding macro declarations for crypto/stack/safestack.h.
 
-my $safestack = &quot;crypto/stack/safestack.h&quot;;
+my $safestack = &quot;include/openssl/safestack.h&quot;;
 my $do_write = 0;
 
 foreach ( @ARGV ) {
@@ -15,7 +15,7 @@ my @sstacklst;
 my @asn1setlst;
 my @p12stklst;
 my @lhashlst;
-my @source = (&lt;crypto/*.[ch]&gt;, &lt;crypto/*/*.[ch]&gt;, &lt;ssl/*.[ch]&gt;, &lt;apps/*.[ch]&gt;);
+my @source = (&lt;include/openssl/*.h&gt;, &lt;crypto/*.[ch]&gt;, &lt;crypto/*/*.[ch]&gt;, &lt;ssl/*.[ch]&gt;, &lt;apps/*.[ch]&gt;);
 foreach $file (@source) {
     next if -l $file;
 
diff --git a/util/pl/VC-32.pl b/util/pl/VC-32.pl
index 309312c..d04b98a 100644
--- a/util/pl/VC-32.pl
+++ b/util/pl/VC-32.pl
@@ -284,10 +284,6 @@ $(OBJ_D)\applink.obj:	ms\applink.c
 	$(CC) /Fo$(OBJ_D)\applink.obj $(APP_CFLAGS) -c ms\applink.c
 $(OBJ_D)\uplink.obj:	ms\uplink.c ms\applink.c
 	$(CC) /Fo$(OBJ_D)\uplink.obj $(SHLIB_CFLAGS) -c ms\uplink.c
-$(INCO_D)\applink.c:	ms\applink.c
-	$(CP) ms\applink.c $(INCO_D)\applink.c
-
-EXHEADER= $(EXHEADER) $(INCO_D)\applink.c
 
 LIBS_DEP=$(LIBS_DEP) $(OBJ_D)\applink.obj
 CRYPTOOBJ=$(OBJ_D)\uplink.obj $(CRYPTOOBJ)
diff --git a/util/pl/unix.pl b/util/pl/unix.pl
index c4b7e8e..81a6f0b 100644
--- a/util/pl/unix.pl
+++ b/util/pl/unix.pl
@@ -409,7 +409,8 @@ sub get_tests
 		 'serverinfo.pem',
 	       );
   my $copies = copy_scripts(1, 'test', @copies);
-  $copies .= copy_scripts(0, 'test', ('smcont.txt'));
+  $copies .= copy_scripts(0, 'test', ('smcont.txt', 'evptests.txt'));
+
 
   my @utils = ( 'shlib_wrap.sh',
 		'opensslwrap.sh',
@@ -422,8 +423,6 @@ sub get_tests
 	     );
   $copies .= copy_scripts(1, 'apps', @apps);
 
-  $copies .= copy_scripts(1, 'crypto/evp', ('evptests.txt'));
-
   $scripts = &quot;test_scripts: \$(TEST_D)/CA.sh \$(TEST_D)/opensslwrap.sh \$(TEST_D)/openssl.cnf \$(TEST_D)/shlib_wrap.sh ocsp smime\n&quot;;
   $scripts .= &quot;\nocsp:\n\tcp -R test/ocsp-tests \$(TEST_D)\n&quot;;
   $scripts .= &quot;\smime:\n\tcp -R test/smime-certs \$(TEST_D)\n&quot;;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000826.html">[openssl-commits] [openssl]  master update
</A></li>
	<LI>Next message: <A HREF="000829.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#828">[ date ]</a>
              <a href="thread.html#828">[ thread ]</a>
              <a href="subject.html#828">[ subject ]</a>
              <a href="author.html#828">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
