<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] b6456a: set module path from template
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2024-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20b6456a%3A%20set%20module%20path%20from%20template&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.0/f0115d-491ff1%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041776.html">
   <LINK REL="Next"  HREF="041778.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] b6456a: set module path from template</H1>
    <B>Neil Horman</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20b6456a%3A%20set%20module%20path%20from%20template&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.0/f0115d-491ff1%40github.com%3E"
       TITLE="[openssl/openssl] b6456a: set module path from template">noreply at github.com
       </A><BR>
    <I>Fri Apr 26 12:07:41 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="041776.html">[openssl/openssl] 71e5bb: set module path from template
</A></li>
        <LI>Next message (by thread): <A HREF="041778.html">[openssl/openssl] badda7: Fix coverity-1596616
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41777">[ date ]</a>
              <a href="thread.html#41777">[ thread ]</a>
              <a href="subject.html#41777">[ subject ]</a>
              <a href="author.html#41777">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.0
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: b6456af5c043397998997a4f91348fb0aeca2625
      <A HREF="https://github.com/openssl/openssl/commit/b6456af5c043397998997a4f91348fb0aeca2625">https://github.com/openssl/openssl/commit/b6456af5c043397998997a4f91348fb0aeca2625</A>
  Author: Neil Horman &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">nhorman at openssl.org</A>&gt;
  Date:   2024-04-26 (Fri, 26 Apr 2024)

  Changed paths:
    M crypto/provider_core.c

  Log Message:
  -----------
  set module path from template

Modules that aren't activated at conf load time don't seem to set the
module path from the template leading to load failures.  Make sure to
set that

Fixes #24020

Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;

(cherry picked from commit bc9595963a45e28e6a8b2de45a6719c252bd3a3d)

(Merged from <A HREF="https://github.com/openssl/openssl/pull/24198">https://github.com/openssl/openssl/pull/24198</A>)

(cherry picked from commit 71e5bb982f9c9563567ea8ae9f6e29492e9146ca)


  Commit: 74f551e90c3415bd391add232a93d433fb052b55
      <A HREF="https://github.com/openssl/openssl/commit/74f551e90c3415bd391add232a93d433fb052b55">https://github.com/openssl/openssl/commit/74f551e90c3415bd391add232a93d433fb052b55</A>
  Author: Neil Horman &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">nhorman at openssl.org</A>&gt;
  Date:   2024-04-26 (Fri, 26 Apr 2024)

  Changed paths:
    M test/build.info
    A test/pathed.cnf
    M test/prov_config_test.c
    M test/recipes/30-test_prov_config.t

  Log Message:
  -----------
  Add test for OSSL_PROVIDER_load with module path set

Ensure that, with the modulepath setting set in a config field, that we
are able to load a provider from the path relative to OPENSSL_MODULES

Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;

(cherry picked from commit 91a77cbf66c575345cf1eab31717e8edafcd1633)

(Merged from <A HREF="https://github.com/openssl/openssl/pull/24198">https://github.com/openssl/openssl/pull/24198</A>)

(cherry picked from commit db163245097bc813235403c234795721d4e5c4eb)


  Commit: f663322bd61312a07d678fe3b22e517180653a37
      <A HREF="https://github.com/openssl/openssl/commit/f663322bd61312a07d678fe3b22e517180653a37">https://github.com/openssl/openssl/commit/f663322bd61312a07d678fe3b22e517180653a37</A>
  Author: Neil Horman &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">nhorman at openssl.org</A>&gt;
  Date:   2024-04-26 (Fri, 26 Apr 2024)

  Changed paths:
    M test/prov_config_test.c

  Log Message:
  -----------
  Update modulepath test for provider config to skip if not present

If the p_test.so library isn't present, don't run the test

Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;

(cherry picked from commit b80fed3f27ebe156b17246f7c12c5178cbe6834e)

(Merged from <A HREF="https://github.com/openssl/openssl/pull/24198">https://github.com/openssl/openssl/pull/24198</A>)

(cherry picked from commit 83c649996c18e5185f9439172d5908ad7fef9146)


  Commit: 25e1d8dcdedaa0e99218b4dd24f82a11f2a470eb
      <A HREF="https://github.com/openssl/openssl/commit/25e1d8dcdedaa0e99218b4dd24f82a11f2a470eb">https://github.com/openssl/openssl/commit/25e1d8dcdedaa0e99218b4dd24f82a11f2a470eb</A>
  Author: Neil Horman &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">nhorman at openssl.org</A>&gt;
  Date:   2024-04-26 (Fri, 26 Apr 2024)

  Changed paths:
    M crypto/provider_core.c
    M test/prov_config_test.c

  Log Message:
  -----------
  Fix up path generation to use OPENSSL_MODULES

Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;

(cherry picked from commit 4e3c1e6206251c59855362d6d2edab4621c31dec)

(Merged from <A HREF="https://github.com/openssl/openssl/pull/24198">https://github.com/openssl/openssl/pull/24198</A>)

(cherry picked from commit 163202f0b95cfc7e666e45cafc55a505f51f6153)


  Commit: 491ff1b13bdabad24384cc0c19c6dd7532693613
      <A HREF="https://github.com/openssl/openssl/commit/491ff1b13bdabad24384cc0c19c6dd7532693613">https://github.com/openssl/openssl/commit/491ff1b13bdabad24384cc0c19c6dd7532693613</A>
  Author: Neil Horman &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">nhorman at openssl.org</A>&gt;
  Date:   2024-04-26 (Fri, 26 Apr 2024)

  Changed paths:
    M test/prov_config_test.c

  Log Message:
  -----------
  Fix missing NULL check in prov_config_test

coverity-1596500 caught a missing null check.  We should never hit it as
the test harness always sets the environment variable, but lets add the
check for safety

Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
Reviewed-by: Tom Cosgrove &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tom.cosgrove at arm.com</A>&gt;
Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/24198">https://github.com/openssl/openssl/pull/24198</A>)

(cherry picked from commit a380ec952f138f644d227637eeba90fd1e17f72f)


Compare: <A HREF="https://github.com/openssl/openssl/compare/f0115d45072a...491ff1b13bda">https://github.com/openssl/openssl/compare/f0115d45072a...491ff1b13bda</A>

To unsubscribe from these emails, change your notification settings at <A HREF="https://github.com/openssl/openssl/settings/notifications">https://github.com/openssl/openssl/settings/notifications</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="041776.html">[openssl/openssl] 71e5bb: set module path from template
</A></li>
	<LI>Next message (by thread): <A HREF="041778.html">[openssl/openssl] badda7: Fix coverity-1596616
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41777">[ date ]</a>
              <a href="thread.html#41777">[ thread ]</a>
              <a href="subject.html#41777">[ subject ]</a>
              <a href="author.html#41777">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
