<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] b52c15: Update Documentation for EVP_DigestSign, EVP_Diges...
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2024-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20b52c15%3A%20Update%20Documentation%20for%20EVP_DigestSign%2C%0A%20EVP_Diges...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.3/f67004-b52c15%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041519.html">
   <LINK REL="Next"  HREF="041521.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] b52c15: Update Documentation for EVP_DigestSign, EVP_Diges...</H1>
    <B>Shane</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20b52c15%3A%20Update%20Documentation%20for%20EVP_DigestSign%2C%0A%20EVP_Diges...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.3/f67004-b52c15%40github.com%3E"
       TITLE="[openssl/openssl] b52c15: Update Documentation for EVP_DigestSign, EVP_Diges...">noreply at github.com
       </A><BR>
    <I>Thu Apr  4 06:41:58 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="041519.html">[openssl/openssl] 581c40: Align 'openssl req' string_mask docs to how the so...
</A></li>
        <LI>Next message (by thread): <A HREF="041521.html">[openssl/openssl] 6912e0: Update Documentation for EVP_DigestSign, EVP_Diges...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41520">[ date ]</a>
              <a href="thread.html#41520">[ thread ]</a>
              <a href="subject.html#41520">[ subject ]</a>
              <a href="author.html#41520">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.3
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: b52c151e6ba13e7b3707df59d3b3ea949d6f4f22
      <A HREF="https://github.com/openssl/openssl/commit/b52c151e6ba13e7b3707df59d3b3ea949d6f4f22">https://github.com/openssl/openssl/commit/b52c151e6ba13e7b3707df59d3b3ea949d6f4f22</A>
  Author: slontis &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">shane.lontis at oracle.com</A>&gt;
  Date:   2024-04-04 (Thu, 04 Apr 2024)

  Changed paths:
    M doc/man3/EVP_DigestSignInit.pod
    M doc/man3/EVP_DigestVerifyInit.pod

  Log Message:
  -----------
  Update Documentation for EVP_DigestSign, EVP_DigestVerify.

Fixes #23075

In OpenSSL 3.2 EVP_DigestSign and EVP_DigestVerify
were changed so that a flag is set once these functions
do a one-shot sign or verify operation. This PR updates the
documentation to match the behaviour.

Investigations showed that prior to 3.2 different key
type behaved differently if multiple calls were done.

By accident X25519 and X448 would produce the same signature,
but ECDSA and RSA remembered the digest state between calls,
so the signature was different when multiple calls were done.

Because of this undefined behaviour something needed to be done,
so keeping the 'only allow it to be called once' behaviour
seems a reasonable approach.

Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Reviewed-by: Neil Horman &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">nhorman at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/23834">https://github.com/openssl/openssl/pull/23834</A>)

(cherry picked from commit 5e908e6068708c89da7b5591cc65ff4b3d3135d2)



To unsubscribe from these emails, change your notification settings at <A HREF="https://github.com/openssl/openssl/settings/notifications">https://github.com/openssl/openssl/settings/notifications</A>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="041519.html">[openssl/openssl] 581c40: Align 'openssl req' string_mask docs to how the so...
</A></li>
	<LI>Next message (by thread): <A HREF="041521.html">[openssl/openssl] 6912e0: Update Documentation for EVP_DigestSign, EVP_Diges...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41520">[ date ]</a>
              <a href="thread.html#41520">[ thread ]</a>
              <a href="subject.html#41520">[ subject ]</a>
              <a href="author.html#41520">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
