<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 1692e0: Fix fragile explicit cert date tests.
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2024-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%201692e0%3A%20Fix%20fragile%20explicit%20cert%20date%20tests.&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/4174f2-1692e0%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041701.html">
   <LINK REL="Next"  HREF="041703.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 1692e0: Fix fragile explicit cert date tests.</H1>
    <B>openssl-machine</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%201692e0%3A%20Fix%20fragile%20explicit%20cert%20date%20tests.&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/4174f2-1692e0%40github.com%3E"
       TITLE="[openssl/openssl] 1692e0: Fix fragile explicit cert date tests.">noreply at github.com
       </A><BR>
    <I>Thu Apr 18 12:23:05 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="041701.html">[openssl/openssl] 4174f2: Update provider-compatibility.yml
</A></li>
        <LI>Next message (by thread): <A HREF="041703.html">[openssl/openssl] 4414c1: QUIC TXP: Fix reserve calculations for PING frames
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41702">[ date ]</a>
              <a href="thread.html#41702">[ thread ]</a>
              <a href="subject.html#41702">[ subject ]</a>
              <a href="author.html#41702">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/master
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 1692e0d225a7cf513933c05207ceeace4dc85539
      <A HREF="https://github.com/openssl/openssl/commit/1692e0d225a7cf513933c05207ceeace4dc85539">https://github.com/openssl/openssl/commit/1692e0d225a7cf513933c05207ceeace4dc85539</A>
  Author: Viktor Dukhovni &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">openssl-users at dukhovni.org</A>&gt;
  Date:   2024-04-18 (Thu, 18 Apr 2024)

  Changed paths:
    M test/recipes/25-test_req.t
    M test/recipes/25-test_x509.t

  Log Message:
  -----------
  Fix fragile explicit cert date tests.

The tests used localtime to format &quot;today's&quot; date, but then extracted a
GMT date from the cert.  The comparison breaks when run late in the
evening west of UTC, or early in the AM hours east of UTC.

Also took care of case when test runs at stroke of midnight, by
accepting either the &quot;today&quot; before the cert creation, or the
&quot;today&quot; after, should they be different.

Fixes fragile tests in #21716

Reviewed-by: Neil Horman &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">nhorman at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/24139">https://github.com/openssl/openssl/pull/24139</A>)



To unsubscribe from these emails, change your notification settings at <A HREF="https://github.com/openssl/openssl/settings/notifications">https://github.com/openssl/openssl/settings/notifications</A>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="041701.html">[openssl/openssl] 4174f2: Update provider-compatibility.yml
</A></li>
	<LI>Next message (by thread): <A HREF="041703.html">[openssl/openssl] 4414c1: QUIC TXP: Fix reserve calculations for PING frames
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41702">[ date ]</a>
              <a href="thread.html#41702">[ thread ]</a>
              <a href="subject.html#41702">[ subject ]</a>
              <a href="author.html#41702">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
