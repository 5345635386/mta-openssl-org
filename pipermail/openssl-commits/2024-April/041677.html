<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] ec9f5c: Fix fragile explicit cert date tests.
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2024-April/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20ec9f5c%3A%20Fix%20fragile%20explicit%20cert%20date%20tests.&In-Reply-To=%3Copenssl/openssl/push/refs/heads/fix-cert-date-tests/000000-ec9f5c%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041676.html">
   <LINK REL="Next"  HREF="041679.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] ec9f5c: Fix fragile explicit cert date tests.</H1>
    <B>Viktor Dukhovni</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20ec9f5c%3A%20Fix%20fragile%20explicit%20cert%20date%20tests.&In-Reply-To=%3Copenssl/openssl/push/refs/heads/fix-cert-date-tests/000000-ec9f5c%40github.com%3E"
       TITLE="[openssl/openssl] ec9f5c: Fix fragile explicit cert date tests.">noreply at github.com
       </A><BR>
    <I>Tue Apr 16 16:00:03 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="041676.html">[openssl/openssl] ce32f3: Don't allow renegotiation for DTLS 1.3
</A></li>
        <LI>Next message (by thread): <A HREF="041679.html">[openssl/openssl] a53e93: Handle empty param in EVP_PKEY_CTX_add1_hkdf_info
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41677">[ date ]</a>
              <a href="thread.html#41677">[ thread ]</a>
              <a href="subject.html#41677">[ subject ]</a>
              <a href="author.html#41677">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/fix-cert-date-tests
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: ec9f5c0d2d652371cb4fe19d7e40fdfbcbef1c55
      <A HREF="https://github.com/openssl/openssl/commit/ec9f5c0d2d652371cb4fe19d7e40fdfbcbef1c55">https://github.com/openssl/openssl/commit/ec9f5c0d2d652371cb4fe19d7e40fdfbcbef1c55</A>
  Author: Viktor Dukhovni &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">openssl-users at dukhovni.org</A>&gt;
  Date:   2024-04-16 (Tue, 16 Apr 2024)

  Changed paths:
    M test/recipes/25-test_req.t
    M test/recipes/25-test_x509.t

  Log Message:
  -----------
  Fix fragile explicit cert date tests.

The tests used localtime to format &quot;today's&quot; date, but then extracted a
GMT date from the cert.  The comparison breaks when run late in the
evening west of UTC, or early in the AM hours east of UTC.

Also took care of case when test runs at stroke of midnight, by
accepting either the &quot;today&quot; before the cert creation, or the
&quot;today&quot; after, should they be different.

Fixes fragile tests in #21716



To unsubscribe from these emails, change your notification settings at <A HREF="https://github.com/openssl/openssl/settings/notifications">https://github.com/openssl/openssl/settings/notifications</A>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="041676.html">[openssl/openssl] ce32f3: Don't allow renegotiation for DTLS 1.3
</A></li>
	<LI>Next message (by thread): <A HREF="041679.html">[openssl/openssl] a53e93: Handle empty param in EVP_PKEY_CTX_add1_hkdf_info
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41677">[ date ]</a>
              <a href="thread.html#41677">[ thread ]</a>
              <a href="subject.html#41677">[ subject ]</a>
              <a href="author.html#41677">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
