<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2020-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1578419578.157496.18772.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026958.html">
   <LINK REL="Next"  HREF="026969.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl]  master update</H1>
    <B>tmraz at fedoraproject.org</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1578419578.157496.18772.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl]  master update">tmraz at fedoraproject.org
       </A><BR>
    <I>Tue Jan  7 17:52:58 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="026958.html">[openssl]  master update
</A></li>
        <LI>Next message: <A HREF="026969.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26961">[ date ]</a>
              <a href="thread.html#26961">[ thread ]</a>
              <a href="subject.html#26961">[ subject ]</a>
              <a href="author.html#26961">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  018aaeb47874272e157d35c05c68e826301d57f5 (commit)
      from  9484b67dfb0fc69326b4d94c2040751b205baa24 (commit)


- Log -----------------------------------------------------------------
commit 018aaeb47874272e157d35c05c68e826301d57f5
Author: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at akamai.com</A>&gt;
Date:   Sat Oct 12 17:45:56 2019 -0400

    Refactor -engine documentation
    
    Common wording courtesy Richard Levitte.
    
    Reviewed-by: Dmitry Belyavskiy &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">beldmit at gmail.com</A>&gt;
    Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tmraz at fedoraproject.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/10128">https://github.com/openssl/openssl/pull/10128</A>)

-----------------------------------------------------------------------

Summary of changes:
 .gitignore                                              | 13 +++++++++++++
 doc/man1/openssl-ca.pod.in                              | 11 +++--------
 doc/man1/openssl-dgst.pod.in                            | 13 +++++--------
 doc/man1/openssl-dhparam.pod.in                         |  9 ++-------
 doc/man1/{openssl-dsa.pod =&gt; openssl-dsa.pod.in}        | 14 +++++++-------
 doc/man1/openssl-dsaparam.pod.in                        | 10 +++-------
 doc/man1/{openssl-ec.pod =&gt; openssl-ec.pod.in}          | 14 +++++++-------
 doc/man1/openssl-ecparam.pod.in                         |  9 ++-------
 doc/man1/openssl-enc.pod.in                             |  8 +++++---
 doc/man1/openssl-gendsa.pod.in                          | 15 +++++----------
 .../{openssl-genpkey.pod =&gt; openssl-genpkey.pod.in}     | 17 ++++++++---------
 doc/man1/openssl-genrsa.pod.in                          | 11 +++--------
 doc/man1/openssl-pkcs12.pod.in                          |  3 +++
 doc/man1/{openssl-pkcs7.pod =&gt; openssl-pkcs7.pod.in}    | 14 +++++++-------
 doc/man1/openssl-pkcs8.pod.in                           | 11 +++--------
 doc/man1/{openssl-pkey.pod =&gt; openssl-pkey.pod.in}      | 16 ++++++++--------
 .../{openssl-pkeyparam.pod =&gt; openssl-pkeyparam.pod.in} | 16 ++++++++--------
 doc/man1/openssl-pkeyutl.pod.in                         |  9 ++-------
 doc/man1/openssl-req.pod.in                             | 11 +++--------
 doc/man1/{openssl-rsa.pod =&gt; openssl-rsa.pod.in}        | 14 +++++++-------
 doc/man1/openssl-s_client.pod.in                        | 11 +++--------
 doc/man1/openssl-s_server.pod.in                        | 11 +++--------
 doc/man1/openssl-speed.pod.in                           | 11 +++--------
 doc/man1/{openssl-spkac.pod =&gt; openssl-spkac.pod.in}    | 14 +++++++-------
 .../{openssl-storeutl.pod =&gt; openssl-storeutl.pod.in}   | 16 ++++++++--------
 doc/man1/openssl-ts.pod.in                              |  9 ++-------
 doc/man1/openssl-verify.pod.in                          | 16 ++++++----------
 doc/man1/openssl-x509.pod.in                            | 11 +++--------
 doc/man1/openssl.pod                                    | 13 +++++++++++++
 doc/perlvars.pm                                         |  8 ++++++++
 30 files changed, 160 insertions(+), 198 deletions(-)
 rename doc/man1/{openssl-dsa.pod =&gt; openssl-dsa.pod.in} (93%)
 rename doc/man1/{openssl-ec.pod =&gt; openssl-ec.pod.in} (94%)
 rename doc/man1/{openssl-genpkey.pod =&gt; openssl-genpkey.pod.in} (96%)
 rename doc/man1/{openssl-pkcs7.pod =&gt; openssl-pkcs7.pod.in} (87%)
 rename doc/man1/{openssl-pkey.pod =&gt; openssl-pkey.pod.in} (92%)
 rename doc/man1/{openssl-pkeyparam.pod =&gt; openssl-pkeyparam.pod.in} (85%)
 rename doc/man1/{openssl-rsa.pod =&gt; openssl-rsa.pod.in} (93%)
 rename doc/man1/{openssl-spkac.pod =&gt; openssl-spkac.pod.in} (92%)
 rename doc/man1/{openssl-storeutl.pod =&gt; openssl-storeutl.pod.in} (90%)

diff --git a/.gitignore b/.gitignore
index 659be22843..91d2c03b40 100644
--- a/.gitignore
+++ b/.gitignore
@@ -31,28 +31,41 @@ doc/man1/openssl-cms.pod
 doc/man1/openssl-crl.pod
 doc/man1/openssl-dgst.pod
 doc/man1/openssl-dhparam.pod
+doc/man1/openssl-dsa.pod
 doc/man1/openssl-dsaparam.pod
+doc/man1/openssl-ec.pod
 doc/man1/openssl-ecparam.pod
 doc/man1/openssl-enc.pod
+doc/man1/openssl-engine.pod
 doc/man1/openssl-gendsa.pod
+doc/man1/openssl-genpkey.pod
 doc/man1/openssl-genrsa.pod
+doc/man1/openssl-info.pod
+doc/man1/openssl-list.pod
 doc/man1/openssl-ocsp.pod
 doc/man1/openssl-passwd.pod
 doc/man1/openssl-pkcs12.pod
+doc/man1/openssl-pkcs7.pod
 doc/man1/openssl-pkcs8.pod
+doc/man1/openssl-pkey.pod
+doc/man1/openssl-pkeyparam.pod
 doc/man1/openssl-pkeyutl.pod
 doc/man1/openssl-rand.pod
 doc/man1/openssl-req.pod
+doc/man1/openssl-rsa.pod
 doc/man1/openssl-rsautl.pod
 doc/man1/openssl-s_client.pod
 doc/man1/openssl-s_server.pod
 doc/man1/openssl-s_time.pod
 doc/man1/openssl-smime.pod
 doc/man1/openssl-speed.pod
+doc/man1/openssl-spkac.pod
 doc/man1/openssl-srp.pod
+doc/man1/openssl-storeutl.pod
 doc/man1/openssl-ts.pod
 doc/man1/openssl-verify.pod
 doc/man1/openssl-x509.pod
+doc/man1/openssl.pod
 
 # error code files
 /crypto/err/openssl.txt.old
diff --git a/doc/man1/openssl-ca.pod.in b/doc/man1/openssl-ca.pod.in
index ca8ebb8c70..44e581e0d9 100644
--- a/doc/man1/openssl-ca.pod.in
+++ b/doc/man1/openssl-ca.pod.in
@@ -48,7 +48,6 @@ B&lt;openssl&gt; B&lt;ca&gt;
 [B&lt;-msie_hack&gt;]
 [B&lt;-extensions&gt; I&lt;section&gt;]
 [B&lt;-extfile&gt; I&lt;section&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-subj&gt; I&lt;arg&gt;]
 [B&lt;-utf8&gt;]
 [B&lt;-sigopt&gt; I&lt;nm&gt;:I&lt;v&gt;]
@@ -58,6 +57,7 @@ B&lt;openssl&gt; B&lt;ca&gt;
 [B&lt;-sm2-id&gt; I&lt;string&gt;]
 [B&lt;-sm2-hex-id&gt; I&lt;hex-string&gt;]
 {- $OpenSSL::safe::opt_r_synopsis -}
+{- $OpenSSL::safe::opt_engine_synopsis -}
 [I&lt;certreq&gt;...]
 
 =for openssl ifdef engine sm2-id sm2-hex-id
@@ -253,13 +253,6 @@ An additional configuration file to read certificate extensions from
 (using the default section unless the B&lt;-extensions&gt; option is also
 used).
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause B&lt;ca&gt;
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
-
 =item B&lt;-subj&gt; I&lt;arg&gt;
 
 Supersedes subject name given in the request.
@@ -310,6 +303,8 @@ certificate. The argument for this option is string of hexadecimal digits.
 
 {- $OpenSSL::safe::opt_r_item -}
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =back
 
 =head1 CRL OPTIONS
diff --git a/doc/man1/openssl-dgst.pod.in b/doc/man1/openssl-dgst.pod.in
index 4472b2ffe0..4563ad1d5e 100644
--- a/doc/man1/openssl-dgst.pod.in
+++ b/doc/man1/openssl-dgst.pod.in
@@ -27,7 +27,7 @@ B&lt;openssl&gt; B&lt;dgst&gt;|I&lt;digest&gt;
 [B&lt;-hmac&gt; I&lt;key&gt;]
 [B&lt;-fips-fingerprint&gt;]
 [B&lt;-engine&gt; I&lt;id&gt;]
-[B&lt;-engine_impl&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 {- $OpenSSL::safe::opt_r_synopsis -}
 [I&lt;file&gt; ...]
 
@@ -168,13 +168,6 @@ option.
 
 Compute HMAC using a specific key for certain OpenSSL-FIPS operations.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Use engine I&lt;id&gt; for operations (including private key storage).
-This engine is not used as source for digest algorithms, unless it is
-also specified in the configuration file or B&lt;-engine_impl&gt; is also
-specified.
-
 =item B&lt;-engine_impl&gt;
 
 When used with the B&lt;-engine&gt; option, it specifies to also use
@@ -182,6 +175,10 @@ engine I&lt;id&gt; for digest operations.
 
 {- $OpenSSL::safe::opt_r_item -}
 
+{- $OpenSSL::safe::opt_engine_item -}
+The engine is not used for digests unless the B&lt;-engine_impl&gt; option is
+used or it is configured to do so, see L&lt;config(5)/Engine Configuration Module&gt;.
+
 =item I&lt;file&gt; ...
 
 File or files to digest. If no files are specified then standard input is
diff --git a/doc/man1/openssl-dhparam.pod.in b/doc/man1/openssl-dhparam.pod.in
index d55931fae8..e125330b36 100644
--- a/doc/man1/openssl-dhparam.pod.in
+++ b/doc/man1/openssl-dhparam.pod.in
@@ -21,7 +21,7 @@ B&lt;openssl dhparam&gt;
 [B&lt;-2&gt;]
 [B&lt;-3&gt;]
 [B&lt;-5&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 {- $OpenSSL::safe::opt_r_synopsis -}
 [I&lt;numbits&gt;]
 
@@ -102,12 +102,7 @@ This option prints out the DH parameters in human readable form.
 This option converts the parameters into C code. The parameters can then
 be loaded by calling the get_dhNNNN() function.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause B&lt;dhparam&gt;
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
+{- $OpenSSL::safe::opt_engine_item -}
 
 {- $OpenSSL::safe::opt_r_item -}
 
diff --git a/doc/man1/openssl-dsa.pod b/doc/man1/openssl-dsa.pod.in
similarity index 93%
rename from doc/man1/openssl-dsa.pod
rename to doc/man1/openssl-dsa.pod.in
index 8c7b03781e..548d36874f 100644
--- a/doc/man1/openssl-dsa.pod
+++ b/doc/man1/openssl-dsa.pod.in
@@ -1,5 +1,10 @@
 =pod
 
+=begin comment
+{- join(&quot;\n&quot;, @autowarntext) -}
+
+=end comment
+
 =head1 NAME
 
 openssl-dsa - DSA key processing
@@ -31,7 +36,7 @@ B&lt;openssl&gt; B&lt;dsa&gt;
 [B&lt;-modulus&gt;]
 [B&lt;-pubin&gt;]
 [B&lt;-pubout&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 =for openssl ifdef pvk-string pvk-weak pvk-none engine
 
@@ -113,12 +118,7 @@ By default, a private key is output. With this option a public
 key will be output instead. This option is automatically set if the input is
 a public key.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause L&lt;openssl-dsa(1)&gt;
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
+{- $OpenSSL::safe::opt_engine_item -}
 
 =back
 
diff --git a/doc/man1/openssl-dsaparam.pod.in b/doc/man1/openssl-dsaparam.pod.in
index cfe7c31e59..bab743672f 100644
--- a/doc/man1/openssl-dsaparam.pod.in
+++ b/doc/man1/openssl-dsaparam.pod.in
@@ -17,9 +17,9 @@ B&lt;openssl dsaparam&gt;
 [B&lt;-text&gt;]
 [B&lt;-C&gt;]
 [B&lt;-genkey&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-verbose&gt;]
 {- $OpenSSL::safe::opt_r_synopsis -}
+{- $OpenSSL::safe::opt_engine_synopsis -}
 [I&lt;numbits&gt;]
 
 =head1 DESCRIPTION
@@ -75,12 +75,6 @@ be loaded by calling the get_dsaXXX() function.
 This option will generate a DSA either using the specified or generated
 parameters.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
 
 =item B&lt;-verbose&gt;
 
@@ -88,6 +82,8 @@ Print extra details about the operations being performed.
 
 {- $OpenSSL::safe::opt_r_item -}
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =item I&lt;numbits&gt;
 
 This option specifies that a parameter set should be generated of size
diff --git a/doc/man1/openssl-ec.pod b/doc/man1/openssl-ec.pod.in
similarity index 94%
rename from doc/man1/openssl-ec.pod
rename to doc/man1/openssl-ec.pod.in
index 2646c126b5..d20b49afcf 100644
--- a/doc/man1/openssl-ec.pod
+++ b/doc/man1/openssl-ec.pod.in
@@ -1,5 +1,10 @@
 =pod
 
+=begin comment
+{- join(&quot;\n&quot;, @autowarntext) -}
+
+=end comment
+
 =head1 NAME
 
 openssl-ec - EC key processing
@@ -26,7 +31,7 @@ B&lt;openssl&gt; B&lt;ec&gt;
 [B&lt;-param_enc&gt; I&lt;arg&gt;]
 [B&lt;-no_public&gt;]
 [B&lt;-check&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 =for openssl ifdef engine
 
@@ -131,12 +136,7 @@ This option omits the public key components from the private key output.
 
 This option checks the consistency of an EC private or public key.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
+{- $OpenSSL::safe::opt_engine_item -}
 
 =back
 
diff --git a/doc/man1/openssl-ecparam.pod.in b/doc/man1/openssl-ecparam.pod.in
index 823ca51273..ae2240ca59 100644
--- a/doc/man1/openssl-ecparam.pod.in
+++ b/doc/man1/openssl-ecparam.pod.in
@@ -24,7 +24,7 @@ B&lt;openssl ecparam&gt;
 [B&lt;-param_enc&gt; I&lt;arg&gt;]
 [B&lt;-no_seed&gt;]
 [B&lt;-genkey&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 {- $OpenSSL::safe::opt_r_synopsis -}
 
 =for openssl ifdef engine
@@ -122,12 +122,7 @@ is included in the ECParameters structure (see RFC 3279).
 
 This option will generate an EC private key using the specified parameters.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause B&lt;ecparam&gt;
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
+{- $OpenSSL::safe::opt_engine_item -}
 
 {- $OpenSSL::safe::opt_r_item -}
 
diff --git a/doc/man1/openssl-enc.pod.in b/doc/man1/openssl-enc.pod.in
index 0f1508e97a..cff127d211 100644
--- a/doc/man1/openssl-enc.pod.in
+++ b/doc/man1/openssl-enc.pod.in
@@ -37,7 +37,7 @@ B&lt;openssl&gt; B&lt;enc&gt;|I&lt;cipher&gt;
 [B&lt;-nopad&gt;]
 [B&lt;-debug&gt;]
 [B&lt;-none&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 {- $OpenSSL::safe::opt_r_synopsis -}
 
 =for openssl ifdef z engine
@@ -192,6 +192,8 @@ Use NULL cipher (no encryption or decryption of input).
 
 {- $OpenSSL::safe::opt_r_item -}
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =back
 
 =head1 NOTES
@@ -204,8 +206,8 @@ Use the L&lt;openssl-list(1)&gt; command to get a list of supported ciphers.
 
 Engines which provide entirely new encryption algorithms (such as the ccgost
 engine which provides gost89 algorithm) should be configured in the
-configuration file. Engines specified on the command line using -engine
-options can only be used for hardware-assisted implementations of
+configuration file. Engines specified on the command line using B&lt;-engine&gt;
+option can only be used for hardware-assisted implementations of
 ciphers which are supported by the OpenSSL core or another engine specified
 in the configuration file.
 
diff --git a/doc/man1/openssl-gendsa.pod.in b/doc/man1/openssl-gendsa.pod.in
index c15fdc9d03..46b9c70bba 100644
--- a/doc/man1/openssl-gendsa.pod.in
+++ b/doc/man1/openssl-gendsa.pod.in
@@ -22,9 +22,9 @@ B&lt;openssl&gt; B&lt;gendsa&gt;
 [B&lt;-des&gt;]
 [B&lt;-des3&gt;]
 [B&lt;-idea&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-verbose&gt;]
 {- $OpenSSL::safe::opt_r_synopsis -}
+{- $OpenSSL::safe::opt_engine_synopsis -}
 [I&lt;paramfile&gt;]
 
 =for openssl ifdef engine
@@ -53,25 +53,20 @@ These options encrypt the private key with specified
 cipher before outputting it. A pass phrase is prompted for.
 If none of these options is specified no encryption is used.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
-
 =item B&lt;-verbose&gt;
 
 Print extra details about the operations being performed.
 
+{- $OpenSSL::safe::opt_r_item -}
+
+{- $OpenSSL::safe::opt_engine_item -}
+
 =item I&lt;paramfile&gt;
 
 The DSA parameter file to use. The parameters in this file determine
 the size of the private key. DSA parameters can be generated and
 examined using the L&lt;openssl-dsaparam(1)&gt; command.
 
-{- $OpenSSL::safe::opt_r_item -}
-
 =back
 
 =head1 NOTES
diff --git a/doc/man1/openssl-genpkey.pod b/doc/man1/openssl-genpkey.pod.in
similarity index 96%
rename from doc/man1/openssl-genpkey.pod
rename to doc/man1/openssl-genpkey.pod.in
index 69c642cdf7..c031f238af 100644
--- a/doc/man1/openssl-genpkey.pod
+++ b/doc/man1/openssl-genpkey.pod.in
@@ -1,5 +1,10 @@
 =pod
 
+=begin comment
+{- join(&quot;\n&quot;, @autowarntext) -}
+
+=end comment
+
 =head1 NAME
 
 openssl-genpkey - generate a private key
@@ -12,12 +17,12 @@ B&lt;openssl&gt; B&lt;genpkey&gt;
 [B&lt;-outform&gt; B&lt;DER&gt;|B&lt;PEM&gt;]
 [B&lt;-pass&gt; I&lt;arg&gt;]
 [B&lt;-I&lt;cipher&gt;&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-paramfile&gt; I&lt;file&gt;]
 [B&lt;-algorithm&gt; I&lt;alg&gt;]
 [B&lt;-pkeyopt&gt; I&lt;opt&gt;:I&lt;value&gt;]
 [B&lt;-genparam&gt;]
 [B&lt;-text&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 =for openssl ifdef engine
 
@@ -53,14 +58,6 @@ see L&lt;openssl(1)/Pass Phrase Options&gt;.
 This option encrypts the private key with the supplied cipher. Any algorithm
 name accepted by EVP_get_cipherbyname() is acceptable such as B&lt;des3&gt;.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms. If used this option should precede all other
-options.
-
 =item B&lt;-algorithm&gt; I&lt;alg&gt;
 
 Public key algorithm to use such as RSA, DSA or DH. If used this option must
@@ -105,6 +102,8 @@ are mutually exclusive.
 Print an (unencrypted) text representation of private and public keys and
 parameters along with the PEM or DER structure.
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =back
 
 =head1 KEY GENERATION OPTIONS
diff --git a/doc/man1/openssl-genrsa.pod.in b/doc/man1/openssl-genrsa.pod.in
index 16b887be99..8a815ee960 100644
--- a/doc/man1/openssl-genrsa.pod.in
+++ b/doc/man1/openssl-genrsa.pod.in
@@ -24,10 +24,10 @@ B&lt;openssl&gt; B&lt;genrsa&gt;
 [B&lt;-des3&gt;]
 [B&lt;-idea&gt;]
 [B&lt;-f4&gt;|B&lt;-3&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-primes&gt; I&lt;num&gt;]
 [B&lt;-verbose&gt;]
 {- $OpenSSL::safe::opt_r_synopsis -}
+{- $OpenSSL::safe::opt_engine_synopsis -}
 [B&lt;numbits&gt;]
 
 =for openssl ifdef engine
@@ -65,13 +65,6 @@ for if it is not supplied via the B&lt;-passout&gt; argument.
 
 The public exponent to use, either 65537 or 3. The default is 65537.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
-
 =item B&lt;-primes&gt; I&lt;num&gt;
 
 Specify the number of primes to use while generating the RSA key. The I&lt;num&gt;
@@ -85,6 +78,8 @@ Print extra details about the operations being performed.
 
 {- $OpenSSL::safe::opt_r_item -}
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =item B&lt;numbits&gt;
 
 The size of the private key to generate in bits. This must be the last option
diff --git a/doc/man1/openssl-pkcs12.pod.in b/doc/man1/openssl-pkcs12.pod.in
index 86c9de4670..bc2f4963d5 100644
--- a/doc/man1/openssl-pkcs12.pod.in
+++ b/doc/man1/openssl-pkcs12.pod.in
@@ -41,6 +41,7 @@ B&lt;openssl&gt; B&lt;pkcs12&gt;
 [B&lt;-CSP&gt; I&lt;name&gt;]
 {- $OpenSSL::safe::opt_trust_synopsis -}
 {- $OpenSSL::safe::opt_r_synopsis -}
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 =for openssl ifdef engine
 
@@ -271,6 +272,8 @@ Write I&lt;name&gt; as a Microsoft CSP name.
 
 {- $OpenSSL::safe::opt_r_item -}
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =back
 
 =head1 NOTES
diff --git a/doc/man1/openssl-pkcs7.pod b/doc/man1/openssl-pkcs7.pod.in
similarity index 87%
rename from doc/man1/openssl-pkcs7.pod
rename to doc/man1/openssl-pkcs7.pod.in
index adfe54ec0e..f62b69b52b 100644
--- a/doc/man1/openssl-pkcs7.pod
+++ b/doc/man1/openssl-pkcs7.pod.in
@@ -1,5 +1,10 @@
 =pod
 
+=begin comment
+{- join(&quot;\n&quot;, @autowarntext) -}
+
+=end comment
+
 =head1 NAME
 
 openssl-pkcs7 - PKCS#7 utility
@@ -15,7 +20,7 @@ B&lt;openssl&gt; B&lt;pkcs7&gt;
 [B&lt;-print_certs&gt;]
 [B&lt;-text&gt;]
 [B&lt;-noout&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 =for openssl ifdef engine
 
@@ -67,12 +72,7 @@ issuer names.
 Don't output the encoded version of the PKCS#7 structure (or certificates
 is B&lt;-print_certs&gt; is set).
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
+{- $OpenSSL::safe::opt_engine_item -}
 
 =back
 
diff --git a/doc/man1/openssl-pkcs8.pod.in b/doc/man1/openssl-pkcs8.pod.in
index b53f0ee8ce..34b469ddbc 100644
--- a/doc/man1/openssl-pkcs8.pod.in
+++ b/doc/man1/openssl-pkcs8.pod.in
@@ -23,12 +23,12 @@ B&lt;openssl&gt; B&lt;pkcs8&gt;
 [B&lt;-v2&gt; I&lt;alg&gt;]
 [B&lt;-v2prf&gt; I&lt;alg&gt;]
 [B&lt;-v1&gt; I&lt;alg&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-scrypt&gt;]
 [B&lt;-scrypt_N&gt; I&lt;N&gt;]
 [B&lt;-scrypt_r&gt; I&lt;r&gt;]
 [B&lt;-scrypt_p&gt; I&lt;p&gt;]
 {- $OpenSSL::safe::opt_r_synopsis -}
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 =for openssl ifdef engine scrypt scrypt_N scrypt_r scrypt_p
 
@@ -135,13 +135,6 @@ This option indicates a PKCS#5 v1.5 or PKCS#12 algorithm should be used.  Some
 older implementations may not support PKCS#5 v2.0 and may require this option.
 If not specified PKCS#5 v2.0 form is used.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
-
 =item B&lt;-scrypt&gt;
 
 Uses the B&lt;scrypt&gt; algorithm for private key encryption using default
@@ -155,6 +148,8 @@ Sets the scrypt I&lt;N&gt;, I&lt;r&gt; or I&lt;p&gt; parameters.
 
 {- $OpenSSL::safe::opt_r_item -}
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =back
 
 =head1 NOTES
diff --git a/doc/man1/openssl-pkey.pod b/doc/man1/openssl-pkey.pod.in
similarity index 92%
rename from doc/man1/openssl-pkey.pod
rename to doc/man1/openssl-pkey.pod.in
index b1aa4af454..e2905b6934 100644
--- a/doc/man1/openssl-pkey.pod
+++ b/doc/man1/openssl-pkey.pod.in
@@ -1,5 +1,10 @@
 =pod
 
+=begin comment
+{- join(&quot;\n&quot;, @autowarntext) -}
+
+=end comment
+
 =head1 NAME
 
 openssl-pkey - public or private key processing tool
@@ -21,9 +26,9 @@ B&lt;openssl&gt; B&lt;pkey&gt;
 [B&lt;-noout&gt;]
 [B&lt;-pubin&gt;]
 [B&lt;-pubout&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-check&gt;]
 [B&lt;-pubcheck&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 =for openssl ifdef engine
 
@@ -99,13 +104,6 @@ By default a private key is output: with this option a public
 key will be output instead. This option is automatically set if
 the input is a public key.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
-
 =item B&lt;-check&gt;
 
 This option checks the consistency of a key pair for both public and private
@@ -116,6 +114,8 @@ components.
 This option checks the correctness of either a public key or the public component
 of a key pair.
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =back
 
 =head1 EXAMPLES
diff --git a/doc/man1/openssl-pkeyparam.pod b/doc/man1/openssl-pkeyparam.pod.in
similarity index 85%
rename from doc/man1/openssl-pkeyparam.pod
rename to doc/man1/openssl-pkeyparam.pod.in
index 36ff7f5245..4488119121 100644
--- a/doc/man1/openssl-pkeyparam.pod
+++ b/doc/man1/openssl-pkeyparam.pod.in
@@ -1,5 +1,10 @@
 =pod
 
+=begin comment
+{- join(&quot;\n&quot;, @autowarntext) -}
+
+=end comment
+
 =head1 NAME
 
 openssl-pkeyparam - public key algorithm parameter processing tool
@@ -12,8 +17,8 @@ B&lt;openssl&gt; B&lt;pkeyparam&gt;
 [B&lt;-out&gt; I&lt;filename&gt;]
 [B&lt;-text&gt;]
 [B&lt;-noout&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-check&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 =for openssl ifdef engine
 
@@ -48,17 +53,12 @@ Prints out the parameters in plain text in addition to the encoded version.
 
 Do not output the encoded version of the parameters.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
-
 =item B&lt;-check&gt;
 
 This option checks the correctness of parameters.
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =back
 
 =head1 EXAMPLES
diff --git a/doc/man1/openssl-pkeyutl.pod.in b/doc/man1/openssl-pkeyutl.pod.in
index 27f1d26ac8..c239a0469a 100644
--- a/doc/man1/openssl-pkeyutl.pod.in
+++ b/doc/man1/openssl-pkeyutl.pod.in
@@ -34,7 +34,7 @@ B&lt;openssl&gt; B&lt;pkeyutl&gt;
 [B&lt;-pkeyopt_passin&gt; I&lt;opt&gt;[:I&lt;passarg&gt;]]
 [B&lt;-hexdump&gt;]
 [B&lt;-asn1parse&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 [B&lt;-engine_impl&gt;]
 {- $OpenSSL::safe::opt_r_synopsis -}
 
@@ -179,12 +179,7 @@ hex dump the output data.
 Parse the ASN.1 output data, this is useful when combined with the
 B&lt;-verifyrecover&gt; option when an ASN1 structure is signed.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
+{- $OpenSSL::safe::opt_engine_item -}
 
 =item B&lt;-engine_impl&gt;
 
diff --git a/doc/man1/openssl-req.pod.in b/doc/man1/openssl-req.pod.in
index 17ffe9ade6..cd49679d04 100644
--- a/doc/man1/openssl-req.pod.in
+++ b/doc/man1/openssl-req.pod.in
@@ -45,11 +45,11 @@ B&lt;openssl&gt; B&lt;req&gt;
 [B&lt;-sigopt&gt; I&lt;nm&gt;:I&lt;v&gt;]
 [B&lt;-batch&gt;]
 [B&lt;-verbose&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-sm2-id&gt; I&lt;string&gt;]
 [B&lt;-sm2-hex-id&gt; I&lt;hex-string&gt;]
 {- $OpenSSL::safe::opt_name_synopsis -}
 {- $OpenSSL::safe::opt_r_synopsis -}
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 =for openssl ifdef engine keygen_engine sm2-id sm2-hex-id
 
@@ -301,13 +301,6 @@ Non-interactive mode.
 
 Print extra details about the operations being performed.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
-
 =item B&lt;-keygen_engine&gt; I&lt;id&gt;
 
 Specifies an engine (by its unique I&lt;id&gt; string) which would be used
@@ -327,6 +320,8 @@ argument for this option is string of hexadecimal digits.
 
 {- $OpenSSL::safe::opt_r_item -}
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =back
 
 =head1 CONFIGURATION FILE FORMAT
diff --git a/doc/man1/openssl-rsa.pod b/doc/man1/openssl-rsa.pod.in
similarity index 93%
rename from doc/man1/openssl-rsa.pod
rename to doc/man1/openssl-rsa.pod.in
index 9e1be94a26..b391487719 100644
--- a/doc/man1/openssl-rsa.pod
+++ b/doc/man1/openssl-rsa.pod.in
@@ -1,5 +1,10 @@
 =pod
 
+=begin comment
+{- join(&quot;\n&quot;, @autowarntext) -}
+
+=end comment
+
 =head1 NAME
 
 openssl-rsa - RSA key processing tool
@@ -34,7 +39,7 @@ B&lt;openssl&gt; B&lt;rsa&gt;
 [B&lt;-pubout&gt;]
 [B&lt;-RSAPublicKey_in&gt;]
 [B&lt;-RSAPublicKey_out&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 =for openssl ifdef pvk-strong pvk-weak pvk-none engine
 
@@ -126,12 +131,7 @@ the input is a public key.
 
 Like B&lt;-pubin&gt; and B&lt;-pubout&gt; except B&lt;RSAPublicKey&gt; format is used instead.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
+{- $OpenSSL::safe::opt_engine_item -}
 
 =back
 
diff --git a/doc/man1/openssl-s_client.pod.in b/doc/man1/openssl-s_client.pod.in
index f010e60679..8bd6c9eec1 100644
--- a/doc/man1/openssl-s_client.pod.in
+++ b/doc/man1/openssl-s_client.pod.in
@@ -112,7 +112,6 @@ B&lt;openssl&gt; B&lt;s_client&gt;
 [B&lt;-starttls&gt; I&lt;protocol&gt;]
 [B&lt;-xmpphost&gt; I&lt;hostname&gt;]
 [B&lt;-name&gt; I&lt;hostname&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-tlsextdebug&gt;]
 [B&lt;-no_ticket&gt;]
 [B&lt;-sess_out&gt; I&lt;filename&gt;]
@@ -131,6 +130,7 @@ B&lt;openssl&gt; B&lt;s_client&gt;
 {- $OpenSSL::safe::opt_x_synopsis -}
 {- $OpenSSL::safe::opt_trust_synopsis -}
 {- $OpenSSL::safe::opt_r_synopsis -}
+{- $OpenSSL::safe::opt_engine_synopsis -}
 [I&lt;host&gt;:I&lt;port&gt;]
 
 =for openssl ifdef engine ssl_client_engine ct noct ctlogfile
@@ -628,13 +628,6 @@ Output SSL session to I&lt;filename&gt;.
 Load SSL session from I&lt;filename&gt;. The client will attempt to resume a
 connection from this session.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
-
 =item B&lt;-serverinfo&gt; I&lt;types&gt;
 
 A list of comma-separated TLS Extension Types (numbers between 0 and
@@ -707,6 +700,8 @@ I&lt;localhost&gt; on port I&lt;4433&gt;.
 
 {- $OpenSSL::safe::opt_r_item -}
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =back
 
 =head1 CONNECTED COMMANDS
diff --git a/doc/man1/openssl-s_server.pod.in b/doc/man1/openssl-s_server.pod.in
index ed2d049081..743ad616d5 100644
--- a/doc/man1/openssl-s_server.pod.in
+++ b/doc/man1/openssl-s_server.pod.in
@@ -166,7 +166,6 @@ B&lt;openssl&gt; B&lt;s_server&gt;
 [B&lt;-nextprotoneg&gt; I&lt;val&gt;]
 [B&lt;-use_srtp&gt; I&lt;val&gt;]
 [B&lt;-alpn&gt; I&lt;val&gt;]
-[B&lt;-engine&gt; I&lt;val&gt;]
 [B&lt;-keylogfile&gt; I&lt;outfile&gt;]
 [B&lt;-max_early_data&gt; I&lt;int&gt;]
 [B&lt;-early_data&gt;]
@@ -177,6 +176,7 @@ B&lt;openssl&gt; B&lt;s_server&gt;
 {- $OpenSSL::safe::opt_x_synopsis -}
 {- $OpenSSL::safe::opt_trust_synopsis -}
 {- $OpenSSL::safe::opt_r_synopsis -}
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 =for openssl ifdef unix 4 6 unlink no_dhe nextprotoneg use_srtp engine
 
@@ -676,13 +676,6 @@ Protocol names are printable ASCII strings, for example &quot;http/1.1&quot; or
 &quot;spdy/3&quot;.
 The flag B&lt;-nextprotoneg&gt; cannot be specified if B&lt;-tls1_3&gt; is used.
 
-=item B&lt;-engine&gt; I&lt;val&gt;
-
-Specifying an engine (by its unique id string in I&lt;val&gt;) will cause
-this command to attempt to obtain a functional reference to the
-specified engine, thus initialising it if needed. The engine will then be
-set as the default for all available algorithms.
-
 =item B&lt;-keylogfile&gt; I&lt;outfile&gt;
 
 Appends TLS secrets to the specified keylog file such that external programs
@@ -722,6 +715,8 @@ by the client in binary mode.
 
 {- $OpenSSL::safe::opt_r_item -}
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =back
 
 =head1 CONNECTED COMMANDS
diff --git a/doc/man1/openssl-speed.pod.in b/doc/man1/openssl-speed.pod.in
index 164bf3d9d7..6e1bb642e1 100644
--- a/doc/man1/openssl-speed.pod.in
+++ b/doc/man1/openssl-speed.pod.in
@@ -9,7 +9,6 @@ openssl-speed - test library performance
 
 B&lt;openssl speed&gt;
 [B&lt;-help&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-elapsed&gt;]
 [B&lt;-evp&gt; I&lt;algo&gt;]
 [B&lt;-hmac&gt; I&lt;algo&gt;]
@@ -19,6 +18,7 @@ B&lt;openssl speed&gt;
 [B&lt;-seconds&gt; I&lt;num&gt;]
 [B&lt;-bytes&gt; I&lt;num&gt;]
 {- $OpenSSL::safe::opt_r_synopsis -}
+{- $OpenSSL::safe::opt_engine_synopsis -}
 [I&lt;algorithm&gt; ...]
 
 =for openssl ifdef cmac multi async_jobs engine
@@ -38,13 +38,6 @@ the B&lt;rand&gt; algorithm name.
 
 Print out a usage message.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
-
 =item B&lt;-elapsed&gt;
 
 When calculating operations- or bytes-per-second, use wall-clock time
@@ -86,6 +79,8 @@ Run benchmarks on I&lt;num&gt;-byte buffers. Affects ciphers, digests and the CSPRNG.
 
 {- $OpenSSL::safe::opt_r_item -}
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =item I&lt;algorithm&gt; ...
 
 If any I&lt;algorithm&gt; is given, then those algorithms are tested, otherwise a
diff --git a/doc/man1/openssl-spkac.pod b/doc/man1/openssl-spkac.pod.in
similarity index 92%
rename from doc/man1/openssl-spkac.pod
rename to doc/man1/openssl-spkac.pod.in
index a36d5364d9..bfb17d1208 100644
--- a/doc/man1/openssl-spkac.pod
+++ b/doc/man1/openssl-spkac.pod.in
@@ -1,5 +1,10 @@
 =pod
 
+=begin comment
+{- join(&quot;\n&quot;, @autowarntext) -}
+
+=end comment
+
 =head1 NAME
 
 openssl-spkac - SPKAC printing and generating utility
@@ -19,7 +24,7 @@ B&lt;openssl&gt; B&lt;spkac&gt;
 [B&lt;-spksect&gt; I&lt;section&gt;]
 [B&lt;-noout&gt;]
 [B&lt;-verify&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 =for openssl ifdef engine
 
@@ -92,12 +97,7 @@ being created).
 
 Verifies the digital signature on the supplied SPKAC.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
+{- $OpenSSL::safe::opt_engine_item -}
 
 =back
 
diff --git a/doc/man1/openssl-storeutl.pod b/doc/man1/openssl-storeutl.pod.in
similarity index 90%
rename from doc/man1/openssl-storeutl.pod
rename to doc/man1/openssl-storeutl.pod.in
index 0ceb1cea97..3bfca0873e 100644
--- a/doc/man1/openssl-storeutl.pod
+++ b/doc/man1/openssl-storeutl.pod.in
@@ -1,5 +1,10 @@
 =pod
 
+=begin comment
+{- join(&quot;\n&quot;, @autowarntext) -}
+
+=end comment
+
 =head1 NAME
 
 openssl-storeutl - STORE utility
@@ -12,7 +17,6 @@ B&lt;openssl&gt; B&lt;storeutl&gt;
 [B&lt;-noout&gt;]
 [B&lt;-passin&gt; I&lt;arg&gt;]
 [B&lt;-text&gt; I&lt;arg&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-r&gt;]
 [B&lt;-certs&gt;]
 [B&lt;-keys&gt;]
@@ -23,6 +27,7 @@ B&lt;openssl&gt; B&lt;storeutl&gt;
 [B&lt;-alias&gt; I&lt;arg&gt;]
 [B&lt;-fingerprint&gt; I&lt;arg&gt;]
 [B&lt;-I&lt;digest&gt;&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 I&lt;uri&gt; ...
 
 =head1 DESCRIPTION
@@ -57,13 +62,6 @@ see L&lt;openssl(1)/Pass Phrase Options&gt;.
 Prints out the objects in text form, similarly to the B&lt;-text&gt; output from
 L&lt;openssl-x509(1)&gt;, L&lt;openssl-pkey(1)&gt;, etc.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed.
-The engine will then be set as the default for all available algorithms.
-
 =item B&lt;-r&gt;
 
 Fetch objects recursively when possible.
@@ -110,6 +108,8 @@ Search for an object having the given fingerprint.
 
 The digest that was used to compute the fingerprint given with B&lt;-fingerprint&gt;.
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =back
 
 =head1 SEE ALSO
diff --git a/doc/man1/openssl-ts.pod.in b/doc/man1/openssl-ts.pod.in
index f6202fa92f..0eb4f8031a 100644
--- a/doc/man1/openssl-ts.pod.in
+++ b/doc/man1/openssl-ts.pod.in
@@ -37,7 +37,7 @@ B&lt;-reply&gt;
 [B&lt;-out&gt; I&lt;response.tsr&gt;]
 [B&lt;-token_out&gt;]
 [B&lt;-text&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 B&lt;openssl&gt; B&lt;ts&gt;
 B&lt;-verify&gt;
@@ -303,12 +303,7 @@ response (TimeStampResp). (Optional)
 If this option is specified the output is human-readable text format
 instead of DER. (Optional)
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms. Default is built-in. (Optional)
+{- $OpenSSL::safe::opt_engine_item -}
 
 =back
 
diff --git a/doc/man1/openssl-verify.pod.in b/doc/man1/openssl-verify.pod.in
index 100cff4a6b..ab8257a5e4 100644
--- a/doc/man1/openssl-verify.pod.in
+++ b/doc/man1/openssl-verify.pod.in
@@ -16,7 +16,6 @@ B&lt;openssl&gt; B&lt;verify&gt;
 [B&lt;-crl_download&gt;]
 [B&lt;-crl_check&gt;]
 [B&lt;-crl_check_all&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-explicit_policy&gt;]
 [B&lt;-extended_crl&gt;]
 [B&lt;-ignore_critical&gt;]
@@ -49,6 +48,7 @@ B&lt;openssl&gt; B&lt;verify&gt;
 [B&lt;-sm2-hex-id&gt; I&lt;hex-string&gt;]
 {- $OpenSSL::safe::opt_name_synopsis -}
 {- $OpenSSL::safe::opt_trust_synopsis -}
+{- $OpenSSL::safe::opt_engine_synopsis -}
 [B&lt;--&gt;]
 [I&lt;certificate&gt; ...]
 
@@ -101,15 +101,6 @@ If a valid CRL cannot be found an error occurs.
 Checks the validity of B&lt;all&gt; certificates in the chain by attempting
 to look up valid CRLs.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine I&lt;id&gt; will cause this command to attempt to load the
-specified engine.
-The engine will then be set as the default for all its supported algorithms.
-If you want to load certificates or CRLs that require engine support via any of
-the B&lt;-trusted&gt;, B&lt;-untrusted&gt; or B&lt;-CRLfile&gt; options, the B&lt;-engine&gt; option
-must be specified before those options.
-
 =item B&lt;-explicit_policy&gt;
 
 Set policy variable require-explicit-policy (see RFC5280).
@@ -303,6 +294,11 @@ certificate. The argument for this option is string of hexadecimal digits.
 
 {- $OpenSSL::safe::opt_trust_item -}
 
+{- $OpenSSL::safe::opt_engine_item -}
+To load certificates or CRLs that require engine support, specify the
+B&lt;-engine&gt; option before any of the
+B&lt;-trusted&gt;, B&lt;-untrusted&gt; or B&lt;-CRLfile&gt; options.
+
 =item B&lt;--&gt;
 
 Indicates the last option. All arguments following this are assumed to be
diff --git a/doc/man1/openssl-x509.pod.in b/doc/man1/openssl-x509.pod.in
index 5dfb9bb0e6..a69d219f74 100644
--- a/doc/man1/openssl-x509.pod.in
+++ b/doc/man1/openssl-x509.pod.in
@@ -63,10 +63,10 @@ B&lt;openssl&gt; B&lt;x509&gt;
 [B&lt;-extfile&gt; I&lt;filename&gt;]
 [B&lt;-extensions&gt; I&lt;section&gt;]
 [B&lt;-sigopt&gt; I&lt;nm&gt;:I&lt;v&gt;]
-[B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-preserve_dates&gt;]
 {- $OpenSSL::safe::opt_name_synopsis -}
 {- $OpenSSL::safe::opt_r_synopsis -}
+{- $OpenSSL::safe::opt_engine_synopsis -}
 
 =for openssl ifdef engine subject_hash_old issuer_hash_old
 
@@ -117,13 +117,6 @@ Any digest supported by the L&lt;openssl-dgst(1)&gt; command can be used.
 If not specified then SHA1 is used with B&lt;-fingerprint&gt; or
 the default digest for the signing algorithm is used, typically SHA256.
 
-=item B&lt;-engine&gt; I&lt;id&gt;
-
-Specifying an engine (by its unique I&lt;id&gt; string) will cause this command
-to attempt to obtain a functional reference to the specified engine,
-thus initialising it if needed. The engine will then be set as the default
-for all available algorithms.
-
 =item B&lt;-preserve_dates&gt;
 
 When signing a certificate, preserve the &quot;notBefore&quot; and &quot;notAfter&quot; dates
@@ -132,6 +125,8 @@ Cannot be used with the B&lt;-days&gt; option.
 
 {- $OpenSSL::safe::opt_r_synopsis -}
 
+{- $OpenSSL::safe::opt_engine_item -}
+
 =back
 
 =head2 Display Options
diff --git a/doc/man1/openssl.pod b/doc/man1/openssl.pod
index 2e58b1bb3e..5ef537434c 100644
--- a/doc/man1/openssl.pod
+++ b/doc/man1/openssl.pod
@@ -933,6 +933,19 @@ name.
 
 =back
 
+=head2 Engine Options
+
+=over 4
+
+=item B&lt;-engine&gt; I&lt;id&gt;
+
+Use the engine identified by I&lt;id&gt; and use all the methods it
+implements (algorithms, key storage, etc.), unless specified otherwise in
+the command-specific documentation or it is configured to do so, as described
+in L&lt;config(5)/Engine Configuration Module&gt;.
+
+=back
+
 =head1 ENVIRONMENT
 
 The OpenSSL library can be take some configuration parameters from the
diff --git a/doc/perlvars.pm b/doc/perlvars.pm
index 5425c87e03..4e9dc31ac2 100644
--- a/doc/perlvars.pm
+++ b/doc/perlvars.pm
@@ -85,6 +85,14 @@ $OpenSSL::safe::opt_r_item = &quot;&quot;
 . &quot;\n&quot;
 . &quot;See L&lt;openssl(1)/Random State Options&gt; for details.&quot;;
 
+# Engine option
+$OpenSSL::safe::opt_engine_synopsis = &quot;&quot;
+. &quot;[B&lt;-engine&gt; I&lt;id&gt;]&quot;;
+$OpenSSL::safe::opt_engine_item = &quot;&quot;
+. &quot;=item B&lt;-engine&gt; I&lt;id&gt;\n&quot;
+. &quot;\n&quot;
+. &quot;See L&lt;openssl(1)/Engine Options&gt;.&quot;;
+
 # Trusted certs options
 $OpenSSL::safe::opt_trust_synopsis = &quot;&quot;
 . &quot;[B&lt;-CAfile&gt; I&lt;file&gt;]\n&quot;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026958.html">[openssl]  master update
</A></li>
	<LI>Next message: <A HREF="026969.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26961">[ date ]</a>
              <a href="thread.html#26961">[ thread ]</a>
              <a href="subject.html#26961">[ subject ]</a>
              <a href="author.html#26961">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
