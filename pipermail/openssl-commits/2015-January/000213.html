<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  OpenSSL_1_0_1k create
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2015-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20OpenSSL_1_0_1k%20create&In-Reply-To=%3C20150108152356.AD7251DF10F%40openssl.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000212.html">
   <LINK REL="Next"  HREF="000214.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  OpenSSL_1_0_1k create</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20OpenSSL_1_0_1k%20create&In-Reply-To=%3C20150108152356.AD7251DF10F%40openssl.net%3E"
       TITLE="[openssl-commits] [openssl]  OpenSSL_1_0_1k create">matt at openssl.org
       </A><BR>
    <I>Thu Jan  8 15:23:56 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="000212.html">[openssl-commits] [openssl]  OpenSSL_1_0_0p create
</A></li>
        <LI>Next message: <A HREF="000214.html">[openssl-commits] [web]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#213">[ date ]</a>
              <a href="thread.html#213">[ thread ]</a>
              <a href="subject.html#213">[ subject ]</a>
              <a href="author.html#213">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The annotated tag OpenSSL_1_0_1k has been created
        at  06d3e7b7f9acd0bb66af9a29eb37635c6e59f526 (tag)
   tagging  b4a57c4c419a578d1a16862a6b445c34003b4c52 (commit)
  replaces  OpenSSL_1_0_1j
 tagged by  Matt Caswell
        on  Thu Jan 8 14:03:40 2015 +0000

- Log -----------------------------------------------------------------
OpenSSL 1.0.1k release tag

Adam Langley (2):
      Premaster secret handling fixes
      Ensure that the session ID context of an SSL* is updated     when its SSL_CTX is updated.

Alok Menghrajani (3):
      Fixes a minor typo in the EVP docs.
      Improves the proxy certificates howto doc.
      Improves certificates HOWTO

Andr&#233; Guerreiro (1):
      Add documentation on -timeout option in the ocsp utility

Andy Polyakov (5):
      e_os.h: allow inline functions to be compiled by legacy compilers.
      e_os.h: refine inline override logic (to address warnings in debug build).
      md32_common.h: address compiler warning in HOST_c2l.
      Fix irix-cc build.
      Fix for CVE-2014-3570.

Bodo Moeller (2):
      When processing ClientHello.cipher_suites, don't ignore cipher suites     listed after TLS_FALLBACK_SCSV.
      Fix and improve SSL_MODE_SEND_FALLBACK_SCSV documentation.

Bodo M&#246;ller (1):
      Backport regression test

David Benjamin (1):
      Do not resume a session if the negotiated protocol version does not match     the session's version (server).

Dominik Neubauer (1):
      typo in s_client

Dr. Stephen Henson (14):
      Fix cross reference table generator.
      New option no-ssl3-method which removes SSLv3_*method
      Reject invalid constructed encodings.
      Clear existing extension state.
      Fix various certificate fingerprint issues.
      Constify ASN1_TYPE_cmp add X509_ALGOR_cmp.
      update ordinals
      ECDH downgrade bug fix.
      Only allow ephemeral RSA keys in export ciphersuites.
      use correct function name
      use correct credit in CHANGES
      fix error discrepancy
      Fix crash in dtls1_get_record whilst in the listen state where you get two     separate reads performed - one for the header and one for the body of the     handshake record.
      Unauthenticated DH client certificate fix.

Emilia Kasper (14):
      Fix ssltest logic when some protocols are compiled out.
      Tighten session ticket handling
      Reset s-&gt;tlsext_ticket_expected in ssl_scan_serverhello_tlsext.     This ensures that it's zeroed even if the SSL object is reused     (as in ssltest.c). It also ensures that it applies to DTLS, too.
      Set s-&gt;hit when resuming from external pre-shared secret.
      Remove ssl3_check_finished.
      Always require an advertised NewSessionTicket message.
      Ensure SSL3_FLAGS_CCS_OK (or d1-&gt;change_cipher_spec_ok for DTLS) is reset     once the ChangeCipherSpec message is received. Previously, the server would     set the flag once at SSL3_ST_SR_CERT_VRFY and again at SSL3_ST_SR_FINISHED.     This would allow a second CCS to arrive and would corrupt the server state.
      Reject elliptic curve lists of odd lengths.
      Fix unused variable warning
      Check for invalid divisors in BN_div.
      Build fixes
      Revert &quot;RT3425: constant-time evp_enc&quot;
      Add a comment noting the padding oracle.
      Only inherit the session ID context in SSL_set_SSL_CTX if the existing     context was also inherited (matches that of the existing SSL_CTX).

Guenter (1):
      NetWare compilation fix.

Jan Hykel (1):
      Don't use msg on error.

Kurt Cancemi (1):
      RT3547: Add missing static qualifier

Kurt Roeckx (7):
      Keep old method in case of an unsupported protocol
      Fix warning about negative unsigned intergers
      Use the SSLv23 method by default
      Return error when a bit string indicates an invalid amount of bits left
      Fix memory leak in the apps
      dlfcn: always define _GNU_SOURCE
      Make &quot;run&quot; volatile

Martin Brejcha (1):
      Fix memory leak.

Matt Caswell (43):
      Prepare for 1.0.1k-dev
      Fix free of garbage pointer. PR#3595
      Added OPENSSL_NO_EC2M guards around the preferred EC curve list
      Corrected comments in ssl.h about SSLv23_method and friends
      Fixed memory leak due to incorrect freeing of DTLS reassembly bit mask
      Add include of ssl.h which is required by srtp.h
      Updates to EVP_PKEY_encrypt.pod submitted by user Bernardh via the wiki     Minor changes made by Matt Caswell.
      Updates to X509_NAME_add_entry_by_txt.pod submitted by user Bernardh via the wiki     Minor changes made by Matt Caswell.
      Updates to X509_NAME_get_index_by_NID.pod submitted by user Bernardh via the wiki     Minor changes made by Matt Caswell
      Tidy up ocsp help output
      Remove duplicated code
      Remove redundant checks in ssl_cert_dup. This was causing spurious error messages when using GOST
      Add checks to the return value of EVP_Cipher to prevent silent encryption failure.
      Check EVP_Cipher return values for SSL2
      Fixed warning in ssl2_enc
      Verify that we have a sensible message len and fail if not     RT#3592 provides an instance where the OPENSSL_assert that this commit     replaces can be hit. I was able to recreate this issue by forcing the     underlying BIO to misbehave and come back with very small mtu values. This     happens the second time around the while loop after we have detected that the     MTU has been exceeded following the call to dtls1_write_bytes.
      The SSL_OP_NO_QUERY_MTU option is supposed to stop the mtu from being     automatically updated, and we should use the one provided instead.     Unfortunately there are a couple of locations where this is not respected.
      The first call to query the mtu in dtls1_do_write correctly checks that the     mtu that we have received is not less than the minimum. If its less it uses the     minimum instead. The second call to query the mtu does not do that, but     instead uses whatever comes back. We have seen an instance in RT#3592 where we     have got an unreasonably small mtu come back. This commit makes both query     checks consistent.
      There are a number of instances throughout the code where the constant 28 is     used with no explanation. Some of this was introduced as part of RT#1929. The     value 28 is the length of the IP header (20 bytes) plus the UDP header (8     bytes). However use of this constant is incorrect because there may be     instances where a different value is needed, e.g. an IPv4 header is 20 bytes     but an IPv6 header is 40. Similarly you may not be using UDP (e.g. SCTP).     This commit introduces a new BIO_CTRL that provides the value to be used for     this mtu &quot;overhead&quot;. It will be used by subsequent commits.
      Remove instances in libssl of the constant 28 (for size of IPv4 header + UDP)     and instead use the value provided by the underlying BIO. Also provide some     new DTLS_CTRLs so that the library user can set the mtu without needing to     know this constant. These new DTLS_CTRLs provide the capability to set the     link level mtu to be used (i.e. including this IP/UDP overhead). The previous     DTLS_CTRLs required the library user to subtract this overhead first.
      Fix dtls_query_mtu so that it will always either complete with an mtu that is     at least the minimum or it will fail.     There were some instances in dtls1_query_mtu where the final mtu can end up     being less than the minimum, i.e. where the user has set an mtu manually. This     shouldn't be allowed. Also remove dtls1_guess_mtu that, despite having     logic for guessing an mtu, was actually only ever used to work out the minimum     mtu to use.
      If we really get a situation where the underlying mtu is less than the minimum     we will support then dtls1_do_write can go into an infinite loop. This commit     fixes that.
      Updates to s_client and s_server to remove the constant 28 (for IPv4 header     and UDP header) when setting an mtu. This constant is not always correct (e.g.     if using IPv6). Use the new DTLS_CTRL functions instead.
      Only use the fallback mtu after 2 unsuccessful retransmissions if it is less     than the mtu we are already using
      Remove &quot;#if 0&quot; code
      Remove incorrect code inadvertently introduced through commit 59669b6ab.
      Fix memory leak in SSL_new if errors occur.
      Fixed memory leak in the event of a failure of BUF_MEM_grow
      Fix use of NULL memory pointer in X509_VERIFY_PARAM_new in the event of a     malloc failure.
      Fixed memory leak if BUF_MEM_grow fails
      Fix memory leak in s2_srvr.c if BUF_MEM_grow fails
      Check return value of ssl3_output_cert_chain
      Checkout return value of dtls1_output_cert_chain
      DTLS fixes for signed/unsigned issues
      Remove extraneous white space, and add some braces
      Add OPENSSL_NO_ECDH guards
      Fix a problem if CFLAGS is too long cversion.c fails to compile when config     is run with --strict-warnings.
      Remove blank line from start of cflags character array in buildinf.h
      Follow on from CVE-2014-3571. This fixes the code that was the original source     of the crash due to p being NULL. Steve's fix prevents this situation from     occuring - however this is by no means obvious by looking at the code for     dtls1_get_record. This fix just makes things look a bit more sane.
      A memory leak can occur in dtls1_buffer_record if either of the calls to     ssl3_setup_buffers or pqueue_insert fail. The former will fail if there is a     malloc failure, whilst the latter will fail if attempting to add a duplicate     record to the queue. This should never happen because duplicate records should     be detected and dropped before any attempt to add them to the queue.     Unfortunately records that arrive that are for the next epoch are not being     recorded correctly, and therefore replays are not being detected.     Additionally, these &quot;should not happen&quot; failures that can occur in     dtls1_buffer_record are not being treated as fatal and therefore an attacker     could exploit this by sending repeated replay records for the next epoch,     eventually causing a DoS through memory exhaustion.
      CHANGES and NEWS updates for release
      make update
      Prepare for 1.0.1k release

Michael Tuexen (1):
      Fix incorrect OPENSSL_assert() usage.

Michal Bozon (1):
      Correct timestamp output when clock_precision_digits &gt; 0

Rich Salz (1):
      RT2914: NULL check missing in X509_name_canon

Richard Levitte (11):
      Correct some layout issues, convert all remaining tabs to appropriate amounts of spaces.
      [PR3597] Advance to the next state variant when reusing messages.
      Check for FindNextFile when defining it rather than FindFirstFile
      Clear warnings/errors within BN_CTX_DEBUG code sections
      Clear warnings/errors within CIPHER_DEBUG code sections
      Clear warnings/errors within CIPHER_DEBUG code sections
      Clear warnings/errors within KSSL_DEBUG code sections
      Clear warnings/errors within TLS_DEBUG code sections
      Clear warnings/errors within RL_DEBUG code sections (RL_DEBUG should be renamed)
      Small typo
      VMS fixups for 1.0.1

Russell Coker (1):
      Fix datarace reported by valgrind/helgrind

Samuel Neves (1):
      Use only unsigned arithmetic in constant-time operations

Thorsten Glaser (1):
      Document openssl dgst -hmac option

Tim Hudson (1):
      no-ssl2 with no-ssl3 does not mean drop the ssl lib

-----------------------------------------------------------------------
</PRE>



































































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000212.html">[openssl-commits] [openssl]  OpenSSL_1_0_0p create
</A></li>
	<LI>Next message: <A HREF="000214.html">[openssl-commits] [web]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#213">[ date ]</a>
              <a href="thread.html#213">[ thread ]</a>
              <a href="subject.html#213">[ subject ]</a>
              <a href="author.html#213">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
