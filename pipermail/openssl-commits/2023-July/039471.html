<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] f6484d: Enable ARMv8.2 accelerated SHA3 on compatible Appl...
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2023-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20f6484d%3A%20Enable%20ARMv8.2%20accelerated%20SHA3%20on%0A%20compatible%20Appl...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/0c85bc-ba9472%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039470.html">
   <LINK REL="Next"  HREF="039473.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] f6484d: Enable ARMv8.2 accelerated SHA3 on compatible Appl...</H1>
    <B>sdlyyxy</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20f6484d%3A%20Enable%20ARMv8.2%20accelerated%20SHA3%20on%0A%20compatible%20Appl...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/0c85bc-ba9472%40github.com%3E"
       TITLE="[openssl/openssl] f6484d: Enable ARMv8.2 accelerated SHA3 on compatible Appl...">noreply at github.com
       </A><BR>
    <I>Fri Jul 21 00:20:25 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="039470.html">[openssl/openssl] 144d09: speed: Fix memory leak
</A></li>
        <LI>Next message (by thread): <A HREF="039473.html">[openssl/openssl] d49c6c: QUIC TXP: Test packet size boundary cases
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39471">[ date ]</a>
              <a href="thread.html#39471">[ thread ]</a>
              <a href="subject.html#39471">[ subject ]</a>
              <a href="author.html#39471">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/master
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: f6484de23df5f04e1f9fa8418e942c45c1a65578
      <A HREF="https://github.com/openssl/openssl/commit/f6484de23df5f04e1f9fa8418e942c45c1a65578">https://github.com/openssl/openssl/commit/f6484de23df5f04e1f9fa8418e942c45c1a65578</A>
  Author: sdlyyxy &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">sdlyyxy at icloud.com</A>&gt;
  Date:   2023-07-21 (Fri, 21 Jul 2023)

  Changed paths:
    M crypto/arm_arch.h
    M providers/implementations/digests/sha3_prov.c

  Log Message:
  -----------
  Enable ARMv8.2 accelerated SHA3 on compatible Apple CPUs

The hardware-assisted ARMv8.2 implementation is already in keccak1600-armv8.pl.
It is not called because the author mentioned that it's not actually obvious
that it will provide performance improvements. The test on Apple M1 Firestorm
shows that the ARMv8.2 implementation could improve about 36% for large blocks.
So let's enable ARMv8.2 accelerated SHA3 on Apple CPU family.

Fixes #21380

Reviewed-by: Tom Cosgrove &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tom.cosgrove at arm.com</A>&gt;
Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/21398">https://github.com/openssl/openssl/pull/21398</A>)


  Commit: 08e6eb216c9d65d502dc136a40e1c0adaefab759
      <A HREF="https://github.com/openssl/openssl/commit/08e6eb216c9d65d502dc136a40e1c0adaefab759">https://github.com/openssl/openssl/commit/08e6eb216c9d65d502dc136a40e1c0adaefab759</A>
  Author: sdlyyxy &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">sdlyyxy at icloud.com</A>&gt;
  Date:   2023-07-21 (Fri, 21 Jul 2023)

  Changed paths:
    M crypto/arm_arch.h
    M crypto/armcap.c
    M providers/implementations/digests/sha3_prov.c

  Log Message:
  -----------
  Move CPU detection to armcap.c

Reviewed-by: Tom Cosgrove &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tom.cosgrove at arm.com</A>&gt;
Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/21398">https://github.com/openssl/openssl/pull/21398</A>)


  Commit: ba9472c1c121b13e48f7c198d3fe9871a86e664c
      <A HREF="https://github.com/openssl/openssl/commit/ba9472c1c121b13e48f7c198d3fe9871a86e664c">https://github.com/openssl/openssl/commit/ba9472c1c121b13e48f7c198d3fe9871a86e664c</A>
  Author: sdlyyxy &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">sdlyyxy at icloud.com</A>&gt;
  Date:   2023-07-21 (Fri, 21 Jul 2023)

  Changed paths:
    M crypto/arm_arch.h
    M crypto/armcap.c
    M providers/implementations/digests/sha3_prov.c

  Log Message:
  -----------
  Update with `ARMV8_HAVE_SHA3_AND_WORTH_USING`

Reviewed-by: Tom Cosgrove &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tom.cosgrove at arm.com</A>&gt;
Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/21398">https://github.com/openssl/openssl/pull/21398</A>)


Compare: <A HREF="https://github.com/openssl/openssl/compare/0c85bcbaeabe...ba9472c1c121">https://github.com/openssl/openssl/compare/0c85bcbaeabe...ba9472c1c121</A>
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="039470.html">[openssl/openssl] 144d09: speed: Fix memory leak
</A></li>
	<LI>Next message (by thread): <A HREF="039473.html">[openssl/openssl] d49c6c: QUIC TXP: Test packet size boundary cases
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39471">[ date ]</a>
              <a href="thread.html#39471">[ thread ]</a>
              <a href="subject.html#39471">[ subject ]</a>
              <a href="author.html#39471">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
