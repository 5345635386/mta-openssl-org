<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-asan no-shared -DOPENSSL_SMALL_FOOTPRINT
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2020-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20Still%20FAILED%20build%20of%20OpenSSL%20branch%20master%20with%20options%20-d%0A%20--strict-warnings%20enable-asan%20no-shared%20-DOPENSSL_SMALL_FOOTPRINT&In-Reply-To=%3C1598227221.451253.12751.nullmailer%40run.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030211.html">
   <LINK REL="Next"  HREF="030330.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-asan no-shared -DOPENSSL_SMALL_FOOTPRINT</H1>
    <B>OpenSSL run-checker</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20Still%20FAILED%20build%20of%20OpenSSL%20branch%20master%20with%20options%20-d%0A%20--strict-warnings%20enable-asan%20no-shared%20-DOPENSSL_SMALL_FOOTPRINT&In-Reply-To=%3C1598227221.451253.12751.nullmailer%40run.openssl.org%3E"
       TITLE="Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-asan no-shared -DOPENSSL_SMALL_FOOTPRINT">openssl at openssl.org
       </A><BR>
    <I>Mon Aug 24 00:00:21 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="030211.html">Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-asan no-shared -DOPENSSL_SMALL_FOOTPRINT
</A></li>
        <LI>Next message: <A HREF="030330.html">Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-asan no-shared -DOPENSSL_SMALL_FOOTPRINT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30290">[ date ]</a>
              <a href="thread.html#30290">[ thread ]</a>
              <a href="subject.html#30290">[ subject ]</a>
              <a href="author.html#30290">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Platform and configuration command:

$ uname -a
Linux run 4.15.0-106-generic #107-Ubuntu SMP Thu Jun 4 11:27:52 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
$ CC=clang ../openssl/config -d --strict-warnings enable-asan no-shared -DOPENSSL_SMALL_FOOTPRINT

Commit log since last time:

05ead00065 run_tests.pl: Add warning that HARNESS_JOBS &gt; 1 overrides HARNESS_VERBOSE
1acb2e6f35 Fix CMS so that it still works with non fetchable algorithms.
eed12622fa Windows get ENV value as UTF-8 encoded string instead of a raw string
c0f39ded68 Add Explicit EC parameter support to providers.
a02c715c18 Clean away some declarations
93ec4f8f09 Remove the OSSL_SERIALIZER / OSSL_DESERIALIZER renaming scripts
ece9304c96 Rename OSSL_SERIALIZER / OSSL_DESERIALIZER to OSSL_ENCODE / OSSL_DECODE
f650993f1d Rename OSSL_SERIALIZER / OSSL_DESERIALIZER to OSSL_ENCODE / OSSL_DECODE
5a7734cd02 Add libctx/provider support to cmp_msg_test
4561f15fdb Add libctx/provider support to cmp_protect_test
bdd6784fdd Add libctx/provider support to cmp_vfy_test
b0248cbc3e Add libctx/provider support to cmp_client_test
6d1f50b520 Use in CMP+CRMF libctx and propq param added to sign/verify/HMAC/decrypt
cac30a69bc cmp_msg.c: Copy libctx and propq of CMP_CTX to newly enrolled certificate
28e9f62b2d cmp_util.c: Add OPENSSL_CTX parameter to ossl_cmp_build_cert_chain(), improve its doc
1930b58642 cmp_hdr.c: Adapt ossl_cmp_hdr_init() to use OPENSSL_CTX for random number generation
2300083887 crypto/cmp: Prevent misleading errors in case x509v3_cache_extensions() fails
ab28b59064 Add libctx/provider support to cmp_server_test
97e00da902 Add OPENSSL_CTX parameter to OSSL_CRMF_pbmp_new() and improve its doc
1a7cd250ad Add libctx and propq parameters to OSSL_CMP_{SRV_},CTX_new() and ossl_cmp_mock_srv_new()
7b1a3a5062 cmp_vfy.c: Fix bug: must verify msg signature also in 3GPP mode
cef3a008a6 Update CMP header file references in internal CMP documentation
ded346fad2 Add libctx and propq param to ASN.1 sign/verify/HMAC/decrypt
4cdf44c46b x_x509.c: Simplify X509_new_with_libctx() using x509_set0_libctx()
09c2e26e64 Re-word null-&gt;empty property; improve iteration.count example in property.pod
1bb6f70da3 testutil: Add provider.c with test_get_libctx(), to use at least for SSL and CMP
06cee80a84 testutil: Make SETUP_TEST_FIXTURE return 0 on fixture == NULL
1a7ceb6c74 Correct the #define's of EVP_PKEY_CTRL_SET1_ID and EVP_PKEY_CTRL_GET1_ID{,_LEN}
bc03cfadc4 Add prerequisite #include directives to include/crypto/x509.h
de3713d492 Make sure x509v3_cache_extensions() does not modify the error queue
be63e58732 Fix incorrect selection flags for ec serializer.
8ca6c6669f Test mte with stitched ciphersuites in TLSv1.0
a361cb841d Fix stitched ciphersuites in TLS1.0
2a33470b4f Make better use of new load_cert_pass() variant of load_cert() in apps/
b3c5aadf4c apps: make use of OSSL_STORE for generalized certs and CRLs loading
ed4faae00c Fix mem leaks on PKCS#12 read error in PKCS12_key_gen_{asc,utf8}
5f2b7db09b TEST: Use PEM_read_bio_PUBKEY_ex() and PEM_read_bio_PrivateKey_ex()
6e5ccd58c8 PEM: Add more library context aware PEM readers
2274d22d39 STORE: Distinguish public keys from private keys
6cc1dfca88 PROV: Fix DSA and DH private key serializers
22b814443e X509: Add d2i_PUBKEY_ex(), which take a libctx and propq
3b1fd0b003 cmp: handle error return from OBJ_obj2txt()
ffcdb24b13 pkeyutil: check return value reading password
16486f6332 PROV: Fix EC OSSL_FUNC_keymgmt_match() to work in the FIPS provider
26a8f2ac95 RSA: Fix rsa_todata() to only add params for existing data
e6ed04a9dc TEST: separate out NIST ECC tests from non-NIST
a24b510c28 EVP: Have evp_pkey_cmp_any() detect if export wasn't possible

Build log ended with (last 100 lines):

            # Server sent alert unexpected_message but client received no alert.
            # 80876EB9017F0000:error::SSL routines::unexpected message:../openssl/ssl/statem/statem_srvr.c:318:
            not ok 9 - iteration 9
# ------------------------------------------------------------------------------
        not ok 1 - test_handshake
# ------------------------------------------------------------------------------
../../util/wrap.pl ../../test/ssl_test 25-cipher.cnf.default default =&gt; 1
    not ok 6 - running ssl_test 25-cipher.cnf
# ------------------------------------------------------------------------------
    # Looks like you failed 2 tests of 9.
not ok 26 - Test configuration 25-cipher.cnf
# ------------------------------------------------------------------------------
# Looks like you failed 1 test of 31.80-test_ssl_new.t .................. 
Dubious, test returned 1 (wstat 256, 0x100)
Failed 1/31 subtests 
80-test_ssl_old.t .................. ok
80-test_ssl_test_ctx.t ............. ok

        # INFO:  @ ../openssl/test/sslcorrupttest.c:199
        # Starting #2, ECDHE-RSA-CHACHA20-POLY1305
        # ERROR: (int) 'SSL_get_error(clientssl, 0) == SSL_ERROR_WANT_READ' failed @ ../openssl/test/ssltestlib.c:1032
        # [1] compared to [2]
        # ERROR: (bool) 'create_ssl_connection(server, client, SSL_ERROR_NONE) == true' failed @ ../openssl/test/sslcorrupttest.c:229
        # false
        # 80F71D2E517F0000:error::SSL routines::unexpected message:../openssl/ssl/statem/statem_clnt.c:403:
        not ok 3 - iteration 3
# ------------------------------------------------------------------------------
        # INFO:  @ ../openssl/test/sslcorrupttest.c:199
        # Starting #3, DHE-RSA-CHACHA20-POLY1305
        # ERROR: (int) 'SSL_get_error(clientssl, 0) == SSL_ERROR_WANT_READ' failed @ ../openssl/test/ssltestlib.c:1032
        # [1] compared to [2]
        # ERROR: (bool) 'create_ssl_connection(server, client, SSL_ERROR_NONE) == true' failed @ ../openssl/test/sslcorrupttest.c:229
        # false
        # 80F71D2E517F0000:error::SSL routines::unexpected message:../openssl/ssl/statem/statem_clnt.c:403:
        not ok 4 - iteration 4
# ------------------------------------------------------------------------------
    not ok 1 - test_ssl_corrupt
# ------------------------------------------------------------------------------
../../util/wrap.pl ../../test/sslcorrupttest ../../../openssl/apps/server.pem ../../../openssl/apps/server.pem =&gt; 1
not ok 1 - running sslcorrupttest
# ------------------------------------------------------------------------------
#   Failed test 'running sslcorrupttest'
#   at ../openssl/test/recipes/80-test_sslcorrupt.t line 19.
# Looks like you failed 1 test of 1.80-test_sslcorrupt.t ............... 
Dubious, test returned 1 (wstat 256, 0x100)
Failed 1/1 subtests 
80-test_tsa.t ...................... ok
80-test_x509aux.t .................. ok

# 81-test_cmp_cli.t .................. ok
90-test_asn1_time.t ................ ok
90-test_async.t .................... ok
90-test_bio_enc.t .................. ok
90-test_bio_memleak.t .............. ok
90-test_constant_time.t ............ ok
90-test_fatalerr.t ................. ok
90-test_gmdiff.t ................... ok
90-test_gost.t ..................... skipped: GOST support is disabled in this OpenSSL build
90-test_ige.t ...................... ok
90-test_includes.t ................. ok
90-test_memleak.t .................. ok
90-test_overhead.t ................. ok
90-test_secmem.t ................... ok
90-test_shlibload.t ................ skipped: Test only supported in a shared build
90-test_srp.t ...................... ok
90-test_sslapi.t ................... ok
90-test_sslbuffers.t ............... ok
90-test_store.t .................... ok
90-test_sysdefault.t ............... ok
90-test_threads.t .................. ok
90-test_time_offset.t .............. ok
90-test_tls13ccs.t ................. ok
90-test_tls13encryption.t .......... ok
90-test_tls13secrets.t ............. skipped: tls13secrets is not supported in this build
90-test_v3name.t ................... ok
95-test_external_boringssl.t ....... skipped: No external tests in this configuration
95-test_external_gost_engine.t ..... skipped: No external tests in this configuration
95-test_external_krb5.t ............ skipped: No external tests in this configuration
95-test_external_pyca.t ............ skipped: No external tests in this configuration
99-test_ecstress.t ................. ok
99-test_fuzz.t ..................... ok

Test Summary Report
-------------------
80-test_dtls_mtu.t               (Wstat: 256 Tests: 1 Failed: 1)
  Failed test:  1
  Non-zero exit status: 1
80-test_ssl_new.t                (Wstat: 256 Tests: 31 Failed: 1)
  Failed test:  26
  Non-zero exit status: 1
80-test_sslcorrupt.t             (Wstat: 256 Tests: 1 Failed: 1)
  Failed test:  1
  Non-zero exit status: 1
Files=209, Tests=3128, 1741 wallclock secs (12.76 usr  1.51 sys + 1562.99 cusr 159.46 csys = 1736.72 CPU)
Result: FAIL
Makefile:2539: recipe for target '_tests' failed
make[1]: *** [_tests] Error 1
make[1]: Leaving directory '/home/openssl/run-checker/enable-asan'
Makefile:2537: recipe for target 'tests' failed
make: *** [tests] Error 2
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030211.html">Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-asan no-shared -DOPENSSL_SMALL_FOOTPRINT
</A></li>
	<LI>Next message: <A HREF="030330.html">Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-asan no-shared -DOPENSSL_SMALL_FOOTPRINT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30290">[ date ]</a>
              <a href="thread.html#30290">[ thread ]</a>
              <a href="subject.html#30290">[ subject ]</a>
              <a href="author.html#30290">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
