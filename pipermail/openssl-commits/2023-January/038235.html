<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] f45c60: Padlock: fix byte swapping assembly for AES-192 an...
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2023-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20f45c60%3A%20Padlock%3A%20fix%20byte%20swapping%20assembly%20for%0A%20AES-192%20an...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.0/36d03d-f45c60%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038234.html">
   <LINK REL="Next"  HREF="038236.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] f45c60: Padlock: fix byte swapping assembly for AES-192 an...</H1>
    <B>ValdikSS</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20f45c60%3A%20Padlock%3A%20fix%20byte%20swapping%20assembly%20for%0A%20AES-192%20an...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.0/36d03d-f45c60%40github.com%3E"
       TITLE="[openssl/openssl] f45c60: Padlock: fix byte swapping assembly for AES-192 an...">noreply at github.com
       </A><BR>
    <I>Fri Jan 20 07:34:25 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="038234.html">[openssl/openssl] 7331e7: Padlock: fix byte swapping assembly for AES-192 an...
</A></li>
        <LI>Next message (by thread): <A HREF="038236.html">[openssl/openssl] 2bcf8e: Padlock: fix byte swapping assembly for AES-192 an...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38235">[ date ]</a>
              <a href="thread.html#38235">[ thread ]</a>
              <a href="subject.html#38235">[ subject ]</a>
              <a href="author.html#38235">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.0
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: f45c6033cebe2663adf206a7f1da4bff0a4c5276
      <A HREF="https://github.com/openssl/openssl/commit/f45c6033cebe2663adf206a7f1da4bff0a4c5276">https://github.com/openssl/openssl/commit/f45c6033cebe2663adf206a7f1da4bff0a4c5276</A>
  Author: ValdikSS &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">iam at valdikss.org.ru</A>&gt;
  Date:   2023-01-20 (Fri, 20 Jan 2023)

  Changed paths:
    M engines/asm/e_padlock-x86.pl
    M engines/asm/e_padlock-x86_64.pl

  Log Message:
  -----------
  Padlock: fix byte swapping assembly for AES-192 and 256

Byte swapping code incorrectly uses the number of AES rounds to swap expanded
AES key, while swapping only a single dword in a loop, resulting in swapped
key and partially swapped expanded keys, breaking AES encryption and
decryption on VIA Padlock hardware.

This commit correctly sets the number of swapping loops to be done.

Fixes #20073

CLA: trivial

Reviewed-by: Hugo Landau &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">hlandau at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/20077">https://github.com/openssl/openssl/pull/20077</A>)

(cherry picked from commit 7331e7ef79fe4499d81cc92249e9c97e9ff9291a)


</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="038234.html">[openssl/openssl] 7331e7: Padlock: fix byte swapping assembly for AES-192 an...
</A></li>
	<LI>Next message (by thread): <A HREF="038236.html">[openssl/openssl] 2bcf8e: Padlock: fix byte swapping assembly for AES-192 an...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38235">[ date ]</a>
              <a href="thread.html#38235">[ thread ]</a>
              <a href="subject.html#38235">[ subject ]</a>
              <a href="author.html#38235">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
