<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2021-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1623922922.830304.7951.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034747.html">
   <LINK REL="Next"  HREF="034749.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl]  master update</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1623922922.830304.7951.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl]  master update">matt at openssl.org
       </A><BR>
    <I>Thu Jun 17 09:42:02 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="034747.html">[openssl]  master update
</A></li>
        <LI>Next message: <A HREF="034749.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34748">[ date ]</a>
              <a href="thread.html#34748">[ thread ]</a>
              <a href="subject.html#34748">[ subject ]</a>
              <a href="author.html#34748">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  e23206ae5604a0498c2127a71ae302c477b3a563 (commit)
      from  98dc656e5f491cc29a61892d152c9779527da6f8 (commit)


- Log -----------------------------------------------------------------
commit e23206ae5604a0498c2127a71ae302c477b3a563
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Thu Jun 17 10:47:26 2021 +0200

    test/recipes/80-test_cmp_http.t: Kill the mock server brutally
    
    To kill a subprocess with the KILL signal is pretty brutal.  However,
    it doesn't seem to be killed completely on some platforms, which makes
    this test recipe hang indefinitely when (implicitly) closing the file
    handle for this server ($server_fh).  A brutal KILL resolves this
    problem.
    
    Fixes #15781
    
    Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/15797">https://github.com/openssl/openssl/pull/15797</A>)

-----------------------------------------------------------------------

Summary of changes:
 test/recipes/80-test_cmp_http.t | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/test/recipes/80-test_cmp_http.t b/test/recipes/80-test_cmp_http.t
index 10f2b84c68..dddc1db918 100644
--- a/test/recipes/80-test_cmp_http.t
+++ b/test/recipes/80-test_cmp_http.t
@@ -294,5 +294,5 @@ sub start_mock_server {
 sub stop_mock_server {
     my $pid = $_[0];
     print &quot;Killing mock server with pid=$pid\n&quot;;
-    kill('QUIT', $pid);
+    kill('KILL', $pid);
 }
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034747.html">[openssl]  master update
</A></li>
	<LI>Next message: <A HREF="034749.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34748">[ date ]</a>
              <a href="thread.html#34748">[ thread ]</a>
              <a href="subject.html#34748">[ subject ]</a>
              <a href="author.html#34748">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
