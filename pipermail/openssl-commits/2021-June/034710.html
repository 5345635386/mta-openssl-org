<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Still FAILED build of OpenSSL branch master with options --strict-warnings
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2021-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20Still%20FAILED%20build%20of%20OpenSSL%20branch%20master%20with%20options%0A%20--strict-warnings&In-Reply-To=%3C1623708607.826313.600629.nullmailer%40run.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034703.html">
   <LINK REL="Next"  HREF="034722.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Still FAILED build of OpenSSL branch master with options --strict-warnings</H1>
    <B>OpenSSL run-checker</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20Still%20FAILED%20build%20of%20OpenSSL%20branch%20master%20with%20options%0A%20--strict-warnings&In-Reply-To=%3C1623708607.826313.600629.nullmailer%40run.openssl.org%3E"
       TITLE="Still FAILED build of OpenSSL branch master with options --strict-warnings">openssl at openssl.org
       </A><BR>
    <I>Mon Jun 14 22:10:07 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="034703.html">Still FAILED build of OpenSSL branch master with options --strict-warnings
</A></li>
        <LI>Next message: <A HREF="034722.html">Still FAILED build of OpenSSL branch master with options --strict-warnings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34710">[ date ]</a>
              <a href="thread.html#34710">[ thread ]</a>
              <a href="subject.html#34710">[ subject ]</a>
              <a href="author.html#34710">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Platform and configuration command:

$ uname -a
Linux run 5.4.0-72-generic #80-Ubuntu SMP Mon Apr 12 17:35:00 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux
$ CC=clang ../openssl/config --strict-warnings

Commit log since last time:

f77208693e Avoid excessive OSSL_DECODER_do_all_provided calls
8c7c1c84cb Add a generic SubjectPublicKeyInfo decoder
1c49be8673 Fix DH/DHX named groups to not overwrite the private key length.
243af566e4 When linking to static libssl always link to static libcrypto
eaa39eb678 Do not duplicate symbols between libcrypto and libssl in static builds
cdf2986a70 Add -latomic only for architectures where needed
d049485cfb Avoid duplicating prov_running.o in libdefault and libcrypto

Build log ended with (last 100 lines):

        # false
        # 80C12C3A357F0000:error:03000072:digital envelope routines:X509_PUBKEY_get0:decode error:../openssl/crypto/x509/x_pubkey.c:441:
        # 80C12C3A357F0000:error:0A00018F:SSL routines:SSL_CTX_use_certificate:ee key too small:../openssl/ssl/ssl_rsa.c:221:
        # OPENSSL_TEST_RAND_ORDER=1623708433
        not ok 3 - iteration 3
# ------------------------------------------------------------------------------
        # ERROR: (int) 'SSL_CTX_use_certificate_file(serverctx, certfile, SSL_FILETYPE_PEM) == 1' failed @ ../openssl/test/helpers/ssltestlib.c:741
        # [0] compared to [1]
        # ERROR: (bool) 'create_ssl_ctx_pair(NULL, TLS_server_method(), TLS_client_method(), TLS1_VERSION, 0, &amp;sctx, &amp;cctx, ciphers[idx].certnum == 0 ? cert1 : cert2, ciphers[idx].certnum == 0 ? privkey1 : privkey2) == true' failed @ ../openssl/test/gosttest.c:57
        # false
        # 80C12C3A357F0000:error:03000072:digital envelope routines:X509_PUBKEY_get0:decode error:../openssl/crypto/x509/x_pubkey.c:441:
        # 80C12C3A357F0000:error:0A00018F:SSL routines:SSL_CTX_use_certificate:ee key too small:../openssl/ssl/ssl_rsa.c:221:
        # OPENSSL_TEST_RAND_ORDER=1623708433
        not ok 4 - iteration 4
# ------------------------------------------------------------------------------
        # ERROR: (int) 'SSL_CTX_use_certificate_file(serverctx, certfile, SSL_FILETYPE_PEM) == 1' failed @ ../openssl/test/helpers/ssltestlib.c:741
        # [0] compared to [1]
        # ERROR: (bool) 'create_ssl_ctx_pair(NULL, TLS_server_method(), TLS_client_method(), TLS1_VERSION, 0, &amp;sctx, &amp;cctx, ciphers[idx].certnum == 0 ? cert1 : cert2, ciphers[idx].certnum == 0 ? privkey1 : privkey2) == true' failed @ ../openssl/test/gosttest.c:57
        # false
        # 80C12C3A357F0000:error:03000072:digital envelope routines:X509_PUBKEY_get0:decode error:../openssl/crypto/x509/x_pubkey.c:441:
        # 80C12C3A357F0000:error:0A00018F:SSL routines:SSL_CTX_use_certificate:ee key too small:../openssl/ssl/ssl_rsa.c:221:
        # OPENSSL_TEST_RAND_ORDER=1623708433
        not ok 5 - iteration 5
# ------------------------------------------------------------------------------
        # ERROR: (int) 'SSL_CTX_use_certificate_file(serverctx, certfile, SSL_FILETYPE_PEM) == 1' failed @ ../openssl/test/helpers/ssltestlib.c:741
        # [0] compared to [1]
        # ERROR: (bool) 'create_ssl_ctx_pair(NULL, TLS_server_method(), TLS_client_method(), TLS1_VERSION, 0, &amp;sctx, &amp;cctx, ciphers[idx].certnum == 0 ? cert1 : cert2, ciphers[idx].certnum == 0 ? privkey1 : privkey2) == true' failed @ ../openssl/test/gosttest.c:57
        # false
        # 80C12C3A357F0000:error:03000072:digital envelope routines:X509_PUBKEY_get0:decode error:../openssl/crypto/x509/x_pubkey.c:441:
        # 80C12C3A357F0000:error:0A00018F:SSL routines:SSL_CTX_use_certificate:ee key too small:../openssl/ssl/ssl_rsa.c:221:
        # OPENSSL_TEST_RAND_ORDER=1623708433
        not ok 6 - iteration 6
# ------------------------------------------------------------------------------
        # ERROR: (int) 'SSL_CTX_use_certificate_file(serverctx, certfile, SSL_FILETYPE_PEM) == 1' failed @ ../openssl/test/helpers/ssltestlib.c:741
        # [0] compared to [1]
        # ERROR: (bool) 'create_ssl_ctx_pair(NULL, TLS_server_method(), TLS_client_method(), TLS1_VERSION, 0, &amp;sctx, &amp;cctx, ciphers[idx].certnum == 0 ? cert1 : cert2, ciphers[idx].certnum == 0 ? privkey1 : privkey2) == true' failed @ ../openssl/test/gosttest.c:57
        # false
        # 80C12C3A357F0000:error:03000072:digital envelope routines:X509_PUBKEY_get0:decode error:../openssl/crypto/x509/x_pubkey.c:441:
        # 80C12C3A357F0000:error:0A00018F:SSL routines:SSL_CTX_use_certificate:ee key too small:../openssl/ssl/ssl_rsa.c:221:
        # OPENSSL_TEST_RAND_ORDER=1623708433
        not ok 7 - iteration 7
# ------------------------------------------------------------------------------
        # ERROR: (int) 'SSL_CTX_use_certificate_file(serverctx, certfile, SSL_FILETYPE_PEM) == 1' failed @ ../openssl/test/helpers/ssltestlib.c:741
        # [0] compared to [1]
        # ERROR: (bool) 'create_ssl_ctx_pair(NULL, TLS_server_method(), TLS_client_method(), TLS1_VERSION, 0, &amp;sctx, &amp;cctx, ciphers[idx].certnum == 0 ? cert1 : cert2, ciphers[idx].certnum == 0 ? privkey1 : privkey2) == true' failed @ ../openssl/test/gosttest.c:57
        # false
        # 80C12C3A357F0000:error:03000072:digital envelope routines:X509_PUBKEY_get0:decode error:../openssl/crypto/x509/x_pubkey.c:441:
        # 80C12C3A357F0000:error:0A00018F:SSL routines:SSL_CTX_use_certificate:ee key too small:../openssl/ssl/ssl_rsa.c:221:
        # OPENSSL_TEST_RAND_ORDER=1623708433
        not ok 8 - iteration 8
# ------------------------------------------------------------------------------
    # OPENSSL_TEST_RAND_ORDER=1623708433
    not ok 1 - test_tls13
# ------------------------------------------------------------------------------90-test_gmdiff.t ................... ok

../../util/wrap.pl ../../test/gosttest ../../../openssl/test/recipes/90-test_gost_data/server-cert2001.pem ../../../openssl/test/recipes/90-test_gost_data/server-key2001.pem ../../../openssl/test/recipes/90-test_gost_data/server-cert2012.pem ../../../openssl/test/recipes/90-test_gost_data/server-key2012.pem =&gt; 1
not ok 1 - running gosttest
# ------------------------------------------------------------------------------
#   Failed test 'running gosttest'
#   at ../openssl/test/recipes/90-test_gost.t line 39.
# Looks like you failed 1 test of 1.90-test_gost.t ..................... 
Dubious, test returned 1 (wstat 256, 0x100)
Failed 1/1 subtests 
90-test_ige.t ...................... ok
90-test_includes.t ................. ok
90-test_memleak.t .................. ok
90-test_overhead.t ................. ok
90-test_secmem.t ................... ok
90-test_srp.t ...................... ok
90-test_shlibload.t ................ ok
90-test_sslbuffers.t ............... ok

# 
Killing mock server with pid=59174180-test_cmp_http.t ................. ok
80-test_ssl_old.t .................. ok
90-test_sysdefault.t ............... ok
90-test_threads.t .................. ok
90-test_time_offset.t .............. ok
90-test_tls13ccs.t ................. ok
90-test_tls13encryption.t .......... ok
90-test_tls13secrets.t ............. ok
90-test_v3name.t ................... ok
95-test_external_gost_engine.t ..... skipped: No external tests in this configuration
91-test_pkey_check.t ............... ok
95-test_external_krb5.t ............ skipped: No external tests in this configuration
95-test_external_pyca.t ............ skipped: No external tests in this configuration
99-test_ecstress.t ................. ok
90-test_store.t .................... ok
90-test_sslapi.t ................... ok

Test Summary Report
-------------------
90-test_gost.t                   (Wstat: 256 Tests: 1 Failed: 1)
  Failed test:  1
  Non-zero exit status: 1
Files=236, Tests=3237, 147 wallclock secs (11.94 usr  1.22 sys + 450.17 cusr 53.84 csys = 517.17 CPU)
Result: FAIL
make[1]: *** [Makefile:3226: run_tests] Error 1
make[1]: Leaving directory '/home/openssl/run-checker/default'
make: *** [Makefile:3222: tests] Error 2
</PRE>

























































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034703.html">Still FAILED build of OpenSSL branch master with options --strict-warnings
</A></li>
	<LI>Next message: <A HREF="034722.html">Still FAILED build of OpenSSL branch master with options --strict-warnings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34710">[ date ]</a>
              <a href="thread.html#34710">[ thread ]</a>
              <a href="subject.html#34710">[ subject ]</a>
              <a href="author.html#34710">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
