<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 96e678: Allow to pass a passprase callback at store open
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2023-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%2096e678%3A%20Allow%20to%20pass%20a%20passprase%20callback%20at%20store%0A%20open&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/19937d-e40d53%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039897.html">
   <LINK REL="Next"  HREF="039899.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 96e678: Allow to pass a passprase callback at store open</H1>
    <B>Simo Sorce</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%2096e678%3A%20Allow%20to%20pass%20a%20passprase%20callback%20at%20store%0A%20open&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/19937d-e40d53%40github.com%3E"
       TITLE="[openssl/openssl] 96e678: Allow to pass a passprase callback at store open">noreply at github.com
       </A><BR>
    <I>Tue Sep 19 10:27:45 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="039897.html">[openssl/openssl] 19937d: Postponed further context duplication support for ...
</A></li>
        <LI>Next message (by thread): <A HREF="039899.html">[openssl/openssl] fd8057: Copyright year updates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39898">[ date ]</a>
              <a href="thread.html#39898">[ thread ]</a>
              <a href="subject.html#39898">[ subject ]</a>
              <a href="author.html#39898">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/master
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 96e678087de25c4bb19ef01492bd04002c3fe315
      <A HREF="https://github.com/openssl/openssl/commit/96e678087de25c4bb19ef01492bd04002c3fe315">https://github.com/openssl/openssl/commit/96e678087de25c4bb19ef01492bd04002c3fe315</A>
  Author: Simo Sorce &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">simo at redhat.com</A>&gt;
  Date:   2023-09-19 (Tue, 19 Sep 2023)

  Changed paths:
    M crypto/store/store_lib.c
    M crypto/store/store_local.h
    M crypto/store/store_meth.c
    M include/openssl/core_dispatch.h

  Log Message:
  -----------
  Allow to pass a passprase callback at store open

Some PKCS11 modules require authentication early on to be able to
preload objects, which we want to do to avoid costly roundtrips when the
HSM is actually reached over a network (Cloud HSM).

Unfortunately at open time we can't interact with the user becaue the
callbacks are only passed at object load time. later on.

This patch corrects this issue by providing a more feature rich open
call for providers.

Signed-off-by: Simo Sorce &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">simo at redhat.com</A>&gt;

Reviewed-by: Dmitry Belyavskiy &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">beldmit at gmail.com</A>&gt;
Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/20131">https://github.com/openssl/openssl/pull/20131</A>)


  Commit: 64129008fb822758778f7dd29cec6a0a4582e4d2
      <A HREF="https://github.com/openssl/openssl/commit/64129008fb822758778f7dd29cec6a0a4582e4d2">https://github.com/openssl/openssl/commit/64129008fb822758778f7dd29cec6a0a4582e4d2</A>
  Author: Simo Sorce &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">simo at redhat.com</A>&gt;
  Date:   2023-09-19 (Tue, 19 Sep 2023)

  Changed paths:
    M test/fake_rsaprov.c
    M test/fake_rsaprov.h
    M test/provider_pkey_test.c

  Log Message:
  -----------
  Add Test to verify open_ex password checking works

Signed-off-by: Simo Sorce &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">simo at redhat.com</A>&gt;

Reviewed-by: Dmitry Belyavskiy &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">beldmit at gmail.com</A>&gt;
Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/20131">https://github.com/openssl/openssl/pull/20131</A>)


  Commit: e40d538ad72c8e496b1dfe7d93c6002ce48351f5
      <A HREF="https://github.com/openssl/openssl/commit/e40d538ad72c8e496b1dfe7d93c6002ce48351f5">https://github.com/openssl/openssl/commit/e40d538ad72c8e496b1dfe7d93c6002ce48351f5</A>
  Author: Simo Sorce &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">simo at redhat.com</A>&gt;
  Date:   2023-09-19 (Tue, 19 Sep 2023)

  Changed paths:
    M doc/man7/provider-storemgmt.pod

  Log Message:
  -----------
  Add provider documentation for the new open_ex

Signed-off-by: Simo Sorce &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">simo at redhat.com</A>&gt;

Reviewed-by: Dmitry Belyavskiy &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">beldmit at gmail.com</A>&gt;
Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/20131">https://github.com/openssl/openssl/pull/20131</A>)


Compare: <A HREF="https://github.com/openssl/openssl/compare/19937db0f276...e40d538ad72c">https://github.com/openssl/openssl/compare/19937db0f276...e40d538ad72c</A>
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="039897.html">[openssl/openssl] 19937d: Postponed further context duplication support for ...
</A></li>
	<LI>Next message (by thread): <A HREF="039899.html">[openssl/openssl] fd8057: Copyright year updates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39898">[ date ]</a>
              <a href="thread.html#39898">[ thread ]</a>
              <a href="subject.html#39898">[ subject ]</a>
              <a href="author.html#39898">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
