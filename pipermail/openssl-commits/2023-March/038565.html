<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 79abf0: Remove spurious error queue entries on early data
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2023-March/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%2079abf0%3A%20Remove%20spurious%20error%20queue%20entries%20on%0A%20early%20data&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/b1cd26-108369%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038564.html">
   <LINK REL="Next"  HREF="038567.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 79abf0: Remove spurious error queue entries on early data</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%2079abf0%3A%20Remove%20spurious%20error%20queue%20entries%20on%0A%20early%20data&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/b1cd26-108369%40github.com%3E"
       TITLE="[openssl/openssl] 79abf0: Remove spurious error queue entries on early data">noreply at github.com
       </A><BR>
    <I>Sun Mar  5 21:37:30 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="038564.html">[openssl/openssl] eca579: Fix cast.
</A></li>
        <LI>Next message (by thread): <A HREF="038567.html">[openssl/openssl] aa7f2e: Improve the performance of EVP_PKCS82PKEY_ex
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38565">[ date ]</a>
              <a href="thread.html#38565">[ thread ]</a>
              <a href="subject.html#38565">[ subject ]</a>
              <a href="author.html#38565">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/master
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 79abf0dff90d54840b8afa6270ea816ee2edd345
      <A HREF="https://github.com/openssl/openssl/commit/79abf0dff90d54840b8afa6270ea816ee2edd345">https://github.com/openssl/openssl/commit/79abf0dff90d54840b8afa6270ea816ee2edd345</A>
  Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
  Date:   2023-03-06 (Mon, 06 Mar 2023)

  Changed paths:
    M ssl/record/methods/tls_common.c

  Log Message:
  -----------
  Remove spurious error queue entries on early data

Early data decryption is expected to fail sometimes. If it does we should
not leave spurious error entries on the queue.

Fixes #20377

Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/20401">https://github.com/openssl/openssl/pull/20401</A>)


  Commit: 10836921e52ff9110c12b4b9f984e7c5ef1c89cc
      <A HREF="https://github.com/openssl/openssl/commit/10836921e52ff9110c12b4b9f984e7c5ef1c89cc">https://github.com/openssl/openssl/commit/10836921e52ff9110c12b4b9f984e7c5ef1c89cc</A>
  Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
  Date:   2023-03-06 (Mon, 06 Mar 2023)

  Changed paths:
    M test/sslapitest.c

  Log Message:
  -----------
  Test that there are no errors on the stack for rejected early data

If we reject early data then it is normal for decryption operations to
fail. We should ensure there are no spurious errors on the stack in that
case. This adds a test for that scenario.

Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/20401">https://github.com/openssl/openssl/pull/20401</A>)


Compare: <A HREF="https://github.com/openssl/openssl/compare/b1cd268c0342...10836921e52f">https://github.com/openssl/openssl/compare/b1cd268c0342...10836921e52f</A>
</PRE>
































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="038564.html">[openssl/openssl] eca579: Fix cast.
</A></li>
	<LI>Next message (by thread): <A HREF="038567.html">[openssl/openssl] aa7f2e: Improve the performance of EVP_PKCS82PKEY_ex
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38565">[ date ]</a>
              <a href="thread.html#38565">[ thread ]</a>
              <a href="subject.html#38565">[ subject ]</a>
              <a href="author.html#38565">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
