<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2019-October/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1572528474.560833.28269.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025888.html">
   <LINK REL="Next"  HREF="025392.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl]  master update</H1>
    <B>tmraz at fedoraproject.org</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1572528474.560833.28269.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl]  master update">tmraz at fedoraproject.org
       </A><BR>
    <I>Thu Oct 31 13:27:54 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="025888.html">[openssl]  master update
</A></li>
        <LI>Next message: <A HREF="025392.html">Still Failing: openssl/openssl#28798 (master - e876971)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25889">[ date ]</a>
              <a href="thread.html#25889">[ thread ]</a>
              <a href="subject.html#25889">[ subject ]</a>
              <a href="author.html#25889">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  6e4618a0d7e84e70703d546a194df887fd624727 (commit)
      from  9fcb9702fba8aa135945f96aefddf050a6f4f11d (commit)


- Log -----------------------------------------------------------------
commit 6e4618a0d7e84e70703d546a194df887fd624727
Author: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at akamai.com</A>&gt;
Date:   Fri Oct 4 17:09:19 2019 -0400

    Fix L&lt;&gt; entries without sections
    
    Add sections (almost always &quot;(3)&quot; to L&lt;&gt; references that were missing
    them. Among other things, this
    Fixes: #10226
    
    Also remove two references to non-existant manpages that have never
    existed, and with the 3.0 structure, are unlikely to do so.
    
    Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tmraz at fedoraproject.org</A>&gt;
    Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/10240">https://github.com/openssl/openssl/pull/10240</A>)

-----------------------------------------------------------------------

Summary of changes:
 doc/internal/man3/evp_generic_fetch.pod    |  2 +-
 doc/internal/man3/ossl_param_bld_init.pod  |  2 +-
 doc/man1/openssl-ciphers.pod               |  2 +-
 doc/man1/openssl-pkcs8.pod.in              |  1 -
 doc/man1/tsget.pod                         |  6 +++---
 doc/man3/BIO_get_data.pod                  |  2 +-
 doc/man3/BIO_meth_new.pod                  |  8 ++++----
 doc/man3/BIO_push.pod                      |  2 +-
 doc/man3/BIO_should_retry.pod              |  2 +-
 doc/man3/CMS_get0_type.pod                 |  3 ++-
 doc/man3/CTLOG_STORE_new.pod               |  2 +-
 doc/man3/DSA_meth_new.pod                  |  3 +--
 doc/man3/DSA_set_method.pod                |  2 +-
 doc/man3/EVP_CIPHER_meth_new.pod           |  2 +-
 doc/man3/EVP_EncryptInit.pod               |  2 +-
 doc/man3/EVP_PKEY_new.pod                  |  8 ++++----
 doc/man3/EVP_set_default_properties.pod    |  2 +-
 doc/man3/OSSL_CMP_CTX_new.pod              |  3 ++-
 doc/man3/OSSL_STORE_expect.pod             |  2 +-
 doc/man3/RSA_meth_new.pod                  |  3 +--
 doc/man3/SCT_print.pod                     |  2 +-
 doc/man3/SSL_CTX_set_client_hello_cb.pod   |  2 +-
 doc/man3/SSL_CTX_set_ctlog_list_file.pod   |  2 +-
 doc/man3/SSL_CTX_set_session_ticket_cb.pod |  4 ++--
 doc/man3/SSL_alloc_buffers.pod             |  2 +-
 doc/man3/SSL_read_early_data.pod           |  2 +-
 doc/man3/o2i_SCT_LIST.pod                  |  4 ++--
 doc/man5/x509v3_config.pod                 |  2 +-
 doc/man7/EVP_KDF-KRB5KDF.pod               |  4 ++--
 doc/man7/EVP_KDF-SSHKDF.pod                |  2 +-
 util/find-doc-nits                         | 18 ++++++++++++++++++
 31 files changed, 60 insertions(+), 43 deletions(-)

diff --git a/doc/internal/man3/evp_generic_fetch.pod b/doc/internal/man3/evp_generic_fetch.pod
index c4734394bb..4cff97def8 100644
--- a/doc/internal/man3/evp_generic_fetch.pod
+++ b/doc/internal/man3/evp_generic_fetch.pod
@@ -252,7 +252,7 @@ And finally, the library functions:
 
 =head1 SEE ALSO
 
-L&lt;ossl_method_construct&gt;
+L&lt;ossl_method_construct(3)&gt;
 
 =head1 HISTORY
 
diff --git a/doc/internal/man3/ossl_param_bld_init.pod b/doc/internal/man3/ossl_param_bld_init.pod
index 062e2c293c..2fb7c4f359 100644
--- a/doc/internal/man3/ossl_param_bld_init.pod
+++ b/doc/internal/man3/ossl_param_bld_init.pod
@@ -178,7 +178,7 @@ public key.
 
 =head1 SEE ALSO
 
-L&lt;OSSL_PARAM_int&gt;, L&lt;OSSL_PARAM&gt;
+L&lt;OSSL_PARAM_int(3)&gt;, L&lt;OSSL_PARAM(3)&gt;
 
 =head1 HISTORY
 
diff --git a/doc/man1/openssl-ciphers.pod b/doc/man1/openssl-ciphers.pod
index ed8e1a95a5..8ba80ba15d 100644
--- a/doc/man1/openssl-ciphers.pod
+++ b/doc/man1/openssl-ciphers.pod
@@ -149,7 +149,7 @@ cipher list in order of encryption algorithm key length.
 
 The cipher string B&lt;@SECLEVEL&gt;=I&lt;n&gt; can be used at any point to set the security
 level to I&lt;n&gt;, which should be a number between zero and five, inclusive.
-See L&lt;SSL_CTX_set_security_level&gt; for a description of what each level means.
+See L&lt;SSL_CTX_set_security_level(3)&gt; for a description of what each level means.
 
 The cipher list can be prefixed with the B&lt;DEFAULT&gt; keyword, which enables
 the default cipher list as defined below.  Unlike cipher strings,
diff --git a/doc/man1/openssl-pkcs8.pod.in b/doc/man1/openssl-pkcs8.pod.in
index c9d8b9c5a8..72717f2147 100644
--- a/doc/man1/openssl-pkcs8.pod.in
+++ b/doc/man1/openssl-pkcs8.pod.in
@@ -77,7 +77,6 @@ file in a format specified by B&lt;-inform&gt;. The output file will be encrypted
 PKCS#8 format using the specified encryption parameters unless B&lt;-nocrypt&gt;
 is included.
 
-
 =item B&lt;-traditional&gt;
 
 When this option is present and B&lt;-topk8&gt; is not a traditional format private
diff --git a/doc/man1/tsget.pod b/doc/man1/tsget.pod
index 6e013b9e68..0287bc94be 100644
--- a/doc/man1/tsget.pod
+++ b/doc/man1/tsget.pod
@@ -24,7 +24,7 @@ B&lt;-h&gt; I&lt;server_url&gt;
 =head1 DESCRIPTION
 
 This command can be used for sending a timestamp request, as specified
-in B&lt;RFC 3161&gt;, to a timestamp server over HTTP or HTTPS and storing the
+in RFC 3161, to a timestamp server over HTTP or HTTPS and storing the
 timestamp response in a file. It cannot be used for creating the requests
 and verifying responses, you have to use L&lt;openssl-ts(1)&gt; to do that. This
 command can send several requests to the server without closing the TCP
@@ -121,7 +121,7 @@ The name of an EGD socket to get random data from. (Optional)
 
 =item I&lt;request&gt; ...
 
-List of files containing B&lt;RFC 3161&gt; DER-encoded timestamp requests. If no
+List of files containing RFC 3161 DER-encoded timestamp requests. If no
 requests are specified only one request will be sent to the server and it will
 be read from the standard input.
 (Optional)
@@ -188,7 +188,7 @@ example:
 L&lt;openssl(1)&gt;,
 L&lt;openssl-ts(1)&gt;,
 L&lt;WWW::Curl::Easy&gt;,
-L&lt;RFC 3161|<A HREF="https://www.rfc-editor.org/rfc/rfc3161.html">https://www.rfc-editor.org/rfc/rfc3161.html</A>&gt;
+L&lt;<A HREF="https://www.rfc-editor.org/rfc/rfc3161.html">https://www.rfc-editor.org/rfc/rfc3161.html</A>&gt;
 
 =head1 COPYRIGHT
 
diff --git a/doc/man3/BIO_get_data.pod b/doc/man3/BIO_get_data.pod
index 31c4635748..aeb6b1c7e9 100644
--- a/doc/man3/BIO_get_data.pod
+++ b/doc/man3/BIO_get_data.pod
@@ -47,7 +47,7 @@ BIO_get_shutdown() returns the stat of the BIO's shutdown (i.e. BIO_CLOSE) flag.
 
 =head1 SEE ALSO
 
-L&lt;bio&gt;, L&lt;BIO_meth_new&gt;
+L&lt;bio(7)&gt;, L&lt;BIO_meth_new(3)&gt;
 
 =head1 HISTORY
 
diff --git a/doc/man3/BIO_meth_new.pod b/doc/man3/BIO_meth_new.pod
index 9045d16777..b2e2c24692 100644
--- a/doc/man3/BIO_meth_new.pod
+++ b/doc/man3/BIO_meth_new.pod
@@ -60,7 +60,7 @@ BIO_meth_set_callback_ctrl - Routines to build up BIO methods
 
 The B&lt;BIO_METHOD&gt; type is a structure used for the implementation of new BIO
 types. It provides a set of functions used by OpenSSL for the implementation
-of the various BIO capabilities. See the L&lt;bio&gt; page for more information.
+of the various BIO capabilities. See the L&lt;bio(7)&gt; page for more information.
 
 BIO_meth_new() creates a new B&lt;BIO_METHOD&gt; structure. It should be given a
 unique integer B&lt;type&gt; and a string that represents its B&lt;name&gt;.
@@ -72,7 +72,7 @@ include B&lt;BIO_TYPE_BUFFER&gt; and B&lt;BIO_TYPE_CIPHER&gt;. Filter BIOs should have a
 type which have the &quot;filter&quot; bit set (B&lt;BIO_TYPE_FILTER&gt;). Source/sink BIOs
 should have the &quot;source/sink&quot; bit set (B&lt;BIO_TYPE_SOURCE_SINK&gt;). File descriptor
 based BIOs (e.g. socket, fd, connect, accept etc) should additionally have the
-&quot;descriptor&quot; bit set (B&lt;BIO_TYPE_DESCRIPTOR&gt;). See the L&lt;BIO_find_type&gt; page for
+&quot;descriptor&quot; bit set (B&lt;BIO_TYPE_DESCRIPTOR&gt;). See the L&lt;BIO_find_type(3)&gt; page for
 more information.
 
 BIO_meth_free() destroys a B&lt;BIO_METHOD&gt; structure and frees up any memory
@@ -108,7 +108,7 @@ application calling BIO_gets(). The parameters for the function have the same
 meaning as for BIO_gets().
 
 BIO_meth_get_ctrl() and BIO_meth_set_ctrl() get and set the function used for
-processing ctrl messages in the BIO respectively. See the L&lt;BIO_ctrl&gt; page for
+processing ctrl messages in the BIO respectively. See the L&lt;BIO_ctrl(3)&gt; page for
 more information. This function will be called in response to the application
 calling BIO_ctrl(). The parameters for the function have the same meaning as for
 BIO_ctrl().
@@ -146,7 +146,7 @@ The B&lt;BIO_meth_get&gt; functions return the corresponding function pointers.
 
 =head1 SEE ALSO
 
-L&lt;bio&gt;, L&lt;BIO_find_type&gt;, L&lt;BIO_ctrl&gt;, L&lt;BIO_read_ex&gt;, L&lt;BIO_new&gt;
+L&lt;bio(7)&gt;, L&lt;BIO_find_type(3)&gt;, L&lt;BIO_ctrl(3)&gt;, L&lt;BIO_read_ex(3)&gt;, L&lt;BIO_new(3)&gt;
 
 =head1 HISTORY
 
diff --git a/doc/man3/BIO_push.pod b/doc/man3/BIO_push.pod
index c5919f3cfd..236ac480e0 100644
--- a/doc/man3/BIO_push.pod
+++ b/doc/man3/BIO_push.pod
@@ -71,7 +71,7 @@ be written to B&lt;md1&gt; as before.
 
 =head1 SEE ALSO
 
-L&lt;bio&gt;
+L&lt;bio(7)&gt;
 
 =head1 HISTORY
 
diff --git a/doc/man3/BIO_should_retry.pod b/doc/man3/BIO_should_retry.pod
index 686eef1f04..25d3f2e230 100644
--- a/doc/man3/BIO_should_retry.pod
+++ b/doc/man3/BIO_should_retry.pod
@@ -128,7 +128,7 @@ BIO_get_retry_reason() returns the reason for a special condition.
 
 =head1 SEE ALSO
 
-L&lt;bio&gt;
+L&lt;bio(7)&gt;
 
 =head1 HISTORY
 
diff --git a/doc/man3/CMS_get0_type.pod b/doc/man3/CMS_get0_type.pod
index 986154fc71..12c2e650a8 100644
--- a/doc/man3/CMS_get0_type.pod
+++ b/doc/man3/CMS_get0_type.pod
@@ -20,7 +20,8 @@ an ASN1_OBJECT pointer. An application can then decide how to process the
 CMS_ContentInfo structure based on this value.
 
 CMS_set1_eContentType() sets the embedded content type of a CMS_ContentInfo
-structure. It should be called with CMS functions (such as L&lt;CMS_sign&gt;, L&lt;CMS_encrypt&gt;)
+structure. It should be called with CMS functions (such as L&lt;CMS_sign(3)&gt;,
+L&lt;CMS_encrypt(3)&gt;)
 with the B&lt;CMS_PARTIAL&gt;
 flag and B&lt;before&gt; the structure is finalised, otherwise the results are
 undefined.
diff --git a/doc/man3/CTLOG_STORE_new.pod b/doc/man3/CTLOG_STORE_new.pod
index 24919c539b..5b5d8a1ba6 100644
--- a/doc/man3/CTLOG_STORE_new.pod
+++ b/doc/man3/CTLOG_STORE_new.pod
@@ -25,7 +25,7 @@ logs). The list can be loaded from one or more files and then searched by LogID
 CTLOG_STORE_new() creates an empty list of CT logs. This is then populated
 by CTLOG_STORE_load_default_file() or CTLOG_STORE_load_file().
 CTLOG_STORE_load_default_file() loads from the default file, which is named
-&quot;ct_log_list.cnf&quot; in OPENSSLDIR (see the output of L&lt;version&gt;). This can be
+&quot;ct_log_list.cnf&quot; in OPENSSLDIR (see the output of L&lt;openssl-version(1)&gt;). This can be
 overridden using an environment variable named &quot;CTLOG_FILE&quot;.
 CTLOG_STORE_load_file() loads from a caller-specified file path instead.
 Both of these functions append any loaded CT logs to the CTLOG_STORE.
diff --git a/doc/man3/DSA_meth_new.pod b/doc/man3/DSA_meth_new.pod
index bdf3f293d4..c5e6ccd052 100644
--- a/doc/man3/DSA_meth_new.pod
+++ b/doc/man3/DSA_meth_new.pod
@@ -88,8 +88,7 @@ DSA_meth_set_keygen - Routines to build up DSA methods
 
 The B&lt;DSA_METHOD&gt; type is a structure used for the provision of custom DSA
 implementations. It provides a set of functions used by OpenSSL for the
-implementation of the various DSA capabilities. See the L&lt;dsa&gt; page for more
-information.
+implementation of the various DSA capabilities.
 
 DSA_meth_new() creates a new B&lt;DSA_METHOD&gt; structure. It should be given a
 unique B&lt;name&gt; and a set of B&lt;flags&gt;. The B&lt;name&gt; should be a NULL terminated
diff --git a/doc/man3/DSA_set_method.pod b/doc/man3/DSA_set_method.pod
index f5c64ef393..0895e7ad0b 100644
--- a/doc/man3/DSA_set_method.pod
+++ b/doc/man3/DSA_set_method.pod
@@ -49,7 +49,7 @@ be released during the change. It is possible to have DSA keys that only
 work with certain DSA_METHOD implementations (eg. from an ENGINE module
 that supports embedded hardware-protected keys), and in such cases
 attempting to change the DSA_METHOD for the key can have unexpected
-results. See L&lt;DSA_meth_new&gt; for information on constructing custom DSA_METHOD
+results. See L&lt;DSA_meth_new(3)&gt; for information on constructing custom DSA_METHOD
 objects;
 
 DSA_new_method() allocates and initializes a DSA structure so that B&lt;engine&gt;
diff --git a/doc/man3/EVP_CIPHER_meth_new.pod b/doc/man3/EVP_CIPHER_meth_new.pod
index 8a6a4b99de..272e80115c 100644
--- a/doc/man3/EVP_CIPHER_meth_new.pod
+++ b/doc/man3/EVP_CIPHER_meth_new.pod
@@ -234,7 +234,7 @@ respective B&lt;cipher&gt; function.
 
 =head1 SEE ALSO
 
-L&lt;EVP_EncryptInit&gt;
+L&lt;EVP_EncryptInit(3)&gt;
 
 =head1 HISTORY
 
diff --git a/doc/man3/EVP_EncryptInit.pod b/doc/man3/EVP_EncryptInit.pod
index 31e2fdeaf0..46e6a42a28 100644
--- a/doc/man3/EVP_EncryptInit.pod
+++ b/doc/man3/EVP_EncryptInit.pod
@@ -456,7 +456,7 @@ EVP_CIPHER_CTX_rand_key() returns 1 for success.
 
 All algorithms have a fixed key length unless otherwise stated.
 
-Refer to L&lt;SEE ALSO&gt; for the full list of ciphers available through the EVP
+Refer to L&lt;/SEE ALSO&gt; for the full list of ciphers available through the EVP
 interface.
 
 =over 4
diff --git a/doc/man3/EVP_PKEY_new.pod b/doc/man3/EVP_PKEY_new.pod
index 8b3b012b1c..3a2034d3dc 100644
--- a/doc/man3/EVP_PKEY_new.pod
+++ b/doc/man3/EVP_PKEY_new.pod
@@ -95,8 +95,8 @@ general private key without reference to any particular algorithm.
 
 The structure returned by EVP_PKEY_new() is empty. To add a private or public
 key to this empty structure use the appropriate functions described in
-L&lt;EVP_PKEY_set1_RSA(3)&gt;, L&lt;EVP_PKEY_set1_DSA&gt;, L&lt;EVP_PKEY_set1_DH&gt; or
-L&lt;EVP_PKEY_set1_EC_KEY&gt;.
+L&lt;EVP_PKEY_set1_RSA(3)&gt;, L&lt;EVP_PKEY_set1_DSA(3)&gt;, L&lt;EVP_PKEY_set1_DH(3)&gt; or
+L&lt;EVP_PKEY_set1_EC_KEY(3)&gt;.
 
 =head1 RETURN VALUES
 
@@ -109,8 +109,8 @@ EVP_PKEY_get_raw_public_key() return 1 for success and 0 for failure.
 
 =head1 SEE ALSO
 
-L&lt;EVP_PKEY_set1_RSA(3)&gt;, L&lt;EVP_PKEY_set1_DSA&gt;, L&lt;EVP_PKEY_set1_DH&gt; or
-L&lt;EVP_PKEY_set1_EC_KEY&gt;
+L&lt;EVP_PKEY_set1_RSA(3)&gt;, L&lt;EVP_PKEY_set1_DSA(3)&gt;, L&lt;EVP_PKEY_set1_DH(3)&gt; or
+L&lt;EVP_PKEY_set1_EC_KEY(3)&gt;
 
 =head1 HISTORY
 
diff --git a/doc/man3/EVP_set_default_properties.pod b/doc/man3/EVP_set_default_properties.pod
index 077913c281..6231fde627 100644
--- a/doc/man3/EVP_set_default_properties.pod
+++ b/doc/man3/EVP_set_default_properties.pod
@@ -34,7 +34,7 @@ The latter adds an error on the error stack.
 
 =head1 SEE ALSO
 
-L&lt;EVP_MD_fetch&gt;
+L&lt;EVP_MD_fetch(3)&gt;
 
 =head1 HISTORY
 
diff --git a/doc/man3/OSSL_CMP_CTX_new.pod b/doc/man3/OSSL_CMP_CTX_new.pod
index b4bfc546a4..96d6841fb2 100644
--- a/doc/man3/OSSL_CMP_CTX_new.pod
+++ b/doc/man3/OSSL_CMP_CTX_new.pod
@@ -532,7 +532,8 @@ CertRepMessage or Revocation Response or error message, or NULL if unset.
 
 OSSL_CMP_CTX_get_failInfoCode() returns the error code from the failInfo field
 of the last received CertRepMessage or Revocation Response or error message.
-This is a bit field and the flags for it are specified in L&lt;cmp.h&gt;.
+This is a bit field and the flags for it are specified in the header file
+F&lt;&lt; &lt;openssl/cmp.h&gt; &gt;&gt;.
 The flags start with OSSL_CMP_CTX_FAILINFO, for example:
 OSSL_CMP_CTX_FAILINFO_badAlg. Returns -1 if the failInfoCode field is unset.
 
diff --git a/doc/man3/OSSL_STORE_expect.pod b/doc/man3/OSSL_STORE_expect.pod
index 1a270c8490..ac414e9701 100644
--- a/doc/man3/OSSL_STORE_expect.pod
+++ b/doc/man3/OSSL_STORE_expect.pod
@@ -32,7 +32,7 @@ grained search of objects.
 
 OSSL_STORE_supports_search() checks if the loader of the given OSSL_STORE
 context supports the given search type.
-See L&lt;OSSL_STORE_SEARCH/SUPPORTED CRITERION TYPES&gt; for information on the
+See L&lt;OSSL_STORE_SEARCH(3)/SUPPORTED CRITERION TYPES&gt; for information on the
 supported search criterion types.
 
 OSSL_STORE_expect() and OSSL_STORE_find I&lt;must&gt; be called before the first
diff --git a/doc/man3/RSA_meth_new.pod b/doc/man3/RSA_meth_new.pod
index 10eb3e754d..100c64cbce 100644
--- a/doc/man3/RSA_meth_new.pod
+++ b/doc/man3/RSA_meth_new.pod
@@ -125,8 +125,7 @@ RSA_meth_get_multi_prime_keygen, RSA_meth_set_multi_prime_keygen
 
 The B&lt;RSA_METHOD&gt; type is a structure used for the provision of custom
 RSA implementations. It provides a set of functions used by OpenSSL
-for the implementation of the various RSA capabilities. See the L&lt;rsa&gt;
-page for more information.
+for the implementation of the various RSA capabilities.
 
 RSA_meth_new() creates a new B&lt;RSA_METHOD&gt; structure. It should be
 given a unique B&lt;name&gt; and a set of B&lt;flags&gt;. The B&lt;name&gt; should be a
diff --git a/doc/man3/SCT_print.pod b/doc/man3/SCT_print.pod
index ead151b99a..c7ace453af 100644
--- a/doc/man3/SCT_print.pod
+++ b/doc/man3/SCT_print.pod
@@ -16,7 +16,7 @@ Prints Signed Certificate Timestamps in a human-readable way
 
 =head1 DESCRIPTION
 
-SCT_print() prints a single Signed Certificate Timestamp (SCT) to a L&lt;bio&gt; in
+SCT_print() prints a single Signed Certificate Timestamp (SCT) to a B&lt;BIO&gt; in
 a human-readable format. SCT_LIST_print() prints an entire list of SCTs in a
 similar way. A separator can be specified to delimit each SCT in the output.
 
diff --git a/doc/man3/SSL_CTX_set_client_hello_cb.pod b/doc/man3/SSL_CTX_set_client_hello_cb.pod
index 002e90f827..f70b147fc5 100644
--- a/doc/man3/SSL_CTX_set_client_hello_cb.pod
+++ b/doc/man3/SSL_CTX_set_client_hello_cb.pod
@@ -110,7 +110,7 @@ SSL_client_hello_get1_extensions_present() returns 1 on success and 0 on failure
 =head1 SEE ALSO
 
 L&lt;ssl(7)&gt;, L&lt;SSL_CTX_set_tlsext_servername_callback(3)&gt;,
-L&lt;SSL_bytes_to_cipher_list&gt;
+L&lt;SSL_bytes_to_cipher_list(3)&gt;
 
 =head1 HISTORY
 
diff --git a/doc/man3/SSL_CTX_set_ctlog_list_file.pod b/doc/man3/SSL_CTX_set_ctlog_list_file.pod
index d99659ba9e..31f82dc51c 100644
--- a/doc/man3/SSL_CTX_set_ctlog_list_file.pod
+++ b/doc/man3/SSL_CTX_set_ctlog_list_file.pod
@@ -24,7 +24,7 @@ See L&lt;CTLOG_STORE_new(3)&gt; for the file format.
 =head1 NOTES
 
 These functions will not clear the existing CT log list - it will be appended
-to. To replace the existing list, use L&lt;SSL_CTX_set0_ctlog_store&gt; first.
+to. To replace the existing list, use L&lt;SSL_CTX_set0_ctlog_store(3)&gt; first.
 
 If an error occurs whilst parsing a particular log entry in the file, that log
 entry will be skipped.
diff --git a/doc/man3/SSL_CTX_set_session_ticket_cb.pod b/doc/man3/SSL_CTX_set_session_ticket_cb.pod
index 409dfc6ed8..8cdb88cc55 100644
--- a/doc/man3/SSL_CTX_set_session_ticket_cb.pod
+++ b/doc/man3/SSL_CTX_set_session_ticket_cb.pod
@@ -43,7 +43,7 @@ decryption has been attempted and any session ticket application data is
 available. If ticket decryption was successful then the B&lt;ss&gt; argument contains
 the session data. The B&lt;keyname&gt; and B&lt;keyname_len&gt; arguments identify the key
 used to decrypt the session ticket. The B&lt;status&gt; argument is the result of the
-ticket decryption. See the L&lt;NOTES&gt; section below for further details. The value
+ticket decryption. See the L&lt;/NOTES&gt; section below for further details. The value
 of B&lt;arg&gt; is the same as that given to SSL_CTX_set_session_ticket_cb(). The
 B&lt;dec_cb&gt; callback is defined as type B&lt;SSL_CTX_decrypt_session_ticket_fn&gt;.
 
@@ -168,7 +168,7 @@ failure.
 The B&lt;gen_cb&gt; callback must return 1 to continue the connection. A return of 0
 will terminate the connection with an INTERNAL_ERROR alert.
 
-The B&lt;dec_cb&gt; callback must return a value as described in L&lt;NOTES&gt; above.
+The B&lt;dec_cb&gt; callback must return a value as described in L&lt;/NOTES&gt; above.
 
 =head1 SEE ALSO
 
diff --git a/doc/man3/SSL_alloc_buffers.pod b/doc/man3/SSL_alloc_buffers.pod
index 1bebeeddc9..b6ce1d9075 100644
--- a/doc/man3/SSL_alloc_buffers.pod
+++ b/doc/man3/SSL_alloc_buffers.pod
@@ -53,7 +53,7 @@ SSL_alloc_buffers().
 
 L&lt;SSL_free(3)&gt;, L&lt;SSL_clear(3)&gt;,
 L&lt;SSL_new(3)&gt;, L&lt;SSL_CTX_set_mode(3)&gt;,
-L&lt;CRYPTO_set_mem_functions&gt;
+L&lt;CRYPTO_set_mem_functions(3)&gt;
 
 =head1 COPYRIGHT
 
diff --git a/doc/man3/SSL_read_early_data.pod b/doc/man3/SSL_read_early_data.pod
index 416feebbe6..4f1593638c 100644
--- a/doc/man3/SSL_read_early_data.pod
+++ b/doc/man3/SSL_read_early_data.pod
@@ -65,7 +65,7 @@ yet completed the authentication stage of the handshake.
 
 Early data has weaker security properties than other data sent over an SSL/TLS
 connection. In particular the data does not have forward secrecy. There are also
-additional considerations around replay attacks (see L&lt;REPLAY PROTECTION&gt;
+additional considerations around replay attacks (see L&lt;/REPLAY PROTECTION&gt;
 below). For these reasons extreme care should be exercised when using early
 data. For specific details, consult the TLS 1.3 specification.
 
diff --git a/doc/man3/o2i_SCT_LIST.pod b/doc/man3/o2i_SCT_LIST.pod
index e7ecfae1dc..1c3468a132 100644
--- a/doc/man3/o2i_SCT_LIST.pod
+++ b/doc/man3/o2i_SCT_LIST.pod
@@ -19,13 +19,13 @@ decode and encode Signed Certificate Timestamp lists in TLS wire format
 
 The SCT_LIST and SCT functions are very similar to the i2d and d2i family of
 functions, except that they convert to and from TLS wire format, as described in
-RFC 6962. See L&lt;d2i_SCT_LIST&gt; for more information about how the parameters are
+RFC 6962. See L&lt;d2i_SCT_LIST(3)&gt; for more information about how the parameters are
 treated and the return values.
 
 =head1 RETURN VALUES
 
 All of the functions have return values consistent with those stated for
-L&lt;d2i_SCT_LIST&gt; and L&lt;i2d_SCT_LIST&gt;.
+L&lt;d2i_SCT_LIST(3)&gt; and L&lt;i2d_SCT_LIST(3)&gt;.
 
 =head1 SEE ALSO
 
diff --git a/doc/man5/x509v3_config.pod b/doc/man5/x509v3_config.pod
index 5a84be53c2..3d92c9f098 100644
--- a/doc/man5/x509v3_config.pod
+++ b/doc/man5/x509v3_config.pod
@@ -50,7 +50,7 @@ use is defined by the extension code itself: check out the certificate
 policies extension for an example.
 
 If an extension type is unsupported then the I&lt;arbitrary&gt; extension syntax
-must be used, see the L&lt;ARBITRARY EXTENSIONS|/&quot;ARBITRARY EXTENSIONS&quot;&gt; section for more details.
+must be used, see the L&lt;/ARBITRARY EXTENSIONS&gt; section for more details.
 
 =head1 STANDARD EXTENSIONS
 
diff --git a/doc/man7/EVP_KDF-KRB5KDF.pod b/doc/man7/EVP_KDF-KRB5KDF.pod
index 08f50d1c05..6291a11d37 100644
--- a/doc/man7/EVP_KDF-KRB5KDF.pod
+++ b/doc/man7/EVP_KDF-KRB5KDF.pod
@@ -51,7 +51,7 @@ parameter to the L&lt;EVP_KDF_derive(3)&gt; function, and MUST match the key
 length for the chosen cipher or an error is returned. Moreover the
 constant's length must not exceed the block size of the cipher.
 Since the KRB5KDF output length depends on the chosen cipher, calling
-L&lt;EVP_KDF_size()&gt; to obtain the requisite length returns the correct length
+L&lt;EVP_KDF_size(3)&gt; to obtain the requisite length returns the correct length
 only after the cipher is set. Prior to that B&lt;EVP_MAX_KEY_LENGTH&gt; is returned.
 The caller must allocate a buffer of the correct length for the chosen
 cipher, and pass that buffer to the L&lt;EVP_KDF_derive(3)&gt; function along
@@ -94,7 +94,7 @@ RFC 3961
 
 =head1 SEE ALSO
 
-L&lt;EVP_KDF&gt;,
+L&lt;EVP_KDF(3)&gt;,
 L&lt;EVP_KDF_CTX_new_id(3)&gt;,
 L&lt;EVP_KDF_CTX_free(3)&gt;,
 L&lt;EVP_KDF_ctrl(3)&gt;,
diff --git a/doc/man7/EVP_KDF-SSHKDF.pod b/doc/man7/EVP_KDF-SSHKDF.pod
index 107b289392..1f7f3a55ec 100644
--- a/doc/man7/EVP_KDF-SSHKDF.pod
+++ b/doc/man7/EVP_KDF-SSHKDF.pod
@@ -91,7 +91,7 @@ A context for SSHKDF can be obtained by calling:
 
 The output length of the SSHKDF derivation is specified via the I&lt;keylen&gt;
 parameter to the L&lt;EVP_KDF_derive(3)&gt; function.
-Since the SSHKDF output length is variable, calling L&lt;EVP_KDF-size()&gt;
+Since the SSHKDF output length is variable, calling L&lt;EVP_KDF_size(3)&gt;
 to obtain the requisite length is not meaningful. The caller must
 allocate a buffer of the desired length, and pass that buffer to the
 L&lt;EVP_KDF_derive(3)&gt; function along with the desired length.
diff --git a/util/find-doc-nits b/util/find-doc-nits
index 12d832b4da..f07929f946 100755
--- a/util/find-doc-nits
+++ b/util/find-doc-nits
@@ -447,6 +447,24 @@ sub check {
         check_section_location($id, $contents, &quot;EXAMPLES&quot;, &quot;SEE ALSO&quot;);
     }
 
+    # Make sure every link has a section.
+    while ( $contents =~ /$markup_re/msg ) {
+        my $target = $1;
+        next unless $target =~ /^L&lt;/;           # Skip if not L&lt;...&gt;, or
+        next if $target =~ /::/;                #   links to a Perl module, or
+        next if $target =~ <A HREF="../../../mailman/listinfo/openssl-commits.html">m at L</A>&lt;/@;              #   links within the page, or
+        next if $target =~ /^L&lt;https?:/;        #   is a URL link, or
+        next if $target =~ m@\([1357]\)&gt;$@;     #   it has a section, or
+        next if $target =~ m@\([1357]\)/.*&gt;$@;  #   it has a section/anchor
+        err($id, &quot;Section missing in $target&quot;)
+    }
+    # Check for proper in-man-3 API links.
+    while ( $contents =~ /L&lt;([^&gt;]*)\(3\)(?:\/.*)?&gt;/g ) {
+        my $target = $1;
+        err($id, &quot;Bad L&lt;$target&gt;&quot;)
+            unless $target =~ /^[_[:alpha:]][_[:alnum:]]*$/
+    }
+
     unless ( $contents =~ /=for openssl generic/ ) {
         if ( $filename =~ m|man3/| ) {
             name_synopsis($id, $filename, $contents);
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025888.html">[openssl]  master update
</A></li>
	<LI>Next message: <A HREF="025392.html">Still Failing: openssl/openssl#28798 (master - e876971)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25889">[ date ]</a>
              <a href="thread.html#25889">[ thread ]</a>
              <a href="subject.html#25889">[ subject ]</a>
              <a href="author.html#25889">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
