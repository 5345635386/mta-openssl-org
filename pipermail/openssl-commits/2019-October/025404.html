<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2019-October/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1569966199.440897.17992.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025400.html">
   <LINK REL="Next"  HREF="025407.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl]  master update</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1569966199.440897.17992.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl]  master update">levitte at openssl.org
       </A><BR>
    <I>Tue Oct  1 21:43:19 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="025400.html">[openssl]  master update
</A></li>
        <LI>Next message: <A HREF="025407.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25404">[ date ]</a>
              <a href="thread.html#25404">[ thread ]</a>
              <a href="subject.html#25404">[ subject ]</a>
              <a href="author.html#25404">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  1738c0ce44e4e2d29a859555caf62415022a3b0e (commit)
      from  776cb8358ebaea254d0537cf57cbafe65ac6f5cf (commit)


- Log -----------------------------------------------------------------
commit 1738c0ce44e4e2d29a859555caf62415022a3b0e
Author: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at akamai.com</A>&gt;
Date:   Sun Sep 22 19:49:25 2019 -0400

    Add '=for comment ifdef' to pod pages
    
    Make find-doc-nits understand that
            =for comment ifdef ssl3 ...
    in a POD page means that the &quot;-ssl3&quot; flag might be ifdef'd out in the
    local environment, and not to complain about it.
    
    Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tmraz at fedoraproject.org</A>&gt;
    Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/9974">https://github.com/openssl/openssl/pull/9974</A>)

-----------------------------------------------------------------------

Summary of changes:
 doc/man1/openssl-ca.pod        |  2 ++
 doc/man1/openssl-ciphers.pod   |  2 ++
 doc/man1/openssl-cms.pod       |  2 ++
 doc/man1/openssl-crl.pod       |  2 ++
 doc/man1/openssl-dhparam.pod   |  2 ++
 doc/man1/openssl-dsa.pod       |  2 ++
 doc/man1/openssl-ec.pod        |  2 ++
 doc/man1/openssl-ecparam.pod   |  2 ++
 doc/man1/openssl-enc.pod       |  2 ++
 doc/man1/openssl-gendsa.pod    |  2 ++
 doc/man1/openssl-genpkey.pod   |  2 ++
 doc/man1/openssl-genrsa.pod    |  2 ++
 doc/man1/openssl-info.pod      |  2 +-
 doc/man1/openssl-ocsp.pod      |  2 ++
 doc/man1/openssl-passwd.pod    |  2 ++
 doc/man1/openssl-pkcs12.pod    |  2 ++
 doc/man1/openssl-pkcs7.pod     |  2 ++
 doc/man1/openssl-pkcs8.pod     |  2 ++
 doc/man1/openssl-pkey.pod      |  2 ++
 doc/man1/openssl-pkeyparam.pod |  2 ++
 doc/man1/openssl-pkeyutl.pod   |  2 ++
 doc/man1/openssl-provider.pod  |  5 +++++
 doc/man1/openssl-rand.pod      |  2 ++
 doc/man1/openssl-req.pod       |  2 ++
 doc/man1/openssl-rsa.pod       |  2 ++
 doc/man1/openssl-rsautl.pod    |  2 ++
 doc/man1/openssl-s_client.pod  | 10 ++++++++++
 doc/man1/openssl-s_server.pod  | 10 ++++++++++
 doc/man1/openssl-s_time.pod    |  2 ++
 doc/man1/openssl-smime.pod     |  2 ++
 doc/man1/openssl-speed.pod     |  2 ++
 doc/man1/openssl-spkac.pod     |  2 ++
 doc/man1/openssl-srp.pod       |  2 ++
 doc/man1/openssl-ts.pod        |  2 ++
 doc/man1/openssl-verify.pod    |  2 ++
 doc/man1/openssl-x509.pod      |  2 ++
 util/find-doc-nits             | 20 +++++++++++++++-----
 37 files changed, 105 insertions(+), 6 deletions(-)

diff --git a/doc/man1/openssl-ca.pod b/doc/man1/openssl-ca.pod
index 3159ee21f2..c53ba4fa33 100644
--- a/doc/man1/openssl-ca.pod
+++ b/doc/man1/openssl-ca.pod
@@ -59,6 +59,8 @@ B&lt;openssl&gt; B&lt;ca&gt;
 [B&lt;-sm2-id&gt; I&lt;string&gt;]
 [B&lt;-sm2-hex-id&gt; I&lt;hex-string&gt;]
 
+=for comment ifdef engine sm2-id sm2-hex-id
+
 =head1 DESCRIPTION
 
 The B&lt;ca&gt; command is a minimal CA application. It can be used
diff --git a/doc/man1/openssl-ciphers.pod b/doc/man1/openssl-ciphers.pod
index 332b507a9d..0ed7d14eaf 100644
--- a/doc/man1/openssl-ciphers.pod
+++ b/doc/man1/openssl-ciphers.pod
@@ -24,6 +24,8 @@ B&lt;openssl&gt; B&lt;ciphers&gt;
 [B&lt;-ciphersuites&gt; I&lt;val&gt;]
 [B&lt;cipherlist&gt;]
 
+=for comment ifdef ssl3 tls1 tls1_1 tls1_2 tls1_3 psk srp
+
 =head1 DESCRIPTION
 
 The B&lt;ciphers&gt; command converts textual OpenSSL cipher lists into ordered
diff --git a/doc/man1/openssl-cms.pod b/doc/man1/openssl-cms.pod
index ddb0edf5a0..36b075c655 100644
--- a/doc/man1/openssl-cms.pod
+++ b/doc/man1/openssl-cms.pod
@@ -103,6 +103,8 @@ B&lt;openssl&gt; B&lt;cms&gt;
 [B&lt;-subject&gt; I&lt;subj&gt;]
 [I&lt;cert.pem ...&gt;]
 
+=for comment ifdef des-wrap engine
+
 =head1 DESCRIPTION
 
 The B&lt;cms&gt; command handles S/MIME v3.1 mail. It can encrypt, decrypt, sign and
diff --git a/doc/man1/openssl-crl.pod b/doc/man1/openssl-crl.pod
index abf2a2e87a..11ec7b07b0 100644
--- a/doc/man1/openssl-crl.pod
+++ b/doc/man1/openssl-crl.pod
@@ -22,6 +22,8 @@ B&lt;openssl&gt; B&lt;crl&gt;
 [B&lt;-CAfile&gt; I&lt;file&gt;]
 [B&lt;-CApath&gt; I&lt;dir&gt;]
 
+=for comment ifdef hash_old
+
 =head1 DESCRIPTION
 
 The B&lt;crl&gt; command processes CRL files in DER or PEM format.
diff --git a/doc/man1/openssl-dhparam.pod b/doc/man1/openssl-dhparam.pod
index b575473d96..26b080f4f6 100644
--- a/doc/man1/openssl-dhparam.pod
+++ b/doc/man1/openssl-dhparam.pod
@@ -25,6 +25,8 @@ B&lt;openssl dhparam&gt;
 [B&lt;-engine&gt; I&lt;id&gt;]
 [I&lt;numbits&gt;]
 
+=for comment ifdef dsaparam engine
+
 =head1 DESCRIPTION
 
 This command is used to manipulate DH parameter files.
diff --git a/doc/man1/openssl-dsa.pod b/doc/man1/openssl-dsa.pod
index 9d33809cb3..9c34dde658 100644
--- a/doc/man1/openssl-dsa.pod
+++ b/doc/man1/openssl-dsa.pod
@@ -33,6 +33,8 @@ B&lt;openssl&gt; B&lt;dsa&gt;
 [B&lt;-pubout&gt;]
 [B&lt;-engine&gt; I&lt;id&gt;]
 
+=for comment ifdef pvk-string pvk-weak pvk-none engine
+
 =head1 DESCRIPTION
 
 The B&lt;dsa&gt; command processes DSA keys. They can be converted between various
diff --git a/doc/man1/openssl-ec.pod b/doc/man1/openssl-ec.pod
index 56ff0dce6a..b43af6df52 100644
--- a/doc/man1/openssl-ec.pod
+++ b/doc/man1/openssl-ec.pod
@@ -28,6 +28,8 @@ B&lt;openssl&gt; B&lt;ec&gt;
 [B&lt;-check&gt;]
 [B&lt;-engine&gt; I&lt;id&gt;]
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;ec&gt; command processes EC keys. They can be converted between various
diff --git a/doc/man1/openssl-ecparam.pod b/doc/man1/openssl-ecparam.pod
index 1f17f02561..bd946f10c5 100644
--- a/doc/man1/openssl-ecparam.pod
+++ b/doc/man1/openssl-ecparam.pod
@@ -27,6 +27,8 @@ B&lt;openssl ecparam&gt;
 [B&lt;-genkey&gt;]
 [B&lt;-engine&gt; I&lt;id&gt;]
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 This command is used to manipulate or generate EC parameter files.
diff --git a/doc/man1/openssl-enc.pod b/doc/man1/openssl-enc.pod
index 6ece5a542a..d0f876949a 100644
--- a/doc/man1/openssl-enc.pod
+++ b/doc/man1/openssl-enc.pod
@@ -39,6 +39,8 @@ B&lt;openssl&gt;
 [B&lt;-writerand&gt; I&lt;file&gt;]
 [B&lt;-engine&gt; I&lt;id&gt;]
 
+=for comment ifdef z engine
+
 B&lt;openssl&gt; I&lt;cipher&gt; [B&lt;...&gt;]
 
 =head1 DESCRIPTION
diff --git a/doc/man1/openssl-gendsa.pod b/doc/man1/openssl-gendsa.pod
index 0cc354a066..a5d001acc6 100644
--- a/doc/man1/openssl-gendsa.pod
+++ b/doc/man1/openssl-gendsa.pod
@@ -27,6 +27,8 @@ B&lt;openssl&gt; B&lt;gendsa&gt;
 [B&lt;-verbose&gt;]
 [B&lt;paramfile&gt;]
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;gendsa&gt; command generates a DSA private key from a DSA parameter file
diff --git a/doc/man1/openssl-genpkey.pod b/doc/man1/openssl-genpkey.pod
index dab170cb83..61390777f4 100644
--- a/doc/man1/openssl-genpkey.pod
+++ b/doc/man1/openssl-genpkey.pod
@@ -19,6 +19,8 @@ B&lt;openssl&gt; B&lt;genpkey&gt;
 [B&lt;-genparam&gt;]
 [B&lt;-text&gt;]
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;genpkey&gt; command generates a private key.
diff --git a/doc/man1/openssl-genrsa.pod b/doc/man1/openssl-genrsa.pod
index b963dd742d..81ede1b8c6 100644
--- a/doc/man1/openssl-genrsa.pod
+++ b/doc/man1/openssl-genrsa.pod
@@ -31,6 +31,8 @@ B&lt;openssl&gt; B&lt;genrsa&gt;
 [B&lt;-verbose&gt;]
 [B&lt;numbits&gt;]
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;genrsa&gt; command generates an RSA private key.
diff --git a/doc/man1/openssl-info.pod b/doc/man1/openssl-info.pod
index 80c2e1fa62..e26218c417 100644
--- a/doc/man1/openssl-info.pod
+++ b/doc/man1/openssl-info.pod
@@ -12,7 +12,7 @@ B&lt;openssl info&gt;
 [B&lt;-enginesdir&gt;]
 [B&lt;-modulesdir&gt; ]
 [B&lt;-dsoext&gt;]
-[B&lt;-dirfilesep&gt;]
+[B&lt;-dirnamesep&gt;]
 [B&lt;-listsep&gt;]
 [B&lt;-seeds&gt;]
 [B&lt;-cpusettings&gt;]
diff --git a/doc/man1/openssl-ocsp.pod b/doc/man1/openssl-ocsp.pod
index f2a0e49c08..dc66134e36 100644
--- a/doc/man1/openssl-ocsp.pod
+++ b/doc/man1/openssl-ocsp.pod
@@ -90,6 +90,8 @@ B&lt;openssl&gt; B&lt;ocsp&gt;
 [B&lt;-rcid&gt; I&lt;digest&gt;]
 [B&lt;-&gt;I&lt;digest&gt;]
 
+=for comment ifdef multi
+
 =head1 DESCRIPTION
 
 The Online Certificate Status Protocol (OCSP) enables applications to
diff --git a/doc/man1/openssl-passwd.pod b/doc/man1/openssl-passwd.pod
index da4c73cf1c..755e80a22e 100644
--- a/doc/man1/openssl-passwd.pod
+++ b/doc/man1/openssl-passwd.pod
@@ -24,6 +24,8 @@ B&lt;openssl passwd&gt;
 [B&lt;-writerand&gt; I&lt;file&gt;]
 {I&lt;password&gt;}
 
+=for comment ifdef crypt
+
 =head1 DESCRIPTION
 
 The B&lt;passwd&gt; command computes the hash of a password typed at
diff --git a/doc/man1/openssl-pkcs12.pod b/doc/man1/openssl-pkcs12.pod
index 44052d130d..f309bcd1b8 100644
--- a/doc/man1/openssl-pkcs12.pod
+++ b/doc/man1/openssl-pkcs12.pod
@@ -44,6 +44,8 @@ B&lt;openssl&gt; B&lt;pkcs12&gt;
 [B&lt;-no-CApath&gt;]
 [B&lt;-CSP&gt; I&lt;name&gt;]
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;pkcs12&gt; command allows PKCS#12 files (sometimes referred to as
diff --git a/doc/man1/openssl-pkcs7.pod b/doc/man1/openssl-pkcs7.pod
index f02a1cc298..680cec70a3 100644
--- a/doc/man1/openssl-pkcs7.pod
+++ b/doc/man1/openssl-pkcs7.pod
@@ -17,6 +17,8 @@ B&lt;openssl&gt; B&lt;pkcs7&gt;
 [B&lt;-noout&gt;]
 [B&lt;-engine&gt; I&lt;id&gt;]
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;pkcs7&gt; command processes PKCS#7 files in DER or PEM format.
diff --git a/doc/man1/openssl-pkcs8.pod b/doc/man1/openssl-pkcs8.pod
index 1004a2d766..99299f1044 100644
--- a/doc/man1/openssl-pkcs8.pod
+++ b/doc/man1/openssl-pkcs8.pod
@@ -30,6 +30,8 @@ B&lt;openssl&gt; B&lt;pkcs8&gt;
 [B&lt;-scrypt_r&gt; I&lt;r&gt;]
 [B&lt;-scrypt_p&gt; I&lt;p&gt;]
 
+=for comment ifdef engine scrypt scrypt_N scrypt_r scrypt_p
+
 =head1 DESCRIPTION
 
 The B&lt;pkcs8&gt; command processes private keys in PKCS#8 format. It can handle
diff --git a/doc/man1/openssl-pkey.pod b/doc/man1/openssl-pkey.pod
index 161eef40ee..fa9ea11f9c 100644
--- a/doc/man1/openssl-pkey.pod
+++ b/doc/man1/openssl-pkey.pod
@@ -25,6 +25,8 @@ B&lt;openssl&gt; B&lt;pkey&gt;
 [B&lt;-check&gt;]
 [B&lt;-pubcheck&gt;]
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;pkey&gt; command processes public or private keys. They can be converted
diff --git a/doc/man1/openssl-pkeyparam.pod b/doc/man1/openssl-pkeyparam.pod
index c1d2911d2b..34ae7c97c2 100644
--- a/doc/man1/openssl-pkeyparam.pod
+++ b/doc/man1/openssl-pkeyparam.pod
@@ -15,6 +15,8 @@ B&lt;openssl&gt; B&lt;pkeyparam&gt;
 [B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-check&gt;]
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;pkeyparam&gt; command processes public key algorithm parameters.
diff --git a/doc/man1/openssl-pkeyutl.pod b/doc/man1/openssl-pkeyutl.pod
index a99f3dcc07..a0f4555764 100644
--- a/doc/man1/openssl-pkeyutl.pod
+++ b/doc/man1/openssl-pkeyutl.pod
@@ -38,6 +38,8 @@ B&lt;openssl&gt; B&lt;pkeyutl&gt;
 [B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-engine_impl&gt;]
 
+=for comment ifdef engine engine_impl
+
 =head1 DESCRIPTION
 
 The B&lt;pkeyutl&gt; command can be used to perform low level public key operations
diff --git a/doc/man1/openssl-provider.pod b/doc/man1/openssl-provider.pod
index 6c71d1cd64..a16c41845d 100644
--- a/doc/man1/openssl-provider.pod
+++ b/doc/man1/openssl-provider.pod
@@ -7,6 +7,7 @@ openssl-provider - load and query providers
 =head1 SYNOPSIS
 
 B&lt;openssl provider&gt;
+[B&lt;-help&gt;]
 [B&lt;-v&gt;]
 [B&lt;-vv&gt;]
 [B&lt;-vvv&gt;]
@@ -21,6 +22,10 @@ I&lt;provider&gt;'s.
 
 =over 4
 
+=item B&lt;-help&gt;
+
+Print out a usage message.
+
 =item B&lt;-v&gt; B&lt;-vv&gt; B&lt;-vvv&gt;
 
 Provides information about each specified provider.
diff --git a/doc/man1/openssl-rand.pod b/doc/man1/openssl-rand.pod
index 2595bc65d2..4d57265b13 100644
--- a/doc/man1/openssl-rand.pod
+++ b/doc/man1/openssl-rand.pod
@@ -15,6 +15,8 @@ B&lt;openssl rand&gt;
 [B&lt;-hex&gt;]
 I&lt;num&gt;
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;rand&gt; command outputs I&lt;num&gt; pseudo-random bytes after seeding
diff --git a/doc/man1/openssl-req.pod b/doc/man1/openssl-req.pod
index 5a4cf2703e..70d121360a 100644
--- a/doc/man1/openssl-req.pod
+++ b/doc/man1/openssl-req.pod
@@ -52,6 +52,8 @@ B&lt;openssl&gt; B&lt;req&gt;
 [B&lt;-sm2-id&gt; I&lt;string&gt;]
 [B&lt;-sm2-hex-id&gt; I&lt;hex-string&gt;]
 
+=for comment ifdef engine keygen_engine sm2-id sm2-hex-id
+
 =head1 DESCRIPTION
 
 The B&lt;req&gt; command primarily creates and processes certificate requests
diff --git a/doc/man1/openssl-rsa.pod b/doc/man1/openssl-rsa.pod
index cc129e46c9..6b8fa44c60 100644
--- a/doc/man1/openssl-rsa.pod
+++ b/doc/man1/openssl-rsa.pod
@@ -36,6 +36,8 @@ B&lt;openssl&gt; B&lt;rsa&gt;
 [B&lt;-RSAPublicKey_out&gt;]
 [B&lt;-engine&gt; I&lt;id&gt;]
 
+=for comment ifdef pvk-strong pvk-weak pvk-none engine
+
 =head1 DESCRIPTION
 
 The B&lt;rsa&gt; command processes RSA keys. They can be converted between various
diff --git a/doc/man1/openssl-rsautl.pod b/doc/man1/openssl-rsautl.pod
index 2d4fadc5b2..2122066270 100644
--- a/doc/man1/openssl-rsautl.pod
+++ b/doc/man1/openssl-rsautl.pod
@@ -26,6 +26,8 @@ B&lt;openssl&gt; B&lt;rsautl&gt;
 [B&lt;-hexdump&gt;]
 [B&lt;-asn1parse&gt;]
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;rsautl&gt; command can be used to sign, verify, encrypt and decrypt
diff --git a/doc/man1/openssl-s_client.pod b/doc/man1/openssl-s_client.pod
index 4e8fdfb0d5..3baacd3f73 100644
--- a/doc/man1/openssl-s_client.pod
+++ b/doc/man1/openssl-s_client.pod
@@ -139,6 +139,16 @@ B&lt;openssl&gt; B&lt;s_client&gt;
 [B&lt;-enable_pha&gt;]
 [I&lt;host&gt;:I&lt;port&gt;]
 
+=for comment ifdef engine ssl_client_engine ct noct ctlogfile
+
+=for comment ifdef ssl3 unix 4 6 use_srtp status trace wdebug nextprotoneg
+
+=for comment ifdef ssl3 tls1 tls1_1 tls1_2 tls1_3 dtls mtu dtls1 dtls1_2
+
+=for comment ifdef sctp_label_bug sctp
+
+=for comment ifdef srpuser srppass srp_lateuser srp_moregroups srp_strength
+
 =head1 DESCRIPTION
 
 The B&lt;s_client&gt; command implements a generic SSL/TLS client which connects
diff --git a/doc/man1/openssl-s_server.pod b/doc/man1/openssl-s_server.pod
index 0c7c3db8e1..df613311ed 100644
--- a/doc/man1/openssl-s_server.pod
+++ b/doc/man1/openssl-s_server.pod
@@ -185,6 +185,16 @@ B&lt;openssl&gt; B&lt;s_server&gt;
 [B&lt;-no_anti_replay&gt;]
 [B&lt;-http_server_binmode&gt;]
 
+=for comment ifdef unix 4 6 unlink no_dhe nextprotoneg use_srtp engine
+
+=for comment ifdef status status_verbose status_timeout status_url status_file
+
+=for comment ifdef psk_hint srpvfile srpuserseed sctp sctp_label_bug
+
+=for comment ifdef sctp sctp_label_bug trace mtu timeout listen
+
+=for comment ifdef ssl3 tls1 tls1_1 tls1_2 tls1_3 dtls mtu dtls1 dtls1_2
+
 =head1 DESCRIPTION
 
 The B&lt;s_server&gt; command implements a generic SSL/TLS server which listens
diff --git a/doc/man1/openssl-s_time.pod b/doc/man1/openssl-s_time.pod
index c6b05c9f4a..fa3dd685b7 100644
--- a/doc/man1/openssl-s_time.pod
+++ b/doc/man1/openssl-s_time.pod
@@ -30,6 +30,8 @@ B&lt;openssl&gt; B&lt;s_time&gt;
 [B&lt;-cipher&gt; I&lt;cipherlist&gt;]
 [B&lt;-ciphersuites&gt; I&lt;val&gt;]
 
+=for comment ifdef ssl3 tls1 tls1_1 tls1_2 tls1_3
+
 =head1 DESCRIPTION
 
 The B&lt;s_time&gt; command implements a generic SSL/TLS client which connects to a
diff --git a/doc/man1/openssl-smime.pod b/doc/man1/openssl-smime.pod
index 52aa0b3783..b15baa2dc7 100644
--- a/doc/man1/openssl-smime.pod
+++ b/doc/man1/openssl-smime.pod
@@ -70,6 +70,8 @@ B&lt;openssl&gt; B&lt;smime&gt;
 [B&lt;-md&gt; I&lt;digest&gt;]
 [cert.pem]...
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;smime&gt; command handles S/MIME mail. It can encrypt, decrypt, sign and
diff --git a/doc/man1/openssl-speed.pod b/doc/man1/openssl-speed.pod
index 2b6eb06bf4..c7577f5557 100644
--- a/doc/man1/openssl-speed.pod
+++ b/doc/man1/openssl-speed.pod
@@ -21,6 +21,8 @@ B&lt;openssl speed&gt;
 [B&lt;-bytes&gt; I&lt;num&gt;]
 [B&lt;algorithm...&gt;]
 
+=for comment ifdef cmac multi async_jobs engine
+
 =head1 DESCRIPTION
 
 This command is used to test the performance of cryptographic algorithms.
diff --git a/doc/man1/openssl-spkac.pod b/doc/man1/openssl-spkac.pod
index 9c9ab67157..03df087ee0 100644
--- a/doc/man1/openssl-spkac.pod
+++ b/doc/man1/openssl-spkac.pod
@@ -21,6 +21,8 @@ B&lt;openssl&gt; B&lt;spkac&gt;
 [B&lt;-verify&gt;]
 [B&lt;-engine&gt; I&lt;id&gt;]
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;spkac&gt; command processes Netscape signed public key and challenge
diff --git a/doc/man1/openssl-srp.pod b/doc/man1/openssl-srp.pod
index cb98f85678..62a27c37ef 100644
--- a/doc/man1/openssl-srp.pod
+++ b/doc/man1/openssl-srp.pod
@@ -22,6 +22,8 @@ B&lt;openssl srp&gt;
 [B&lt;-passout&gt; I&lt;arg&gt;]
 [I&lt;user...&gt;]
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;srp&gt; command is used to maintain an SRP (secure remote password)
diff --git a/doc/man1/openssl-ts.pod b/doc/man1/openssl-ts.pod
index 6247cc786d..ec1d296c94 100644
--- a/doc/man1/openssl-ts.pod
+++ b/doc/man1/openssl-ts.pod
@@ -82,6 +82,8 @@ I&lt;verify options:&gt;
 [B&lt;-verify_name&gt; I&lt;name&gt;]
 [B&lt;-x509_strict&gt;]
 
+=for comment ifdef engine
+
 =head1 DESCRIPTION
 
 The B&lt;ts&gt; command is a basic Time Stamping Authority (TSA) client and server
diff --git a/doc/man1/openssl-verify.pod b/doc/man1/openssl-verify.pod
index cdc1da8ecd..0635576c87 100644
--- a/doc/man1/openssl-verify.pod
+++ b/doc/man1/openssl-verify.pod
@@ -54,6 +54,8 @@ B&lt;openssl&gt; B&lt;verify&gt;
 [B&lt;-&gt;]
 [certificates]
 
+=for comment ifdef engine sm2-id sm2-hex-id
+
 =head1 DESCRIPTION
 
 The B&lt;verify&gt; command verifies certificate chains.
diff --git a/doc/man1/openssl-x509.pod b/doc/man1/openssl-x509.pod
index be369eae16..cb347151da 100644
--- a/doc/man1/openssl-x509.pod
+++ b/doc/man1/openssl-x509.pod
@@ -68,6 +68,8 @@ B&lt;openssl&gt; B&lt;x509&gt;
 [B&lt;-engine&gt; I&lt;id&gt;]
 [B&lt;-preserve_dates&gt;]
 
+=for comment ifdef engine subject_hash_old issuer_hash_old
+
 =head1 DESCRIPTION
 
 The B&lt;x509&gt; command is a multi purpose certificate utility. It can be
diff --git a/util/find-doc-nits b/util/find-doc-nits
index 6641a238d8..67a2ee365c 100755
--- a/util/find-doc-nits
+++ b/util/find-doc-nits
@@ -538,6 +538,7 @@ sub publicize {
     }
 }
 
+# Cipher/digests to skip if not documented
 my %skips = (
     'aes128' =&gt; 1,
     'aes192' =&gt; 1,
@@ -551,8 +552,8 @@ my %skips = (
     'des' =&gt; 1,
     'des3' =&gt; 1,
     'idea' =&gt; 1,
-    '[cipher]' =&gt; 1,
-    '[digest]' =&gt; 1,
+    'cipher' =&gt; 1,
+    'digest' =&gt; 1,
 );
 
 sub checkflags {
@@ -560,6 +561,7 @@ sub checkflags {
     my $doc = shift;
     my %cmdopts;
     my %docopts;
+    my %localskips;
 
     # Get the list of options in the command.
     open CFH, &quot;./apps/openssl list --options $cmd|&quot;
@@ -577,7 +579,15 @@ sub checkflags {
     while ( &lt;CFH&gt; ) {
         chop;
         last if /DESCRIPTION/;
+        if ( /=for comment ifdef (.*)/ ) {
+            foreach my $f ( split / /, $1 ) {
+                $localskips{$f} = 1;
+            }
+            next;
+        }
         next unless /\[B&lt;-([^ &gt;]+)/;
+        my $opt = $1;
+        $opt = $1 if $opt =~ /I&lt;(.*)/;
         $docopts{$1} = 1;
     }
     close CFH;
@@ -589,7 +599,7 @@ sub checkflags {
     }
     if ( scalar @undocced &gt; 0 ) {
         foreach ( @undocced ) {
-            err(&quot;doc/man1/$cmd.pod: Missing -$_&quot;);
+            err(&quot;$doc: undocumented option -$_&quot;);
         }
     }
 
@@ -600,8 +610,8 @@ sub checkflags {
     }
     if ( scalar @unimpl &gt; 0 ) {
         foreach ( @unimpl ) {
-            next if defined $skips{$_};
-            err(&quot;doc/man1/$cmd.pod: Not implemented -$_&quot;);
+            next if defined $skips{$_} || defined $localskips{$_};
+            err(&quot;$cmd documented but not implemented -$_&quot;);
         }
     }
 }
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025400.html">[openssl]  master update
</A></li>
	<LI>Next message: <A HREF="025407.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25404">[ date ]</a>
              <a href="thread.html#25404">[ thread ]</a>
              <a href="subject.html#25404">[ subject ]</a>
              <a href="author.html#25404">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
