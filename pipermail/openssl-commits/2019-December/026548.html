<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Still FAILED build of OpenSSL branch master with options -d --strict-warnings no-dh
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2019-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20Still%20FAILED%20build%20of%20OpenSSL%20branch%20master%20with%20options%20-d%0A%20--strict-warnings%20no-dh&In-Reply-To=%3C1576032652.105722.11237.nullmailer%40run.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026547.html">
   <LINK REL="Next"  HREF="026596.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Still FAILED build of OpenSSL branch master with options -d --strict-warnings no-dh</H1>
    <B>OpenSSL run-checker</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20Still%20FAILED%20build%20of%20OpenSSL%20branch%20master%20with%20options%20-d%0A%20--strict-warnings%20no-dh&In-Reply-To=%3C1576032652.105722.11237.nullmailer%40run.openssl.org%3E"
       TITLE="Still FAILED build of OpenSSL branch master with options -d --strict-warnings no-dh">openssl at openssl.org
       </A><BR>
    <I>Wed Dec 11 02:50:52 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="026547.html">Build completed: openssl master.30039
</A></li>
        <LI>Next message: <A HREF="026596.html">Still FAILED build of OpenSSL branch master with options -d --strict-warnings no-dh
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26548">[ date ]</a>
              <a href="thread.html#26548">[ thread ]</a>
              <a href="subject.html#26548">[ subject ]</a>
              <a href="author.html#26548">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Platform and configuration command:

$ uname -a
Linux run 4.15.0-54-generic #58-Ubuntu SMP Mon Jun 24 10:55:24 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
$ CC=clang ../openssl/config -d --strict-warnings no-dh

Commit log since last time:

436c21a0fd Remove handling of outdated macro's
8c06d7199e Configuration: compute openssl_other_defines and related info later
76d0a74b8e Disable devcryptoeng on newer OpenBSD versions
ea7a952c8a test/memleaktest.c: Modify for use with address/leak sanitizer
22c22369bc Use leak sanitizer instead of internal mdebug to check for memory leaks
0969e2592e Move U64 macro from sha.h to sha512.c
1352e0ff49 apps/speed: replace list of #define by enums declarations. it simplifies some pieces of code. Improve internal assertions Tag a few #endif with OPENSSL_NO_EC to mark its ending.
d63d89ea0f apps/speed: factorize ec test curves declarations remove 'test' prefix from variable names.
001d5e2c64 apps/speed: improve sm2 failure code. attach the new objects sooner, so error handling is simplified.
f607f6eadd apps/speed: simplify 'doit' action flag management code. Optimize algorithm selection code.
0609658f9b apps/speed: initialize key material only when its algo is selected. Remove some duplicate key data declarations.
d02b7e0931 apps/speed: remove a shared global variable replace |save_count| by the right c[D_EVP(_xxx)] variable. this may shared a value between various algorithm.
2cc076530f apps/speed: discard useless protoypes as these methods are defines before being used.
af0857f0e7 apps/speed: allow to continue tests after any init failure handling. previouly the exit(1) call was aborting the whole execution. Improve error message.

Build log ended with (last 100 lines):

const BIGNUM *DSA_get0_priv_key(const DSA *d);
              ^
../openssl/providers/implementations/serializers/serializer_dh.c:42:20: error: this function declaration is not a prototype [-Werror,-Wstrict-prototypes]
        priv_key = DH_get0_priv_key(dh);
                   ^
../openssl/providers/implementations/serializers/serializer_dh.c:42:18: error: incompatible integer to pointer conversion assigning to 'const BIGNUM *' (aka 'const struct bignum_st *') from 'int' [-Werror,-Wint-conversion]
        priv_key = DH_get0_priv_key(dh);
                 ^ ~~~~~~~~~~~~~~~~~~~~
../openssl/providers/implementations/serializers/serializer_dh.c:48:19: error: implicit declaration of function 'DH_get0_pub_key' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
        pub_key = DH_get0_pub_key(dh);
                  ^
../openssl/providers/implementations/serializers/serializer_dh.c:48:19: note: did you mean 'DSA_get0_pub_key'?
../openssl/include/openssl/dsa.h:190:15: note: 'DSA_get0_pub_key' declared here
const BIGNUM *DSA_get0_pub_key(const DSA *d);
              ^
../openssl/providers/implementations/serializers/serializer_dh.c:48:19: error: this function declaration is not a prototype [-Werror,-Wstrict-prototypes]
        pub_key = DH_get0_pub_key(dh);
                  ^
../openssl/providers/implementations/serializers/serializer_dh.c:48:17: error: incompatible integer to pointer conversion assigning to 'const BIGNUM *' (aka 'const struct bignum_st *') from 'int' [-Werror,-Wint-conversion]
        pub_key = DH_get0_pub_key(dh);
                ^ ~~~~~~~~~~~~~~~~~~~
../openssl/providers/implementations/serializers/serializer_dh.c:53:9: error: implicit declaration of function 'DH_get0_p' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
    p = DH_get0_p(dh);
        ^
../openssl/providers/implementations/serializers/serializer_dh.c:53:9: note: did you mean 'DSA_get0_p'?
../openssl/include/openssl/dsa.h:187:15: note: 'DSA_get0_p' declared here
const BIGNUM *DSA_get0_p(const DSA *d);
              ^
../openssl/providers/implementations/serializers/serializer_dh.c:53:9: error: this function declaration is not a prototype [-Werror,-Wstrict-prototypes]
    p = DH_get0_p(dh);
        ^
../openssl/providers/implementations/serializers/serializer_dh.c:53:7: error: incompatible integer to pointer conversion assigning to 'const BIGNUM *' (aka 'const struct bignum_st *') from 'int' [-Werror,-Wint-conversion]
    p = DH_get0_p(dh);
      ^ ~~~~~~~~~~~~~
../openssl/providers/implementations/serializers/serializer_dh.c:54:7: error: incompatible integer to pointer conversion assigning to 'const BIGNUM *' (aka 'const struct bignum_st *') from 'int' [-Werror,-Wint-conversion]
    g = DH_get0_p(dh);
      ^ ~~~~~~~~~~~~~
../openssl/providers/implementations/serializers/serializer_dh.c:104:26: error: implicit declaration of function 'i2d_DHxparams' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
        params-&gt;length = i2d_DHxparams(dh, &amp;params-&gt;data);
                         ^
../openssl/providers/implementations/serializers/serializer_dh.c:104:26: note: did you mean 'i2d_DSAparams'?
../openssl/include/openssl/dsa.h:120:1: note: 'i2d_DSAparams' declared here
DECLARE_ASN1_ENCODE_FUNCTIONS_only(DSA, DSAparams)
^
../openssl/include/openssl/asn1.h:239:13: note: expanded from macro 'DECLARE_ASN1_ENCODE_FUNCTIONS_only'
        int i2d_##name(const type *a, unsigned char **out);
            ^
&lt;scratch space&gt;:145:1: note: expanded from here
i2d_DSAparams
^
../openssl/providers/implementations/serializers/serializer_dh.c:104:26: error: this function declaration is not a prototype [-Werror,-Wstrict-prototypes]
        params-&gt;length = i2d_DHxparams(dh, &amp;params-&gt;data);
                         ^
../openssl/providers/implementations/serializers/serializer_dh.c:106:26: error: implicit declaration of function 'i2d_DHparams' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
        params-&gt;length = i2d_DHparams(dh, &amp;params-&gt;data);
                         ^
../openssl/providers/implementations/serializers/serializer_dh.c:106:26: note: did you mean 'i2d_DHxparams'?
../openssl/providers/implementations/serializers/serializer_dh.c:104:26: note: 'i2d_DHxparams' declared here
        params-&gt;length = i2d_DHxparams(dh, &amp;params-&gt;data);
                         ^
../openssl/providers/implementations/serializers/serializer_dh.c:106:26: error: this function declaration is not a prototype [-Werror,-Wstrict-prototypes]
        params-&gt;length = i2d_DHparams(dh, &amp;params-&gt;data);
                         ^
../openssl/providers/implementations/serializers/serializer_dh.c:122:48: error: implicit declaration of function 'DH_get0_pub_key' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
    ASN1_INTEGER *pub_key = BN_to_ASN1_INTEGER(DH_get0_pub_key(dh), NULL);
                                               ^
../openssl/providers/implementations/serializers/serializer_dh.c:122:48: error: incompatible integer to pointer conversion passing 'int' to parameter of type 'const BIGNUM *' (aka 'const struct bignum_st *') [-Werror,-Wint-conversion]
    ASN1_INTEGER *pub_key = BN_to_ASN1_INTEGER(DH_get0_pub_key(dh), NULL);
                                               ^~~~~~~~~~~~~~~~~~~
../openssl/include/openssl/asn1.h:637:48: note: passing argument to parameter 'bn' here
ASN1_INTEGER *BN_to_ASN1_INTEGER(const BIGNUM *bn, ASN1_INTEGER *ai);
                                               ^
../openssl/providers/implementations/serializers/serializer_dh.c:138:49: error: implicit declaration of function 'DH_get0_priv_key' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
    ASN1_INTEGER *priv_key = BN_to_ASN1_INTEGER(DH_get0_priv_key(dh), NULL);
                                                ^
../openssl/providers/implementations/serializers/serializer_dh.c:138:49: error: incompatible integer to pointer conversion passing 'int' to parameter of type 'const BIGNUM *' (aka 'const struct bignum_st *') [-Werror,-Wint-conversion]
    ASN1_INTEGER *priv_key = BN_to_ASN1_INTEGER(DH_get0_priv_key(dh), NULL);
                                                ^~~~~~~~~~~~~~~~~~~~
../openssl/include/openssl/asn1.h:637:48: note: passing argument to parameter 'bn' here
ASN1_INTEGER *BN_to_ASN1_INTEGER(const BIGNUM *bn, ASN1_INTEGER *ai);
                                               ^
18 errors generated.
Makefile:19725: recipe for target 'providers/implementations/serializers/libimplementations-lib-serializer_dh.o' failed
make[1]: *** [providers/implementations/serializers/libimplementations-lib-serializer_dh.o] Error 1
../openssl/providers/implementations/serializers/serializer_dh_priv.c:127:9: error: implicit declaration of function 'DH_free' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
        DH_free(dh);
        ^
../openssl/providers/implementations/serializers/serializer_dh_priv.c:127:9: error: this function declaration is not a prototype [-Werror,-Wstrict-prototypes]
../openssl/providers/implementations/serializers/serializer_dh_priv.c:162:9: error: implicit declaration of function 'DH_free' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
        DH_free(dh);
        ^
../openssl/providers/implementations/serializers/serializer_dh_priv.c:208:9: error: implicit declaration of function 'DH_free' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
        DH_free(dh);
        ^
4 errors generated.
Makefile:19741: recipe for target 'providers/implementations/serializers/libimplementations-lib-serializer_dh_priv.o' failed
make[1]: *** [providers/implementations/serializers/libimplementations-lib-serializer_dh_priv.o] Error 1
make[1]: Leaving directory '/home/openssl/run-checker/no-dh'
Makefile:2735: recipe for target 'build_sw' failed
make: *** [build_sw] Error 2
</PRE>
































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026547.html">Build completed: openssl master.30039
</A></li>
	<LI>Next message: <A HREF="026596.html">Still FAILED build of OpenSSL branch master with options -d --strict-warnings no-dh
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26548">[ date ]</a>
              <a href="thread.html#26548">[ thread ]</a>
              <a href="subject.html#26548">[ subject ]</a>
              <a href="author.html#26548">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
