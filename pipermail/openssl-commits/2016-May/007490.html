<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2016-May/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1463957149.079525.13400.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007484.html">
   <LINK REL="Next"  HREF="007491.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  master update</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1463957149.079525.13400.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl-commits] [openssl]  master update">levitte at openssl.org
       </A><BR>
    <I>Sun May 22 22:45:49 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="007484.html">[openssl-commits] [openssl]  master update
</A></li>
        <LI>Next message: <A HREF="007491.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7490">[ date ]</a>
              <a href="thread.html#7490">[ thread ]</a>
              <a href="subject.html#7490">[ subject ]</a>
              <a href="author.html#7490">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  398c1b773a551183ed701b99fde901e5f4fc9426 (commit)
       via  c4d598939ac275ce0c4a28d6b76efd1e2e47af05 (commit)
       via  beadb441572e47e163c6b59a9eb72b47e2d9227d (commit)
       via  e4860d531dc52d6616e133a4a68f268bf44e1501 (commit)
       via  eae029244d09b185287da0e1dc60f6289c775b89 (commit)
       via  aec3ecd02fcf207294a8cc3da55991d0840f8dc3 (commit)
      from  1544583bbc2b60f1a4f456ca591495c215e661c2 (commit)


- Log -----------------------------------------------------------------
commit 398c1b773a551183ed701b99fde901e5f4fc9426
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Mon May 23 00:38:48 2016 +0200

    util/process_docs.pl: Add more debugging output
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;

commit c4d598939ac275ce0c4a28d6b76efd1e2e47af05
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Mon May 23 00:36:37 2016 +0200

    Improve the checking of pod sections
    
    (i.e. remove some bugs)
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;

commit beadb441572e47e163c6b59a9eb72b47e2d9227d
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sat May 21 20:51:18 2016 +0200

    HTML docs on Unix: Add a HTML title
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;

commit e4860d531dc52d6616e133a4a68f268bf44e1501
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sat May 21 20:50:48 2016 +0200

    process_docs.pl: When starting to read a new head1 section, remove previous text
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;

commit eae029244d09b185287da0e1dc60f6289c775b89
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sat May 21 20:49:58 2016 +0200

    Add a missing comma in OPENSSL_malloc.pod
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;

commit aec3ecd02fcf207294a8cc3da55991d0840f8dc3
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sat May 21 20:49:33 2016 +0200

    Add the missing NAME header in the OCSP docs
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;

-----------------------------------------------------------------------

Summary of changes:
 Configurations/unix-Makefile.tmpl        |  3 ++-
 doc/crypto/OCSP_REQUEST_new.pod          |  2 ++
 doc/crypto/OCSP_cert_to_id.pod           |  2 ++
 doc/crypto/OCSP_request_add1_nonce.pod   |  2 ++
 doc/crypto/OCSP_response_find_status.pod |  2 ++
 doc/crypto/OCSP_response_status.pod      |  2 ++
 doc/crypto/OPENSSL_malloc.pod            |  2 +-
 util/process_docs.pl                     | 19 +++++++++++++++----
 8 files changed, 28 insertions(+), 6 deletions(-)

diff --git a/Configurations/unix-Makefile.tmpl b/Configurations/unix-Makefile.tmpl
index de20ad7..469bd32 100644
--- a/Configurations/unix-Makefile.tmpl
+++ b/Configurations/unix-Makefile.tmpl
@@ -528,6 +528,7 @@ PROCESS_PODS=\
 		SEC=`sed -ne 's/^=for  *comment  *openssl_manual_section: *\([0-9]\) *$$/\1/p' $$p`; \
 		[ -z &quot;$$SEC&quot; ] &amp;&amp; SEC=$$defsec; \
 		fn=`basename $$p .pod`; \
+		Name=$$fn; \
 		NAME=`echo $$fn | tr [a-z] [A-Z]`; \
 		suf=`eval &quot;echo $$OUTSUFFIX&quot;`; \
 		top=`eval &quot;echo $$OUTTOP&quot;`; \
@@ -607,7 +608,7 @@ install_html_docs:
 	OUTSUFFIX='.$(HTMLSUFFIX)'; \
 	OUTTOP=&quot;$(DESTDIR)$(HTMLDIR)&quot;; \
 	GENERATE=&quot;pod2html --podroot=$(SRCDIR)/doc --htmldir=.. \
-			   --podpath=apps:crypto:ssl \
+			   --podpath=apps:crypto:ssl --title=\$$Name \
 		  | sed -e 's|href=\&quot;<A HREF="http://man.he.net/man|href=\">http://man.he.net/man|href=\</A>&quot;../man|g'&quot;; \
 	$(PROCESS_PODS)
 
diff --git a/doc/crypto/OCSP_REQUEST_new.pod b/doc/crypto/OCSP_REQUEST_new.pod
index 1553c28..82de0d5 100644
--- a/doc/crypto/OCSP_REQUEST_new.pod
+++ b/doc/crypto/OCSP_REQUEST_new.pod
@@ -1,5 +1,7 @@
 =pod
 
+=head1 NAME
+
 OCSP_REQUEST_new, OCSP_REQUEST_free, OCSP_request_add0_id, OCSP_request_sign,
 OCSP_request_add1_cert, OCSP_request_onereq_count,
 OCSP_request_onereq_get0 - OCSP request functions.
diff --git a/doc/crypto/OCSP_cert_to_id.pod b/doc/crypto/OCSP_cert_to_id.pod
index 115ba34..bd06417 100644
--- a/doc/crypto/OCSP_cert_to_id.pod
+++ b/doc/crypto/OCSP_cert_to_id.pod
@@ -1,5 +1,7 @@
 =pod
 
+=head1 NAME
+
 OCSP_cert_to_id, OCSP_cert_id_new, OCSP_CERTID_free, OCSP_id_issuer_cmp,
 OCSP_id_cmp, OCSP_id_get0_info - OCSP certificate ID utility functions.
 
diff --git a/doc/crypto/OCSP_request_add1_nonce.pod b/doc/crypto/OCSP_request_add1_nonce.pod
index 590ee25..4162c70 100644
--- a/doc/crypto/OCSP_request_add1_nonce.pod
+++ b/doc/crypto/OCSP_request_add1_nonce.pod
@@ -1,5 +1,7 @@
 =pod
 
+=head1 NAME
+
 OCSP_request_add1_nonce, OCSP_basic_add1_nonce, OCSP_check_nonce, OCSP_copy_nonce - OCSP nonce functions.
 
 =head1 SYNOPSIS
diff --git a/doc/crypto/OCSP_response_find_status.pod b/doc/crypto/OCSP_response_find_status.pod
index 56a9c83..8baeb2f 100644
--- a/doc/crypto/OCSP_response_find_status.pod
+++ b/doc/crypto/OCSP_response_find_status.pod
@@ -1,5 +1,7 @@
 =pod
 
+=head1 NAME
+
 OCSP_resp_find_status, OCSP_resp_count, OCSP_resp_get0, OCSP_resp_find, OCSP_single_get0_status, OCSP_check_validity - OCSP response utility functions.
 
 =head1 SYNOPSIS
diff --git a/doc/crypto/OCSP_response_status.pod b/doc/crypto/OCSP_response_status.pod
index 9689fac..8cae3ae 100644
--- a/doc/crypto/OCSP_response_status.pod
+++ b/doc/crypto/OCSP_response_status.pod
@@ -1,5 +1,7 @@
 =pod
 
+=head1 NAME
+
 OCSP_response_status, OCSP_response_get1_basic, OCSP_response_create,
 OCSP_RESPONSE_free - OCSP response functions.
 
diff --git a/doc/crypto/OPENSSL_malloc.pod b/doc/crypto/OPENSSL_malloc.pod
index d7f4fda..ca21698 100644
--- a/doc/crypto/OPENSSL_malloc.pod
+++ b/doc/crypto/OPENSSL_malloc.pod
@@ -4,7 +4,7 @@
 
 OPENSSL_malloc_init,
 OPENSSL_malloc, OPENSSL_zalloc, OPENSSL_realloc, OPENSSL_free,
-OPENSSL_clear_realloc, OPENSSL_clear_free, OPENSSL_cleanse
+OPENSSL_clear_realloc, OPENSSL_clear_free, OPENSSL_cleanse,
 CRYPTO_malloc, CRYPTO_zalloc, CRYPTO_realloc, CRYPTO_free,
 OPENSSL_strdup, OPENSSL_strndup,
 OPENSSL_memdup, OPENSSL_strlcpy, OPENSSL_strlcat,
diff --git a/util/process_docs.pl b/util/process_docs.pl
index eaa4964..c2c35ee 100644
--- a/util/process_docs.pl
+++ b/util/process_docs.pl
@@ -84,19 +84,30 @@ foreach my $subdir (keys %{$options{subdir}}) {
         while (&lt;$pod_fh&gt;) {
             s|\R$||;
             if (m|^=for\s+comment\s+openssl_manual_section:\s*([0-9])\s*$|) {
-                print STDERR &quot;Found section number $1\n&quot; if $options{debug};
+                print STDERR &quot;DEBUG: Found man section number $1\n&quot;
+                    if $options{debug};
                 $podinfo{section} = $1;
             }
-            last if m|^=head1| &amp;&amp; defined $podinfo{lastsect} eq &quot;NAME&quot;;
-            if (m|^head1=\s*(.*)|) {
+            last if (m|^=head1|
+                     &amp;&amp; defined $podinfo{lastsect}
+                     &amp;&amp; $podinfo{lastsect} eq &quot;NAME&quot;);
+            if (m|^=head1\s*(.*)|) {
                 $podinfo{lastsect} = $1;
                 $podinfo{lastsect} =~ s/\s+$//;
+                print STDERR &quot;DEBUG: Found new pod section $1\n&quot;
+                    if $options{debug};
+                print STDERR &quot;DEBUG: Clearing pod section text\n&quot;
+                    if $options{debug};
+                $podinfo{lastsecttext} = &quot;&quot;;
             }
             next if (m|^=| || m|^\s*$|);
-            $podinfo{lastsecttext} .= &quot; &quot;;
+            print STDERR &quot;DEBUG: accumulating pod section text \&quot;$_\&quot;\n&quot;
+                if $options{debug};
+            $podinfo{lastsecttext} .= &quot; &quot; if $podinfo{lastsecttext};
             $podinfo{lastsecttext} .= $_;
         }
         close $pod_fh;
+        print STDERR &quot;DEBUG: Done reading $podpath\n&quot; if $options{debug};
         $podinfo{lastsecttext} =~ s| - .*$||;
         print STDERR &quot;DEBUG: Done reading $podpath\n&quot; if $options{debug};
 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007484.html">[openssl-commits] [openssl]  master update
</A></li>
	<LI>Next message: <A HREF="007491.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7490">[ date ]</a>
              <a href="thread.html#7490">[ thread ]</a>
              <a href="subject.html#7490">[ subject ]</a>
              <a href="author.html#7490">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
