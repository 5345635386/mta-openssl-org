<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [web]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2019-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bweb%5D%20%20master%20update&In-Reply-To=%3C1551364960.074004.30139.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022125.html">
   <LINK REL="Next"  HREF="022132.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[web]  master update</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bweb%5D%20%20master%20update&In-Reply-To=%3C1551364960.074004.30139.nullmailer%40dev.openssl.org%3E"
       TITLE="[web]  master update">levitte at openssl.org
       </A><BR>
    <I>Thu Feb 28 14:42:40 UTC 2019</I>
    <P><UL>
        <LI>Previous message: <A HREF="022125.html">[web]  master update
</A></li>
        <LI>Next message: <A HREF="022132.html">[web]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22131">[ date ]</a>
              <a href="thread.html#22131">[ thread ]</a>
              <a href="subject.html#22131">[ subject ]</a>
              <a href="author.html#22131">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  73fe28cd382b6b5fb3c84ec227e8dedce23c2ac4 (commit)
       via  3926d4eec53217895bed4a0dca5394707fbccc66 (commit)
       via  9873de29128aab496a239d4efb6f1f2a0fad6915 (commit)
       via  2caab96c8e0a03e6891a67f1a02b91f3f6f94952 (commit)
       via  ee0137412475ec26b9a9f5f60785d849c89f231f (commit)
       via  8bf82949d36d42eb11836202950256db99bfcc27 (commit)
       via  ea1a835c5069fcb1bdf1126093aeba88f90ef3f7 (commit)
       via  b654262bace5ca81b49e0fc2e62c8ad09809d77e (commit)
       via  d69832a8f9741ef27965e1315fdf53a081457d54 (commit)
       via  d8d36be2491589e2aae592c65fbd5de58383ea46 (commit)
       via  af3fbdeeb010afdb9dba864aee19e18115c0e3f5 (commit)
       via  eb90cf76b940668286deda9035faef001e771945 (commit)
       via  3dcc5b7ed327b993341fe3d25f62f4aba6b4a98c (commit)
       via  b0f6bb016691f83583ef9b7cac1f29901c1e51e6 (commit)
       via  e1b59a61f7397e2e08e572c77997e3ef6157f064 (commit)
      from  160ebaa336556bd42c4df6354f70cabeab77ca7c (commit)


- Log -----------------------------------------------------------------
commit 73fe28cd382b6b5fb3c84ec227e8dedce23c2ac4
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Mon Feb 25 22:08:15 2019 +0100

    Add commentary in the Makefile to explain what is going on
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit 3926d4eec53217895bed4a0dca5394707fbccc66
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Mon Feb 25 01:14:46 2019 +0100

    Change news/openssl-notes.html.in to use Template Toolkit
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit 9873de29128aab496a239d4efb6f1f2a0fad6915
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Mon Feb 25 01:00:36 2019 +0100

    Clean up .gitignore
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit 2caab96c8e0a03e6891a67f1a02b91f3f6f94952
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Mon Feb 25 00:56:11 2019 +0100

    Remove redundancy: generate vulnerabilities indexes from templates
    
    Adapt Makefile accordingly
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit ee0137412475ec26b9a9f5f60785d849c89f231f
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Mon Feb 25 00:36:14 2019 +0100

    Remove redundancy: generate source indexes from templates
    
    Adapt Makefile accordingly
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit 8bf82949d36d42eb11836202950256db99bfcc27
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sun Feb 24 23:14:14 2019 +0100

    Remove redundancy: remove the manpage dir cleanup from bin/mk-manpages
    
    Let the Makefile take care of it instead
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit ea1a835c5069fcb1bdf1126093aeba88f90ef3f7
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sun Feb 24 23:13:23 2019 +0100

    Remove redundancy: generate docs/manpages.html from template
    
    Change Makefile accordingly
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit b654262bace5ca81b49e0fc2e62c8ad09809d77e
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sun Feb 24 23:07:03 2019 +0100

    Remove redundancy: generate all manpage indexes from templates
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit d69832a8f9741ef27965e1315fdf53a081457d54
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sun Feb 24 14:12:54 2019 +0100

    Remove redundancy: produce news/changelog.html from a template
    
    This templates produces a list of links to release changelogs from a
    passed list of release versions.
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit d8d36be2491589e2aae592c65fbd5de58383ea46
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sun Feb 24 14:01:32 2019 +0100

    Remove redundancy: add a template processing script
    
    The choice comes to using [Template Toolkit], as it's powerful,
    flexible, and consistent enough.
    
    -----
    
    [Template Toolkit]: <A HREF="http://www.template-toolkit.org/">http://www.template-toolkit.org/</A>
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit af3fbdeeb010afdb9dba864aee19e18115c0e3f5
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sun Feb 24 13:31:57 2019 +0100

    Remove redundancy: strip away hard coded release versions from scripts
    
    Adapt Makefile accordingly
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit eb90cf76b940668286deda9035faef001e771945
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sun Feb 24 13:06:10 2019 +0100

    Remove redundancy: documentation
    
    Move the processing of changelogs and notes to use SERIES, using GNU
    make features.
    
    This only does part of the job.  A later commit will automatically
    create the whole documentation directory structure from templates.
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit 3dcc5b7ed327b993341fe3d25f62f4aba6b4a98c
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sun Feb 24 12:51:16 2019 +0100

    Remove redundancy: vulnerability pages
    
    Move the processing of vulnerability pages to use SERIES and
    OLDSERIES, using GNU make features.
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit b0f6bb016691f83583ef9b7cac1f29901c1e51e6
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sun Feb 24 12:48:34 2019 +0100

    Remove redundancy: changelogs and notes
    
    Move the processing of changelogs and notes to use SERIES, using GNU
    make features.
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

commit e1b59a61f7397e2e08e572c77997e3ef6157f064
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Sun Feb 24 12:43:00 2019 +0100

    Remove redundancy: Start with defining a few variables for release series
    
    We hard code release series in much too many places, which is error
    prone.
    
    We start with defining a few make variables with current and older
    series.
    
    Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/web/pull/120">https://github.com/openssl/web/pull/120</A>)

-----------------------------------------------------------------------

Summary of changes:
 .gitignore                                         |  26 +-
 Makefile                                           | 318 +++++++++++++--------
 bin/from-tt                                        | 123 ++++++++
 bin/mk-mancross                                    |   2 +-
 bin/mk-manpages                                    |  51 ----
 bin/mk-sitemap                                     |   4 +-
 docs/man1.0.2/index.html                           |  40 ---
 docs/man1.0.2/man3/index.html                      |  47 ---
 docs/man1.0.2/man5/index.html                      |  41 ---
 docs/man1.1.0/index.html                           |  40 ---
 docs/man1.1.0/man1/index.html                      |  44 ---
 docs/man1.1.0/man7/index.html                      |  43 ---
 docs/man1.1.1/man1/index.html                      |  44 ---
 docs/man1.1.1/man3/index.html                      |  48 ----
 docs/man1.1.1/man5/index.html                      |  43 ---
 docs/man1.1.1/man7/index.html                      |  43 ---
 docs/manmaster/index.html                          |  40 ---
 docs/manmaster/man1/index.html                     |  44 ---
 docs/manmaster/man3/index.html                     |  48 ----
 docs/manmaster/man5/index.html                     |  43 ---
 docs/manmaster/man7/index.html                     |  43 ---
 docs/{manpages.html =&gt; manpages.html.tt}           |   7 +-
 docs/{man1.1.1/index.html =&gt; sub-index.html.tt}    |   6 +-
 .../man1/index.html =&gt; sub-man1-index.html.tt}     |   7 +-
 .../man3/index.html =&gt; sub-man3-index.html.tt}     |  10 +-
 .../man5/index.html =&gt; sub-man5-index.html.tt}     |  10 +-
 .../man7/index.html =&gt; sub-man7-index.html.tt}     |  10 +-
 inc/common.tt                                      |   9 +
 news/{changelog.html =&gt; changelog.html.tt}         |   6 +-
 ...openssl-notes.html.in =&gt; openssl-notes.html.tt} |   6 +-
 news/vulnerabilities-0.9.6.html                    |  39 ---
 news/vulnerabilities-0.9.7.html                    |  39 ---
 news/vulnerabilities-0.9.8.html                    |  39 ---
 news/vulnerabilities-1.0.0.html                    |  39 ---
 news/vulnerabilities-1.0.1.html                    |  39 ---
 news/vulnerabilities-1.0.2.html                    |  37 ---
 news/vulnerabilities-1.1.0.html                    |  37 ---
 news/vulnerabilities-1.1.1.html                    |  37 ---
 ...ulnerabilities.html =&gt; vulnerabilities.html.tt} |   2 +-
 source/old/0.9.x/index.html                        |  39 ---
 source/old/1.0.0/index.html                        |  41 ---
 source/old/1.0.1/index.html                        |  41 ---
 source/old/1.0.2/index.html                        |  41 ---
 source/old/1.1.0/index.html                        |  41 ---
 source/old/1.1.1/index.html                        |  41 ---
 source/old/{index.html =&gt; index.html.tt}           |  10 +-
 source/old/{fips/index.html =&gt; sub-index.html.tt}  |   5 +-
 47 files changed, 377 insertions(+), 1436 deletions(-)
 create mode 100755 bin/from-tt
 delete mode 100644 docs/man1.0.2/index.html
 delete mode 100644 docs/man1.0.2/man3/index.html
 delete mode 100644 docs/man1.0.2/man5/index.html
 delete mode 100644 docs/man1.1.0/index.html
 delete mode 100644 docs/man1.1.0/man1/index.html
 delete mode 100644 docs/man1.1.0/man7/index.html
 delete mode 100644 docs/man1.1.1/man1/index.html
 delete mode 100644 docs/man1.1.1/man3/index.html
 delete mode 100644 docs/man1.1.1/man5/index.html
 delete mode 100644 docs/man1.1.1/man7/index.html
 delete mode 100644 docs/manmaster/index.html
 delete mode 100644 docs/manmaster/man1/index.html
 delete mode 100644 docs/manmaster/man3/index.html
 delete mode 100644 docs/manmaster/man5/index.html
 delete mode 100644 docs/manmaster/man7/index.html
 rename docs/{manpages.html =&gt; manpages.html.tt} (78%)
 rename docs/{man1.1.1/index.html =&gt; sub-index.html.tt} (86%)
 rename docs/{man1.0.2/man1/index.html =&gt; sub-man1-index.html.tt} (85%)
 rename docs/{man1.1.0/man3/index.html =&gt; sub-man3-index.html.tt} (84%)
 rename docs/{man1.1.0/man5/index.html =&gt; sub-man5-index.html.tt} (81%)
 rename docs/{man1.0.2/man7/index.html =&gt; sub-man7-index.html.tt} (81%)
 create mode 100644 inc/common.tt
 rename news/{changelog.html =&gt; changelog.html.tt} (89%)
 rename news/{openssl-notes.html.in =&gt; openssl-notes.html.tt} (80%)
 delete mode 100644 news/vulnerabilities-0.9.6.html
 delete mode 100644 news/vulnerabilities-0.9.7.html
 delete mode 100644 news/vulnerabilities-0.9.8.html
 delete mode 100644 news/vulnerabilities-1.0.0.html
 delete mode 100644 news/vulnerabilities-1.0.1.html
 delete mode 100644 news/vulnerabilities-1.0.2.html
 delete mode 100644 news/vulnerabilities-1.1.0.html
 delete mode 100644 news/vulnerabilities-1.1.1.html
 rename news/{vulnerabilities.html =&gt; vulnerabilities.html.tt} (92%)
 delete mode 100644 source/old/0.9.x/index.html
 delete mode 100644 source/old/1.0.0/index.html
 delete mode 100644 source/old/1.0.1/index.html
 delete mode 100644 source/old/1.0.2/index.html
 delete mode 100644 source/old/1.1.0/index.html
 delete mode 100644 source/old/1.1.1/index.html
 rename source/old/{index.html =&gt; index.html.tt} (71%)
 rename source/old/{fips/index.html =&gt; sub-index.html.tt} (87%)

diff --git a/.gitignore b/.gitignore
index 51ee8fc..b307d34 100644
--- a/.gitignore
+++ b/.gitignore
@@ -3,23 +3,15 @@
 *.cross
 blog
 sitemap.txt
-docs/*/apps/*
-!docs/*/apps/index.html
-docs/*/crypto/*
-!docs/*/crypto/index.html
-docs/*/ssl/*
-!docs/*/ssl/index.html
-docs/*/man1/*
-!docs/*/man1/index.html
-docs/*/man3/*
-!docs/*/man3/index.html
-docs/*/man5/*
-!docs/*/man5/index.html
-docs/*/man7/*
-!docs/*/man7/index.html
 community/committers.inc
+community/omc-alumni.inc
+community/omc.inc
+docs/OpenSSL300Design.html
+docs/OpenSSLStrategicArchitecture.html
 docs/faq.inc
 docs/fips.inc
+docs/man*/
+news/changelog.html
 news/changelog.inc
 news/changelog.txt
 news/cl*.txt
@@ -27,13 +19,11 @@ news/newsflash.inc
 news/openssl-*-notes.html
 news/openssl-*-notes.inc
 news/vulnerabilities*.inc
+news/vulnerabilities*.html
 newsflash.inc
 source/*.gz*
 source/*.patch
 source/.htaccess
 source/index.inc
-source/old/*/*.patch
-source/old/*/*.tar.gz*
-source/old/*/*.txt.asc
-source/old/*/index.inc
+source/old/*/
 source/snapshot
diff --git a/Makefile b/Makefile
index 37ffb75..49b9845 100644
--- a/Makefile
+++ b/Makefile
@@ -8,6 +8,23 @@ SNAP = $(CHECKOUTS)/openssl
 ## Where releases are found.
 RELEASEDIR = /var/www/openssl/source
 
+######################################################################
+##
+##  Release series.  These represent our release branches, and are
+##  our foundation for what should be built and how (often generated)
+##
+##  The numbers given here RULE
+##
+
+##  Current series
+SERIES=1.1.1 1.1.0 1.0.2
+##  Older series.  The second type is for source listings
+OLDSERIES=1.0.1 1.0.0 0.9.8 0.9.7 0.9.6
+OLDSERIES2=1.0.1 1.0.0 0.9.x
+##  Current series with newer and older manpage layout
+##  (when the number of old man layout releases drop to none, this goes away)
+NEWMANSERIES=1.1.1
+OLDMANSERIES=1.1.0 1.0.2
 
 # All simple generated files.
 SIMPLE = newsflash.inc sitemap.txt \
@@ -16,31 +33,19 @@ SIMPLE = newsflash.inc sitemap.txt \
 	 docs/faq.inc docs/fips.inc \
 	 docs/OpenSSLStrategicArchitecture.html \
 	 docs/OpenSSL300Design.html \
-         news/changelog.inc news/changelog.txt \
-         news/cl102.txt news/cl110.txt news/cl111.txt \
-         news/openssl-1.0.2-notes.inc \
-         news/openssl-1.1.0-notes.inc \
-         news/openssl-1.1.1-notes.inc \
+	 docs/manpages.html \
+         news/changelog.html \
+	 $(foreach S,$(SERIES),news/openssl-$(S)-notes.inc) \
+	 $(foreach S,$(SERIES),news/openssl-$(S)-notes.html) \
 	 news/newsflash.inc \
 	 news/vulnerabilities.inc \
-	 news/vulnerabilities-1.1.1.inc \
-	 news/vulnerabilities-1.1.0.inc \
-	 news/vulnerabilities-1.0.2.inc \
-	 news/vulnerabilities-1.0.1.inc \
-	 news/vulnerabilities-1.0.0.inc \
-	 news/vulnerabilities-0.9.8.inc \
-	 news/vulnerabilities-0.9.7.inc \
-	 news/vulnerabilities-0.9.6.inc \
+	 news/vulnerabilities.html \
+	 $(foreach S,$(SERIES) $(OLDSERIES),news/vulnerabilities-$(S).inc) \
+	 $(foreach S,$(SERIES) $(OLDSERIES),news/vulnerabilities-$(S).html) \
 	 source/.htaccess \
-	 source/index.inc
-SRCLISTS = \
-	   source/old/0.9.x/index.inc \
-	   source/old/1.0.0/index.inc \
-	   source/old/1.0.1/index.inc \
-	   source/old/1.0.2/index.inc \
-	   source/old/1.1.0/index.inc \
-	   source/old/1.1.1/index.inc \
-	   source/old/fips/index.inc \
+	 source/index.inc \
+	 source/old/index.html
+SRCLISTS = $(foreach S,$(SERIES) $(OLDSERIES2) fips,source/old/$(S)/index.inc source/old/$(S)/index.html)
 
 
 .SUFFIXES: .md .html
@@ -64,37 +69,97 @@ simple: all
 generated: all
 rebuild: all
 
+######################################################################
+##
+##  Man-page building section
+##
+##  This is quite a complex set of rules, because there are many
+##  things that need to be built:
+##
+##  -   The man-pages themselves
+##  -   Apropos-like listings
+##  -   Cross-references between man-pages in different OpenSSL
+##      versions
+##
+##  A lot of the work is made with generated rules.
+
+# makemanpages creates rules for targets like manpages-1.1.1, to
+# build the set of man-pages and indexes of man-pages for the given
+# OpenSSL release (such as 1.1.1)
+#
+# $(1) = input directory in CHECKOUTS, $(2) = release version
 define makemanpages
-	./bin/mk-manpages $(1)/doc $(2) docs/man$(2)
+manpages-$(2):
+	@rm -rf docs/man$(2)
+	@mkdir -p docs/man$(2) \
+		  docs/man$(2)/man1 \
+		  docs/man$(2)/man3 \
+		  docs/man$(2)/man5 \
+		  docs/man$(2)/man7
+	./bin/mk-manpages $(CHECKOUTS)/$(1)/doc $(2) docs/man$(2)
 	./bin/mk-apropos docs/man$(2)/man1 &gt; docs/man$(2)/man1/index.inc
 	./bin/mk-apropos docs/man$(2)/man3 &gt; docs/man$(2)/man3/index.inc
 	./bin/mk-apropos docs/man$(2)/man5 &gt; docs/man$(2)/man5/index.inc
 	./bin/mk-apropos docs/man$(2)/man7 &gt; docs/man$(2)/man7/index.inc
+	./bin/from-tt -d docs/man$(2)/man1 releases='$(SERIES)' release='$(2)' \
+		      &lt; docs/sub-man1-index.html.tt &gt; docs/man$(2)/man1/index.html
+	./bin/from-tt -d docs/man$(2)/man1 releases='$(SERIES)' release='$(2)' \
+		      &lt; docs/sub-man3-index.html.tt &gt; docs/man$(2)/man3/index.html
+	./bin/from-tt -d docs/man$(2)/man1 releases='$(SERIES)' release='$(2)' \
+		      &lt; docs/sub-man5-index.html.tt &gt; docs/man$(2)/man5/index.html
+	./bin/from-tt -d docs/man$(2)/man1 releases='$(SERIES)' release='$(2)' \
+		      &lt; docs/sub-man7-index.html.tt &gt; docs/man$(2)/man7/index.html
+	./bin/from-tt -d docs/man$(2) releases='$(SERIES)' release='$(2)' \
+		      &lt; docs/sub-index.html.tt &gt; docs/man$(2)/index.html
 endef
-define makemanmap
+
+# makeoldmanmap creates a .htaccess for the man-pages of a given OpenSSL
+# release.  This is only needed for OpenSSL releases where the subdirectories
+# of doc/ are apps/, crypto/ and ssl/.  OpenSSL 1.1.1 and later have a
+# different structure and don't need this: man1/, man3/, man5/ and man7/.
+#
+# $(1) = release version
+define makeoldmanmap
+manmap-$(1):
 	./bin/mk-manmap docs/man$(1) &gt; docs/man$(1)/.htaccess
 endef
-manpages: manmaster
-	$(call makemanpages,$(CHECKOUTS)/openssl-1.1.1-stable,1.1.1)
-	$(call makemanpages,$(CHECKOUTS)/openssl-1.1.0-stable,1.1.0)
-	$(call makemanmap,1.1.0)
-	$(call makemanpages,$(CHECKOUTS)/openssl-1.0.2-stable,1.0.2)
-	$(call makemanmap,1.0.2)
 
-manmaster:
-	$(call makemanpages,$(CHECKOUTS)/openssl,master)
+# Now that we have the generating macros in place, let's use them!
+#
+# Start off with creating the 'manpages-master' target, taking the
+# source from $(CHECKOUTS)/openssl/doc
+$(eval $(call makemanpages,openssl,master))
+
+# Next, create 'manpages-x.y.z' for all current releases, taking the
+# source from $(CHECKOUTS)/openssl-x.y.z-stable/doc
+$(foreach S,$(SERIES),$(eval $(call makemanpages,openssl-$(S)-stable,$(S))))
+
+# Finally, create 'manmap-x.y.z' for all releases with the old doc/
+# structure.
+$(foreach S,$(OLDMANSERIES),$(eval $(call makeoldmanmap,$(S))))
+
+manmaster: manpages-master
+manpages: $(foreach S,$(NEWMANSERIES),manpages-$(S)) \
+	  $(foreach S,$(OLDMANSERIES),manpages-$(S) manmap-$(S))
 
 mancross:
-	./bin/mk-mancross
+	./bin/mk-mancross master $(SERIES)
+
+docs/manpages.html: docs/manpages.html.tt
+	@rm -f $@
+	./bin/from-tt releases='master $(SERIES)' docs/manpages.html.tt
 
-## $(SIMPLE) -- SIMPLE GENERATED FILES
+######################################################################
+##
+##  $(SIMPLE) -- SIMPLE GENERATED FILES
+##
 .PHONY: sitemap community/committers.inc community/omc.inc community/omc-alumni.inc
 newsflash.inc: news/newsflash.inc
 	@rm -f $@
 	head -7 $? &gt;$@
 sitemap sitemap.txt:
 	@rm -f sitemap.txt
-	./bin/mk-sitemap &gt; sitemap.txt
+	./bin/mk-sitemap master $(SERIES) &gt; sitemap.txt
 
 community/committers.inc:
 	@rm -f $@
@@ -117,69 +182,83 @@ docs/fips.inc: $(wildcard docs/fips/*) bin/mk-filelist
 news/changelog.inc: news/changelog.txt bin/mk-changelog
 	@rm -f $@
 	./bin/mk-changelog &lt;news/changelog.txt &gt;$@
-news/changelog.txt: $(SNAP)/CHANGES
-	@rm -f $@
-	cp $? $@
-news/cl102.txt: $(CHECKOUTS)/openssl-1.0.2-stable/CHANGES
-	@rm -f $@
-	cp $? $@
-news/cl110.txt: $(CHECKOUTS)/openssl-1.1.0-stable/CHANGES
-	@rm -f $@
-	cp $? $@
-news/cl111.txt: $(CHECKOUTS)/openssl-1.1.1-stable/CHANGES
-	@rm -f $@
-	cp $? $@
-news/openssl-1.0.2-notes.html: news/openssl-notes.html.in
-	@rm -f $@
-	sed -e 's|@VERSION@|1.0.2|g' &lt; $&lt; &gt; $@
-news/openssl-1.1.0-notes.html: news/openssl-notes.html.in
-	@rm -f $@
-	sed -e 's|@VERSION@|1.1.0|g' &lt; $&lt; &gt; $@
-news/openssl-1.1.1-notes.html: news/openssl-notes.html.in
+news/changelog.html: news/changelog.html.tt news/changelog.inc
 	@rm -f $@
-	sed -e 's|@VERSION@|1.1.1|g' &lt; $&lt; &gt; $@
-news/openssl-1.0.2-notes.inc: $(CHECKOUTS)/openssl-1.0.2-stable/NEWS news/openssl-1.0.2-notes.html bin/mk-notes
-	@rm -f $@
-	./bin/mk-notes 1.0.2 &lt; $(CHECKOUTS)/openssl-1.0.2-stable/NEWS &gt; $@
-news/openssl-1.1.0-notes.inc: $(CHECKOUTS)/openssl-1.1.0-stable/NEWS news/openssl-1.1.0-notes.html bin/mk-notes
-	@rm -f $@
-	./bin/mk-notes 1.1.0 &lt; $(CHECKOUTS)/openssl-1.1.0-stable/NEWS &gt; $@
-news/openssl-1.1.1-notes.inc: $(CHECKOUTS)/openssl-1.1.1-stable/NEWS news/openssl-1.1.1-notes.html bin/mk-notes
-	@rm -f $@
-	./bin/mk-notes 1.1.1 &lt; $(CHECKOUTS)/openssl-1.1.1-stable/NEWS &gt; $@
+	./bin/from-tt 'releases=$(SERIES)' $&lt;
+# Additionally, make news/changelog.html depend on clxyz.txt, where xyz
+# comes from the release number x.y.z.  This permits it to be automatically
+# recreated whenever there's a new major release.
+news/changelog.html: $(foreach S,$(SERIES),news/cl$(subst .,,$(S)).txt)
+
+# mknews_changelogtxt creates a target and ruleset for any changelog text
+# file depending on the CHANGES file from the target release.
+#
+# $(1) = output file, $(2) = source directory in CHECKOUTS
+define mknews_changelogtxt
+news/$(1): $(CHECKOUTS)/$(2)/CHANGES
+	@rm -f $$@
+	cp $$? $$@
+endef
+
+# Create the target 'news/changelog.txt', taking the source from
+# $(CHECKOUTS)/openssl/CHANGES
+$(eval $(call mknews_changelogtxt,changelog.txt,openssl))
+
+# Create the targets 'news/clxyz.txt' for all current releases, taking the
+# source from $(CHECKOUTS)/openssl-x.y.z-stable/CHANGES
+$(foreach S,$(SERIES),\
+$(eval $(call mknews_changelogtxt,cl$(subst .,,$(S)).txt,openssl-$(S)-stable)))
+
+# mknews_noteshtml creates two targets and rulesets for creating notes from
+# the NEWS file for each release.  One target is to create a wrapping HTML
+# file from a template, the other is to create the inclusion file with the
+# actual text.
+#
+# $(1) = release version
+define mknews_noteshtml
+news/openssl-$(1)-notes.html: news/openssl-notes.html.tt
+	@rm -f $$@
+	./bin/from-tt -d news release='$(1)' &lt; $$&lt; &gt; $$@
+news/openssl-$(1)-notes.inc: $(CHECKOUTS)/openssl-$(1)-stable/NEWS bin/mk-notes
+	@rm -f $$@
+	./bin/mk-notes $(1) &lt; $(CHECKOUTS)/openssl-$(1)-stable/NEWS &gt; $$@
+endef
+
+# Create the targets 'news/openssl-x.y.z-notes.html' and
+# 'news/openssl-x.y.z-notes.inc' for each release number x.y.z, taking
+# the source from $(CHECKOUTS)/openssl-$(1)-stable/NEWS
+$(foreach S,$(SERIES),$(eval $(call mknews_noteshtml,$(S))))
+
 news/newsflash.inc: news/newsflash.txt
 	sed &lt;$? &gt;$@ \
 	    -e '/^#/d' \
 	    -e 's@^@&lt;tr&gt;&lt;td class=&quot;d&quot;&gt;@' \
 	    -e 's@: @&lt;/td&gt;&lt;td class=&quot;t&quot;&gt;@' \
 	    -e 's@$$@&lt;/td&gt;&lt;/tr&gt;@'
-news/vulnerabilities.inc: bin/mk-cvepage news/vulnerabilities.xml
-	@rm -f $@
-	./bin/mk-cvepage -i news/vulnerabilities.xml &gt; $@
-news/vulnerabilities-1.1.1.inc: bin/mk-cvepage news/vulnerabilities.xml
-	@rm -f $@
-	./bin/mk-cvepage -i news/vulnerabilities.xml -b 1.1.1 &gt; $@
-news/vulnerabilities-1.1.0.inc: bin/mk-cvepage news/vulnerabilities.xml
-	@rm -f $@
-	./bin/mk-cvepage -i news/vulnerabilities.xml -b 1.1.0 &gt; $@
-news/vulnerabilities-1.0.2.inc: bin/mk-cvepage news/vulnerabilities.xml
-	@rm -f $@
-	./bin/mk-cvepage -i news/vulnerabilities.xml -b 1.0.2 &gt; $@
-news/vulnerabilities-1.0.1.inc: bin/mk-cvepage news/vulnerabilities.xml
-	@rm -f $@
-	./bin/mk-cvepage -i news/vulnerabilities.xml -b 1.0.1 &gt; $@
-news/vulnerabilities-1.0.0.inc: bin/mk-cvepage news/vulnerabilities.xml
-	@rm -f $@
-	./bin/mk-cvepage -i news/vulnerabilities.xml -b 1.0.0 &gt; $@
-news/vulnerabilities-0.9.8.inc: bin/mk-cvepage news/vulnerabilities.xml
-	@rm -f $@
-	./bin/mk-cvepage -i news/vulnerabilities.xml -b 0.9.8 &gt; $@
-news/vulnerabilities-0.9.7.inc: bin/mk-cvepage news/vulnerabilities.xml
-	@rm -f $@
-	./bin/mk-cvepage -i news/vulnerabilities.xml -b 0.9.7 &gt; $@
-news/vulnerabilities-0.9.6.inc: bin/mk-cvepage news/vulnerabilities.xml
-	@rm -f $@
-	./bin/mk-cvepage -i news/vulnerabilities.xml -b 0.9.6 &gt; $@
+
+# mknews_vulnerability creates two targets and rulesets for creating
+# vulnerability lists for each release.  One target is to create a wrapping
+# HTML file from a template, the other is to create the inclusion file with
+# the actual text.
+#
+# $(1) = output file mod, $(2) = release version switch, $(3) = release version
+define mknews_vulnerability
+news/vulnerabilities$(1).inc: bin/mk-cvepage news/vulnerabilities.xml
+	@rm -f $$@
+	./bin/mk-cvepage -i news/vulnerabilities.xml $(2) &gt; $$@
+news/vulnerabilities$(1).html: news/vulnerabilities.html.tt bin/from-tt
+	@rm -f $$@
+	./bin/from-tt -d news vulnerabilitiesinc='vulnerabilities$(1).inc' &lt; $$&lt; &gt; $$@
+endef
+
+# Create the main vulnerability index 'news/vulnerabilities.html' and
+# 'news/vulnerabilities.inc'
+$(eval $(call mknews_vulnerability,,))
+
+# Create the vulnerability index 'news/vulnerabilities-x.y.z.html' and
+# 'news/vulnerabilities-x.y.z.inc' for each release x.y.z
+$(foreach S,$(SERIES) $(OLDSERIES),$(eval $(call mknews_vulnerability,-$(S),-b $(S))))
+
 source/.htaccess: $(wildcard source/openssl-*.tar.gz) bin/mk-latest
 	@rm -f @?
 	./bin/mk-latest source &gt;$@
@@ -187,34 +266,41 @@ source/index.inc: $(wildcard $(RELEASEDIR)/openssl-*.tar.gz) bin/mk-filelist
 	@rm -f $@
 	./bin/mk-filelist $(RELEASEDIR) '' 'openssl-*.tar.gz' &gt;$@
 
-## $(SRCLISTS) -- LISTS OF SOURCES
-source/old/0.9.x/index.inc: $(wildcard source/old/0.9.x/*.gz) bin/mk-filelist
-	@rm -f $@
-	./bin/mk-filelist source/old/0.9.x '' '*.gz' &gt;$@
-source/old/1.0.0/index.inc: $(wildcard source/old/1.0.0/*.gz) bin/mk-filelist
-	@rm -f $@
-	./bin/mk-filelist source/old/1.0.0 '' '*.gz' &gt;$@
-source/old/1.0.1/index.inc: $(wildcard source/old/1.0.1/*.gz) bin/mk-filelist
-	@rm -f $@
-	./bin/mk-filelist source/old/1.0.1 '' '*.gz' &gt;$@
-source/old/1.0.2/index.inc: $(wildcard source/old/1.0.2/*.gz) bin/mk-filelist
-	@rm -f $@
-	./bin/mk-filelist source/old/1.0.2 '' '*.gz' &gt;$@
-source/old/1.1.0/index.inc: $(wildcard source/old/1.1.0/*.gz) bin/mk-filelist
-	@rm -f $@
-	./bin/mk-filelist source/old/1.1.0 '' '*.gz' &gt;$@
-source/old/1.1.1/index.inc: $(wildcard source/old/1.1.1/*.gz) bin/mk-filelist
-	@rm -f $@
-	./bin/mk-filelist source/old/1.1.1 '' '*.gz' &gt;$@
-source/old/fips/index.inc: $(wildcard source/old/fips/*.gz) bin/mk-filelist
+######################################################################
+##
+##  $(SRCLISTS) -- LISTS OF SOURCES
+##
+
+# mkoldsourceindex creates two targets and rulesets for creating the
+# list of update tarballs for each release.  One target is to create a
+# wrapping HTML file from a template, the other is to create the
+# inclusion file with the actual text.
+#
+# $(1) = release, $(2) = release title
+define mkoldsourceindex
+source/old/$(1)/index.inc: $(wildcard $(RELEASEDIR)/old/$(1)/*.gz) bin/mk-filelist
+	@rm -f $$@
+	./bin/mk-filelist $(RELEASEDIR)/old/$(1) '' '*.gz' &gt; $$@
+source/old/$(1)/index.html: source/old/sub-index.html.tt bin/from-tt
+	@rm -f $$@
+	./bin/from-tt -d source/old/$(1) \
+		      release='$(1)' releasetitle='Old $(2) Releases' \
+		      &lt; $$&lt; &gt; $$@
+endef
+
+# Create the update tarball index 'source/old/x.y.z/index.html' and
+# 'source/old/x.y.z/index.inc' for each release x.y.z.
+# We also create a list specifically for the old FIPS module, carefully
+# crafting an HTML title with an uppercase 'FIPS' while the subdirectory
+# remains named 'fips'
+$(foreach S,fips $(SERIES) $(OLDSERIES2),$(eval $(call mkoldsourceindex,$(S),$(patsubst fips,FIPS,$(S)))))
+
+source/old/index.html: source/old/index.html.tt bin/from-tt
 	@rm -f $@
-	./bin/mk-filelist source/old/fips '' '*.gz' &gt;$@
+	./bin/from-tt releases='fips $(SERIES) $(OLDSERIES2)' $&lt;
 
 # Because these the indexes of old tarballs will inevitably be newer
 # than the tarballs that are moved into their respective directory,
 # we must declare them phony, or they will not be regenerated when
 # they should.
-.PHONY : \
-	 source/old/1.0.1/index.inc source/old/1.0.2/index.inc \
-	 source/old/1.1.0/index.inc source/old/1.1.1/index.inc \
-	 source/old/fips/index.inc
+.PHONY : $(SRCLISTS)
diff --git a/bin/from-tt b/bin/from-tt
new file mode 100755
index 0000000..e3ddf79
--- /dev/null
+++ b/bin/from-tt
@@ -0,0 +1,123 @@
+#! /bin/bash
+
+HERE=$(cd $(dirname $0); pwd)
+THIS=$(basename $0)
+
+dir=
+
+shortopts='d:h'
+longopts='dir:,help'
+usage=&quot;\
+Usage 1: $THIS [ options ] [ key=value ... ] &lt; file.tt &gt; file
+Usage 2: $THIS [ options ] [ key=value ... ] file.tt ...
+
+Options:
+    -d, --dir=DIR               Directory of the output file
+    -h, --help                  Output this usage and do nothing else
+
+In usage 1, the template is read from standard input and the processing
+result is output to standard output.  In this usage, the --dir option is
+mandatory.
+
+In usage 2, the templates are read from the files given as argument, and
+the processing result for each of them is written to a corresponding file
+without the '.tt' suffix.  All given file names must have the '.tt' suffix.
+
+In both usages, one can also set template variables with with the form
+key=value.  They must come before any file name.&quot;
+
+# Standard getopt calling sequence
+if ! TEMP=$(getopt -o &quot;$shortopts&quot; --long &quot;$longopts&quot; -n $THIS -- &quot;$@&quot;); then
+    echo &gt;&amp;2 &quot;$usage&quot;
+    exit 1
+fi
+eval set -- &quot;$TEMP&quot;
+unset TEMP
+
+# Check the parsed options
+while true; do
+    case &quot;$1&quot; in
+	'-d' | '--dir' )
+	    dir=&quot;$2&quot;
+	    shift 2
+	    continue
+	    ;;
+	'-h' | '--help' )
+	    echo &gt;&amp;2 &quot;$usage&quot;
+	    exit 0
+	    ;;
+	'--' )
+	    shift
+	    break
+	    ;;
+	* )
+	    echo &gt;&amp;2 'Internal error!'
+            echo &gt;&amp;2 &quot;$usage&quot;
+	    exit 1
+	    ;;
+    esac
+done
+
+tpagecmd=&quot;tpage&quot;
+while true; do
+    case &quot;$1&quot; in
+	*=* )
+	    tpagecmd=&quot;$tpagecmd --define '$1'&quot;
+	    shift
+	    ;;
+	* )
+	    break
+	    ;;
+    esac
+done    
+
+# If there are no other arguments, read from stdin, write to stdout.
+# Otherwise, read from the input files and write to corresponding output files.
+if [ $# -eq 0 ]; then
+    if [ -z &quot;$dir&quot; ]; then
+	echo &gt;&amp;2 'Directory must be set with -d / --dir in this mode'
+	exit 1
+    fi
+    (
+	cd $dir
+	( cat $HERE/../inc/common.tt; cat ) | \
+	    eval &quot;$tpagecmd --define 'dir=${dir:-filedir}'&quot;
+    )
+else
+    errfiles=
+    nofiles=
+    for f in &quot;$@&quot;; do
+	base=$(basename &quot;$f&quot; .tt)
+
+	if [ &quot;$base&quot; = &quot;$f&quot; ]; then
+	    errfiles=&quot;$errfiles '$f'&quot;
+	elif [ ! -f &quot;$f&quot; ]; then
+	    nofiles=&quot;$nofiles '$f'&quot;
+	fi
+    done
+    if [ -n &quot;$errfiles&quot; ]; then
+	echo &gt;&amp;2 &quot;Files not ending with .tt:$errfiles&quot;
+    fi
+    if [ -n &quot;$nofiles&quot; ]; then
+	echo &gt;&amp;2 &quot;Files no present:$nofiles&quot;
+    fi
+    if [ -n &quot;$errfiles&quot; -o -n &quot;$nofiles&quot; ]; then
+	exit 1
+    fi
+
+    for f in &quot;$@&quot;; do
+	base=$(basename &quot;$f&quot; .tt)
+	filedir=$(dirname &quot;$f&quot;)
+
+	if [ &quot;$f&quot; != &quot;$base&quot; ]; then
+	    if ! (
+		    cd $filedir
+		    ( cat $HERE/../inc/common.tt; cat $base.tt ) | \
+			eval &quot;$tpagecmd --define 'dir=${dir:-filedir}'&quot; \
+			     &gt; $base
+		); then
+		exit $?
+	    fi
+	fi
+    done
+fi
diff --git a/bin/mk-mancross b/bin/mk-mancross
index e197b06..e76c3b1 100755
--- a/bin/mk-mancross
+++ b/bin/mk-mancross
@@ -1,6 +1,6 @@
 #! /bin/sh
 
-releases=&quot;master 1.1.1 1.1.0 1.0.2&quot;
+releases=&quot;$*&quot;
 
 log () {
     echo &gt;&amp;2 &quot;$@&quot;
diff --git a/bin/mk-manpages b/bin/mk-manpages
index 3b1d32a..b756128 100755
--- a/bin/mk-manpages
+++ b/bin/mk-manpages
@@ -12,21 +12,13 @@ use Pod::Simple::XHTML;
 
 __PACKAGE__-&gt;run(@ARGV);
 
-sub Releases    { return (qw(master 1.1.1 1.1.0 1.0.2)) }
 sub Dirs        { return (qw(apps crypto ssl
                              man1 man3 man5 man7)) }
 sub Dir2Section { return ( apps =&gt; &quot;man1&quot;, crypto =&gt; &quot;man3&quot;, ssl =&gt; &quot;man3&quot; ) }
 
-sub getRelease {
-    my ( $class, $ver ) = @_;
-    my %known = map { $_ =&gt; 1 } $class-&gt;Releases;
-    return @_ != 2 ? %known : defined $known{$ver} ? $ver : undef;
-}
-
 sub run {
     my ( $class, @argv ) = @_;
     my $opt = $class-&gt;process_options(@argv);
-    $class-&gt;cleanup( $opt-&gt;{WwwDir}, $opt-&gt;{RelVer} );
     exit $class-&gt;main( $opt-&gt;{SrcDir}, $opt-&gt;{WwwDir}, $opt-&gt;{RelVer} );
 }
 
@@ -226,44 +218,6 @@ sub error {
     warn(&quot;$prog: $_\n&quot;) for @_;
 }
 
-# Remove all files from a manpage subtree, and leave only
-# the index and the section subdirs.
-sub cleanup {
-    my ( $class, $wwwdir, $release ) = @_;
-    my $idx = File::Spec-&gt;catfile( $wwwdir, &quot;index.html&quot; );
-
-    if ( !-d $wwwdir ) {
-        mkdir($wwwdir) or $class-&gt;die(&quot;mkdir '$wwwdir': $!&quot;);
-    }
-
-    # TBD: was $class-&gt;die
-    $class-&gt;error(&quot;No $idx&quot;) unless ( -f $idx );
-    foreach my $subdir ( $class-&gt;Dirs ) {
-        my $realsubdir = { $class-&gt;Dir2Section }-&gt;{$subdir} // $subdir;
-        my $realsdir = File::Spec-&gt;catfile( $wwwdir, $realsubdir );
-        if ( !-d $realsdir ) {
-            mkdir($realsdir) or $class-&gt;die(&quot;mkdir '$realsdir': $!&quot;);
-            next;
-        }
-
-        my $sdir = File::Spec-&gt;catfile( $wwwdir, $subdir );
-        if ( -d $sdir ) {
-            opendir( my $dh, $sdir ) or $class-&gt;die(&quot;opendir '$sdir': $!&quot;);
-            while ( my $ent = readdir($dh) ) {
-                next if $ent =~ /^\./;
-                next if $realsdir eq $sdir &amp;&amp; $ent =~ /^index.(?:html|inc)$/;
-                my $f = File::Spec-&gt;catfile( $sdir, $ent );
-                unlink($f) or $class-&gt;error(&quot;Can't unlink '$f': $!&quot;);
-            }
-            closedir( $dh );
-
-            if ( $realsubdir ne $subdir ) {
-                rmdir $sdir;
-            }
-        }
-    }
-}
-
 sub process_options {
     my ( $class, @argv ) = @_;
     my %opt;
@@ -298,11 +252,6 @@ sub process_options {
     push( @err, &quot;No documentation directories in $docdir&quot; )
         unless ( @found_dirs );
 
-    # verify release
-    push( @err, &quot;Unknown release '$opt{RelVer}'&quot; )
-      unless ( $class-&gt;getRelease( $opt{RelVer} ) );
-    $class-&gt;die(@err) if @err;
-
     return \%opt;
 }
 
diff --git a/bin/mk-sitemap b/bin/mk-sitemap
index fdfd1b2..1a778e1 100755
--- a/bin/mk-sitemap
+++ b/bin/mk-sitemap
@@ -1,6 +1,8 @@
 #! /usr/bin/perl -w
 use strict;
 
+my @series = @ARGV;
+
 sub
 dodir()
 {
@@ -33,7 +35,7 @@ dodir()
 	$simple =~ <A HREF="../../../mailman/listinfo/openssl-commits.html">s at .</A>*/@@;
 	print &quot;\n&quot;, &quot;\t&quot; x $level, $simple, &quot;/\n&quot;;
 	next if $entry =~ m/secadv/;
-        next if $entry =~ m/man1.0.2|man1.1.0|manmaster/;
+	next if grep { $entry eq &quot;man$_&quot; } @series;
 	&amp;dodir($entry, $level + 1);
     }
 }
diff --git a/docs/man1.0.2/index.html b/docs/man1.0.2/index.html
deleted file mode 100644
index c937ef0..0000000
--- a/docs/man1.0.2/index.html
+++ /dev/null
@@ -1,40 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;Manpages for 1.0.2&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-            The manual pages for the 1.0.2 branch are
-            available here.
-            The OpenSSL documentation is divided into three
-            parts:
-	    &lt;/p&gt;
-            &lt;ul&gt;
-              &lt;li&gt;&lt;a href=&quot;man1&quot;&gt;Commands&lt;/a&gt;&lt;/li&gt;
-              &lt;li&gt;&lt;a href=&quot;man3&quot;&gt;Libraries&lt;/a&gt;&lt;/li&gt;
-              &lt;li&gt;&lt;a href=&quot;man5&quot;&gt;File Formats&lt;/a&gt;&lt;/li&gt;
-              &lt;li&gt;&lt;a href=&quot;man7&quot;&gt;Overviews&lt;/a&gt;&lt;/li&gt;
-            &lt;/ul&gt;
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;&quot;&gt;1.0.2&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
diff --git a/docs/man1.0.2/man3/index.html b/docs/man1.0.2/man3/index.html
deleted file mode 100644
index d5690f6..0000000
--- a/docs/man1.0.2/man3/index.html
+++ /dev/null
@@ -1,47 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;libraries&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-	    This is the OpenSSL API for the SSL and Crypto libraries.
-	    The &lt;a href=&quot;ssl.html&quot;&gt;ssl&lt;/a&gt; and &lt;a href=&quot;crypto.html&quot;&gt;crypto&lt;/a&gt;
-	    manpages are general overviews of those libraries.
-	    &lt;/p&gt;
-
-	    &lt;p&gt;
-            The detailed list is here:
-	    &lt;/p&gt;
-
-	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
-	      &lt;tr&gt;
-		&lt;td&gt;NAME&lt;/td&gt;
-		&lt;td&gt;Description&lt;/td&gt;
-	      &lt;/tr&gt;
-	      &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-	    &lt;/table&gt;
-	    &lt;p&gt;&nbsp;&lt;/p&gt;
-
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.0.2&quot;&gt;1.0.2&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.0.2/man3&quot;&gt;libraries&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
diff --git a/docs/man1.0.2/man5/index.html b/docs/man1.0.2/man5/index.html
deleted file mode 100644
index 651592f..0000000
--- a/docs/man1.0.2/man5/index.html
+++ /dev/null
@@ -1,41 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;file formats&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-	    The detailed list is here:
-	    &lt;/p&gt;
-
-	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
-	      &lt;tr&gt;
-		&lt;td&gt;NAME&lt;/td&gt;
-		&lt;td&gt;Description&lt;/td&gt;
-	      &lt;/tr&gt;
-	      &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-	    &lt;/table&gt;
-	    &lt;p&gt;&nbsp;&lt;/p&gt;
-
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.0.2&quot;&gt;1.0.2&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.0.2/man5&quot;&gt;file formats&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
diff --git a/docs/man1.1.0/index.html b/docs/man1.1.0/index.html
deleted file mode 100644
index de57e64..0000000
--- a/docs/man1.1.0/index.html
+++ /dev/null
@@ -1,40 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;Manpages for 1.1.0&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-            The manual pages for the 1.1.0 branch are
-            available here.
-            The OpenSSL documentation is divided into three
-            parts:
-	    &lt;/p&gt;
-            &lt;ul&gt;
-              &lt;li&gt;&lt;a href=&quot;man1&quot;&gt;Commands&lt;/a&gt;&lt;/li&gt;
-              &lt;li&gt;&lt;a href=&quot;man3&quot;&gt;Libraries&lt;/a&gt;&lt;/li&gt;
-              &lt;li&gt;&lt;a href=&quot;man5&quot;&gt;File Formats&lt;/a&gt;&lt;/li&gt;
-              &lt;li&gt;&lt;a href=&quot;man7&quot;&gt;Overviews&lt;/a&gt;&lt;/li&gt;
-            &lt;/ul&gt;
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;&quot;&gt;1.1.0&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
diff --git a/docs/man1.1.0/man1/index.html b/docs/man1.1.0/man1/index.html
deleted file mode 100644
index c8562a0..0000000
--- a/docs/man1.1.0/man1/index.html
+++ /dev/null
@@ -1,44 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;commands&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-	    The &lt;a href=&quot;openssl.html&quot;&gt;openssl&lt;/a&gt; manpage provides a
-	    general overview of all the commands.
-	    The detailed list is here:
-	    &lt;/p&gt;
-
-	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
-	      &lt;tr&gt;
-		&lt;td&gt;NAME&lt;/td&gt;
-		&lt;td&gt;Description&lt;/td&gt;
-	      &lt;/tr&gt;
-	      &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-	    &lt;/table&gt;
-	    &lt;p&gt;&nbsp;&lt;/p&gt;
-
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.0&quot;&gt;1.1.0&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.0/man1&quot;&gt;commands&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
diff --git a/docs/man1.1.0/man7/index.html b/docs/man1.1.0/man7/index.html
deleted file mode 100644
index d6c8b64..0000000
--- a/docs/man1.1.0/man7/index.html
+++ /dev/null
@@ -1,43 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;commands&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-	    The &lt;a href=&quot;openssl.html&quot;&gt;openssl&lt;/a&gt; manpage provides a
-	    general overview of all the commands.
-	    The detailed list is here:
-	    &lt;/p&gt;
-
-	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
-	      &lt;tr&gt;
-		&lt;td&gt;NAME&lt;/td&gt;
-		&lt;td&gt;Description&lt;/td&gt;
-	      &lt;/tr&gt;
-	      &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-	    &lt;/table&gt;
-	    &lt;p&gt;&nbsp;&lt;/p&gt;
-
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.0&quot;&gt;1.1.0&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.0/man7&quot;&gt;overviews&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
diff --git a/docs/man1.1.1/man1/index.html b/docs/man1.1.1/man1/index.html
deleted file mode 100644
index b008c2b..0000000
--- a/docs/man1.1.1/man1/index.html
+++ /dev/null
@@ -1,44 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;commands&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-	    The &lt;a href=&quot;openssl.html&quot;&gt;openssl&lt;/a&gt; manpage provides a
-	    general overview of all the commands.
-	    The detailed list is here:
-	    &lt;/p&gt;
-
-	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
-	      &lt;tr&gt;
-		&lt;td&gt;NAME&lt;/td&gt;
-		&lt;td&gt;Description&lt;/td&gt;
-	      &lt;/tr&gt;
-	      &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-	    &lt;/table&gt;
-	    &lt;p&gt;&nbsp;&lt;/p&gt;
-
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.1&quot;&gt;1.1.1&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.1/man1&quot;&gt;commands&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
diff --git a/docs/man1.1.1/man3/index.html b/docs/man1.1.1/man3/index.html
deleted file mode 100644
index afe7dd6..0000000
--- a/docs/man1.1.1/man3/index.html
+++ /dev/null
@@ -1,48 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;crypto library&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-	    This is the OpenSSL API for the SSL and Crypto libraries.
-	    The &lt;a href=&quot;../man7/ssl.html&quot;&gt;ssl&lt;/a&gt; and
-	    &lt;a href=&quot;../man7/crypto.html&quot;&gt;crypto&lt;/a&gt; manpages are
-	    general overviews of those libraries.
-	    &lt;/p&gt;
-
-	    &lt;p&gt;
-	    The detailed list is here:
-	    &lt;/p&gt;
-
-	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
-	      &lt;tr&gt;
-		&lt;td&gt;NAME&lt;/td&gt;
-		&lt;td&gt;Description&lt;/td&gt;
-	      &lt;/tr&gt;
-	      &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-	    &lt;/table&gt;
-	    &lt;p&gt;&nbsp;&lt;/p&gt;
-
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.1&quot;&gt;1.1.1&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.1/man3&quot;&gt;libraries&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
diff --git a/docs/man1.1.1/man5/index.html b/docs/man1.1.1/man5/index.html
deleted file mode 100644
index 7d47c8f..0000000
--- a/docs/man1.1.1/man5/index.html
+++ /dev/null
@@ -1,43 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;crypto library&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-            OpenSSL file formats.
-	    The detailed list is here:
-	    &lt;/p&gt;
-
-	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
-	      &lt;tr&gt;
-		&lt;td&gt;NAME&lt;/td&gt;
-		&lt;td&gt;Description&lt;/td&gt;
-	      &lt;/tr&gt;
-	      &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-	    &lt;/table&gt;
-	    &lt;p&gt;&nbsp;&lt;/p&gt;
-
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.1&quot;&gt;1.1.1&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.1/man5&quot;&gt;file formats&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
diff --git a/docs/man1.1.1/man7/index.html b/docs/man1.1.1/man7/index.html
deleted file mode 100644
index 7223213..0000000
--- a/docs/man1.1.1/man7/index.html
+++ /dev/null
@@ -1,43 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;crypto library&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-            OpenSSL overviews.
-	    The detailed list is here:
-	    &lt;/p&gt;
-
-	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
-	      &lt;tr&gt;
-		&lt;td&gt;NAME&lt;/td&gt;
-		&lt;td&gt;Description&lt;/td&gt;
-	      &lt;/tr&gt;
-	      &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-	    &lt;/table&gt;
-	    &lt;p&gt;&nbsp;&lt;/p&gt;
-
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.1&quot;&gt;1.1.1&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.1/man7&quot;&gt;overviews&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
diff --git a/docs/manmaster/index.html b/docs/manmaster/index.html
deleted file mode 100644
index 1cc870f..0000000
--- a/docs/manmaster/index.html
+++ /dev/null
@@ -1,40 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;Manpages for master&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-            The manual pages for the master branch are
-            available here.
-            The OpenSSL documentation is divided into the following
-            sections:
-	    &lt;/p&gt;
-            &lt;ul&gt;
-              &lt;li&gt;&lt;a href=&quot;man1&quot;&gt;Commands&lt;/a&gt;&lt;/li&gt;
-              &lt;li&gt;&lt;a href=&quot;man3&quot;&gt;Libraries&lt;/a&gt;&lt;/li&gt;
-              &lt;li&gt;&lt;a href=&quot;man5&quot;&gt;File Formats&lt;/a&gt;&lt;/li&gt;
-              &lt;li&gt;&lt;a href=&quot;man7&quot;&gt;Overviews&lt;/a&gt;&lt;/li&gt;
-            &lt;/ul&gt;
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;&quot;&gt;master&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
diff --git a/docs/manmaster/man1/index.html b/docs/manmaster/man1/index.html
deleted file mode 100644
index 83a2859..0000000
--- a/docs/manmaster/man1/index.html
+++ /dev/null
@@ -1,44 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;commands&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-	    The &lt;a href=&quot;openssl.html&quot;&gt;openssl&lt;/a&gt; manpage provides a
-	    general overview of all the commands.
-	    The detailed list is here:
-	    &lt;/p&gt;
-
-	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
-	      &lt;tr&gt;
-		&lt;td&gt;NAME&lt;/td&gt;
-		&lt;td&gt;Description&lt;/td&gt;
-	      &lt;/tr&gt;
-	      &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-	    &lt;/table&gt;
-	    &lt;p&gt;&nbsp;&lt;/p&gt;
-
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manmaster&quot;&gt;master&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manmaster/man1&quot;&gt;commands&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
diff --git a/docs/manmaster/man3/index.html b/docs/manmaster/man3/index.html
deleted file mode 100644
index 79ddc60..0000000
--- a/docs/manmaster/man3/index.html
+++ /dev/null
@@ -1,48 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;crypto library&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-	    This is the OpenSSL API for the SSL and Crypto libraries.
-	    The &lt;a href=&quot;../man7/ssl.html&quot;&gt;ssl&lt;/a&gt; and
-	    &lt;a href=&quot;../man7/crypto.html&quot;&gt;crypto&lt;/a&gt; manpages are
-	    general overviews of those libraries.
-	    &lt;/p&gt;
-
-	    &lt;p&gt;
-	    The detailed list is here:
-	    &lt;/p&gt;
-
-	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
-	      &lt;tr&gt;
-		&lt;td&gt;NAME&lt;/td&gt;
-		&lt;td&gt;Description&lt;/td&gt;
-	      &lt;/tr&gt;
-	      &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-	    &lt;/table&gt;
-	    &lt;p&gt;&nbsp;&lt;/p&gt;
-
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manmaster&quot;&gt;master&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manmaster/man3&quot;&gt;libraries&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
diff --git a/docs/manmaster/man5/index.html b/docs/manmaster/man5/index.html
deleted file mode 100644
index 0227046..0000000
--- a/docs/manmaster/man5/index.html
+++ /dev/null
@@ -1,43 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;crypto library&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-            OpenSSL file formats.
-	    The detailed list is here:
-	    &lt;/p&gt;
-
-	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
-	      &lt;tr&gt;
-		&lt;td&gt;NAME&lt;/td&gt;
-		&lt;td&gt;Description&lt;/td&gt;
-	      &lt;/tr&gt;
-	      &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-	    &lt;/table&gt;
-	    &lt;p&gt;&nbsp;&lt;/p&gt;
-
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manmaster&quot;&gt;master&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manmaster/man5&quot;&gt;file formats&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
diff --git a/docs/manmaster/man7/index.html b/docs/manmaster/man7/index.html
deleted file mode 100644
index 9eb7a14..0000000
--- a/docs/manmaster/man7/index.html
+++ /dev/null
@@ -1,43 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-  &lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;crypto library&lt;/h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-            OpenSSL overviews.
-	    The detailed list is here:
-	    &lt;/p&gt;
-
-	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
-	      &lt;tr&gt;
-		&lt;td&gt;NAME&lt;/td&gt;
-		&lt;td&gt;Description&lt;/td&gt;
-	      &lt;/tr&gt;
-	      &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-	    &lt;/table&gt;
-	    &lt;p&gt;&nbsp;&lt;/p&gt;
-
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manmaster&quot;&gt;master&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/manmaster/man7&quot;&gt;overviews&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;/inc/mansidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
-
diff --git a/docs/manpages.html b/docs/manpages.html.tt
similarity index 78%
rename from docs/manpages.html
rename to docs/manpages.html.tt
index d75fec0..28defc3 100644
--- a/docs/manpages.html
+++ b/docs/manpages.html.tt
@@ -13,10 +13,9 @@
             The manual pages for all releases are available online:
 	    &lt;/p&gt;
             &lt;ul&gt;
-              &lt;li&gt;&lt;a href=&quot;manmaster&quot;&gt;master&lt;/a&gt;&lt;/li&gt;
-              &lt;li&gt;&lt;a href=&quot;man1.1.1&quot;&gt;1.1.1&lt;/a&gt;&lt;/li&gt;
-              &lt;li&gt;&lt;a href=&quot;man1.1.0&quot;&gt;1.1.0&lt;/a&gt;&lt;/li&gt;
-              &lt;li&gt;&lt;a href=&quot;man1.0.2&quot;&gt;1.0.2&lt;/a&gt;&lt;/li&gt;
+[% FOREACH release IN releases.split('\s+') -%]
+              &lt;li&gt;&lt;a href=&quot;man[% release %]&quot;&gt;[% release %]&lt;/a&gt;&lt;/li&gt;
+[% END -%]
             &lt;/ul&gt;
 	  &lt;/div&gt;
 	  &lt;footer&gt;
diff --git a/docs/man1.1.1/index.html b/docs/sub-index.html.tt
similarity index 86%
rename from docs/man1.1.1/index.html
rename to docs/sub-index.html.tt
index 49d2b6c..b0b3bb3 100644
--- a/docs/man1.1.1/index.html
+++ b/docs/sub-index.html.tt
@@ -7,10 +7,10 @@
     &lt;div id=&quot;content&quot;&gt;
       &lt;div class=&quot;blog-index&quot;&gt;
 	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;Manpages for 1.1.1&lt;/h2&gt;&lt;/header&gt;
+	  &lt;header&gt;&lt;h2&gt;Manpages for [% release %]&lt;/h2&gt;&lt;/header&gt;
 	  &lt;div class=&quot;entry-content&quot;&gt;
 	    &lt;p&gt;
-            The manual pages for the 1.1.1 branch are
+            The manual pages for the [% release %] branch are
             available here.
             The OpenSSL documentation is divided into the following
             sections:
@@ -26,7 +26,7 @@
 	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
 	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
 	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;&quot;&gt;1.1.1&lt;/a&gt;
+	    : &lt;a href=&quot;&quot;&gt;[% release %]&lt;/a&gt;
 	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
 	  &lt;/footer&gt;
 	&lt;/article&gt;
diff --git a/docs/man1.0.2/man1/index.html b/docs/sub-man1-index.html.tt
similarity index 85%
rename from docs/man1.0.2/man1/index.html
rename to docs/sub-man1-index.html.tt
index 485bdc3..d213130 100644
--- a/docs/man1.0.2/man1/index.html
+++ b/docs/sub-man1-index.html.tt
@@ -7,12 +7,11 @@
     &lt;div id=&quot;content&quot;&gt;
       &lt;div class=&quot;blog-index&quot;&gt;
 	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;commands&lt;/h2&gt;&lt;/header&gt;
+	  &lt;header&gt;&lt;h2&gt;OpenSSL commands&lt;/h2&gt;&lt;/header&gt;
 	  &lt;div class=&quot;entry-content&quot;&gt;
 	    &lt;p&gt;
 	    The &lt;a href=&quot;openssl.html&quot;&gt;openssl&lt;/a&gt; manpage provides a
 	    general overview of all the commands.
-	    The detailed list is here:
 	    &lt;/p&gt;
 
 	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
@@ -29,8 +28,8 @@
 	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
 	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
 	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.0.2&quot;&gt;1.0.2&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.0.2/man1&quot;&gt;commands&lt;/a&gt;
+	    : &lt;a href=&quot;/docs/man[% release %]&quot;&gt;[% release %]&lt;/a&gt;
+	    : &lt;a href=&quot;/docs/man[% release %]/man1&quot;&gt;commands&lt;/a&gt;
 	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
 	  &lt;/footer&gt;
 	&lt;/article&gt;
diff --git a/docs/man1.1.0/man3/index.html b/docs/sub-man3-index.html.tt
similarity index 84%
rename from docs/man1.1.0/man3/index.html
rename to docs/sub-man3-index.html.tt
index 388816a..03aee4f 100644
--- a/docs/man1.1.0/man3/index.html
+++ b/docs/sub-man3-index.html.tt
@@ -7,7 +7,7 @@
     &lt;div id=&quot;content&quot;&gt;
       &lt;div class=&quot;blog-index&quot;&gt;
 	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;libraries&lt;/h2&gt;&lt;/header&gt;
+	  &lt;header&gt;&lt;h2&gt;OpenSSL libraries&lt;/h2&gt;&lt;/header&gt;
 	  &lt;div class=&quot;entry-content&quot;&gt;
 	    &lt;p&gt;
 	    This is the OpenSSL API for the SSL and Crypto libraries.
@@ -16,10 +16,6 @@
 	    general overviews of those libraries.
 	    &lt;/p&gt;
 
-	    &lt;p&gt;
-	    The detailed list is here:
-	    &lt;/p&gt;
-
 	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
 	      &lt;tr&gt;
 		&lt;td&gt;NAME&lt;/td&gt;
@@ -34,8 +30,8 @@
 	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
 	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
 	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.0&quot;&gt;1.1.0&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.0/man3&quot;&gt;libraries&lt;/a&gt;
+	    : &lt;a href=&quot;/docs/man[% release %]&quot;&gt;[% release %]&lt;/a&gt;
+	    : &lt;a href=&quot;/docs/man[% release %]/man3&quot;&gt;libraries&lt;/a&gt;
 	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
 	  &lt;/footer&gt;
 	&lt;/article&gt;
diff --git a/docs/man1.1.0/man5/index.html b/docs/sub-man5-index.html.tt
similarity index 81%
rename from docs/man1.1.0/man5/index.html
rename to docs/sub-man5-index.html.tt
index 8b39715..9cc6826 100644
--- a/docs/man1.1.0/man5/index.html
+++ b/docs/sub-man5-index.html.tt
@@ -7,12 +7,8 @@
     &lt;div id=&quot;content&quot;&gt;
       &lt;div class=&quot;blog-index&quot;&gt;
 	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;overviews&lt;/h2&gt;&lt;/header&gt;
+	  &lt;header&gt;&lt;h2&gt;OpenSSL file formats and conventions&lt;/h2&gt;&lt;/header&gt;
 	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-	    The detailed list is here:
-	    &lt;/p&gt;
-
 	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
 	      &lt;tr&gt;
 		&lt;td&gt;NAME&lt;/td&gt;
@@ -27,8 +23,8 @@
 	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
 	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
 	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.0&quot;&gt;1.1.0&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.1.0/man5&quot;&gt;file formats&lt;/a&gt;
+	    : &lt;a href=&quot;/docs/man[% release %]&quot;&gt;[% release %]&lt;/a&gt;
+	    : &lt;a href=&quot;/docs/man[% release %]/man5&quot;&gt;file formats&lt;/a&gt;
 	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
 	  &lt;/footer&gt;
 	&lt;/article&gt;
diff --git a/docs/man1.0.2/man7/index.html b/docs/sub-man7-index.html.tt
similarity index 81%
rename from docs/man1.0.2/man7/index.html
rename to docs/sub-man7-index.html.tt
index 0b6ebc4..74c6119 100644
--- a/docs/man1.0.2/man7/index.html
+++ b/docs/sub-man7-index.html.tt
@@ -7,12 +7,8 @@
     &lt;div id=&quot;content&quot;&gt;
       &lt;div class=&quot;blog-index&quot;&gt;
 	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;overviews&lt;/h2&gt;&lt;/header&gt;
+	  &lt;header&gt;&lt;h2&gt;OpenSSL overviews&lt;/h2&gt;&lt;/header&gt;
 	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-	    The detailed list is here:
-	    &lt;/p&gt;
-
 	    &lt;table style=&quot;border-spacing: 10px 0;&quot;&gt;
 	      &lt;tr&gt;
 		&lt;td&gt;NAME&lt;/td&gt;
@@ -27,8 +23,8 @@
 	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
 	    : &lt;a href=&quot;/docs&quot;&gt;Documentation&lt;/a&gt;
 	    : &lt;a href=&quot;/docs/manpages.html&quot;&gt;Manpages&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.0.2&quot;&gt;1.0.2&lt;/a&gt;
-	    : &lt;a href=&quot;/docs/man1.0.2/man7&quot;&gt;overviews&lt;/a&gt;
+	    : &lt;a href=&quot;/docs/man[% release %]&quot;&gt;[% release %]&lt;/a&gt;
+	    : &lt;a href=&quot;/docs/man[% release %]/man7&quot;&gt;overviews&lt;/a&gt;
 	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
 	  &lt;/footer&gt;
 	&lt;/article&gt;
diff --git a/inc/common.tt b/inc/common.tt
new file mode 100644
index 0000000..c605810
--- /dev/null
+++ b/inc/common.tt
@@ -0,0 +1,9 @@
+[% # Ensure dir contains no repeated slashes, and no ending slash
+   dir = dir.replace('//+', '/').replace('/$', '');
+   # Calculate the path to the top directory.
+   # It will always have an ending slash.
+   top = &quot;&quot;;
+   IF dir != &quot;.&quot;;
+     top = &quot;../&quot;;
+     top = top.repeat(dir.split(&quot;/&quot;).size);
+   END -%]
diff --git a/news/changelog.html b/news/changelog.html.tt
similarity index 89%
rename from news/changelog.html
rename to news/changelog.html.tt
index fd2c062..95097b7 100644
--- a/news/changelog.html
+++ b/news/changelog.html.tt
@@ -29,8 +29,10 @@
             For other branches, the changelogs are distributed with
             the source, but are also available here:
             &lt;ul&gt;
-              &lt;li&gt;&lt;a href=&quot;cl102.txt&quot;&gt;1.0.2&lt;/a&gt;&lt;/li&gt;
-              &lt;li&gt;&lt;a href=&quot;cl110.txt&quot;&gt;1.1.0&lt;/a&gt;&lt;/li&gt;
+[% FOREACH release IN releases.split('\s+').reverse -%]
+              &lt;li&gt;&lt;a href=&quot;cl[% release.replace('\.', '') %].txt&quot;&gt;[%
+              release %]&lt;/a&gt;&lt;/li&gt;
+[% END -%]
             &lt;/ul&gt;
 	    &lt;!--#include virtual=&quot;changelog.inc&quot; --&gt;
 	  &lt;/div&gt;
diff --git a/news/openssl-notes.html.in b/news/openssl-notes.html.tt
similarity index 80%
rename from news/openssl-notes.html.in
rename to news/openssl-notes.html.tt
index b215835..6d6205f 100644
--- a/news/openssl-notes.html.in
+++ b/news/openssl-notes.html.tt
@@ -9,10 +9,10 @@
     &lt;div id=&quot;content&quot;&gt;
       &lt;div class=&quot;blog-index&quot;&gt;
 	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;OpenSSL @VERSION@ Series Release Notes&lt;h2&gt;&lt;/header&gt;
+	  &lt;header&gt;&lt;h2&gt;OpenSSL [% release %] Series Release Notes&lt;h2&gt;&lt;/header&gt;
 	  &lt;div class=&quot;entry-content&quot;&gt;
 	    &lt;p&gt;
-	    The major changes and known issues for the @VERSION@ branch
+	    The major changes and known issues for the [% release %] branch
 	    of the OpenSSL toolkit are summarised below. The contents
 	    reflect the current state of the &lt;tt&gt;NEWS&lt;/tt&gt; file inside
 	    the git repository.
@@ -22,7 +22,7 @@
 	    More details can be found in the &lt;a href=&quot;changelog.html&quot;&gt;ChangeLog&lt;/a&gt;.
 	    &lt;/p&gt;
 
-	    &lt;!--#include virtual=&quot;<A HREF="../../../mailman/listinfo/openssl-commits.html">openssl- at VERSION</A>@-notes.inc&quot; --&gt;
+	    &lt;!--#include virtual=&quot;openssl-[% release %]-notes.inc&quot; --&gt;
 	  &lt;/div&gt;
 	  &lt;footer&gt;
 	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
diff --git a/news/vulnerabilities-0.9.6.html b/news/vulnerabilities-0.9.6.html
deleted file mode 100644
index 34d4b20..0000000
--- a/news/vulnerabilities-0.9.6.html
+++ /dev/null
@@ -1,39 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;Vulnerabilities&lt;h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-              If you think you have found a security bug in OpenSSL,
-              please &lt;a href=&quot;/community/#securityreports&quot;&gt;report it to us&lt;/a&gt;.
-	    &lt;/p&gt;
-            &lt;h2&gt;Note: Support for OpenSSL 0.9.6 ended and
-              is no longer receiving security updates&lt;/h2&gt;
-            &lt;!--#include virtual=&quot;vulnerabilities-0.9.6.inc&quot; --&gt;
-	    &lt;/p&gt;
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;.&quot;&gt;News&lt;/a&gt;
-            : &lt;a href=&quot;&quot;&gt;Vulnerabilities&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;sidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-
-&lt;/html&gt;
-
diff --git a/news/vulnerabilities-0.9.7.html b/news/vulnerabilities-0.9.7.html
deleted file mode 100644
index 8293333..0000000
--- a/news/vulnerabilities-0.9.7.html
+++ /dev/null
@@ -1,39 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;Vulnerabilities&lt;h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-              If you think you have found a security bug in OpenSSL,
-              please &lt;a href=&quot;/community/#securityreports&quot;&gt;report it to us&lt;/a&gt;.
-	    &lt;/p&gt;
-            &lt;h2&gt;Note: Support for OpenSSL 0.9.7 ended and
-              is no longer receiving security updates&lt;/h2&gt;
-            &lt;!--#include virtual=&quot;vulnerabilities-0.9.7.inc&quot; --&gt;
-	    &lt;/p&gt;
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;.&quot;&gt;News&lt;/a&gt;
-            : &lt;a href=&quot;&quot;&gt;Vulnerabilities&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;sidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-
-&lt;/html&gt;
-
diff --git a/news/vulnerabilities-0.9.8.html b/news/vulnerabilities-0.9.8.html
deleted file mode 100644
index 127624f..0000000
--- a/news/vulnerabilities-0.9.8.html
+++ /dev/null
@@ -1,39 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;Vulnerabilities&lt;h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-              If you think you have found a security bug in OpenSSL,
-              please &lt;a href=&quot;/community/#securityreports&quot;&gt;report it to us&lt;/a&gt;.
-	    &lt;/p&gt;
-            &lt;h2&gt;Note: Support for OpenSSL 0.9.8 ended on 31st December 2015 and
-              is no longer receiving security updates&lt;/h2&gt;
-            &lt;!--#include virtual=&quot;vulnerabilities-0.9.8.inc&quot; --&gt;
-	    &lt;/p&gt;
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;.&quot;&gt;News&lt;/a&gt;
-            : &lt;a href=&quot;&quot;&gt;Vulnerabilities&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;sidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-
-&lt;/html&gt;
-
diff --git a/news/vulnerabilities-1.0.0.html b/news/vulnerabilities-1.0.0.html
deleted file mode 100644
index f0c375d..0000000
--- a/news/vulnerabilities-1.0.0.html
+++ /dev/null
@@ -1,39 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;Vulnerabilities&lt;h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-              If you think you have found a security bug in OpenSSL,
-              please &lt;a href=&quot;/community/#securityreports&quot;&gt;report it to us&lt;/a&gt;.
-	    &lt;/p&gt;
-            &lt;h2&gt;Note: Support for OpenSSL 1.0.0 ended on 31st December 2015 and
-            is no longer receiving security updates&lt;/h2&gt;
-            &lt;!--#include virtual=&quot;vulnerabilities-1.0.0.inc&quot; --&gt;
-	    &lt;/p&gt;
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;.&quot;&gt;News&lt;/a&gt;
-            : &lt;a href=&quot;&quot;&gt;Vulnerabilities&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;sidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-
-&lt;/html&gt;
-
diff --git a/news/vulnerabilities-1.0.1.html b/news/vulnerabilities-1.0.1.html
deleted file mode 100644
index 08302c2..0000000
--- a/news/vulnerabilities-1.0.1.html
+++ /dev/null
@@ -1,39 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;Vulnerabilities&lt;h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-              If you think you have found a security bug in OpenSSL,
-              please &lt;a href=&quot;/community/#securityreports&quot;&gt;report it to us&lt;/a&gt;.
-	    &lt;/p&gt;
-            &lt;h2&gt;Note: Support for OpenSSL 1.0.1 ended on 31st December 2016 and
-            is no longer receiving security updates&lt;/h2&gt;
-            &lt;!--#include virtual=&quot;vulnerabilities-1.0.1.inc&quot; --&gt;
-	    &lt;/p&gt;
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;.&quot;&gt;News&lt;/a&gt;
-            : &lt;a href=&quot;&quot;&gt;Vulnerabilities&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;sidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-
-&lt;/html&gt;
-
diff --git a/news/vulnerabilities-1.0.2.html b/news/vulnerabilities-1.0.2.html
deleted file mode 100644
index 0f1ac3b..0000000
--- a/news/vulnerabilities-1.0.2.html
+++ /dev/null
@@ -1,37 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;Vulnerabilities&lt;h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-              If you think you have found a security bug in OpenSSL,
-              please &lt;a href=&quot;/community/#securityreports&quot;&gt;report it to us&lt;/a&gt;.
-	    &lt;/p&gt;
-            &lt;!--#include virtual=&quot;vulnerabilities-1.0.2.inc&quot; --&gt;
-	    &lt;/p&gt;
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;.&quot;&gt;News&lt;/a&gt;
-            : &lt;a href=&quot;&quot;&gt;Vulnerabilities&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;sidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-
-&lt;/html&gt;
-
diff --git a/news/vulnerabilities-1.1.0.html b/news/vulnerabilities-1.1.0.html
deleted file mode 100644
index 15a62de..0000000
--- a/news/vulnerabilities-1.1.0.html
+++ /dev/null
@@ -1,37 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;Vulnerabilities&lt;h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-              If you think you have found a security bug in OpenSSL,
-              please &lt;a href=&quot;/community/#securityreports&quot;&gt;report it to us&lt;/a&gt;.
-	    &lt;/p&gt;
-            &lt;!--#include virtual=&quot;vulnerabilities-1.1.0.inc&quot; --&gt;
-	    &lt;/p&gt;
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;.&quot;&gt;News&lt;/a&gt;
-            : &lt;a href=&quot;&quot;&gt;Vulnerabilities&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;sidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-
-&lt;/html&gt;
-
diff --git a/news/vulnerabilities-1.1.1.html b/news/vulnerabilities-1.1.1.html
deleted file mode 100644
index db54fa1..0000000
--- a/news/vulnerabilities-1.1.1.html
+++ /dev/null
@@ -1,37 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-
-  &lt;div id=&quot;main&quot;&gt;
-    &lt;div id=&quot;content&quot;&gt;
-      &lt;div class=&quot;blog-index&quot;&gt;
-	&lt;article&gt;
-	  &lt;header&gt;&lt;h2&gt;Vulnerabilities&lt;h2&gt;&lt;/header&gt;
-	  &lt;div class=&quot;entry-content&quot;&gt;
-	    &lt;p&gt;
-              If you think you have found a security bug in OpenSSL,
-              please &lt;a href=&quot;/community/#securityreports&quot;&gt;report it to us&lt;/a&gt;.
-	    &lt;/p&gt;
-            &lt;!--#include virtual=&quot;vulnerabilities-1.1.1.inc&quot; --&gt;
-	    &lt;/p&gt;
-	  &lt;/div&gt;
-	  &lt;footer&gt;
-	    You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-	    : &lt;a href=&quot;.&quot;&gt;News&lt;/a&gt;
-            : &lt;a href=&quot;&quot;&gt;Vulnerabilities&lt;/a&gt;
-	    &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-	  &lt;/footer&gt;
-	&lt;/article&gt;
-      &lt;/div&gt;
-      &lt;!--#include virtual=&quot;sidebar.shtml&quot; --&gt;
-    &lt;/div&gt;
-  &lt;/div&gt;
-
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-
-&lt;/html&gt;
-
diff --git a/news/vulnerabilities.html b/news/vulnerabilities.html.tt
similarity index 92%
rename from news/vulnerabilities.html
rename to news/vulnerabilities.html.tt
index 672b6ec..840ef33 100644
--- a/news/vulnerabilities.html
+++ b/news/vulnerabilities.html.tt
@@ -15,7 +15,7 @@
               If you think you have found a security bug in OpenSSL,
               please &lt;a href=&quot;/community/#securityreports&quot;&gt;report it to us&lt;/a&gt;.
 	    &lt;/p&gt;
-            &lt;!--#include virtual=&quot;vulnerabilities.inc&quot; --&gt;
+            &lt;!--#include virtual=&quot;[% vulnerabilitiesinc %]&quot; --&gt;
 	    &lt;/p&gt;
 	  &lt;/div&gt;
 	  &lt;footer&gt;
diff --git a/source/old/0.9.x/index.html b/source/old/0.9.x/index.html
deleted file mode 100644
index 7a9a2b6..0000000
--- a/source/old/0.9.x/index.html
+++ /dev/null
@@ -1,39 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-&lt;div id=&quot;main&quot;&gt;
-  &lt;div id=&quot;content&quot;&gt;
-    &lt;div class=&quot;blog-index&quot;&gt;
-      &lt;article&gt;
-        &lt;header&gt;&lt;h2&gt;Old 0.9.x Releases&lt;/h2&gt;&lt;/header&gt;
-        &lt;div class=&quot;entry-content&quot;&gt;
-          &lt;p&gt;Here are the old 0.9.x releases.&lt;/p&gt;
-          &lt;table&gt;
-            &lt;tr&gt;
-              &lt;td&gt;KBytes&nbsp;&lt;/td&gt;
-              &lt;td&gt;Date&nbsp;&nbsp;&lt;/td&gt;
-              &lt;td&gt;File&nbsp;&lt;/td&gt;
-            &lt;/tr&gt;
-            &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-          &lt;/table&gt;
-          &lt;p&gt;&nbsp;&lt;/p&gt;
-          &lt;!--#include virtual=&quot;/inc/legalities.shtml&quot; --&gt;
-        &lt;/div&gt;
-        &lt;footer&gt;
-          You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-          : &lt;a href=&quot;/source&quot;&gt;Downloads&lt;/a&gt;
-          : &lt;a href=&quot;/source/old&quot;&gt;Old Releases&lt;/a&gt;
-          : &lt;a href=&quot;&quot;&gt;0.9.x&lt;/a&gt;
-          &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-        &lt;/footer&gt;
-      &lt;/article&gt;
-    &lt;/div&gt;
-    &lt;!--#include virtual=&quot;../../sidebar.shtml&quot; --&gt;
-  &lt;/div&gt;
-
-&lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
diff --git a/source/old/1.0.0/index.html b/source/old/1.0.0/index.html
deleted file mode 100644
index f289fe1..0000000
--- a/source/old/1.0.0/index.html
+++ /dev/null
@@ -1,41 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-&lt;div id=&quot;main&quot;&gt;
-  &lt;div id=&quot;content&quot;&gt;
-    &lt;div class=&quot;blog-index&quot;&gt;
-      &lt;article&gt;
-        &lt;header&gt;&lt;h2&gt;Old 1.0.0 Releases&lt;/h2&gt;&lt;/header&gt;
-        &lt;div class=&quot;entry-content&quot;&gt;
-          &lt;p&gt;Here are the old 1.0.0 releases.&lt;/p&gt;
-          &lt;table&gt;
-            &lt;tr&gt;
-              &lt;td&gt;KBytes&nbsp;&lt;/td&gt;
-              &lt;td&gt;Date&nbsp;&nbsp;&lt;/td&gt;
-              &lt;td&gt;File&nbsp;&lt;/td&gt;
-            &lt;/tr&gt;
-            &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-          &lt;/table&gt;
-          &lt;p&gt;&nbsp;&lt;/p&gt;
-          &lt;!--#include virtual=&quot;/inc/legalities.shtml&quot; --&gt;
-        &lt;/div&gt;
-        &lt;footer&gt;
-          You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-          : &lt;a href=&quot;/source&quot;&gt;Downloads&lt;/a&gt;
-          : &lt;a href=&quot;/source/old&quot;&gt;Old Releases&lt;/a&gt;
-          : &lt;a href=&quot;&quot;&gt;1.0.0&lt;/a&gt;
-          &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-        &lt;/footer&gt;
-      &lt;/article&gt;
-
-
-    &lt;/div&gt;
-    &lt;!--#include virtual=&quot;../../sidebar.shtml&quot; --&gt;
-  &lt;/div&gt;
-
-&lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
diff --git a/source/old/1.0.1/index.html b/source/old/1.0.1/index.html
deleted file mode 100644
index e201ac5..0000000
--- a/source/old/1.0.1/index.html
+++ /dev/null
@@ -1,41 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-&lt;div id=&quot;main&quot;&gt;
-  &lt;div id=&quot;content&quot;&gt;
-    &lt;div class=&quot;blog-index&quot;&gt;
-      &lt;article&gt;
-        &lt;header&gt;&lt;h2&gt;Old 1.0.1 Releases&lt;/h2&gt;&lt;/header&gt;
-        &lt;div class=&quot;entry-content&quot;&gt;
-          &lt;p&gt;Here are the old 1.0.1 releases.&lt;/p&gt;
-          &lt;table&gt;
-            &lt;tr&gt;
-              &lt;td&gt;KBytes&nbsp;&lt;/td&gt;
-              &lt;td&gt;Date&nbsp;&nbsp;&lt;/td&gt;
-              &lt;td&gt;File&nbsp;&lt;/td&gt;
-            &lt;/tr&gt;
-            &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-          &lt;/table&gt;
-          &lt;p&gt;&nbsp;&lt;/p&gt;
-          &lt;!--#include virtual=&quot;/inc/legalities.shtml&quot; --&gt;
-        &lt;/div&gt;
-        &lt;footer&gt;
-          You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-          : &lt;a href=&quot;/source&quot;&gt;Downloads&lt;/a&gt;
-          : &lt;a href=&quot;/source/old&quot;&gt;Old Releases&lt;/a&gt;
-          : &lt;a href=&quot;&quot;&gt;1.0.1&lt;/a&gt;
-          &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-        &lt;/footer&gt;
-      &lt;/article&gt;
-
-
-    &lt;/div&gt;
-    &lt;!--#include virtual=&quot;../../sidebar.shtml&quot; --&gt;
-  &lt;/div&gt;
-
-&lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
diff --git a/source/old/1.0.2/index.html b/source/old/1.0.2/index.html
deleted file mode 100644
index da5007c..0000000
--- a/source/old/1.0.2/index.html
+++ /dev/null
@@ -1,41 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-&lt;div id=&quot;main&quot;&gt;
-  &lt;div id=&quot;content&quot;&gt;
-    &lt;div class=&quot;blog-index&quot;&gt;
-      &lt;article&gt;
-        &lt;header&gt;&lt;h2&gt;Old 1.0.2 Releases&lt;/h2&gt;&lt;/header&gt;
-        &lt;div class=&quot;entry-content&quot;&gt;
-          &lt;p&gt;Here are the old 1.0.2 releases.&lt;/p&gt;
-          &lt;table&gt;
-            &lt;tr&gt;
-              &lt;td&gt;KBytes&nbsp;&lt;/td&gt;
-              &lt;td&gt;Date&nbsp;&nbsp;&lt;/td&gt;
-              &lt;td&gt;File&nbsp;&lt;/td&gt;
-            &lt;/tr&gt;
-            &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-          &lt;/table&gt;
-          &lt;p&gt;&nbsp;&lt;/p&gt;
-          &lt;!--#include virtual=&quot;/inc/legalities.shtml&quot; --&gt;
-        &lt;/div&gt;
-        &lt;footer&gt;
-          You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-          : &lt;a href=&quot;/source&quot;&gt;Downloads&lt;/a&gt;
-          : &lt;a href=&quot;/source/old&quot;&gt;Old Releases&lt;/a&gt;
-          : &lt;a href=&quot;&quot;&gt;1.0.2&lt;/a&gt;
-          &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-        &lt;/footer&gt;
-      &lt;/article&gt;
-
-
-    &lt;/div&gt;
-    &lt;!--#include virtual=&quot;../../sidebar.shtml&quot; --&gt;
-  &lt;/div&gt;
-
-&lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
diff --git a/source/old/1.1.0/index.html b/source/old/1.1.0/index.html
deleted file mode 100644
index e9b4c7a..0000000
--- a/source/old/1.1.0/index.html
+++ /dev/null
@@ -1,41 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-&lt;div id=&quot;main&quot;&gt;
-  &lt;div id=&quot;content&quot;&gt;
-    &lt;div class=&quot;blog-index&quot;&gt;
-      &lt;article&gt;
-        &lt;header&gt;&lt;h2&gt;Old 1.1.0 Releases&lt;/h2&gt;&lt;/header&gt;
-        &lt;div class=&quot;entry-content&quot;&gt;
-          &lt;p&gt;Here are the old 1.1.0 releases.&lt;/p&gt;
-          &lt;table&gt;
-            &lt;tr&gt;
-              &lt;td&gt;KBytes&nbsp;&lt;/td&gt;
-              &lt;td&gt;Date&nbsp;&nbsp;&lt;/td&gt;
-              &lt;td&gt;File&nbsp;&lt;/td&gt;
-            &lt;/tr&gt;
-            &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-          &lt;/table&gt;
-          &lt;p&gt;&nbsp;&lt;/p&gt;
-          &lt;!--#include virtual=&quot;/inc/legalities.shtml&quot; --&gt;
-        &lt;/div&gt;
-        &lt;footer&gt;
-          You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-          : &lt;a href=&quot;/source&quot;&gt;Downloads&lt;/a&gt;
-          : &lt;a href=&quot;/source/old&quot;&gt;Old Releases&lt;/a&gt;
-          : &lt;a href=&quot;&quot;&gt;1.1.0&lt;/a&gt;
-          &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-        &lt;/footer&gt;
-      &lt;/article&gt;
-
-
-    &lt;/div&gt;
-    &lt;!--#include virtual=&quot;../../sidebar.shtml&quot; --&gt;
-  &lt;/div&gt;
-
-&lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
diff --git a/source/old/1.1.1/index.html b/source/old/1.1.1/index.html
deleted file mode 100644
index a9635c4..0000000
--- a/source/old/1.1.1/index.html
+++ /dev/null
@@ -1,41 +0,0 @@
-&lt;!DOCTYPE html&gt;
-&lt;html lang=&quot;en&quot;&gt;
-&lt;!--#include virtual=&quot;/inc/head.shtml&quot; --&gt;
-&lt;body&gt;
-&lt;!--#include virtual=&quot;/inc/banner.shtml&quot; --&gt;
-&lt;div id=&quot;main&quot;&gt;
-  &lt;div id=&quot;content&quot;&gt;
-    &lt;div class=&quot;blog-index&quot;&gt;
-      &lt;article&gt;
-        &lt;header&gt;&lt;h2&gt;Old 1.1.1 Releases&lt;/h2&gt;&lt;/header&gt;
-        &lt;div class=&quot;entry-content&quot;&gt;
-          &lt;p&gt;Here are the old 1.1.1 releases.&lt;/p&gt;
-          &lt;table&gt;
-            &lt;tr&gt;
-              &lt;td&gt;KBytes&nbsp;&lt;/td&gt;
-              &lt;td&gt;Date&nbsp;&nbsp;&lt;/td&gt;
-              &lt;td&gt;File&nbsp;&lt;/td&gt;
-            &lt;/tr&gt;
-            &lt;!--#include virtual=&quot;index.inc&quot; --&gt;
-          &lt;/table&gt;
-          &lt;p&gt;&nbsp;&lt;/p&gt;
-          &lt;!--#include virtual=&quot;/inc/legalities.shtml&quot; --&gt;
-        &lt;/div&gt;
-        &lt;footer&gt;
-          You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
-          : &lt;a href=&quot;/source&quot;&gt;Downloads&lt;/a&gt;
-          : &lt;a href=&quot;/source/old&quot;&gt;Old Releases&lt;/a&gt;
-          : &lt;a href=&quot;&quot;&gt;1.1.1&lt;/a&gt;
-          &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
-        &lt;/footer&gt;
-      &lt;/article&gt;
-
-
-    &lt;/div&gt;
-    &lt;!--#include virtual=&quot;../../sidebar.shtml&quot; --&gt;
-  &lt;/div&gt;
-
-&lt;/div&gt;
-&lt;!--#include virtual=&quot;/inc/footer.shtml&quot; --&gt;
-&lt;/body&gt;
-&lt;/html&gt;
diff --git a/source/old/index.html b/source/old/index.html.tt
similarity index 71%
rename from source/old/index.html
rename to source/old/index.html.tt
index 47163a2..9ff2913 100644
--- a/source/old/index.html
+++ b/source/old/index.html.tt
@@ -11,13 +11,9 @@
         &lt;div class=&quot;entry-content&quot;&gt;
           &lt;p&gt;Here are the old releases.&lt;/p&gt;
           &lt;ul&gt;
-            &lt;li&gt;&lt;a href=&quot;0.9.x&quot;&gt;0.9.x&lt;/a&gt;&lt;/li&gt;
-            &lt;li&gt;&lt;a href=&quot;1.0.0&quot;&gt;1.0.0&lt;/a&gt;&lt;/li&gt;
-            &lt;li&gt;&lt;a href=&quot;1.0.1&quot;&gt;1.0.1&lt;/a&gt;&lt;/li&gt;
-            &lt;li&gt;&lt;a href=&quot;1.0.2&quot;&gt;1.0.2&lt;/a&gt;&lt;/li&gt;
-            &lt;li&gt;&lt;a href=&quot;1.1.0&quot;&gt;1.1.0&lt;/a&gt;&lt;/li&gt;
-            &lt;li&gt;&lt;a href=&quot;1.1.1&quot;&gt;1.1.1&lt;/a&gt;&lt;/li&gt;
-            &lt;li&gt;&lt;a href=&quot;fips&quot;&gt;fips&lt;/a&gt;&lt;/li&gt;
+[% FOREACH release IN releases.split('\s+').reverse -%]
+            &lt;li&gt;&lt;a href=&quot;[% release %]&quot;&gt;[% release %]&lt;/a&gt;&lt;/li&gt;
+[% END -%]
           &lt;/ul&gt;
         &lt;/div&gt;
         &lt;!--#include virtual=&quot;/inc/legalities.shtml&quot; --&gt;
diff --git a/source/old/fips/index.html b/source/old/sub-index.html.tt
similarity index 87%
rename from source/old/fips/index.html
rename to source/old/sub-index.html.tt
index c483b81..5712174 100644
--- a/source/old/fips/index.html
+++ b/source/old/sub-index.html.tt
@@ -7,9 +7,8 @@
   &lt;div id=&quot;content&quot;&gt;
     &lt;div class=&quot;blog-index&quot;&gt;
       &lt;article&gt;
-        &lt;header&gt;&lt;h2&gt;Old FIPS Releases&lt;/h2&gt;&lt;/header&gt;
+        &lt;header&gt;&lt;h2&gt;[% releasetitle %]&lt;/h2&gt;&lt;/header&gt;
         &lt;div class=&quot;entry-content&quot;&gt;
-          &lt;p&gt;Here are the old FIPS releases.&lt;/p&gt;
           &lt;table&gt;
             &lt;tr&gt;
               &lt;td&gt;KBytes&nbsp;&lt;/td&gt;
@@ -25,7 +24,7 @@
           You are here: &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;
           : &lt;a href=&quot;/source&quot;&gt;Downloads&lt;/a&gt;
           : &lt;a href=&quot;/source/old&quot;&gt;Old Releases&lt;/a&gt;
-          : &lt;a href=&quot;&quot;&gt;fips&lt;/a&gt;
+          : &lt;a href=&quot;&quot;&gt;[% release %]&lt;/a&gt;
           &lt;br/&gt;&lt;a href=&quot;/sitemap.txt&quot;&gt;Sitemap&lt;/a&gt;
         &lt;/footer&gt;
       &lt;/article&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022125.html">[web]  master update
</A></li>
	<LI>Next message: <A HREF="022132.html">[web]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22131">[ date ]</a>
              <a href="thread.html#22131">[ thread ]</a>
              <a href="subject.html#22131">[ subject ]</a>
              <a href="author.html#22131">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
