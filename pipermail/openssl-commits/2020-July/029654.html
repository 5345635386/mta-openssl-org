<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2020-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1594848068.982957.3220.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029653.html">
   <LINK REL="Next"  HREF="029655.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl]  master update</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1594848068.982957.3220.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl]  master update">levitte at openssl.org
       </A><BR>
    <I>Wed Jul 15 21:21:08 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="029653.html">[openssl]  master update
</A></li>
        <LI>Next message: <A HREF="029655.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29654">[ date ]</a>
              <a href="thread.html#29654">[ thread ]</a>
              <a href="subject.html#29654">[ subject ]</a>
              <a href="author.html#29654">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  e45d943665e806ff49d06cfbdd566a8e2d57d56d (commit)
      from  5744dacb3a9d785d587afb61831cb1ff2be6ed0d (commit)


- Log -----------------------------------------------------------------
commit e45d943665e806ff49d06cfbdd566a8e2d57d56d
Author: Shane Lontis &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">shane.lontis at oracle.com</A>&gt;
Date:   Wed Jul 1 14:37:32 2020 +1000

    Add FIPS related configuration data to the default openssl application configuration file
    
    Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/12333">https://github.com/openssl/openssl/pull/12333</A>)

-----------------------------------------------------------------------

Summary of changes:
 apps/openssl-vms.cnf | 34 ++++++++++++++++++++++++++++++----
 apps/openssl.cnf     | 34 ++++++++++++++++++++++++++++++----
 doc/man5/config.pod  |  1 +
 3 files changed, 61 insertions(+), 8 deletions(-)

diff --git a/apps/openssl-vms.cnf b/apps/openssl-vms.cnf
index 2420e9c9f5..ca21149efd 100644
--- a/apps/openssl-vms.cnf
+++ b/apps/openssl-vms.cnf
@@ -1,7 +1,9 @@
 #
 # OpenSSL example configuration file.
-# This is mostly being used for generation of certificate requests.
+# See doc/man5/config.pod for more info.
 #
+# This is mostly being used for generation of certificate requests,
+# but may be used for auto loading of providers
 
 # Note that you can include other files from the main configuration
 # file using the .include directive.
@@ -11,9 +13,12 @@
 # defined.
 HOME			= .
 
+ # Use this in order to automatically load providers.
+openssl_conf = openssl_init
+
 # Extra OBJECT IDENTIFIER info:
-#oid_file		= $ENV::HOME/.oid
-oid_section		= new_oids
+# oid_file       = $ENV::HOME/.oid
+oid_section = new_oids
 
 # To use this configuration file with the &quot;-extfile&quot; option of the
 # &quot;openssl x509&quot; utility, name here the section containing the
@@ -23,7 +28,6 @@ oid_section		= new_oids
 # X.509v3 extensions in its main [= default] section.)
 
 [ new_oids ]
-
 # We can add new OIDs in here for use by 'ca', 'req' and 'ts'.
 # Add a simple OID like this:
 # testoid1=1.2.3.4
@@ -35,6 +39,28 @@ tsa_policy1 = 1.2.3.4.1
 tsa_policy2 = 1.2.3.4.5.6
 tsa_policy3 = 1.2.3.4.5.7
 
+# For FIPS
+# Optionally include a file that is generated by the OpenSSL fipsinstall
+# application. This file contains configuration data required by the OpenSSL
+# fips provider. It contains a named section e.g. [fips_sect] which is
+# referenced from the [provider_sect] below.
+# Refer to the OpenSSL security policy for more information.
+# .include fipsmodule.cnf
+
+[openssl_init]
+providers = provider_sect
+
+# List of providers to load
+[provider_sect]
+default = default_sect
+# The fips section name should match the section name inside the
+# included fipsmodule.cnf.
+# fips = fips_sect
+
+[default_sect]
+# activate = 1
+
+
 ####################################################################
 [ ca ]
 default_ca	= CA_default		# The default ca section
diff --git a/apps/openssl.cnf b/apps/openssl.cnf
index 4fd5286d2e..3e8c0cbb2c 100644
--- a/apps/openssl.cnf
+++ b/apps/openssl.cnf
@@ -1,7 +1,9 @@
 #
 # OpenSSL example configuration file.
-# This is mostly being used for generation of certificate requests.
+# See doc/man5/config.pod for more info.
 #
+# This is mostly being used for generation of certificate requests,
+# but may be used for auto loading of providers
 
 # Note that you can include other files from the main configuration
 # file using the .include directive.
@@ -11,9 +13,12 @@
 # defined.
 HOME			= .
 
+ # Use this in order to automatically load providers.
+openssl_conf = openssl_init
+
 # Extra OBJECT IDENTIFIER info:
-#oid_file		= $ENV::HOME/.oid
-oid_section		= new_oids
+# oid_file       = $ENV::HOME/.oid
+oid_section = new_oids
 
 # To use this configuration file with the &quot;-extfile&quot; option of the
 # &quot;openssl x509&quot; utility, name here the section containing the
@@ -23,7 +28,6 @@ oid_section		= new_oids
 # X.509v3 extensions in its main [= default] section.)
 
 [ new_oids ]
-
 # We can add new OIDs in here for use by 'ca', 'req' and 'ts'.
 # Add a simple OID like this:
 # testoid1=1.2.3.4
@@ -35,6 +39,28 @@ tsa_policy1 = 1.2.3.4.1
 tsa_policy2 = 1.2.3.4.5.6
 tsa_policy3 = 1.2.3.4.5.7
 
+# For FIPS
+# Optionally include a file that is generated by the OpenSSL fipsinstall
+# application. This file contains configuration data required by the OpenSSL
+# fips provider. It contains a named section e.g. [fips_sect] which is
+# referenced from the [provider_sect] below.
+# Refer to the OpenSSL security policy for more information.
+# .include fipsmodule.cnf
+
+[openssl_init]
+providers = provider_sect
+
+# List of providers to load
+[provider_sect]
+default = default_sect
+# The fips section name should match the section name inside the
+# included fipsmodule.cnf.
+# fips = fips_sect
+
+[default_sect]
+# activate = 1
+
+
 ####################################################################
 [ ca ]
 default_ca	= CA_default		# The default ca section
diff --git a/doc/man5/config.pod b/doc/man5/config.pod
index 13bd526c49..58948b4b78 100644
--- a/doc/man5/config.pod
+++ b/doc/man5/config.pod
@@ -474,6 +474,7 @@ configuration files using that syntax will have to be modified.
 =head1 SEE ALSO
 
 L&lt;openssl-x509(1)&gt;, L&lt;openssl-req(1)&gt;, L&lt;openssl-ca(1)&gt;,
+L&lt;openssl-fipsinstall(1)&gt;,
 L&lt;ASN1_generate_nconf(3)&gt;,
 L&lt;EVP_set_default_properties(3)&gt;,
 L&lt;CONF_modules_load_file(3)&gt;,
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029653.html">[openssl]  master update
</A></li>
	<LI>Next message: <A HREF="029655.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29654">[ date ]</a>
              <a href="thread.html#29654">[ thread ]</a>
              <a href="subject.html#29654">[ subject ]</a>
              <a href="author.html#29654">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
