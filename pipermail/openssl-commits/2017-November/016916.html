<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2017-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1510796325.216880.27503.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016913.html">
   <LINK REL="Next"  HREF="016929.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  master update</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1510796325.216880.27503.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl-commits] [openssl]  master update">levitte at openssl.org
       </A><BR>
    <I>Thu Nov 16 01:38:45 UTC 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="016913.html">[openssl-commits] [openssl]  master update
</A></li>
        <LI>Next message: <A HREF="016929.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16916">[ date ]</a>
              <a href="thread.html#16916">[ thread ]</a>
              <a href="subject.html#16916">[ subject ]</a>
              <a href="author.html#16916">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  8e4ec5b2e7c9a5d12c348b2a3430c4b51ab041c5 (commit)
       via  be63fc1223579e7eb4ff747bfbd4b4fd3b0b01ea (commit)
       via  d1453d60a58b3e5de24a71d6fa65938629c144c8 (commit)
       via  e6cccb5f0523f5a61f5d963ca1708d02e3e83ccc (commit)
      from  4ff71d6740adde74acfa7d017fc2257be831caf3 (commit)


- Log -----------------------------------------------------------------
commit 8e4ec5b2e7c9a5d12c348b2a3430c4b51ab041c5
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Thu Nov 16 01:12:11 2017 +0100

    Modify expected output of a CRL to match the changed printout
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/4746">https://github.com/openssl/openssl/pull/4746</A>)

commit be63fc1223579e7eb4ff747bfbd4b4fd3b0b01ea
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Thu Nov 16 01:10:44 2017 +0100

    Add padding spaces before printing signature algorithm for CRLs output
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/4746">https://github.com/openssl/openssl/pull/4746</A>)

commit d1453d60a58b3e5de24a71d6fa65938629c144c8
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Thu Nov 16 01:09:50 2017 +0100

    Modify expected output of a certificate to match the changed printout
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/4746">https://github.com/openssl/openssl/pull/4746</A>)

commit e6cccb5f0523f5a61f5d963ca1708d02e3e83ccc
Author: Yutian Li &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">hotpxless at gmail.com</A>&gt;
Date:   Tue Aug 30 11:17:28 2016 +0800

    Add padding spaces before printing algo.
    
    CLA: trivial
    
    Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">paul.dale at oracle.com</A>&gt;
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tjh at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/1513">https://github.com/openssl/openssl/pull/1513</A>)

-----------------------------------------------------------------------

Summary of changes:
 crypto/x509/t_crl.c          | 1 +
 crypto/x509/t_x509.c         | 3 +++
 test/certs/cyrillic.msb      | 2 +-
 test/certs/cyrillic.utf8     | 2 +-
 test/certs/cyrillic_crl.utf8 | 2 +-
 5 files changed, 7 insertions(+), 3 deletions(-)

diff --git a/crypto/x509/t_crl.c b/crypto/x509/t_crl.c
index e675669..8e26291 100644
--- a/crypto/x509/t_crl.c
+++ b/crypto/x509/t_crl.c
@@ -53,6 +53,7 @@ int X509_CRL_print_ex(BIO *out, X509_CRL *x, unsigned long nmflag)
     else
         BIO_printf(out, &quot;%8sVersion unknown (%ld)\n&quot;, &quot;&quot;, l);
     X509_CRL_get0_signature(x, &amp;sig, &amp;sig_alg);
+    BIO_puts(out, &quot;    &quot;);
     X509_signature_print(out, sig_alg, NULL);
     BIO_printf(out, &quot;%8sIssuer: &quot;, &quot;&quot;);
     X509_NAME_print_ex(out, X509_CRL_get_issuer(x), 0, nmflag);
diff --git a/crypto/x509/t_x509.c b/crypto/x509/t_x509.c
index ba6f919..2ad7e63 100644
--- a/crypto/x509/t_x509.c
+++ b/crypto/x509/t_x509.c
@@ -119,6 +119,9 @@ int X509_print_ex(BIO *bp, X509 *x, unsigned long nmflags,
 
     if (!(cflag &amp; X509_FLAG_NO_SIGNAME)) {
         const X509_ALGOR *tsig_alg = X509_get0_tbs_sigalg(x);
+
+        if (BIO_puts(bp, &quot;    &quot;) &lt;= 0)
+            goto err;
         if (X509_signature_print(bp, tsig_alg, NULL) &lt;= 0)
             goto err;
     }
diff --git a/test/certs/cyrillic.msb b/test/certs/cyrillic.msb
index 87f76cb..ec58ac9 100644
--- a/test/certs/cyrillic.msb
+++ b/test/certs/cyrillic.msb
@@ -3,7 +3,7 @@ Certificate:
         Version: 3 (0x2)
         Serial Number:
             be:47:3c:53:a6:2a:c0:3a
-    Signature Algorithm: sha256WithRSAEncryption
+        Signature Algorithm: sha256WithRSAEncryption
         Issuer: C=RU, ST=\U041C\U043E\U0441\U043A\U0432\U0430, L=\U041C\U043E\U0441\U043A\U0432\U0430, O=\U0414\U043C\U0438\U0442\U0440\U0438\U0439 \U0411\U0435\U043B\U044F\U0432\U0441\U043A\U0438\U0439, OU=\U042F, CN=Dmitry Belyavskiy, emailAddress=<A HREF="../../../mailman/listinfo/openssl-commits.html">beldmit at example.com</A>
         Validity
             Not Before: Feb 21 19:35:22 2017 GMT
diff --git a/test/certs/cyrillic.utf8 b/test/certs/cyrillic.utf8
index 6eda733..2096e4f 100644
--- a/test/certs/cyrillic.utf8
+++ b/test/certs/cyrillic.utf8
@@ -3,7 +3,7 @@ Certificate:
         Version: 3 (0x2)
         Serial Number:
             be:47:3c:53:a6:2a:c0:3a
-    Signature Algorithm: sha256WithRSAEncryption
+        Signature Algorithm: sha256WithRSAEncryption
         Issuer: C=RU, ST=&#1052;&#1086;&#1089;&#1082;&#1074;&#1072;, L=&#1052;&#1086;&#1089;&#1082;&#1074;&#1072;, O=&#1044;&#1084;&#1080;&#1090;&#1088;&#1080;&#1081; &#1041;&#1077;&#1083;&#1103;&#1074;&#1089;&#1082;&#1080;&#1081;, OU=&#1071;, CN=Dmitry Belyavskiy, emailAddress=<A HREF="../../../mailman/listinfo/openssl-commits.html">beldmit at example.com</A>
         Validity
             Not Before: Feb 21 19:35:22 2017 GMT
diff --git a/test/certs/cyrillic_crl.utf8 b/test/certs/cyrillic_crl.utf8
index 07dcf75..e55c549 100644
--- a/test/certs/cyrillic_crl.utf8
+++ b/test/certs/cyrillic_crl.utf8
@@ -1,6 +1,6 @@
 Certificate Revocation List (CRL):
         Version 2 (0x1)
-    Signature Algorithm: sha256WithRSAEncryption
+        Signature Algorithm: sha256WithRSAEncryption
         Issuer: C=RU, ST=&#1052;&#1086;&#1089;&#1082;&#1074;&#1072;, O=&#1071;, OU=&#1071;, CN=&#1044;&#1084;&#1080;&#1090;&#1088;&#1080;&#1081; &#1041;&#1077;&#1083;&#1103;&#1074;&#1089;&#1082;&#1080;&#1081;, emailAddress=<A HREF="../../../mailman/listinfo/openssl-commits.html">beldmit at example.com</A>
         Last Update: Apr 24 13:25:31 2017 GMT
         Next Update: May 24 13:25:31 2017 GMT
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016913.html">[openssl-commits] [openssl]  master update
</A></li>
	<LI>Next message: <A HREF="016929.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16916">[ date ]</a>
              <a href="thread.html#16916">[ thread ]</a>
              <a href="subject.html#16916">[ subject ]</a>
              <a href="author.html#16916">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
