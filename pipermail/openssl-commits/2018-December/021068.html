<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2018-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1544445787.758947.2569.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021066.html">
   <LINK REL="Next"  HREF="021069.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  master update</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1544445787.758947.2569.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl-commits] [openssl]  master update">levitte at openssl.org
       </A><BR>
    <I>Mon Dec 10 12:43:07 UTC 2018</I>
    <P><UL>
        <LI>Previous message: <A HREF="021066.html">[openssl-commits] [openssl]  master update
</A></li>
        <LI>Next message: <A HREF="021069.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21068">[ date ]</a>
              <a href="thread.html#21068">[ thread ]</a>
              <a href="subject.html#21068">[ subject ]</a>
              <a href="author.html#21068">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  d1c87578a29b9b6506ff8c11bdf3e5d63f784965 (commit)
      from  2bafe6cfeda5dc27fbc4c17cd351063872e0c0fd (commit)


- Log -----------------------------------------------------------------
commit d1c87578a29b9b6506ff8c11bdf3e5d63f784965
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Mon Dec 10 11:37:19 2018 +0100

    VMS: fix library compatibility settings in util/mkdef.pl
    
    The regexp to parse the incoming version number was flawed, and since
    we allow ourselves to add missing APIs in PATCH releases, the
    compatibility settings still need to include the PATCH part of the
    version number.
    
    Reviewed-by: Matthias St. Pierre &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">Matthias.St.Pierre at ncp-e.com</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/7858">https://github.com/openssl/openssl/pull/7858</A>)

-----------------------------------------------------------------------

Summary of changes:
 util/mkdef.pl | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/util/mkdef.pl b/util/mkdef.pl
index 469bc25..189e5b3 100755
--- a/util/mkdef.pl
+++ b/util/mkdef.pl
@@ -386,7 +386,9 @@ _____
 _____
 
     if (defined $version) {
-        my ($libvmajor, $libvminor) = $version =~ /^(\d+)_(\d+)$/;
+        $version =~ /^(\d+)\.(\d+)\.(\d+)/;
+        my $libvmajor = $1;
+        my $libvminor = $2 * 100 + $3;
         print &lt;&lt;&quot;_____&quot;;
 GSMATCH=LEQUAL,$libvmajor,$libvminor;
 _____
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021066.html">[openssl-commits] [openssl]  master update
</A></li>
	<LI>Next message: <A HREF="021069.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21068">[ date ]</a>
              <a href="thread.html#21068">[ thread ]</a>
              <a href="subject.html#21068">[ subject ]</a>
              <a href="author.html#21068">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
