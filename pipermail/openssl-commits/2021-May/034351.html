<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2021-May/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1621520736.675460.5711.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034350.html">
   <LINK REL="Next"  HREF="034352.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl]  master update</H1>
    <B>dev at ddvo.net</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1621520736.675460.5711.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl]  master update">dev at ddvo.net
       </A><BR>
    <I>Thu May 20 14:25:36 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="034350.html">[openssl]  master update
</A></li>
        <LI>Next message: <A HREF="034352.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34351">[ date ]</a>
              <a href="thread.html#34351">[ thread ]</a>
              <a href="subject.html#34351">[ subject ]</a>
              <a href="author.html#34351">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  14d3bb06c9c11b3e13c64611913757c27bc057f2 (commit)
       via  359efeac3f9b99c5f734b90db8a4c5bfadb7323a (commit)
       via  9c1582807b535e5b8499897c6e74fec48440c4fe (commit)
       via  414823d2de6f370cf2102f3418780a428803a70f (commit)
       via  5be56c490e4f34b4f592a692109563ea991ac6c7 (commit)
      from  ee56cec7332ca2c77ee425c544304ce25475db1c (commit)


- Log -----------------------------------------------------------------
commit 14d3bb06c9c11b3e13c64611913757c27bc057f2
Author: Dr. David von Oheimb &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">David.von.Oheimb at siemens.com</A>&gt;
Date:   Wed May 19 09:38:20 2021 +0200

    util/find-doc-nits: Improve helpstr pattern matching
    
    Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/15299">https://github.com/openssl/openssl/pull/15299</A>)

commit 359efeac3f9b99c5f734b90db8a4c5bfadb7323a
Author: Dr. David von Oheimb &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">David.von.Oheimb at siemens.com</A>&gt;
Date:   Mon May 17 11:04:40 2021 +0200

    DOC: Fix nits found by new check on SYNOPSIS and OPTIONS consistency
    
    Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/15299">https://github.com/openssl/openssl/pull/15299</A>)

commit 9c1582807b535e5b8499897c6e74fec48440c4fe
Author: Dr. David von Oheimb &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">David.von.Oheimb at siemens.com</A>&gt;
Date:   Sun May 16 15:38:19 2021 +0200

    find-doc-nits: Check that man1 SYNOPSIS and OPTIONS contain same options
    
    Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/15299">https://github.com/openssl/openssl/pull/15299</A>)

commit 414823d2de6f370cf2102f3418780a428803a70f
Author: Dr. David von Oheimb &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">David.von.Oheimb at siemens.com</A>&gt;
Date:   Sun May 16 12:48:50 2021 +0200

    find-doc-nits: Add -m option allowing to select on which of man1,man3,man5,man7 to focus on
    
    Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/15299">https://github.com/openssl/openssl/pull/15299</A>)

commit 5be56c490e4f34b4f592a692109563ea991ac6c7
Author: Dr. David von Oheimb &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">David.von.Oheimb at siemens.com</A>&gt;
Date:   Sun May 16 12:12:32 2021 +0200

    find-doc-nits: Minor improvements of help and diagnostic output
    
    Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/15299">https://github.com/openssl/openssl/pull/15299</A>)

-----------------------------------------------------------------------

Summary of changes:
 apps/CA.pl.in                    |  6 +--
 apps/s_server.c                  | 12 +++---
 apps/srp.c                       |  4 +-
 doc/man1/CA.pl.pod               |  8 ++--
 doc/man1/openssl-ec.pod.in       |  4 ++
 doc/man1/openssl-enc.pod.in      |  4 ++
 doc/man1/openssl-ocsp.pod.in     |  7 +++-
 doc/man1/openssl-pkcs8.pod.in    |  4 ++
 doc/man1/openssl-s_server.pod.in | 81 ++++++++++++++++++++++++++++++++++++++--
 doc/man1/openssl-speed.pod.in    |  8 ++++
 doc/man1/openssl-srp.pod.in      | 26 ++++++++++++-
 doc/man1/openssl-ts.pod.in       | 14 ++++++-
 doc/perlvars.pm                  | 13 ++++---
 util/find-doc-nits               | 41 ++++++++++++++------
 14 files changed, 193 insertions(+), 39 deletions(-)

diff --git a/apps/CA.pl.in b/apps/CA.pl.in
index c0afb96716..6d1de16516 100644
--- a/apps/CA.pl.in
+++ b/apps/CA.pl.in
@@ -122,9 +122,9 @@ if ( $WHAT =~ /^(-\?|-h|-help)$/ ) {
     print STDERR &lt;&lt;EOF;
 Usage:
     CA.pl -newcert | -newreq | -newreq-nodes | -xsign | -sign | -signCA | -signcert | -crl | -newca [-extra-cmd parameter]
-    CA.pl -pkcs12 [-extra-pkcs12 parameter] [certname]
-    CA.pl -verify [-extra-verify parameter] certfile ...
-    CA.pl -revoke [-extra-ca parameter] certfile [reason]
+    CA.pl -pkcs12 [certname]
+    CA.pl -verify certfile ...
+    CA.pl -revoke certfile [reason]
 EOF
     exit 0;
 }
diff --git a/apps/s_server.c b/apps/s_server.c
index 292ffbe762..0ff436be1e 100644
--- a/apps/s_server.c
+++ b/apps/s_server.c
@@ -718,7 +718,7 @@ const OPTIONS s_server_options[] = {
     OPT_SECTION(&quot;General&quot;),
     {&quot;help&quot;, OPT_HELP, '-', &quot;Display this summary&quot;},
     {&quot;ssl_config&quot;, OPT_SSL_CONFIG, 's',
-     &quot;Configure SSL_CTX using the configuration 'val'&quot;},
+     &quot;Configure SSL_CTX using the given configuration value&quot;},
 #ifndef OPENSSL_NO_SSL_TRACE
     {&quot;trace&quot;, OPT_TRACE, '-', &quot;trace protocol messages&quot;},
 #endif
@@ -786,7 +786,7 @@ const OPTIONS s_server_options[] = {
     {&quot;servername&quot;, OPT_SERVERNAME, 's',
      &quot;Servername for HostName TLS extension&quot;},
     {&quot;servername_fatal&quot;, OPT_SERVERNAME_FATAL, '-',
-     &quot;mismatch send fatal alert (default warning alert)&quot;},
+     &quot;On servername mismatch send fatal alert (default warning alert)&quot;},
     {&quot;nbio_test&quot;, OPT_NBIO_TEST, '-', &quot;Test with the non-blocking test bio&quot;},
     {&quot;crlf&quot;, OPT_CRLF, '-', &quot;Convert LF from terminal into CRLF&quot;},
     {&quot;quiet&quot;, OPT_QUIET, '-', &quot;No server output&quot;},
@@ -823,13 +823,13 @@ const OPTIONS s_server_options[] = {
      &quot;use URI as certificate store to verify CA certificate&quot;},
     {&quot;no_cache&quot;, OPT_NO_CACHE, '-', &quot;Disable session cache&quot;},
     {&quot;ext_cache&quot;, OPT_EXT_CACHE, '-',
-     &quot;Disable internal cache, setup and use external cache&quot;},
+     &quot;Disable internal cache, set up and use external cache&quot;},
     {&quot;verify_return_error&quot;, OPT_VERIFY_RET_ERROR, '-',
      &quot;Close connection on verification error&quot;},
     {&quot;verify_quiet&quot;, OPT_VERIFY_QUIET, '-',
      &quot;No verify output except verify errors&quot;},
-    {&quot;ign_eof&quot;, OPT_IGN_EOF, '-', &quot;ignore input eof (default when -quiet)&quot;},
-    {&quot;no_ign_eof&quot;, OPT_NO_IGN_EOF, '-', &quot;Do not ignore input eof&quot;},
+    {&quot;ign_eof&quot;, OPT_IGN_EOF, '-', &quot;Ignore input EOF (default when -quiet)&quot;},
+    {&quot;no_ign_eof&quot;, OPT_NO_IGN_EOF, '-', &quot;Do not ignore input EOF&quot;},
 
 #ifndef OPENSSL_NO_OCSP
     OPT_SECTION(&quot;OCSP&quot;),
@@ -872,7 +872,7 @@ const OPTIONS s_server_options[] = {
     OPT_SECTION(&quot;Network&quot;),
     {&quot;nbio&quot;, OPT_NBIO, '-', &quot;Use non-blocking IO&quot;},
     {&quot;timeout&quot;, OPT_TIMEOUT, '-', &quot;Enable timeouts&quot;},
-    {&quot;mtu&quot;, OPT_MTU, 'p', &quot;Set link layer MTU&quot;},
+    {&quot;mtu&quot;, OPT_MTU, 'p', &quot;Set link-layer MTU&quot;},
     {&quot;read_buf&quot;, OPT_READ_BUF, 'p',
      &quot;Default read buffer size to be used for connections&quot;},
     {&quot;split_send_frag&quot;, OPT_SPLIT_SEND_FRAG, 'p',
diff --git a/apps/srp.c b/apps/srp.c
index aad08fb229..48b99da2af 100644
--- a/apps/srp.c
+++ b/apps/srp.c
@@ -209,8 +209,8 @@ const OPTIONS srp_options[] = {
 #endif
 
     OPT_SECTION(&quot;Action&quot;),
-    {&quot;add&quot;, OPT_ADD, '-', &quot;Add a user and srp verifier&quot;},
-    {&quot;modify&quot;, OPT_MODIFY, '-', &quot;Modify the srp verifier of an existing user&quot;},
+    {&quot;add&quot;, OPT_ADD, '-', &quot;Add a user and SRP verifier&quot;},
+    {&quot;modify&quot;, OPT_MODIFY, '-', &quot;Modify the SRP verifier of an existing user&quot;},
     {&quot;delete&quot;, OPT_DELETE, '-', &quot;Delete user from verifier file&quot;},
     {&quot;list&quot;, OPT_LIST, '-', &quot;List users&quot;},
 
diff --git a/doc/man1/CA.pl.pod b/doc/man1/CA.pl.pod
index aa2e0058cc..6af02cf59a 100644
--- a/doc/man1/CA.pl.pod
+++ b/doc/man1/CA.pl.pod
@@ -23,11 +23,11 @@ B&lt;-crl&gt; |
 B&lt;-newca&gt;
 [B&lt;-extra-I&lt;cmd&gt;&gt; I&lt;parameter&gt;]
 
-B&lt;CA.pl&gt; B&lt;-pkcs12&gt; [B&lt;-extra-pkcs12&gt; I&lt;parameter&gt;] [I&lt;certname&gt;]
+B&lt;CA.pl&gt; B&lt;-pkcs12&gt; [I&lt;certname&gt;]
 
-B&lt;CA.pl&gt; B&lt;-verify&gt; [B&lt;-extra-verify&gt; I&lt;parameter&gt;] I&lt;certfile&gt; ...
+B&lt;CA.pl&gt; B&lt;-verify&gt; I&lt;certfile&gt; ...
 
-B&lt;CA.pl&gt; B&lt;-revoke&gt; [B&lt;-extra-ca&gt; I&lt;parameter&gt;] I&lt;certfile&gt; [I&lt;reason&gt;]
+B&lt;CA.pl&gt; B&lt;-revoke&gt; I&lt;certfile&gt; [I&lt;reason&gt;]
 
 =head1 DESCRIPTION
 
@@ -57,7 +57,7 @@ the correct path of the configuration file.
 
 =over 4
 
-=item B&lt;?&gt;, B&lt;-h&gt;, B&lt;-help&gt;
+=item B&lt;-?&gt;, B&lt;-h&gt;, B&lt;-help&gt;
 
 Prints a usage message.
 
diff --git a/doc/man1/openssl-ec.pod.in b/doc/man1/openssl-ec.pod.in
index e38e405934..8696701257 100644
--- a/doc/man1/openssl-ec.pod.in
+++ b/doc/man1/openssl-ec.pod.in
@@ -100,6 +100,10 @@ Prints out the public, private key components and parameters.
 
 This option prevents output of the encoded version of the key.
 
+=item B&lt;-param_out&gt;
+
+Print the elliptic curve parameters.
+
 =item B&lt;-pubin&gt;
 
 By default, a private key is read from the input file. With this option a
diff --git a/doc/man1/openssl-enc.pod.in b/doc/man1/openssl-enc.pod.in
index 5c94f49173..f424358ab3 100644
--- a/doc/man1/openssl-enc.pod.in
+++ b/doc/man1/openssl-enc.pod.in
@@ -54,6 +54,10 @@ either by itself or in addition to the encryption or decryption.
 
 =over 4
 
+=item B&lt;-I&lt;cipher&gt;&gt;
+
+The cipher to use.
+
 =item B&lt;-help&gt;
 
 Print out a usage message.
diff --git a/doc/man1/openssl-ocsp.pod.in b/doc/man1/openssl-ocsp.pod.in
index 0aa06834a9..0116feeaae 100644
--- a/doc/man1/openssl-ocsp.pod.in
+++ b/doc/man1/openssl-ocsp.pod.in
@@ -14,6 +14,7 @@ B&lt;openssl&gt; B&lt;ocsp&gt;
 [B&lt;-out&gt; I&lt;file&gt;]
 [B&lt;-issuer&gt; I&lt;file&gt;]
 [B&lt;-cert&gt; I&lt;file&gt;]
+[B&lt;-no_certs&gt;]
 [B&lt;-serial&gt; I&lt;n&gt;]
 [B&lt;-signer&gt; I&lt;file&gt;]
 [B&lt;-signkey&gt; I&lt;file&gt;]
@@ -23,7 +24,6 @@ B&lt;openssl&gt; B&lt;ocsp&gt;
 [B&lt;-req_text&gt;]
 [B&lt;-resp_text&gt;]
 [B&lt;-text&gt;]
-[B&lt;-no_certs&gt;]
 [B&lt;-reqout&gt; I&lt;file&gt;]
 [B&lt;-respout&gt; I&lt;file&gt;]
 [B&lt;-reqin&gt; I&lt;file&gt;]
@@ -112,6 +112,10 @@ Add the certificate I&lt;filename&gt; to the request. The issuer certificate
 is taken from the previous B&lt;-issuer&gt; option, or an error occurs if no
 issuer certificate is specified.
 
+=item B&lt;-no_certs&gt;
+
+Don't include any certificates in signed request.
+
 =item B&lt;-serial&gt; I&lt;num&gt;
 
 Same as the B&lt;-cert&gt; option except the certificate with serial number
@@ -389,7 +393,6 @@ each child is willing to wait for the client's OCSP response.
 This option is available on POSIX systems (that support the fork() and other
 required unix system-calls).
 
-
 =item B&lt;-nmin&gt; I&lt;minutes&gt;, B&lt;-ndays&gt; I&lt;days&gt;
 
 Number of minutes or days when fresh revocation information is available:
diff --git a/doc/man1/openssl-pkcs8.pod.in b/doc/man1/openssl-pkcs8.pod.in
index 100c5afd6f..2af61203e9 100644
--- a/doc/man1/openssl-pkcs8.pod.in
+++ b/doc/man1/openssl-pkcs8.pod.in
@@ -101,6 +101,10 @@ When creating new PKCS#8 containers, use a given number of iterations on
 the password in deriving the encryption key for the PKCS#8 output.
 High values increase the time required to brute-force a PKCS#8 container.
 
+=item B&lt;-noiter&gt;
+
+When creating new PKCS#8 containers, use 1 as iteration count.
+
 =item B&lt;-nocrypt&gt;
 
 PKCS#8 keys generated or input are normally PKCS#8 EncryptedPrivateKeyInfo
diff --git a/doc/man1/openssl-s_server.pod.in b/doc/man1/openssl-s_server.pod.in
index c7ce886b6f..27522fc04b 100644
--- a/doc/man1/openssl-s_server.pod.in
+++ b/doc/man1/openssl-s_server.pod.in
@@ -77,13 +77,13 @@ B&lt;openssl&gt; B&lt;s_server&gt;
 [B&lt;-no_proxy&gt; I&lt;addresses&gt;]
 [B&lt;-status_url&gt; I&lt;val&gt;]
 [B&lt;-status_file&gt; I&lt;infile&gt;]
+[B&lt;-ssl_config&gt; I&lt;val&gt;]
 [B&lt;-trace&gt;]
 [B&lt;-security_debug&gt;]
 [B&lt;-security_debug_verbose&gt;]
 [B&lt;-brief&gt;]
 [B&lt;-rev&gt;]
 [B&lt;-async&gt;]
-[B&lt;-ssl_config&gt; I&lt;val&gt;]
 [B&lt;-max_send_frag&gt; I&lt;+int&gt;]
 [B&lt;-split_send_frag&gt; I&lt;+int&gt;]
 [B&lt;-max_pipelines&gt; I&lt;+int&gt;]
@@ -123,9 +123,9 @@ B&lt;openssl&gt; B&lt;s_server&gt;
 [B&lt;-listen&gt;]
 [B&lt;-sctp&gt;]
 [B&lt;-sctp_label_bug&gt;]
+[B&lt;-use_srtp&gt; I&lt;val&gt;]
 [B&lt;-no_dhe&gt;]
 [B&lt;-nextprotoneg&gt; I&lt;val&gt;]
-[B&lt;-use_srtp&gt; I&lt;val&gt;]
 [B&lt;-alpn&gt; I&lt;val&gt;]
 [B&lt;-sendfile&gt;]
 [B&lt;-keylogfile&gt; I&lt;outfile&gt;]
@@ -303,6 +303,14 @@ This option translated a line feed from the terminal into CR+LF.
 
 Print extensive debugging information including a hex dump of all traffic.
 
+=item B&lt;-security_debug&gt;
+
+Print output from SSL/TLS security framework.
+
+=item B&lt;-security_debug_verbose&gt;
+
+Print more output from SSL/TLS security framework
+
 =item B&lt;-msg&gt;
 
 Show all protocol messages with hex dump.
@@ -377,6 +385,10 @@ DH).
 
 Inhibit printing of session and certificate information.
 
+=item B&lt;-no_resume_ephemeral&gt;
+
+Disable caching and tickets if ephemeral (EC)DH is used.
+
 =item B&lt;-tlsextdebug&gt;
 
 Print a hex dump of any TLS extensions received from the server.
@@ -426,6 +438,14 @@ option is enabled the peer does not need to send the close_notify alert and a
 closed connection will be treated as if the close_notify alert was received.
 For more information on shutting down a connection, see L&lt;SSL_shutdown(3)&gt;.
 
+=item B&lt;-servername&gt;
+
+Servername for HostName TLS extension.
+
+=item B&lt;-servername_fatal&gt;
+
+On servername mismatch send fatal alert (default: warning alert).
+
 =item B&lt;-id_prefix&gt; I&lt;val&gt;
 
 Generate SSL/TLS session IDs prefixed by I&lt;val&gt;. This is mostly useful
@@ -433,12 +453,40 @@ for testing any SSL/TLS code (e.g. proxies) that wish to deal with multiple
 servers, when each of which might be generating a unique range of session
 IDs (e.g. with a certain prefix).
 
+=item B&lt;-keymatexport&gt;
+
+Export keying material using label.
+
+=item B&lt;-keymatexportlen&gt;
+
+Export the given number of bytes of keying material; default 20.
+
+=item B&lt;-no_cache&gt;
+
+Disable session cache.
+
+=item B&lt;-ext_cache&gt;.
+
+Disable internal cache, set up and use external cache.
+
 =item B&lt;-verify_return_error&gt;
 
 Verification errors normally just print a message but allow the
 connection to continue, for debugging purposes.
 If this option is used, then verification errors close the connection.
 
+=item B&lt;-verify_quiet&gt;
+
+No verify output except verify errors.
+
+=item B&lt;-ign_eof&gt;
+
+Ignore input EOF (default: when B&lt;-quiet&gt;).
+
+=item B&lt;-no_ign_eof&gt;
+
+Do not ignore input EOF.
+
 =item B&lt;-status&gt;
 
 Enables certificate status request support (aka OCSP stapling).
@@ -482,6 +530,10 @@ Any given query component is handled as part of the path component.
 Overrides any OCSP responder URLs from the certificate and always provides the
 OCSP Response stored in the file. The file must be in DER format.
 
+=item B&lt;-ssl_config&gt; I&lt;val&gt;
+
+Configure SSL_CTX using the given configuration value.
+
 =item B&lt;-trace&gt;
 
 Show verbose trace output of protocol messages. OpenSSL needs to be compiled
@@ -622,6 +674,14 @@ will be used.
 
 Turns on non blocking I/O.
 
+=item B&lt;-timeout&gt;
+
+Enable timeouts.
+
+=item B&lt;-mtu&gt;
+
+Set link-layer MTU.
+
 =item B&lt;-psk_identity&gt; I&lt;val&gt;
 
 Expect the client to send PSK identity I&lt;val&gt; when using a PSK
@@ -644,6 +704,16 @@ This option must be provided in order to use a PSK cipher.
 Use the pem encoded SSL_SESSION data stored in I&lt;file&gt; as the basis of a PSK.
 Note that this will only work if TLSv1.3 is negotiated.
 
+=item B&lt;-srpvfile&gt;
+
+The verifier file for SRP.
+This option is deprecated.
+
+=item B&lt;-srpuserseed&gt;
+
+A seed string for a default user salt.
+This option is deprecated.
+
 =item B&lt;-listen&gt;
 
 This option can only be used in conjunction with one of the DTLS options above.
@@ -669,6 +739,10 @@ older broken implementations but breaks interoperability with correct
 implementations. Must be used in conjunction with B&lt;-sctp&gt;. This option is only
 available where OpenSSL has support for SCTP enabled.
 
+=item B&lt;-use_srtp&gt;
+
+Offer SRTP key management with a colon-separated profile list.
+
 =item B&lt;-no_dhe&gt;
 
 If this option is set then no DH parameters will be loaded effectively
@@ -849,7 +923,8 @@ The -no_alt_chains option was added in OpenSSL 1.1.0.
 The
 -allow-no-dhe-kex and -prioritize_chacha options were added in OpenSSL 1.1.1.
 
-The B&lt;-engine&gt; option was deprecated in OpenSSL 3.0.
+The B&lt;-srpvfile&gt;, B&lt;-srpuserseed&gt;, and B&lt;-engine&gt;
+option were deprecated in OpenSSL 3.0.
 
 =head1 COPYRIGHT
 
diff --git a/doc/man1/openssl-speed.pod.in b/doc/man1/openssl-speed.pod.in
index 0dbb19da4c..bfe992797a 100644
--- a/doc/man1/openssl-speed.pod.in
+++ b/doc/man1/openssl-speed.pod.in
@@ -81,6 +81,14 @@ C&lt;openssl speed -cmac aes128&gt;.
 
 Time the decryption instead of encryption. Affects only the EVP testing.
 
+=item B&lt;-mb&gt;
+
+Enable multi-block mode on EVP-named cipher.
+
+=item B&lt;-aead&gt;
+
+Benchmark EVP-named AEAD cipher in TLS-like sequence.
+
 =item B&lt;-primes&gt; I&lt;num&gt;
 
 Generate a I&lt;num&gt;-prime RSA key and use it to run the benchmarks. This option
diff --git a/doc/man1/openssl-srp.pod.in b/doc/man1/openssl-srp.pod.in
index c15d866704..26f7ebcef9 100644
--- a/doc/man1/openssl-srp.pod.in
+++ b/doc/man1/openssl-srp.pod.in
@@ -15,7 +15,6 @@ B&lt;openssl srp&gt;
 [B&lt;-delete&gt;]
 [B&lt;-list&gt;]
 [B&lt;-name&gt; I&lt;section&gt;]
-[B&lt;-config&gt; I&lt;file&gt;]
 [B&lt;-srpvfile&gt; I&lt;file&gt;]
 [B&lt;-gn&gt; I&lt;identifier&gt;]
 [B&lt;-userinfo&gt; I&lt;text&gt;]
@@ -23,6 +22,7 @@ B&lt;openssl srp&gt;
 [B&lt;-passout&gt; I&lt;arg&gt;]
 {- $OpenSSL::safe::opt_engine_synopsis -}{- $OpenSSL::safe::opt_r_synopsis -}
 {- $OpenSSL::safe::opt_provider_synopsis -}
+{- $OpenSSL::safe::opt_config_synopsis -}
 [I&lt;user&gt; ...]
 
 =head1 DESCRIPTION
@@ -49,6 +49,26 @@ Display an option summary.
 
 Generate verbose output while processing.
 
+=item B&lt;-add&gt;
+
+Add a user and SRP verifier.
+
+=item B&lt;-modify&gt;
+
+Modify the SRP verifier of an existing user.
+
+=item B&lt;-delete&gt;
+
+Delete user from verifier file.
+
+=item B&lt;-list&gt;
+
+List users.
+
+=item B&lt;-name&gt;
+
+The particular SRP definition to use.
+
 =item B&lt;-srpvfile&gt; I&lt;file&gt;
 
 If the config file is not specified,
@@ -72,8 +92,12 @@ see L&lt;openssl-passphrase-options(1)&gt;.
 
 {- $OpenSSL::safe::opt_engine_item -}
 
+{- $OpenSSL::safe::opt_r_item -}
+
 {- $OpenSSL::safe::opt_provider_item -}
 
+{- $OpenSSL::safe::opt_config_item -}
+
 {- $OpenSSL::safe::opt_r_synopsis -}
 
 =back
diff --git a/doc/man1/openssl-ts.pod.in b/doc/man1/openssl-ts.pod.in
index cf7d5f0260..6f71820202 100644
--- a/doc/man1/openssl-ts.pod.in
+++ b/doc/man1/openssl-ts.pod.in
@@ -106,11 +106,23 @@ requests either by ftp or e-mail.
 
 Print out a usage message.
 
+=item B&lt;-query&gt;
+
+Generate a TS query. For details see L&lt;/Timestamp Request generation&gt;.
+
+=item B&lt;-reply&gt;
+
+Generate a TS reply. For details see L&lt;/Timestamp Response generation&gt;.
+
+=item B&lt;-verify&gt;
+
+Verify a TS response. For details see L&lt;/Timestamp Response verification&gt;.
+
 =back
 
 =head2 Timestamp Request generation
 
-The B&lt;-query&gt; switch can be used for creating and printing a timestamp
+The B&lt;-query&gt; command can be used for creating and printing a timestamp
 request with the following options:
 
 =over 4
diff --git a/doc/perlvars.pm b/doc/perlvars.pm
index ab52a086ee..71f3888d58 100644
--- a/doc/perlvars.pm
+++ b/doc/perlvars.pm
@@ -58,14 +58,14 @@ $OpenSSL::safe::opt_v_item = &quot;&quot;
 
 # Extended validation options.
 $OpenSSL::safe::opt_x_synopsis = &quot;&quot;
-. &quot;[B&lt;-xkey&gt;] I&lt;infile&gt;\n&quot;
+. &quot;[B&lt;-xkey&gt; I&lt;infile&gt;]\n&quot;
 . &quot;[B&lt;-xcert&gt; I&lt;file&gt;]\n&quot;
-. &quot;[B&lt;-xchain&gt;] I&lt;file&gt;\n&quot;
-. &quot;[B&lt;-xchain_build&gt;] I&lt;file&gt;\n&quot;
+. &quot;[B&lt;-xchain&gt; I&lt;file&gt;]\n&quot;
+. &quot;[B&lt;-xchain_build&gt; I&lt;file&gt;]\n&quot;
 . &quot;[B&lt;-xcertform&gt; B&lt;DER&gt;|B&lt;PEM&gt;]&gt;\n&quot;
 . &quot;[B&lt;-xkeyform&gt; B&lt;DER&gt;|B&lt;PEM&gt;]&gt;&quot;;
 $OpenSSL::safe::opt_x_item = &quot;&quot;
-. &quot;=item B&lt;xkey&gt; I&lt;infile&gt;, B&lt;-xcert&gt; I&lt;file&gt;, B&lt;-xchain&gt; I&lt;file&gt;,\n&quot;
+. &quot;=item B&lt;-xkey&gt; I&lt;infile&gt;, B&lt;-xcert&gt; I&lt;file&gt;, B&lt;-xchain&gt; I&lt;file&gt;,\n&quot;
 . &quot;B&lt;-xchain_build&gt; I&lt;file&gt;, B&lt;-xcertform&gt; B&lt;DER&gt;|B&lt;PEM&gt;,\n&quot;
 . &quot;B&lt;-xkeyform&gt; B&lt;DER&gt;|B&lt;PEM&gt;\n&quot;
 . &quot;\n&quot;
@@ -203,8 +203,9 @@ $OpenSSL::safe::opt_s_synopsis = &quot;&quot;
 . &quot;[B&lt;-no_middlebox&gt;]&quot;;
 $OpenSSL::safe::opt_s_item = &quot;&quot;
 . &quot;=item B&lt;-bugs&gt;, B&lt;-comp&gt;, B&lt;-no_comp&gt;, B&lt;-no_ticket&gt;, B&lt;-serverpref&gt;,\n&quot;
-. &quot;B&lt;-client_renegotiation&gt;, B&lt;_immediate_renegotiation&gt;\n&quot;
-. &quot;B&lt;-legacy_renegotiation&gt;, B&lt;-no_renegotiation&gt;, B&lt;-no_resumption_on_reneg&gt;,\n&quot;
+. &quot;B&lt;-client_renegotiation&gt;, B&lt;_immediate_renegotiation&gt;,\n&quot;
+. &quot;B&lt;-legacy_renegotiation&gt;, B&lt;-no_renegotiation&gt;,\n&quot;
+. &quot;B&lt;-immediate_renegotiation&gt;, B&lt;-no_resumption_on_reneg&gt;,\n&quot;
 . &quot;B&lt;-legacy_server_connect&gt;, B&lt;-no_legacy_server_connect&gt;,\n&quot;
 . &quot;B&lt;-allow_no_dhe_kex&gt;, B&lt;-prioritize_chacha&gt;, B&lt;-strict&gt;, B&lt;-sigalgs&gt;\n&quot;
 . &quot;I&lt;algs&gt;, B&lt;-client_sigalgs&gt; I&lt;algs&gt;, B&lt;-groups&gt; I&lt;groups&gt;, B&lt;-curves&gt;\n&quot;
diff --git a/util/find-doc-nits b/util/find-doc-nits
index 815880ad01..c62307a9ce 100755
--- a/util/find-doc-nits
+++ b/util/find-doc-nits
@@ -35,6 +35,7 @@ our($opt_s);
 our($opt_o);
 our($opt_h);
 our($opt_l);
+our($opt_m);
 our($opt_n);
 our($opt_p);
 our($opt_u);
@@ -45,11 +46,12 @@ our($opt_c);
 sub help {
     print &lt;&lt;EOF;
 Find small errors (nits) in documentation.  Options:
-    -c List undocumented commands and options
+    -c List undocumented commands, undocumented options and unimplemented options.
     -d Detailed list of undocumented (implies -u)
     -e Detailed list of new undocumented (implies -v)
     -h Print this help message
     -l Print bogus links
+    -m Name(s) of manuals to focus on. Default: man1,man3,man5,man7
     -n Print nits in POD pages
     -o Causes -e/-v to count symbols added since 1.1.1 as new (implies -v)
     -u Count undocumented functions
@@ -58,7 +60,7 @@ EOF
     exit;
 }
 
-getopts('cdehlnouv');
+getopts('cdehlm:nouv');
 
 help() if $opt_h;
 $opt_u = 1 if $opt_d;
@@ -78,7 +80,11 @@ my $temp = '/tmp/docnits.txt';
 my $OUT;
 my $status = 0;
 
-my @sections = ( 'man1', 'man3', 'man5', 'man7' );
+$opt_m = &quot;man1,man3,man5,man7&quot; unless $opt_m;
+die &quot;Argument of -m option may contain only man1, man3, man5, and/or man7&quot;
+    unless $opt_m =~ /^(man[1357][, ]?)*$/;
+my @sections = ( split /[, ]/, $opt_m );
+
 my %mandatory_sections = (
     '*' =&gt; [ 'NAME', 'DESCRIPTION', 'COPYRIGHT' ],
     1   =&gt; [ 'SYNOPSIS', 'OPTIONS' ],
@@ -148,7 +154,7 @@ my %collected_results = ();
 #                       - exclusive selectors, only applicable together with
 #                         any of the manual selectors.  If any of these are
 #                         present, only the manuals from the given sections
-#                         will be include.  If none of these are present,
+#                         will be included.  If none of these are present,
 #                         the manuals from all sections will be returned.
 #
 # All returned manual files come from configdata.pm.
@@ -543,8 +549,10 @@ sub option_check {
         err($id, &quot;Malformed option [1] in SYNOPSIS: $&amp;&quot;);
     }
 
+    my @synopsis;
     while ( $synopsis =~ /$markup_re/msg ) {
         my $found = $&amp;;
+        push @synopsis, $found if $found =~ /^B&lt;-/;
         print STDERR &quot;$id:DEBUG[option_check] SYNOPSIS: found $found\n&quot;
             if $debug;
         my $option_uw = normalise_option($id, $filename, $found);
@@ -554,6 +562,7 @@ sub option_check {
 
     # In OPTIONS, we look for =item paragraphs.
     # (?=^\s*$) detects an empty line.
+    my @options;
     while ( $options =~ /=item\s+(.*?)(?=^\s*$)/msg ) {
         my $item = $&amp;;
 
@@ -567,8 +576,19 @@ sub option_check {
             my $option_uw = normalise_option($id, $filename, $found);
             err($id, &quot;Malformed option in OPTIONS: $found&quot;)
                 if defined $option_uw &amp;&amp; $option_uw eq '';
+            if ($found =~ /^B&lt;-/) {
+                push @options, $found;
+                err($id, &quot;OPTIONS entry $found missing from SYNOPSIS&quot;)
+                    unless (grep /^\Q$found\E$/, @synopsis)
+                         || $id =~ /(openssl|-options)\.pod:1:$/;
+            }
         }
     }
+    foreach (@synopsis) {
+        my $option = $_;
+        err($id, &quot;SYNOPSIS entry $option missing from OPTIONS&quot;)
+            unless (grep /^\Q$option\E$/, @options);
+    }
 }
 
 # Normal symbol form
@@ -712,7 +732,7 @@ sub check {
                   files(TAGS =&gt; [ 'manual', 'man1' ]) );
         # TODO: Filter out &quot;foreign manual&quot; links.
         next if $target =~ /ps|apropos|sha1sum|procmail|perl/;
-        err($id, &quot;Bad command link L&lt;$target(1)&gt;&quot;);
+        err($id, &quot;Bad command link L&lt;$target(1)&gt;&quot;) if grep /man1/, @sections;
     }
     # Check for proper in-man-3 API links.
     while ( $contents =~ /L&lt;([^&gt;]*)\(3\)(?:\/.*)?&gt;/g ) {
@@ -1049,11 +1069,11 @@ sub checkflags {
                 err(&quot;$cmd does not implement help for -$expect_helpstr&quot;) unless m/^\s*&quot;/;
                 $expect_helpstr = &quot;&quot;;
             }
-            if (m/\{\s*&quot;([^&quot;]+)&quot;\s*,\s*OPT_[A-Z0-9_]+\s*,\s*('[-\/:&lt;&gt;cEfFlMnNpsuU]'|0)\s*,(.*)$/
-                       &amp;&amp; !($cmd eq &quot;s_client&quot; &amp;&amp; $1 eq &quot;wdebug&quot;)) {
+            if (m/\{\s*&quot;([^&quot;]+)&quot;\s*,\s*OPT_[A-Z0-9_]+\s*,\s*('[-\/:&lt;&gt;cEfFlMnNpsuU]'|0)(.*)$/
+                    &amp;&amp; !($cmd eq &quot;s_client&quot; &amp;&amp; $1 eq &quot;wdebug&quot;)) {
                 push @cmdopts, $1;
                 $expect_helpstr = $1;
-                $expect_helpstr = &quot;&quot; if $3 =~ m/^\s*&quot;/;
+                $expect_helpstr = &quot;&quot; if $3 =~ m/^\s*,\s*&quot;/;
             } elsif (m/[\s,](OPT_[A-Z]+_OPTIONS?)\s*(,|$)/) {
                 push @cmdopts, @{ $genopts{$1} };
             }
@@ -1085,8 +1105,7 @@ sub checkflags {
     # See what's in the command not the manpage.
     my @undocced = sort grep { !defined $docopts{$_} } @cmdopts;
     foreach ( @undocced ) {
-        next if $cmd eq &quot;openssl&quot; &amp;&amp; $_ eq &quot;help&quot;;
-        err(&quot;$doc: undocumented option -$_&quot;);
+        err(&quot;$doc: undocumented $cmd option -$_&quot;);
     }
 
     # See what's in the command not the manpage.
@@ -1181,7 +1200,7 @@ if ( $opt_l ) {
 
 if ( $opt_n ) {
     # If not given args, check that all man1 commands are named properly.
-    if ( scalar @ARGV == 0 ) {
+    if ( scalar @ARGV == 0 &amp;&amp; grep /man1/, @sections ) {
         foreach ( files(TAGS =&gt; [ 'public_manual', 'man1' ]) ) {
             next if /openssl\.pod/
                 || /CA\.pl/ || /tsget\.pod/; # these commands are special cases
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034350.html">[openssl]  master update
</A></li>
	<LI>Next message: <A HREF="034352.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34351">[ date ]</a>
              <a href="thread.html#34351">[ thread ]</a>
              <a href="subject.html#34351">[ subject ]</a>
              <a href="author.html#34351">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
