<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 5572a1: Fix the encoding of SM2 keys
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2024-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%205572a1%3A%20Fix%20the%20encoding%20of%20SM2%20keys&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.2/3ddab8-dbe66c%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040947.html">
   <LINK REL="Next"  HREF="040949.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 5572a1: Fix the encoding of SM2 keys</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%205572a1%3A%20Fix%20the%20encoding%20of%20SM2%20keys&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.2/3ddab8-dbe66c%40github.com%3E"
       TITLE="[openssl/openssl] 5572a1: Fix the encoding of SM2 keys">noreply at github.com
       </A><BR>
    <I>Fri Jan 12 10:10:02 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="040947.html">[openssl/openssl] 127269: Fix NULL pointer deref when parsing the stable sec...
</A></li>
        <LI>Next message (by thread): <A HREF="040949.html">[openssl/openssl] 1d4906: Fix the encoding of SM2 keys
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40948">[ date ]</a>
              <a href="thread.html#40948">[ thread ]</a>
              <a href="subject.html#40948">[ subject ]</a>
              <a href="author.html#40948">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.2
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 5572a1beee54b4cb101fd2e447787a38203b8914
      <A HREF="https://github.com/openssl/openssl/commit/5572a1beee54b4cb101fd2e447787a38203b8914">https://github.com/openssl/openssl/commit/5572a1beee54b4cb101fd2e447787a38203b8914</A>
  Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
  Date:   2024-01-12 (Fri, 12 Jan 2024)

  Changed paths:
    M CHANGES.md
    M providers/implementations/encode_decode/encode_key2any.c

  Log Message:
  -----------
  Fix the encoding of SM2 keys

OpenSSL's encoding of SM2 keys used the SM2 OID for the algorithm OID
where an AlgorithmIdentifier is encoded (for encoding into the structures
PrivateKeyInfo and SubjectPublicKeyInfo).

Such keys should be encoded as ECC keys.

Fixes #22184

Reviewed-by: Shane Lontis &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">shane.lontis at oracle.com</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/22529">https://github.com/openssl/openssl/pull/22529</A>)

(cherry picked from commit 1d490694dfa790d8e47f8f2ea62ea1d9b1251179)


  Commit: dbe66cd268774e3c3023c2375d3229d3a1c612f2
      <A HREF="https://github.com/openssl/openssl/commit/dbe66cd268774e3c3023c2375d3229d3a1c612f2">https://github.com/openssl/openssl/commit/dbe66cd268774e3c3023c2375d3229d3a1c612f2</A>
  Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
  Date:   2024-01-12 (Fri, 12 Jan 2024)

  Changed paths:
    A test/recipes/15-test_gensm2.t

  Log Message:
  -----------
  Add test/recipes/15-test_gensm2.t, to test SM2 key generation results

Reviewed-by: Shane Lontis &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">shane.lontis at oracle.com</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/22529">https://github.com/openssl/openssl/pull/22529</A>)

(cherry picked from commit d4d9b57530b2ecdca6b4263b5841b42c820e5275)


Compare: <A HREF="https://github.com/openssl/openssl/compare/3ddab87f2e69...dbe66cd26877">https://github.com/openssl/openssl/compare/3ddab87f2e69...dbe66cd26877</A>
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="040947.html">[openssl/openssl] 127269: Fix NULL pointer deref when parsing the stable sec...
</A></li>
	<LI>Next message (by thread): <A HREF="040949.html">[openssl/openssl] 1d4906: Fix the encoding of SM2 keys
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40948">[ date ]</a>
              <a href="thread.html#40948">[ thread ]</a>
              <a href="subject.html#40948">[ subject ]</a>
              <a href="author.html#40948">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
