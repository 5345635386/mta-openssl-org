<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2016-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1470124840.929425.26610.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009431.html">
   <LINK REL="Next"  HREF="009438.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  master update</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1470124840.929425.26610.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl-commits] [openssl]  master update">levitte at openssl.org
       </A><BR>
    <I>Tue Aug  2 08:00:40 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="009431.html">[openssl-commits] [openssl]  master update
</A></li>
        <LI>Next message: <A HREF="009438.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9437">[ date ]</a>
              <a href="thread.html#9437">[ thread ]</a>
              <a href="subject.html#9437">[ subject ]</a>
              <a href="author.html#9437">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  700b814549c8c158c82466116cfc545b00f647c3 (commit)
      from  cb926df2fa42bd1e396a600ff6212ee4f4e04118 (commit)


- Log -----------------------------------------------------------------
commit 700b814549c8c158c82466116cfc545b00f647c3
Author: FdaSilvaYY &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">fdasilvayy at gmail.com</A>&gt;
Date:   Thu Jul 28 21:15:52 2016 +0200

    Fix some style issues...
    
     extra spacing and 80 cols
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;
    Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/1366">https://github.com/openssl/openssl/pull/1366</A>)

-----------------------------------------------------------------------

Summary of changes:
 apps/progs.h                                 |  2 +-
 apps/speed.c                                 | 26 +++++++++++++-------------
 crypto/bio/bio_cb.c                          |  2 +-
 crypto/bn/bn_lib.c                           |  4 ++--
 crypto/ct/ct_sct.c                           |  2 +-
 crypto/ec/ec_key.c                           |  2 +-
 crypto/engine/eng_ctrl.c                     | 16 +++++++---------
 crypto/evp/e_chacha20_poly1305.c             |  8 +++++---
 crypto/mem_clr.c                             |  2 +-
 crypto/ppccap.c                              |  4 ++--
 doc/crypto/BIO_s_fd.pod                      |  2 +-
 doc/crypto/X509_STORE_set_verify_cb_func.pod |  2 +-
 12 files changed, 36 insertions(+), 36 deletions(-)

diff --git a/apps/progs.h b/apps/progs.h
index ac9d208..5f6f07f 100644
--- a/apps/progs.h
+++ b/apps/progs.h
@@ -18,7 +18,7 @@ typedef enum FUNC_TYPE {
 typedef struct function_st {
     FUNC_TYPE type;
     const char *name;
-    int (*func)(int argc,char *argv[]);
+    int (*func)(int argc, char *argv[]);
     const OPTIONS *help;
 } FUNCTION;
 
diff --git a/apps/speed.c b/apps/speed.c
index 6a62ab7..e04a440 100644
--- a/apps/speed.c
+++ b/apps/speed.c
@@ -371,7 +371,7 @@ OPTIONS speed_options[] = {
     {&quot;decrypt&quot;, OPT_DECRYPT, '-',
      &quot;Time decryption instead of encryption (only EVP)&quot;},
     {&quot;mr&quot;, OPT_MR, '-', &quot;Produce machine readable output&quot;},
-    {&quot;mb&quot;, OPT_MB, '-', 
+    {&quot;mb&quot;, OPT_MB, '-',
         &quot;Enable (tls1.1) multi-block mode on evp_cipher requested with -evp&quot;},
     {&quot;misalign&quot;, OPT_MISALIGN, 'n', &quot;Amount to mis-align buffers&quot;},
     {&quot;elapsed&quot;, OPT_ELAPSED, '-',
@@ -1066,16 +1066,16 @@ static void *KDF1_SHA1(const void *in, size_t inlen, void *out,
     *outlen = SHA_DIGEST_LENGTH;
     return SHA1(in, inlen, out);
 }
-
 #endif      /* ndef OPENSSL_NO_EC */
 
 
-static int run_benchmark(int async_jobs, int (*loop_function)(void *), loopargs_t *loopargs)
+static int run_benchmark(int async_jobs,
+                         int (*loop_function)(void *), loopargs_t *loopargs)
 {
     int job_op_count = 0;
     int total_op_count = 0;
     int num_inprogress = 0;
-    int error = 0, i = 0, async = 0;
+    int error = 0, i = 0, ret = 0;
     OSSL_ASYNC_FD job_fd = 0;
     size_t num_job_fds = 0;
 
@@ -1086,10 +1086,10 @@ static int run_benchmark(int async_jobs, int (*loop_function)(void *), loopargs_
     }
 
     for (i = 0; i &lt; async_jobs &amp;&amp; !error; i++) {
-        async = ASYNC_start_job(&amp;(loopargs[i].inprogress_job), loopargs[i].wait_ctx,
-                                &amp;job_op_count, loop_function,
-                                (void *)(loopargs + i), sizeof(loopargs_t));
-        switch (async) {
+        ret = ASYNC_start_job(&amp;loopargs[i].inprogress_job, loopargs[i].wait_ctx,
+                              &amp;job_op_count, loop_function,
+                              (void *)(loopargs + i), sizeof(loopargs_t));
+        switch (ret) {
         case ASYNC_PAUSE:
             ++num_inprogress;
             break;
@@ -1179,15 +1179,15 @@ static int run_benchmark(int async_jobs, int (*loop_function)(void *), loopargs_
                 continue;
 #elif defined(OPENSSL_SYS_WINDOWS)
             if (num_job_fds == 1
-                &amp;&amp; !PeekNamedPipe(job_fd, NULL, 0, NULL, &amp;avail, NULL) 
+                &amp;&amp; !PeekNamedPipe(job_fd, NULL, 0, NULL, &amp;avail, NULL)
                 &amp;&amp; avail &gt; 0)
                 continue;
 #endif
 
-            async = ASYNC_start_job(&amp;(loopargs[i].inprogress_job), loopargs[i].wait_ctx,
-                        &amp;job_op_count, loop_function, (void *)(loopargs + i),
-                        sizeof(loopargs_t));
-            switch (async) {
+            ret = ASYNC_start_job(&amp;loopargs[i].inprogress_job, 
+                    loopargs[i].wait_ctx, &amp;job_op_count, loop_function, 
+                    (void *)(loopargs + i), sizeof(loopargs_t));
+            switch (ret) {
             case ASYNC_PAUSE:
                 break;
             case ASYNC_FINISH:
diff --git a/crypto/bio/bio_cb.c b/crypto/bio/bio_cb.c
index 860208b..69ea3d0 100644
--- a/crypto/bio/bio_cb.c
+++ b/crypto/bio/bio_cb.c
@@ -27,7 +27,7 @@ long BIO_debug_callback(BIO *bio, int cmd, const char *argp,
     if (BIO_CB_RETURN &amp; cmd)
         r = ret;
 
-    len = BIO_snprintf(buf,sizeof buf,&quot;BIO[%p]: &quot;,(void *)bio);
+    len = BIO_snprintf(buf, sizeof buf, &quot;BIO[%p]: &quot;, (void *)bio);
 
     /* Ignore errors and continue printing the other information. */
     if (len &lt; 0)
diff --git a/crypto/bn/bn_lib.c b/crypto/bn/bn_lib.c
index b606cc9..0be42f8 100644
--- a/crypto/bn/bn_lib.c
+++ b/crypto/bn/bn_lib.c
@@ -170,7 +170,7 @@ int BN_num_bits(const BIGNUM *a)
 
 static void bn_free_d(BIGNUM *a)
 {
-    if (BN_get_flags(a,BN_FLG_SECURE))
+    if (BN_get_flags(a, BN_FLG_SECURE))
         OPENSSL_secure_free(a-&gt;d);
     else
         OPENSSL_free(a-&gt;d);
@@ -259,7 +259,7 @@ static BN_ULONG *bn_expand_internal(const BIGNUM *b, int words)
         BNerr(BN_F_BN_EXPAND_INTERNAL, BN_R_EXPAND_ON_STATIC_BIGNUM_DATA);
         return (NULL);
     }
-    if (BN_get_flags(b,BN_FLG_SECURE))
+    if (BN_get_flags(b, BN_FLG_SECURE))
         a = A = OPENSSL_secure_zalloc(words * sizeof(*a));
     else
         a = A = OPENSSL_zalloc(words * sizeof(*a));
diff --git a/crypto/ct/ct_sct.c b/crypto/ct/ct_sct.c
index 1aec3e2..0867680 100644
--- a/crypto/ct/ct_sct.c
+++ b/crypto/ct/ct_sct.c
@@ -117,7 +117,7 @@ void SCT_set_timestamp(SCT *sct, uint64_t timestamp)
 
 int SCT_set_signature_nid(SCT *sct, int nid)
 {
-  switch (nid) {
+    switch (nid) {
     case NID_sha256WithRSAEncryption:
         sct-&gt;hash_alg = TLSEXT_hash_sha256;
         sct-&gt;sig_alg = TLSEXT_signature_rsa;
diff --git a/crypto/ec/ec_key.c b/crypto/ec/ec_key.c
index 2d837f9..f1f0afb 100644
--- a/crypto/ec/ec_key.c
+++ b/crypto/ec/ec_key.c
@@ -546,7 +546,7 @@ int EC_KEY_oct2key(EC_KEY *key, const unsigned char *buf, size_t len,
     return 1;
 }
 
-size_t EC_KEY_priv2oct(const EC_KEY *eckey, 
+size_t EC_KEY_priv2oct(const EC_KEY *eckey,
                        unsigned char *buf, size_t len)
 {
     if (eckey-&gt;group == NULL || eckey-&gt;group-&gt;meth == NULL)
diff --git a/crypto/engine/eng_ctrl.c b/crypto/engine/eng_ctrl.c
index f546caf..7925f4f 100644
--- a/crypto/engine/eng_ctrl.c
+++ b/crypto/engine/eng_ctrl.c
@@ -203,14 +203,13 @@ int ENGINE_ctrl_cmd(ENGINE *e, const char *cmd_name,
 {
     int num;
 
-    if ((e == NULL) || (cmd_name == NULL)) {
+    if (e == NULL || cmd_name == NULL) {
         ENGINEerr(ENGINE_F_ENGINE_CTRL_CMD, ERR_R_PASSED_NULL_PARAMETER);
         return 0;
     }
-    if ((e-&gt;ctrl == NULL) || ((num = ENGINE_ctrl(e,
-                                                 ENGINE_CTRL_GET_CMD_FROM_NAME,
-                                                 0, (void *)cmd_name,
-                                                 NULL)) &lt;= 0)) {
+    if (e-&gt;ctrl == NULL
+        || (num = ENGINE_ctrl(e, ENGINE_CTRL_GET_CMD_FROM_NAME,
+                              0, (void *)cmd_name, NULL)) &lt;= 0) {
         /*
          * If the command didn't *have* to be supported, we fake success.
          * This allows certain settings to be specified for multiple ENGINEs
@@ -242,12 +241,11 @@ int ENGINE_ctrl_cmd_string(ENGINE *e, const char *cmd_name, const char *arg,
     long l;
     char *ptr;
 
-    if ((e == NULL) || (cmd_name == NULL)) {
-        ENGINEerr(ENGINE_F_ENGINE_CTRL_CMD_STRING,
-                  ERR_R_PASSED_NULL_PARAMETER);
+    if (e == NULL || cmd_name == NULL) {
+        ENGINEerr(ENGINE_F_ENGINE_CTRL_CMD_STRING, ERR_R_PASSED_NULL_PARAMETER);
         return 0;
     }
-    if (e-&gt;ctrl == NULL 
+    if (e-&gt;ctrl == NULL
         || (num = ENGINE_ctrl(e, ENGINE_CTRL_GET_CMD_FROM_NAME,
                               0, (void *)cmd_name, NULL)) &lt;= 0) {
         /*
diff --git a/crypto/evp/e_chacha20_poly1305.c b/crypto/evp/e_chacha20_poly1305.c
index 26fefd9..cf4097b 100644
--- a/crypto/evp/e_chacha20_poly1305.c
+++ b/crypto/evp/e_chacha20_poly1305.c
@@ -345,9 +345,11 @@ static int chacha20_poly1305_ctrl(EVP_CIPHER_CTX *ctx, int type, int arg,
 
     case EVP_CTRL_COPY:
         if (actx) {
-            if ((((EVP_CIPHER_CTX *)ptr)-&gt;cipher_data =
-                   OPENSSL_memdup(actx,sizeof(*actx) + Poly1305_ctx_size()))
-                == NULL) {
+            EVP_CIPHER_CTX *dst = (EVP_CIPHER_CTX *)ptr;
+
+            dst-&gt;cipher_data =
+                   OPENSSL_memdup(actx, sizeof(*actx) + Poly1305_ctx_size());
+            if (dst-&gt;cipher_data == NULL) {
                 EVPerr(EVP_F_CHACHA20_POLY1305_CTRL, EVP_R_COPY_ERROR);
                 return 0;
             }
diff --git a/crypto/mem_clr.c b/crypto/mem_clr.c
index a1a4f93..35bfb74 100644
--- a/crypto/mem_clr.c
+++ b/crypto/mem_clr.c
@@ -15,7 +15,7 @@
  * the pointer and can't assume that it points to any function in
  * particular (such as memset, which it then might further &quot;optimize&quot;)
  */
-typedef void *(*memset_t)(void *,int,size_t);
+typedef void *(*memset_t)(void *, int, size_t);
 
 static volatile memset_t memset_func = memset;
 
diff --git a/crypto/ppccap.c b/crypto/ppccap.c
index 712ee79..ef38b17 100644
--- a/crypto/ppccap.c
+++ b/crypto/ppccap.c
@@ -119,11 +119,11 @@ void poly1305_emit_fpu(void *ctx, unsigned char mac[16],
 int poly1305_init(void *ctx, const unsigned char key[16], void *func[2])
 {
     if (sizeof(size_t) == 4 &amp;&amp; (OPENSSL_ppccap_P &amp; PPC_FPU)) {
-        poly1305_init_fpu(ctx,key);
+        poly1305_init_fpu(ctx, key);
         func[0] = poly1305_blocks_fpu;
         func[1] = poly1305_emit_fpu;
     } else {
-        poly1305_init_int(ctx,key);
+        poly1305_init_int(ctx, key);
         func[0] = poly1305_blocks;
         func[1] = poly1305_emit;
     }
diff --git a/doc/crypto/BIO_s_fd.pod b/doc/crypto/BIO_s_fd.pod
index aa7ba36..79c4a59 100644
--- a/doc/crypto/BIO_s_fd.pod
+++ b/doc/crypto/BIO_s_fd.pod
@@ -73,7 +73,7 @@ occurred.
 This is a file descriptor BIO version of &quot;Hello World&quot;:
 
  BIO *out;
- 
+
  out = BIO_new_fd(fileno(stdout), BIO_NOCLOSE);
  BIO_printf(out, &quot;Hello World\n&quot;);
  BIO_free(out);
diff --git a/doc/crypto/X509_STORE_set_verify_cb_func.pod b/doc/crypto/X509_STORE_set_verify_cb_func.pod
index dd21325..89135f4 100644
--- a/doc/crypto/X509_STORE_set_verify_cb_func.pod
+++ b/doc/crypto/X509_STORE_set_verify_cb_func.pod
@@ -148,7 +148,7 @@ It must return 0 on failure and 1 on success.
 I&lt;If no function to get the issuer is provided, the internal default
 function will be used instead.&gt;
 
-X509_STORE_set_get_crl() sets the function to get the crl for a given 
+X509_STORE_set_get_crl() sets the function to get the crl for a given
 certificate B&lt;x&gt;.
 When found, the crl must be assigned to B&lt;*crl&gt;.
 This function must return 0 on failure and 1 on success.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009431.html">[openssl-commits] [openssl]  master update
</A></li>
	<LI>Next message: <A HREF="009438.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9437">[ date ]</a>
              <a href="thread.html#9437">[ thread ]</a>
              <a href="subject.html#9437">[ subject ]</a>
              <a href="author.html#9437">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
