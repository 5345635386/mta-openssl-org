<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] a14f15: Use OSSL_TIME instead of using arithmetic directly...
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2024-May/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20a14f15%3A%20Use%20OSSL_TIME%20instead%20of%20using%20arithmetic%0A%20directly...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.2/63158e-9583f3%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041847.html">
   <LINK REL="Next"  HREF="041849.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] a14f15: Use OSSL_TIME instead of using arithmetic directly...</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20a14f15%3A%20Use%20OSSL_TIME%20instead%20of%20using%20arithmetic%0A%20directly...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.2/63158e-9583f3%40github.com%3E"
       TITLE="[openssl/openssl] a14f15: Use OSSL_TIME instead of using arithmetic directly...">noreply at github.com
       </A><BR>
    <I>Tue May  7 10:08:04 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="041847.html">[openssl/openssl] ee2b7d: Fix intermittent sslapitest early data related fai...
</A></li>
        <LI>Next message (by thread): <A HREF="041849.html">[openssl/openssl] 57bb11: Move ossl_asn1_string_to_time_t() to libtestutil
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41848">[ date ]</a>
              <a href="thread.html#41848">[ thread ]</a>
              <a href="subject.html#41848">[ subject ]</a>
              <a href="author.html#41848">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.2
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: a14f15da406799f86eb4fff16356ab38f03893b9
      <A HREF="https://github.com/openssl/openssl/commit/a14f15da406799f86eb4fff16356ab38f03893b9">https://github.com/openssl/openssl/commit/a14f15da406799f86eb4fff16356ab38f03893b9</A>
  Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
  Date:   2024-05-07 (Tue, 07 May 2024)

  Changed paths:
    M test/sslapitest.c

  Log Message:
  -----------
  Use OSSL_TIME instead of using arithmetic directly on time_t

We have functions for adding/subtracting time. We should use them.

Reviewed-by: Neil Horman &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">nhorman at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/24319">https://github.com/openssl/openssl/pull/24319</A>)


  Commit: 9583f3fefdaf4fe60e51f06ccdba1c67e30d8341
      <A HREF="https://github.com/openssl/openssl/commit/9583f3fefdaf4fe60e51f06ccdba1c67e30d8341">https://github.com/openssl/openssl/commit/9583f3fefdaf4fe60e51f06ccdba1c67e30d8341</A>
  Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
  Date:   2024-05-07 (Tue, 07 May 2024)

  Changed paths:
    M test/build.info
    M test/sslapitest.c

  Log Message:
  -----------
  Fix intermittent sslapitest early data related failures

Early data is time sensitive. We have an approx 8 second allowance between
writing the early data and reading it. If we exceed that time tests will
fail. This can sometimes (rarely) occur in normal CI operation. We can try
and detect this and just ignore the result of such test failures if the test
has taken too long. We assume anything over 7 seconds is too long.

This is a partial fix for #22605

Reviewed-by: Neil Horman &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">nhorman at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/24319">https://github.com/openssl/openssl/pull/24319</A>)


Compare: <A HREF="https://github.com/openssl/openssl/compare/63158eb2419c...9583f3fefdaf">https://github.com/openssl/openssl/compare/63158eb2419c...9583f3fefdaf</A>

To unsubscribe from these emails, change your notification settings at <A HREF="https://github.com/openssl/openssl/settings/notifications">https://github.com/openssl/openssl/settings/notifications</A>
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="041847.html">[openssl/openssl] ee2b7d: Fix intermittent sslapitest early data related fai...
</A></li>
	<LI>Next message (by thread): <A HREF="041849.html">[openssl/openssl] 57bb11: Move ossl_asn1_string_to_time_t() to libtestutil
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41848">[ date ]</a>
              <a href="thread.html#41848">[ thread ]</a>
              <a href="subject.html#41848">[ subject ]</a>
              <a href="author.html#41848">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
