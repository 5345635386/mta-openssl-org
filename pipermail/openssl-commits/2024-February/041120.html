<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 99fb31: Add atexit configuration option to using atexit() ...
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2024-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%2099fb31%3A%20Add%20atexit%20configuration%20option%20to%20using%0A%20atexit%28%29%20...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/afb19f-99fb31%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041118.html">
   <LINK REL="Next"  HREF="041121.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 99fb31: Add atexit configuration option to using atexit() ...</H1>
    <B>Randall S. Becker</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%2099fb31%3A%20Add%20atexit%20configuration%20option%20to%20using%0A%20atexit%28%29%20...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/afb19f-99fb31%40github.com%3E"
       TITLE="[openssl/openssl] 99fb31: Add atexit configuration option to using atexit() ...">noreply at github.com
       </A><BR>
    <I>Fri Feb  2 01:31:20 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="041118.html">[openssl/web] cf3cb2: Update the fips-cve page after the latest releases
</A></li>
        <LI>Next message (by thread): <A HREF="041121.html">[openssl/openssl] 3b62e0: Sync pyca workflow with master
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41120">[ date ]</a>
              <a href="thread.html#41120">[ thread ]</a>
              <a href="subject.html#41120">[ subject ]</a>
              <a href="author.html#41120">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/master
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 99fb31c167e322186c6f576cfaa8f433f4fed117
      <A HREF="https://github.com/openssl/openssl/commit/99fb31c167e322186c6f576cfaa8f433f4fed117">https://github.com/openssl/openssl/commit/99fb31c167e322186c6f576cfaa8f433f4fed117</A>
  Author: Randall S. Becker &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">randall.becker at nexbridge.ca</A>&gt;
  Date:   2024-02-01 (Thu, 01 Feb 2024)

  Changed paths:
    M .github/workflows/run-checker-daily.yml
    M CHANGES.md
    M Configurations/50-nonstop.conf
    M Configure
    M INSTALL.md
    M NOTES-NONSTOP.md
    M crypto/init.c

  Log Message:
  -----------
  Add atexit configuration option to using atexit() in libcrypto at build-time.

This fixes an issue with a mix of atexit() usage in DLL and statically linked
libcrypto that came out in the test suite on NonStop, which has slightly
different DLL unload processing semantics compared to Linux. The change
allows a build configuration to select whether to register OPENSSL_cleanup()
with atexit() or not, so avoid situations where atexit() registration causes
SIGSEGV.

INSTALL.md and CHANGES.md have been modified to include and describe this
option.

The no-atexit option has been added to .github/workflows/run-checker-daily.yml.

Fixes: #23135

Signed-of-by: Randall S. Becker &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">randall.becker at nexbridge.ca</A>&gt;

Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
Reviewed-by: Neil Horman &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">nhorman at openssl.org</A>&gt;
Reviewed-by: Todd Short &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">todd.short at me.com</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/23394">https://github.com/openssl/openssl/pull/23394</A>)


</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="041118.html">[openssl/web] cf3cb2: Update the fips-cve page after the latest releases
</A></li>
	<LI>Next message (by thread): <A HREF="041121.html">[openssl/openssl] 3b62e0: Sync pyca workflow with master
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41120">[ date ]</a>
              <a href="thread.html#41120">[ thread ]</a>
              <a href="subject.html#41120">[ subject ]</a>
              <a href="author.html#41120">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
