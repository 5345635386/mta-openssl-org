<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 7b4fc8: THREADING: Make CRYPTO_MUTEX and CRYPTO_CONDVAR ty...
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2024-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%207b4fc8%3A%20THREADING%3A%20Make%20CRYPTO_MUTEX%20and%0A%20CRYPTO_CONDVAR%20ty...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.2/351cfa-7b4fc8%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041171.html">
   <LINK REL="Next"  HREF="041173.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 7b4fc8: THREADING: Make CRYPTO_MUTEX and CRYPTO_CONDVAR ty...</H1>
    <B>Hugo Landau</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%207b4fc8%3A%20THREADING%3A%20Make%20CRYPTO_MUTEX%20and%0A%20CRYPTO_CONDVAR%20ty...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.2/351cfa-7b4fc8%40github.com%3E"
       TITLE="[openssl/openssl] 7b4fc8: THREADING: Make CRYPTO_MUTEX and CRYPTO_CONDVAR ty...">noreply at github.com
       </A><BR>
    <I>Fri Feb  9 13:13:40 UTC 2024</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="041171.html">[openssl/openssl] 62cb7c: THREADING: Make CRYPTO_MUTEX and CRYPTO_CONDVAR ty...
</A></li>
        <LI>Next message (by thread): <A HREF="041173.html">[openssl/openssl] cfabdd: Remove unused function arguments from tls_int_new_...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41172">[ date ]</a>
              <a href="thread.html#41172">[ thread ]</a>
              <a href="subject.html#41172">[ subject ]</a>
              <a href="author.html#41172">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.2
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 7b4fc8eb72cf5b2de7f2b22838449d28cfd9f0c7
      <A HREF="https://github.com/openssl/openssl/commit/7b4fc8eb72cf5b2de7f2b22838449d28cfd9f0c7">https://github.com/openssl/openssl/commit/7b4fc8eb72cf5b2de7f2b22838449d28cfd9f0c7</A>
  Author: Hugo Landau &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">hlandau at openssl.org</A>&gt;
  Date:   2024-02-09 (Fri, 09 Feb 2024)

  Changed paths:
    M include/internal/quic_reactor.h
    M include/internal/thread_arch.h
    M ssl/quic/quic_impl.c
    M ssl/quic/quic_thread_assist.c

  Log Message:
  -----------
  THREADING: Make CRYPTO_MUTEX and CRYPTO_CONDVAR typesafe

There was really no need for this to be void and it made bugs very easy
to introduce accidentally, especially given that the free functions
needed to be passed a pointer to the pointer.

Also fix some bugs in the QUIC code detected immediately by this change.

Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/23519">https://github.com/openssl/openssl/pull/23519</A>)

(cherry picked from commit 62cb7c810e882895a71ba2cc479f482df0aa8e32)


</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="041171.html">[openssl/openssl] 62cb7c: THREADING: Make CRYPTO_MUTEX and CRYPTO_CONDVAR ty...
</A></li>
	<LI>Next message (by thread): <A HREF="041173.html">[openssl/openssl] cfabdd: Remove unused function arguments from tls_int_new_...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41172">[ date ]</a>
              <a href="thread.html#41172">[ thread ]</a>
              <a href="subject.html#41172">[ subject ]</a>
              <a href="author.html#41172">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
