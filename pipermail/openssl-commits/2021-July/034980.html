<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2021-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1627347840.099636.15871.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034979.html">
   <LINK REL="Next"  HREF="034981.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl]  master update</H1>
    <B>Dr. Paul Dale</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1627347840.099636.15871.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl]  master update">pauli at openssl.org
       </A><BR>
    <I>Tue Jul 27 01:04:00 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="034979.html">[openssl]  master update
</A></li>
        <LI>Next message: <A HREF="034981.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34980">[ date ]</a>
              <a href="thread.html#34980">[ thread ]</a>
              <a href="subject.html#34980">[ subject ]</a>
              <a href="author.html#34980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  a7e62fbdf89b9bbaac85826020c1033b35a67d52 (commit)
       via  9aaf5048b17aa381e9b3fc42e15c9dbfab0f77df (commit)
      from  317ed1b41790db7187bc6585b3d57c6a983c793a (commit)


- Log -----------------------------------------------------------------
commit a7e62fbdf89b9bbaac85826020c1033b35a67d52
Author: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
Date:   Thu Jul 22 09:32:56 2021 +0200

    ECDSA_SIG_set0(): Clarify documentation and fix formatting errors
    
    Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/16129">https://github.com/openssl/openssl/pull/16129</A>)

commit 9aaf5048b17aa381e9b3fc42e15c9dbfab0f77df
Author: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
Date:   Wed Jul 21 16:42:55 2021 +0200

    ECDSA_SIG_set0: r and s parameters cannot be NULL
    
    Fixes #7731
    
    Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/16129">https://github.com/openssl/openssl/pull/16129</A>)

-----------------------------------------------------------------------

Summary of changes:
 doc/man3/ECDSA_SIG_new.pod | 65 +++++++++++++++++++++++-----------------------
 include/openssl/ec.h       |  4 +--
 2 files changed, 34 insertions(+), 35 deletions(-)

diff --git a/doc/man3/ECDSA_SIG_new.pod b/doc/man3/ECDSA_SIG_new.pod
index 6b31cbaf0a..dd4c16f57e 100644
--- a/doc/man3/ECDSA_SIG_new.pod
+++ b/doc/man3/ECDSA_SIG_new.pod
@@ -46,26 +46,25 @@ L&lt;openssl_user_macros(7)&gt;:
 =head1 DESCRIPTION
 
 B&lt;ECDSA_SIG&gt; is an opaque structure consisting of two BIGNUMs for the
-B&lt;r&gt; and B&lt;s&gt; value of an ECDSA signature (see X9.62 or FIPS 186-2).
+I&lt;r&gt; and I&lt;s&gt; value of an ECDSA signature (see X9.62 or FIPS 186-2).
 
 ECDSA_SIG_new() allocates an empty B&lt;ECDSA_SIG&gt; structure. Note: before
-OpenSSL 1.1.0 the: the B&lt;r&gt; and B&lt;s&gt; components were initialised.
+OpenSSL 1.1.0 the: the I&lt;r&gt; and I&lt;s&gt; components were initialised.
 
-ECDSA_SIG_free() frees the B&lt;ECDSA_SIG&gt; structure B&lt;sig&gt;.
+ECDSA_SIG_free() frees the B&lt;ECDSA_SIG&gt; structure I&lt;sig&gt;.
 
-ECDSA_SIG_get0() returns internal pointers the B&lt;r&gt; and B&lt;s&gt; values contained
-in B&lt;sig&gt; and stores them in B&lt;*pr&gt; and B&lt;*ps&gt;, respectively.
-The pointer B&lt;pr&gt; or B&lt;ps&gt; can be NULL, in which case the corresponding value
+ECDSA_SIG_get0() returns internal pointers the I&lt;r&gt; and I&lt;s&gt; values contained
+in I&lt;sig&gt; and stores them in I&lt;*pr&gt; and I&lt;*ps&gt;, respectively.
+The pointer I&lt;pr&gt; or I&lt;ps&gt; can be NULL, in which case the corresponding value
 is not returned.
 
-The values B&lt;r&gt;, B&lt;s&gt; can also be retrieved separately by the corresponding
+The values I&lt;r&gt;, I&lt;s&gt; can also be retrieved separately by the corresponding
 function ECDSA_SIG_get0_r() and ECDSA_SIG_get0_s(), respectively.
 
-The B&lt;r&gt; and B&lt;s&gt; values can be set by calling ECDSA_SIG_set0() and passing the
-new values for B&lt;r&gt; and B&lt;s&gt; as parameters to the function. Calling this
-function transfers the memory management of the values to the ECDSA_SIG object,
-and therefore the values that have been passed in should not be freed directly
-after this function has been called.
+Non-NULL I&lt;r&gt; and I&lt;s&gt; values can be set on the I&lt;sig&gt; by calling
+ECDSA_SIG_set0(). Calling this function transfers the memory management of the
+values to the B&lt;ECDSA_SIG&gt; object, and therefore the values that have been
+passed in should not be freed by the caller.
 
 See L&lt;i2d_ECDSA_SIG(3)&gt; and L&lt;d2i_ECDSA_SIG(3)&gt; for information about encoding
 and decoding ECDSA signatures to/from DER.
@@ -75,43 +74,43 @@ use the higher level B&lt;EVP&gt; interface such as L&lt;EVP_DigestSignInit(3)&gt;
 or L&lt;EVP_DigestVerifyInit(3)&gt; instead.
 
 ECDSA_size() returns the maximum length of a DER encoded ECDSA signature
-created with the private EC key B&lt;eckey&gt;. To obtain the actual signature
-size use L&lt;EVP_PKEY_sign(3)&gt; with a NULL B&lt;sig&gt; parameter.
+created with the private EC key I&lt;eckey&gt;. To obtain the actual signature
+size use L&lt;EVP_PKEY_sign(3)&gt; with a NULL I&lt;sig&gt; parameter.
 
-ECDSA_sign() computes a digital signature of the B&lt;dgstlen&gt; bytes hash value
-B&lt;dgst&gt; using the private EC key B&lt;eckey&gt;. The DER encoded signatures is
-stored in B&lt;sig&gt; and its length is returned in B&lt;sig_len&gt;. Note: B&lt;sig&gt; must
-point to ECDSA_size(eckey) bytes of memory. The parameter B&lt;type&gt; is currently
-ignored. ECDSA_sign() is wrapper function for ECDSA_sign_ex() with B&lt;kinv&gt;
-and B&lt;rp&gt; set to NULL.
+ECDSA_sign() computes a digital signature of the I&lt;dgstlen&gt; bytes hash value
+I&lt;dgst&gt; using the private EC key I&lt;eckey&gt;. The DER encoded signatures is
+stored in I&lt;sig&gt; and its length is returned in I&lt;sig_len&gt;. Note: I&lt;sig&gt; must
+point to ECDSA_size(eckey) bytes of memory. The parameter I&lt;type&gt; is currently
+ignored. ECDSA_sign() is wrapper function for ECDSA_sign_ex() with I&lt;kinv&gt;
+and I&lt;rp&gt; set to NULL.
 
 ECDSA_do_sign() is similar to ECDSA_sign() except the signature is returned
 as a newly allocated B&lt;ECDSA_SIG&gt; structure (or NULL on error). ECDSA_do_sign()
-is a wrapper function for ECDSA_do_sign_ex() with B&lt;kinv&gt; and B&lt;rp&gt; set to
+is a wrapper function for ECDSA_do_sign_ex() with I&lt;kinv&gt; and I&lt;rp&gt; set to
 NULL.
 
-ECDSA_verify() verifies that the signature in B&lt;sig&gt; of size B&lt;siglen&gt; is a
-valid ECDSA signature of the hash value B&lt;dgst&gt; of size B&lt;dgstlen&gt; using the
-public key B&lt;eckey&gt;.  The parameter B&lt;type&gt; is ignored.
+ECDSA_verify() verifies that the signature in I&lt;sig&gt; of size I&lt;siglen&gt; is a
+valid ECDSA signature of the hash value I&lt;dgst&gt; of size I&lt;dgstlen&gt; using the
+public key I&lt;eckey&gt;.  The parameter I&lt;type&gt; is ignored.
 
 ECDSA_do_verify() is similar to ECDSA_verify() except the signature is
 presented in the form of a pointer to an B&lt;ECDSA_SIG&gt; structure.
 
-The remaining functions utilise the internal B&lt;kinv&gt; and B&lt;r&gt; values used
+The remaining functions utilise the internal I&lt;kinv&gt; and I&lt;r&gt; values used
 during signature computation. Most applications will never need to call these
 and some external ECDSA ENGINE implementations may not support them at all if
-either B&lt;kinv&gt; or B&lt;r&gt; is not B&lt;NULL&gt;.
+either I&lt;kinv&gt; or I&lt;r&gt; is not NULL.
 
 ECDSA_sign_setup() may be used to precompute parts of the signing operation.
-B&lt;eckey&gt; is the private EC key and B&lt;ctx&gt; is a pointer to B&lt;BN_CTX&gt; structure
-(or NULL). The precomputed values or returned in B&lt;kinv&gt; and B&lt;rp&gt; and can be
+I&lt;eckey&gt; is the private EC key and I&lt;ctx&gt; is a pointer to B&lt;BN_CTX&gt; structure
+(or NULL). The precomputed values or returned in I&lt;kinv&gt; and I&lt;rp&gt; and can be
 used in a later call to ECDSA_sign_ex() or ECDSA_do_sign_ex().
 
-ECDSA_sign_ex() computes a digital signature of the B&lt;dgstlen&gt; bytes hash value
-B&lt;dgst&gt; using the private EC key B&lt;eckey&gt; and the optional pre-computed values
-B&lt;kinv&gt; and B&lt;rp&gt;. The DER encoded signature is stored in B&lt;sig&gt; and its
-length is returned in B&lt;sig_len&gt;. Note: B&lt;sig&gt; must point to ECDSA_size(eckey)
-bytes of memory. The parameter B&lt;type&gt; is ignored.
+ECDSA_sign_ex() computes a digital signature of the I&lt;dgstlen&gt; bytes hash value
+I&lt;dgst&gt; using the private EC key I&lt;eckey&gt; and the optional pre-computed values
+I&lt;kinv&gt; and I&lt;rp&gt;. The DER encoded signature is stored in I&lt;sig&gt; and its
+length is returned in I&lt;sig_len&gt;. Note: I&lt;sig&gt; must point to ECDSA_size(eckey)
+bytes of memory. The parameter I&lt;type&gt; is ignored.
 
 ECDSA_do_sign_ex() is similar to ECDSA_sign_ex() except the signature is
 returned as a newly allocated B&lt;ECDSA_SIG&gt; structure (or NULL on error).
diff --git a/include/openssl/ec.h b/include/openssl/ec.h
index ad40b9045c..8b1abcebb7 100644
--- a/include/openssl/ec.h
+++ b/include/openssl/ec.h
@@ -1347,8 +1347,8 @@ const BIGNUM *ECDSA_SIG_get0_s(const ECDSA_SIG *sig);
 
 /** Setter for r and s fields of ECDSA_SIG
  *  \param  sig  pointer to ECDSA_SIG structure
- *  \param  r    pointer to BIGNUM for r (may be NULL)
- *  \param  s    pointer to BIGNUM for s (may be NULL)
+ *  \param  r    pointer to BIGNUM for r
+ *  \param  s    pointer to BIGNUM for s
  */
 int ECDSA_SIG_set0(ECDSA_SIG *sig, BIGNUM *r, BIGNUM *s);
 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034979.html">[openssl]  master update
</A></li>
	<LI>Next message: <A HREF="034981.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34980">[ date ]</a>
              <a href="thread.html#34980">[ thread ]</a>
              <a href="subject.html#34980">[ subject ]</a>
              <a href="author.html#34980">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
