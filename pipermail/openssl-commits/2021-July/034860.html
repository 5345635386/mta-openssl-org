<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2021-July/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1625449877.708701.24414.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034857.html">
   <LINK REL="Next"  HREF="034861.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl]  master update</H1>
    <B>Dr. Paul Dale</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1625449877.708701.24414.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl]  master update">pauli at openssl.org
       </A><BR>
    <I>Mon Jul  5 01:51:17 UTC 2021</I>
    <P><UL>
        <LI>Previous message: <A HREF="034857.html">[openssl]  master update
</A></li>
        <LI>Next message: <A HREF="034861.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34860">[ date ]</a>
              <a href="thread.html#34860">[ thread ]</a>
              <a href="subject.html#34860">[ subject ]</a>
              <a href="author.html#34860">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  f7546162d406be1f93bb39fb5a968521162b9acf (commit)
       via  97419ce97da89f5b6f51121e2562b7d2c788dd25 (commit)
       via  56cd5dc78b3cecd2c6cf98b0d235b126e82f0dd2 (commit)
      from  f40c5f2c53b9d5eec98993653c3d741b0226b697 (commit)


- Log -----------------------------------------------------------------
commit f7546162d406be1f93bb39fb5a968521162b9acf
Author: Pauli &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Date:   Thu Jul 1 14:47:38 2021 +1000

    doc: include PBKDF1 documentation in build.info
    
    Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/15967">https://github.com/openssl/openssl/pull/15967</A>)

commit 97419ce97da89f5b6f51121e2562b7d2c788dd25
Author: Pauli &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Date:   Thu Jul 1 14:46:39 2021 +1000

    doc: add PBKDF1 provider documentation
    
    Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/15967">https://github.com/openssl/openssl/pull/15967</A>)

commit 56cd5dc78b3cecd2c6cf98b0d235b126e82f0dd2
Author: Pauli &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Date:   Thu Jul 1 14:00:03 2021 +1000

    provider: use #define for PBKDF1 algorithm name
    
    This seems to be standard practice so bringing PBKDF1 into line.
    
    Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/15967">https://github.com/openssl/openssl/pull/15967</A>)

-----------------------------------------------------------------------

Summary of changes:
 doc/build.info                                     |  6 ++++++
 .../{EVP_KDF-PKCS12KDF.pod =&gt; EVP_KDF-PBKDF1.pod}  | 24 +++++++++-------------
 providers/implementations/include/prov/names.h     |  1 +
 providers/legacyprov.c                             |  2 +-
 4 files changed, 18 insertions(+), 15 deletions(-)
 copy doc/man7/{EVP_KDF-PKCS12KDF.pod =&gt; EVP_KDF-PBKDF1.pod} (68%)

diff --git a/doc/build.info b/doc/build.info
index 4529e3c72f..475034cb9f 100644
--- a/doc/build.info
+++ b/doc/build.info
@@ -4107,6 +4107,10 @@ DEPEND[html/man7/EVP_KDF-KRB5KDF.html]=man7/EVP_KDF-KRB5KDF.pod
 GENERATE[html/man7/EVP_KDF-KRB5KDF.html]=man7/EVP_KDF-KRB5KDF.pod
 DEPEND[man/man7/EVP_KDF-KRB5KDF.7]=man7/EVP_KDF-KRB5KDF.pod
 GENERATE[man/man7/EVP_KDF-KRB5KDF.7]=man7/EVP_KDF-KRB5KDF.pod
+DEPEND[html/man7/EVP_KDF-PBKDF1.html]=man7/EVP_KDF-PBKDF1.pod
+GENERATE[html/man7/EVP_KDF-PBKDF1.html]=man7/EVP_KDF-PBKDF1.pod
+DEPEND[man/man7/EVP_KDF-PBKDF1.7]=man7/EVP_KDF-PBKDF1.pod
+GENERATE[man/man7/EVP_KDF-PBKDF1.7]=man7/EVP_KDF-PBKDF1.pod
 DEPEND[html/man7/EVP_KDF-PBKDF2.html]=man7/EVP_KDF-PBKDF2.pod
 GENERATE[html/man7/EVP_KDF-PBKDF2.html]=man7/EVP_KDF-PBKDF2.pod
 DEPEND[man/man7/EVP_KDF-PBKDF2.7]=man7/EVP_KDF-PBKDF2.pod
@@ -4548,6 +4552,7 @@ html/man7/EVP_CIPHER-SM4.html \
 html/man7/EVP_KDF-HKDF.html \
 html/man7/EVP_KDF-KB.html \
 html/man7/EVP_KDF-KRB5KDF.html \
+html/man7/EVP_KDF-PBKDF1.html \
 html/man7/EVP_KDF-PBKDF2.html \
 html/man7/EVP_KDF-PKCS12KDF.html \
 html/man7/EVP_KDF-SCRYPT.html \
@@ -4669,6 +4674,7 @@ man/man7/EVP_CIPHER-SM4.7 \
 man/man7/EVP_KDF-HKDF.7 \
 man/man7/EVP_KDF-KB.7 \
 man/man7/EVP_KDF-KRB5KDF.7 \
+man/man7/EVP_KDF-PBKDF1.7 \
 man/man7/EVP_KDF-PBKDF2.7 \
 man/man7/EVP_KDF-PKCS12KDF.7 \
 man/man7/EVP_KDF-SCRYPT.7 \
diff --git a/doc/man7/EVP_KDF-PKCS12KDF.pod b/doc/man7/EVP_KDF-PBKDF1.pod
similarity index 68%
copy from doc/man7/EVP_KDF-PKCS12KDF.pod
copy to doc/man7/EVP_KDF-PBKDF1.pod
index 68f987b050..ae13765211 100644
--- a/doc/man7/EVP_KDF-PKCS12KDF.pod
+++ b/doc/man7/EVP_KDF-PBKDF1.pod
@@ -2,21 +2,20 @@
 
 =head1 NAME
 
-EVP_KDF-PKCS12KDF - The PKCS#12 EVP_KDF implementation
+EVP_KDF-PBKDF1 - The PBKDF1 EVP_KDF implementation
 
 =head1 DESCRIPTION
 
-Support for computing the B&lt;PKCS#12&gt; password-based KDF through the B&lt;EVP_KDF&gt;
+Support for computing the B&lt;PBKDF1&gt; password-based KDF through the B&lt;EVP_KDF&gt;
 API.
 
-The EVP_KDF-PKCS12KDF algorithm implements the PKCS#12 password-based key
-derivation function, as described in appendix B of RFC 7292 (PKCS #12:
-Personal Information Exchange Syntax); it derives a key from a password
-using a salt, iteration count and the intended usage.
+The EVP_KDF-PBKDF1 algorithm implements the PBKDF1 password-based key
+derivation function, as described in RFC 8018; it derives a key from a password
+using a salt and iteration count.
 
 =head2 Identity
 
-&quot;PKCS12KDF&quot; is the name for this implementation; it
+&quot;PBKDF1&quot; is the name for this implementation; it
 can be used with the EVP_KDF_fetch() function.
 
 =head2 Supported parameters
@@ -31,17 +30,14 @@ The supported parameters are:
 
 =item &quot;iter&quot; (B&lt;OSSL_KDF_PARAM_ITER&gt;) &lt;unsigned integer&gt;
 
+This parameter has a default value of 0 and should be set.
+
 =item &quot;properties&quot; (B&lt;OSSL_KDF_PARAM_PROPERTIES&gt;) &lt;UTF8 string&gt;
 
 =item &quot;digest&quot; (B&lt;OSSL_KDF_PARAM_DIGEST&gt;) &lt;UTF8 string&gt;
 
 These parameters work as described in L&lt;EVP_KDF(3)/PARAMETERS&gt;.
 
-=item &quot;id&quot; (B&lt;OSSL_KDF_PARAM_PKCS12_ID&gt;) &lt;integer&gt;
-
-This parameter is used to specify the intended usage of the output bits, as per
-RFC 7292 section B.3.
-
 =back
 
 =head1 NOTES
@@ -59,7 +55,7 @@ byte sequence.
 
 =head1 CONFORMING TO
 
-RFC7292
+RFC 8018
 
 =head1 SEE ALSO
 
@@ -76,7 +72,7 @@ This functionality was added to OpenSSL 3.0.
 
 =head1 COPYRIGHT
 
-Copyright 2020 The OpenSSL Project Authors. All Rights Reserved.
+Copyright 2021 The OpenSSL Project Authors. All Rights Reserved.
 
 Licensed under the Apache License 2.0 (the &quot;License&quot;).  You may not use
 this file except in compliance with the License.  You can obtain a copy
diff --git a/providers/implementations/include/prov/names.h b/providers/implementations/include/prov/names.h
index fd39c0229e..5aec4a0934 100644
--- a/providers/implementations/include/prov/names.h
+++ b/providers/implementations/include/prov/names.h
@@ -250,6 +250,7 @@
 #define PROV_NAMES_HKDF &quot;HKDF&quot;
 #define PROV_DESCS_HKDF_SIGN &quot;OpenSSL HKDF via EVP_PKEY implementation&quot;
 #define PROV_NAMES_SSKDF &quot;SSKDF&quot;
+#define PROV_NAMES_PBKDF1 &quot;PBKDF1&quot;
 #define PROV_NAMES_PBKDF2 &quot;PBKDF2:1.2.840.113549.1.5.12&quot;
 #define PROV_NAMES_SSHKDF &quot;SSHKDF&quot;
 #define PROV_NAMES_X963KDF &quot;X963KDF:X942KDF-CONCAT&quot;
diff --git a/providers/legacyprov.c b/providers/legacyprov.c
index b5fc5f523f..a5999c5f8b 100644
--- a/providers/legacyprov.c
+++ b/providers/legacyprov.c
@@ -144,7 +144,7 @@ static const OSSL_ALGORITHM legacy_ciphers[] = {
 };
 
 static const OSSL_ALGORITHM legacy_kdfs[] = {
-    ALG(&quot;PBKDF1&quot;, ossl_kdf_pbkdf1_functions),
+    ALG(PROV_NAMES_PBKDF1, ossl_kdf_pbkdf1_functions),
     { NULL, NULL, NULL }
 };
 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034857.html">[openssl]  master update
</A></li>
	<LI>Next message: <A HREF="034861.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34860">[ date ]</a>
              <a href="thread.html#34860">[ thread ]</a>
              <a href="subject.html#34860">[ subject ]</a>
              <a href="author.html#34860">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
