<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 160f48: Add system guessing for linux64-loongarch64 target
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2023-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20160f48%3A%20Add%20system%20guessing%20for%20linux64-loongarch64%0A%20target&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/eb2ff0-780ce3%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039536.html">
   <LINK REL="Next"  HREF="039538.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 160f48: Add system guessing for linux64-loongarch64 target</H1>
    <B>Zhu Chen</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20160f48%3A%20Add%20system%20guessing%20for%20linux64-loongarch64%0A%20target&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/eb2ff0-780ce3%40github.com%3E"
       TITLE="[openssl/openssl] 160f48: Add system guessing for linux64-loongarch64 target">noreply at github.com
       </A><BR>
    <I>Tue Aug  1 17:44:22 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="039536.html">[openssl/openssl] e7bb35: Backport crypto/armcap.c from master branch
</A></li>
        <LI>Next message (by thread): <A HREF="039538.html">[openssl/openssl] 6a26a0: Fixed incorrect usage of vshuf.b instruction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39537">[ date ]</a>
              <a href="thread.html#39537">[ thread ]</a>
              <a href="subject.html#39537">[ subject ]</a>
              <a href="author.html#39537">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/master
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 160f48941d143cf2682df4e938ba953c96ac3c7a
      <A HREF="https://github.com/openssl/openssl/commit/160f48941d143cf2682df4e938ba953c96ac3c7a">https://github.com/openssl/openssl/commit/160f48941d143cf2682df4e938ba953c96ac3c7a</A>
  Author: Xi Ruoyao &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">xry111 at xry111.site</A>&gt;
  Date:   2023-08-01 (Tue, 01 Aug 2023)

  Changed paths:
    M util/perl/OpenSSL/config.pm

  Log Message:
  -----------
  Add system guessing for linux64-loongarch64 target

Now the default is linux-generic32, it's not good for loongarch64.

We can also test if the assembler supports vector instructions here and
disable asm if not.

Closes #21340.

Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/21510">https://github.com/openssl/openssl/pull/21510</A>)


  Commit: 780ce3849f9efc5404d94464e0eeff966bebbbf1
      <A HREF="https://github.com/openssl/openssl/commit/780ce3849f9efc5404d94464e0eeff966bebbbf1">https://github.com/openssl/openssl/commit/780ce3849f9efc5404d94464e0eeff966bebbbf1</A>
  Author: zhuchen &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">zhuchen at loongson.cn</A>&gt;
  Date:   2023-08-01 (Tue, 01 Aug 2023)

  Changed paths:
    M crypto/aes/asm/vpaes-loongarch64.pl

  Log Message:
  -----------
  Fixed incorrect usage of vshuf.b instruction

In the definition of the latest revised LoongArch64 vector instruction manual,
it is clearly pointed out that the undefined upper three bits of each byte in
the control register of the vshuf.b instruction should not be used, otherwise
uncertain results may be obtained. Therefore, it is necessary to correct the
use of the vshuf.b instruction in the existing vpaes-loongarch64.pl code to
avoid erroneous calculation results in future LoongArch64 processors.

Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/21530">https://github.com/openssl/openssl/pull/21530</A>)


Compare: <A HREF="https://github.com/openssl/openssl/compare/eb2ff04cc759...780ce3849f9e">https://github.com/openssl/openssl/compare/eb2ff04cc759...780ce3849f9e</A>
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="039536.html">[openssl/openssl] e7bb35: Backport crypto/armcap.c from master branch
</A></li>
	<LI>Next message (by thread): <A HREF="039538.html">[openssl/openssl] 6a26a0: Fixed incorrect usage of vshuf.b instruction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39537">[ date ]</a>
              <a href="thread.html#39537">[ thread ]</a>
              <a href="subject.html#39537">[ subject ]</a>
              <a href="author.html#39537">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
