<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 84a149: Change the TLS handshake keys early if we're not d...
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2023-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%2084a149%3A%20Change%20the%20TLS%20handshake%20keys%20early%20if%0A%20we%27re%20not%20d...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/27315a-84a149%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039655.html">
   <LINK REL="Next"  HREF="039659.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 84a149: Change the TLS handshake keys early if we're not d...</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%2084a149%3A%20Change%20the%20TLS%20handshake%20keys%20early%20if%0A%20we%27re%20not%20d...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/27315a-84a149%40github.com%3E"
       TITLE="[openssl/openssl] 84a149: Change the TLS handshake keys early if we're not d...">noreply at github.com
       </A><BR>
    <I>Thu Aug 24 06:45:09 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="039655.html">[openssl/openssl] 27315a: doc: add the migration guide to the new guide series
</A></li>
        <LI>Next message (by thread): <A HREF="039659.html">[openssl/openssl] 5ffad4: Fixed default value of the &quot;ess_cert_id_alg&quot; optio...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39657">[ date ]</a>
              <a href="thread.html#39657">[ thread ]</a>
              <a href="subject.html#39657">[ subject ]</a>
              <a href="author.html#39657">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/master
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 84a149254f977f502dd2314169812fc6eae8c309
      <A HREF="https://github.com/openssl/openssl/commit/84a149254f977f502dd2314169812fc6eae8c309">https://github.com/openssl/openssl/commit/84a149254f977f502dd2314169812fc6eae8c309</A>
  Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
  Date:   2023-08-24 (Thu, 24 Aug 2023)

  Changed paths:
    M ssl/statem/statem_clnt.c
    M ssl/statem/statem_lib.c
    M test/recipes/75-test_quicapi_data/ssltraceref.txt

  Log Message:
  -----------
  Change the TLS handshake keys early if we're not doing early data

We change the client TLS handshake keys as late as possible so that we
don't disturb the keys if we are writing early data. However for QUIC we
want to do this as early as possible (after ServerHello). Since we will
never do TLS early data with QUIC we just do it as early as possible if
early data is not being used.

Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
Reviewed-by: Hugo Landau &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">hlandau at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/21810">https://github.com/openssl/openssl/pull/21810</A>)


</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="039655.html">[openssl/openssl] 27315a: doc: add the migration guide to the new guide series
</A></li>
	<LI>Next message (by thread): <A HREF="039659.html">[openssl/openssl] 5ffad4: Fixed default value of the &quot;ess_cert_id_alg&quot; optio...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39657">[ date ]</a>
              <a href="thread.html#39657">[ thread ]</a>
              <a href="subject.html#39657">[ subject ]</a>
              <a href="author.html#39657">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
