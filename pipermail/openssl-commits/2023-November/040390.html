<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 915ec6: Keep track of connection credit as we add stream data
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2023-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20915ec6%3A%20Keep%20track%20of%20connection%20credit%20as%20we%20add%0A%20stream%20data&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.2/1b83ad-50c567%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040389.html">
   <LINK REL="Next"  HREF="040391.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 915ec6: Keep track of connection credit as we add stream data</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20915ec6%3A%20Keep%20track%20of%20connection%20credit%20as%20we%20add%0A%20stream%20data&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.2/1b83ad-50c567%40github.com%3E"
       TITLE="[openssl/openssl] 915ec6: Keep track of connection credit as we add stream data">noreply at github.com
       </A><BR>
    <I>Wed Nov 15 10:06:07 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="040389.html">[openssl/openssl] e57bf6: Keep track of connection credit as we add stream data
</A></li>
        <LI>Next message (by thread): <A HREF="040391.html">[openssl/openssl] 46376f: Correct tag len check when determining how much sp...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40390">[ date ]</a>
              <a href="thread.html#40390">[ thread ]</a>
              <a href="subject.html#40390">[ subject ]</a>
              <a href="author.html#40390">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.2
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 915ec623eca7b413db6f54ec4aa64585e81ac4df
      <A HREF="https://github.com/openssl/openssl/commit/915ec623eca7b413db6f54ec4aa64585e81ac4df">https://github.com/openssl/openssl/commit/915ec623eca7b413db6f54ec4aa64585e81ac4df</A>
  Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
  Date:   2023-11-15 (Wed, 15 Nov 2023)

  Changed paths:
    M include/internal/quic_fc.h
    M ssl/quic/quic_fc.c
    M ssl/quic/quic_stream_map.c
    M ssl/quic/quic_txp.c
    M test/quic_fc_test.c

  Log Message:
  -----------
  Keep track of connection credit as we add stream data

If a single packet contains data from multiple streams we need to keep track
of the cummulative connection level credit consumed across all of the
streams. Once the connection level credit has been consumed we must stop
adding stream data.

Fixes #22706

Reviewed-by: Hugo Landau &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">hlandau at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/22718">https://github.com/openssl/openssl/pull/22718</A>)

(cherry picked from commit e57bf6b3bfa2f0b18e5cad7fd3c5fdd7c51516b9)


  Commit: 50c56768e184f1c0559d1c88d09d5db001221f28
      <A HREF="https://github.com/openssl/openssl/commit/50c56768e184f1c0559d1c88d09d5db001221f28">https://github.com/openssl/openssl/commit/50c56768e184f1c0559d1c88d09d5db001221f28</A>
  Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
  Date:   2023-11-15 (Wed, 15 Nov 2023)

  Changed paths:
    M test/quic_fc_test.c

  Log Message:
  -----------
  Add some additional tests for the new fc &quot;consumed&quot; params

Check that the &quot;consumed&quot; parameter is working as expected.

Reviewed-by: Hugo Landau &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">hlandau at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/22718">https://github.com/openssl/openssl/pull/22718</A>)

(cherry picked from commit aa6ac60728207ba18779d7cbe71893c066bcbc28)


Compare: <A HREF="https://github.com/openssl/openssl/compare/1b83adc06513...50c56768e184">https://github.com/openssl/openssl/compare/1b83adc06513...50c56768e184</A>
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="040389.html">[openssl/openssl] e57bf6: Keep track of connection credit as we add stream data
</A></li>
	<LI>Next message (by thread): <A HREF="040391.html">[openssl/openssl] 46376f: Correct tag len check when determining how much sp...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40390">[ date ]</a>
              <a href="thread.html#40390">[ thread ]</a>
              <a href="subject.html#40390">[ subject ]</a>
              <a href="author.html#40390">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
