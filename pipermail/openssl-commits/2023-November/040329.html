<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] f5f4bc: Fix bug in priority queue remove function
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2023-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20f5f4bc%3A%20Fix%20bug%20in%20priority%20queue%20remove%20function&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.2/2e4077-2f563d%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040328.html">
   <LINK REL="Next"  HREF="040330.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] f5f4bc: Fix bug in priority queue remove function</H1>
    <B>Pauli</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20f5f4bc%3A%20Fix%20bug%20in%20priority%20queue%20remove%20function&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.2/2e4077-2f563d%40github.com%3E"
       TITLE="[openssl/openssl] f5f4bc: Fix bug in priority queue remove function">noreply at github.com
       </A><BR>
    <I>Wed Nov  8 11:11:14 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="040328.html">[openssl/tools] 9a56a6: Fix shebang lines for NixOS compatibility
</A></li>
        <LI>Next message (by thread): <A HREF="040330.html">[openssl/openssl] a03108: Fix bug in priority queue remove function
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40329">[ date ]</a>
              <a href="thread.html#40329">[ thread ]</a>
              <a href="subject.html#40329">[ subject ]</a>
              <a href="author.html#40329">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.2
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: f5f4bc30f303a229d29dea148bc2d289f6fe04e3
      <A HREF="https://github.com/openssl/openssl/commit/f5f4bc30f303a229d29dea148bc2d289f6fe04e3">https://github.com/openssl/openssl/commit/f5f4bc30f303a229d29dea148bc2d289f6fe04e3</A>
  Author: Pauli &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
  Date:   2023-11-08 (Wed, 08 Nov 2023)

  Changed paths:
    M ssl/priority_queue.c

  Log Message:
  -----------
  Fix bug in priority queue remove function

The short circuit in the remove function when the element is the last in the
heap, failed to add the removed slot back to the freelist.

Fixes #22644

Reviewed-by: Hugo Landau &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">hlandau at openssl.org</A>&gt;
Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/22646">https://github.com/openssl/openssl/pull/22646</A>)

(cherry picked from commit a03108778044cc0d428ce38084ef6f318446fbe3)


  Commit: 2f563dc3efa7ece9197aaf44cf099bf516ac7421
      <A HREF="https://github.com/openssl/openssl/commit/2f563dc3efa7ece9197aaf44cf099bf516ac7421">https://github.com/openssl/openssl/commit/2f563dc3efa7ece9197aaf44cf099bf516ac7421</A>
  Author: Pauli &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
  Date:   2023-11-08 (Wed, 08 Nov 2023)

  Changed paths:
    M test/priority_queue_test.c

  Log Message:
  -----------
  Add unit test for #22644

Reviewed-by: Hugo Landau &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">hlandau at openssl.org</A>&gt;
Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/22646">https://github.com/openssl/openssl/pull/22646</A>)

(cherry picked from commit 0efcf1384fd320a6235e90d7b078ad89ea504d16)


Compare: <A HREF="https://github.com/openssl/openssl/compare/2e40770aa55c...2f563dc3efa7">https://github.com/openssl/openssl/compare/2e40770aa55c...2f563dc3efa7</A>
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="040328.html">[openssl/tools] 9a56a6: Fix shebang lines for NixOS compatibility
</A></li>
	<LI>Next message (by thread): <A HREF="040330.html">[openssl/openssl] a03108: Fix bug in priority queue remove function
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40329">[ date ]</a>
              <a href="thread.html#40329">[ thread ]</a>
              <a href="subject.html#40329">[ subject ]</a>
              <a href="author.html#40329">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
