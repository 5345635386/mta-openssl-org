<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 6941eb: When changing IV length invalidate previously set IV
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2023-November/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%206941eb%3A%20When%20changing%20IV%20length%20invalidate%0A%20previously%20set%20IV&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.2/173dca-57fc99%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040281.html">
   <LINK REL="Next"  HREF="040283.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 6941eb: When changing IV length invalidate previously set IV</H1>
    <B>Tom&#225;&#353; Mr&#225;z</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%206941eb%3A%20When%20changing%20IV%20length%20invalidate%0A%20previously%20set%20IV&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.2/173dca-57fc99%40github.com%3E"
       TITLE="[openssl/openssl] 6941eb: When changing IV length invalidate previously set IV">noreply at github.com
       </A><BR>
    <I>Fri Nov  3 12:39:10 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="040281.html">[openssl/openssl] 173dca: rand uniform: fix likely usage
</A></li>
        <LI>Next message (by thread): <A HREF="040283.html">[openssl/openssl] eddbb7: When changing IV length invalidate previously set IV
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40282">[ date ]</a>
              <a href="thread.html#40282">[ thread ]</a>
              <a href="subject.html#40282">[ subject ]</a>
              <a href="author.html#40282">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.2
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 6941eb4d86661488faa3b5c07fc80cfc84ed8934
      <A HREF="https://github.com/openssl/openssl/commit/6941eb4d86661488faa3b5c07fc80cfc84ed8934">https://github.com/openssl/openssl/commit/6941eb4d86661488faa3b5c07fc80cfc84ed8934</A>
  Author: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
  Date:   2023-11-03 (Fri, 03 Nov 2023)

  Changed paths:
    M providers/implementations/ciphers/cipher_aes_ocb.c
    M providers/implementations/ciphers/ciphercommon_ccm.c
    M providers/implementations/ciphers/ciphercommon_gcm.c

  Log Message:
  -----------
  When changing IV length invalidate previously set IV

Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/22590">https://github.com/openssl/openssl/pull/22590</A>)

(cherry picked from commit eddbb78f4e5196eee33b2fd3d6adeabb69d52eb7)


  Commit: e7cb2117c9ccc0d531d521e45ae780be669e4ffc
      <A HREF="https://github.com/openssl/openssl/commit/e7cb2117c9ccc0d531d521e45ae780be669e4ffc">https://github.com/openssl/openssl/commit/e7cb2117c9ccc0d531d521e45ae780be669e4ffc</A>
  Author: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
  Date:   2023-11-03 (Fri, 03 Nov 2023)

  Changed paths:
    M providers/implementations/ciphers/cipher_des.c
    M providers/implementations/ciphers/cipher_tdes_common.c
    M providers/implementations/ciphers/ciphercommon.c
    M providers/implementations/include/prov/ciphercommon.h

  Log Message:
  -----------
  update/final: Return error if key is not set

Also make sure the key is not set if the key
length is changed on the context after the key was
set previously.

Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/22590">https://github.com/openssl/openssl/pull/22590</A>)

(cherry picked from commit 3a95d1e41abf2e8eb0f6f07003bac844950bfaae)


  Commit: de46fe6f3386f2a1c31fc124784825c97c9ca6e9
      <A HREF="https://github.com/openssl/openssl/commit/de46fe6f3386f2a1c31fc124784825c97c9ca6e9">https://github.com/openssl/openssl/commit/de46fe6f3386f2a1c31fc124784825c97c9ca6e9</A>
  Author: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
  Date:   2023-11-03 (Fri, 03 Nov 2023)

  Changed paths:
    M test/evp_extra_test.c

  Log Message:
  -----------
  Add negative test for iv length change

Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/22590">https://github.com/openssl/openssl/pull/22590</A>)

(cherry picked from commit 82750a0826cd4728f40df9ef31b3294d83aaafe0)


  Commit: 57fc9992584a7b9bede4b5eb40a1074f7e7e0df4
      <A HREF="https://github.com/openssl/openssl/commit/57fc9992584a7b9bede4b5eb40a1074f7e7e0df4">https://github.com/openssl/openssl/commit/57fc9992584a7b9bede4b5eb40a1074f7e7e0df4</A>
  Author: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
  Date:   2023-11-03 (Fri, 03 Nov 2023)

  Changed paths:
    M test/evp_extra_test.c

  Log Message:
  -----------
  Add negative test for key length change

Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/22590">https://github.com/openssl/openssl/pull/22590</A>)

(cherry picked from commit 1aa08644ecd4005c0f55276b2e8dabd8a2a758f0)


Compare: <A HREF="https://github.com/openssl/openssl/compare/173dca8ea144...57fc9992584a">https://github.com/openssl/openssl/compare/173dca8ea144...57fc9992584a</A>
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="040281.html">[openssl/openssl] 173dca: rand uniform: fix likely usage
</A></li>
	<LI>Next message (by thread): <A HREF="040283.html">[openssl/openssl] eddbb7: When changing IV length invalidate previously set IV
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40282">[ date ]</a>
              <a href="thread.html#40282">[ thread ]</a>
              <a href="subject.html#40282">[ subject ]</a>
              <a href="author.html#40282">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
