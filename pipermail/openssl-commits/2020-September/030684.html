<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-ubsan -DPEDANTIC -DOPENSSL_SMALL_FOOTPRINT -fno-sanitize=alignment
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2020-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20Still%20FAILED%20build%20of%20OpenSSL%20branch%20master%20with%20options%20-d%0A%20--strict-warnings%20enable-ubsan%20-DPEDANTIC%20-DOPENSSL_SMALL_FOOTPRINT%0A%20-fno-sanitize%3Dalignment&In-Reply-To=%3C1600166919.061842.21845.nullmailer%40run.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030633.html">
   <LINK REL="Next"  HREF="030731.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-ubsan -DPEDANTIC -DOPENSSL_SMALL_FOOTPRINT -fno-sanitize=alignment</H1>
    <B>OpenSSL run-checker</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20Still%20FAILED%20build%20of%20OpenSSL%20branch%20master%20with%20options%20-d%0A%20--strict-warnings%20enable-ubsan%20-DPEDANTIC%20-DOPENSSL_SMALL_FOOTPRINT%0A%20-fno-sanitize%3Dalignment&In-Reply-To=%3C1600166919.061842.21845.nullmailer%40run.openssl.org%3E"
       TITLE="Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-ubsan -DPEDANTIC -DOPENSSL_SMALL_FOOTPRINT -fno-sanitize=alignment">openssl at openssl.org
       </A><BR>
    <I>Tue Sep 15 10:48:39 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="030633.html">Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-ubsan -DPEDANTIC -DOPENSSL_SMALL_FOOTPRINT -fno-sanitize=alignment
</A></li>
        <LI>Next message: <A HREF="030731.html">Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-ubsan -DPEDANTIC -DOPENSSL_SMALL_FOOTPRINT -fno-sanitize=alignment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30684">[ date ]</a>
              <a href="thread.html#30684">[ thread ]</a>
              <a href="subject.html#30684">[ subject ]</a>
              <a href="author.html#30684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Platform and configuration command:

$ uname -a
Linux run 4.15.0-106-generic #107-Ubuntu SMP Thu Jun 4 11:27:52 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
$ CC=clang ../openssl/config -d --strict-warnings enable-ubsan -DPEDANTIC -DOPENSSL_SMALL_FOOTPRINT -fno-sanitize=alignment

Commit log since last time:

ec0ce188f4 EVP: Centralise fetching error reporting
225c9660a5 Ignore unused return values from some sk_*() macros
89b46350a3 Don't complain about stack related macros
0490314f65 Make 'make errors' work again
962963395c Make 'make ordinals' work again
83ecb26f2b util/mknum.pl: Fix file opening
c6029deab2 Streamline the safestack generated code
316054147a Add a CHANGES entry for the safestack updates
262cda1cda Remove some safestack things that are no longer needed
9cedfc90ce Fix safestack issues in ui.h
add3392727 Fix safestack issues in pkcs12.h
15c3dcfc78 Fix safestack issues in crypto.h
e74e562f1c Fix safestack issues in conf.h
dd73147420 Fix safestack issues in bio.h
1e14bca233 Fix safestack issues in ess.h
0b28254015 Fix safestack issues in asn1t.h
9d01ac71a0 Fix safestack issues in ct.h
98c35dc48d Fix safestack issues in crmf.h
c5a5581127 Fix safestack issues in x509_vfy.h
22fbfe6a7d Fix safestack issues in srp.h
02199cc39d Fix safestack issues in pkcs7.h
fd3ed85c67 Fix safestack issues in ocsp.h
904e1f92b3 Fix safestack issues in cms.h
798f932980 Fix safestack issues in cmp.h
b4780134df Fix safestack issues in asn1.h
24c4ea958e Fix stacks of OPENSSL_STRING, OPENSSL_CSTRING and OPENSSL_BLOCK
e144fd36ce Fix safestack issues in x509v3.h
e6623cfbff Fix safestack issues in x509.h
6ac1cd10ba Fix safestack issues in ssl.h
08073700cc NonStop port updates for 3.0.0.
f0c62c5328 TEST: Add a test of EC key generation with encoding spec
655f73cecf EVP: Add the internal convenience function evp_keymgmt_util_export()
96bb4ff9b8 Fix EVP_PKEY_CTX_ctrl() documentation
33dd828d97 Update doc for EVP_PKEY_CTX_set_ec_param_enc()
7229a2f4ab EC: Reimplement EVP_PKEY_CTX_set_ec_param_enc() to support providers
4588f35b5a dev/release.sh: Rework to be smoother
35e6ea3bdc keygen: add FIPS error state management to conditional self tests
801ed9edba CRNGT: enter FIPS error state if the test fails
5736923f12 FIPS: error mode is set from failed self tests and produced a limited number of errors when algorithm accesses are attempted
f99d3eedf7 ciphers: add FIPS error state handling
422cbcee61 keymgmt: add FIPS error state handling
f590a5ea1a signature: add FIPS error state handling
ca94057fc3 exchange: add FIPS error state handling
2b9e4e956b kdf: add FIPS error state handling
5b104a81f0 mac: add FIPS error state handling
aef30ad0b6 rand: add FIPS error state handling
87fe138d35 asymciphers: add FIPS error state handling
1c1daab94c digests: add FIPS error state handling
6cf3730267 FIPS: rename the status call to is_running.
eab7b4240d provider: add an 'is_running' call to all providers.
5e8cd0a4f4 Fix coverity issue: CID 1466479 - Resource leak in apps/pkcs12.c
97f7a6d42e Fix coverity issue: CID 1466482 - Resource leak in OSSL_STORE_SEARCH_by_key_fingerprint()
9951eaf467 Fix coverity issue: CID 1466483 - Improper use of Negative value in dh_ctrl.c
0f0b7dfbe5 Fix coverity issue: CID 1466484 - Remove dead code in PKCS7_dataInit()
6e417f951c Fix coverity issue: CID 1466485 - Explicit NULL dereference in OSSL_STORE_find()
3481694946 Fix coverity issue: CID 1466486 - Resource leak in OSSL_STORE
c1aba0763c OSSL_DECODER 'decode' function must never be NULL.
c88f6f0e40 TEST: skip POSIX errcode zero in tesst/recipes/02-test_errstr.t
c9352933fe fuzz/test-corpus: check if PATH_MAX is already defined
64713cb10d apps/ca: allow CRL lastUpdate/nextUpdate fields to be specified
0e60ce6334 Improve robustness and performance of building Unix static libraries
5ea4c6e553 apps/cmp.c: Improve example given for -geninfo option (also in man page)
1cd77e2eca OSSL_CMP_CTX_new.pod: improve doc of OSSL_CMP_CTX_get1_{extraCertsIn,caPubs}
4d2b2889da openssl-cmp.pod.in: Update Insta Demo CA port number in case needed
62261446b2 apps/cmp.c: Improve user guidance on missing -subject etc. options
7a7d6b514f apps/cmp.c: Improve documentation of -extracerts, -untrusted, and -otherpass
ef2d3588e8 apps/cmp.c: Improve documentation of -secret, -cert, and -key options
82bdd64193 check_chain_extensions(): Require X.509 v3 if extensions are present
e41a2c4c60 check_chain_extensions(): Change exclusion condition w.r.t. RFC 6818 section 2
d72c8b457b x509_vfy.c: Make sure that strict checks are not done for self-issued EE certs
bb377c8d6c check_chain_extensions(): Add check that CA cert includes key usage extension
da6c691d6d check_chain_extensions(): Add check that on empty Subject the SAN must be marked critical
89f13ca434 check_chain_extensions(): Add check that AKID and SKID are not marked critical
8a639b9d72 check_chain_extensions(): Add check that Basic Constraints of CA cert are marked critical
1e41dadfa7 Extend X509 cert checks and error reporting in v3_{purp,crld}.c and x509_{set,vfy}.c
b0a4cbead3 apps/cmp.c: Improve safeguard assertion on consistency of cmp_options[] and cmp_vars[]

Build log ended with (last 100 lines):

            # Server sent alert unexpected_message but client received no alert.
            # 409797A35F7F0000:error::SSL routines::unexpected message:../openssl/ssl/statem/statem_srvr.c:314:
            not ok 9 - iteration 9
# ------------------------------------------------------------------------------
        not ok 1 - test_handshake
# ------------------------------------------------------------------------------
../../util/wrap.pl ../../test/ssl_test 25-cipher.cnf.default default =&gt; 1
    not ok 6 - running ssl_test 25-cipher.cnf
# ------------------------------------------------------------------------------
    # Looks like you failed 2 tests of 9.
not ok 26 - Test configuration 25-cipher.cnf
# ------------------------------------------------------------------------------
# Looks like you failed 1 test of 31.80-test_ssl_new.t .................. 
Dubious, test returned 1 (wstat 256, 0x100)
Failed 1/31 subtests 
80-test_ssl_old.t .................. ok
80-test_ssl_test_ctx.t ............. ok

        # INFO:  @ ../openssl/test/sslcorrupttest.c:197
        # Starting #2, ECDHE-RSA-CHACHA20-POLY1305
        # ERROR: (int) 'SSL_get_error(clientssl, 0) == SSL_ERROR_WANT_READ' failed @ ../openssl/test/ssltestlib.c:1032
        # [1] compared to [2]
        # ERROR: (bool) 'create_ssl_connection(server, client, SSL_ERROR_NONE) == true' failed @ ../openssl/test/sslcorrupttest.c:227
        # false
        # 40E79F67E97F0000:error::SSL routines::unexpected message:../openssl/ssl/statem/statem_clnt.c:399:
        not ok 3 - iteration 3
# ------------------------------------------------------------------------------
        # INFO:  @ ../openssl/test/sslcorrupttest.c:197
        # Starting #3, DHE-RSA-CHACHA20-POLY1305
        # ERROR: (int) 'SSL_get_error(clientssl, 0) == SSL_ERROR_WANT_READ' failed @ ../openssl/test/ssltestlib.c:1032
        # [1] compared to [2]
        # ERROR: (bool) 'create_ssl_connection(server, client, SSL_ERROR_NONE) == true' failed @ ../openssl/test/sslcorrupttest.c:227
        # false
        # 40E79F67E97F0000:error::SSL routines::unexpected message:../openssl/ssl/statem/statem_clnt.c:399:
        not ok 4 - iteration 4
# ------------------------------------------------------------------------------
    not ok 1 - test_ssl_corrupt
# ------------------------------------------------------------------------------
../../util/wrap.pl ../../test/sslcorrupttest ../../../openssl/apps/server.pem ../../../openssl/apps/server.pem =&gt; 1
not ok 1 - running sslcorrupttest
# ------------------------------------------------------------------------------
#   Failed test 'running sslcorrupttest'
#   at ../openssl/test/recipes/80-test_sslcorrupt.t line 19.
# Looks like you failed 1 test of 1.80-test_sslcorrupt.t ............... 
Dubious, test returned 1 (wstat 256, 0x100)
Failed 1/1 subtests 
80-test_tsa.t ...................... ok
80-test_x509aux.t .................. ok

# 81-test_cmp_cli.t .................. ok
90-test_asn1_time.t ................ ok
90-test_async.t .................... ok
90-test_bio_enc.t .................. ok
90-test_bio_memleak.t .............. ok
90-test_constant_time.t ............ ok
90-test_fatalerr.t ................. ok
90-test_gmdiff.t ................... ok
90-test_gost.t ..................... ok
90-test_ige.t ...................... ok
90-test_includes.t ................. ok
90-test_memleak.t .................. ok
90-test_overhead.t ................. ok
90-test_secmem.t ................... ok
90-test_shlibload.t ................ ok
90-test_srp.t ...................... ok
90-test_sslapi.t ................... ok
90-test_sslbuffers.t ............... ok
90-test_store.t .................... ok
90-test_sysdefault.t ............... ok
90-test_threads.t .................. ok
90-test_time_offset.t .............. ok
90-test_tls13ccs.t ................. ok
90-test_tls13encryption.t .......... ok
90-test_tls13secrets.t ............. ok
90-test_v3name.t ................... ok
95-test_external_boringssl.t ....... skipped: No external tests in this configuration
95-test_external_gost_engine.t ..... skipped: No external tests in this configuration
95-test_external_krb5.t ............ skipped: No external tests in this configuration
95-test_external_pyca.t ............ skipped: No external tests in this configuration
99-test_ecstress.t ................. ok
99-test_fuzz.t ..................... ok

Test Summary Report
-------------------
80-test_dtls_mtu.t               (Wstat: 256 Tests: 1 Failed: 1)
  Failed test:  1
  Non-zero exit status: 1
80-test_ssl_new.t                (Wstat: 256 Tests: 31 Failed: 1)
  Failed test:  26
  Non-zero exit status: 1
80-test_sslcorrupt.t             (Wstat: 256 Tests: 1 Failed: 1)
  Failed test:  1
  Non-zero exit status: 1
Files=212, Tests=3571, 1565 wallclock secs (14.61 usr  1.43 sys + 1468.32 cusr 92.82 csys = 1577.18 CPU)
Result: FAIL
Makefile:3176: recipe for target '_tests' failed
make[1]: *** [_tests] Error 1
make[1]: Leaving directory '/home/openssl/run-checker/enable-ubsan'
Makefile:3174: recipe for target 'tests' failed
make: *** [tests] Error 2
</PRE>























































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030633.html">Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-ubsan -DPEDANTIC -DOPENSSL_SMALL_FOOTPRINT -fno-sanitize=alignment
</A></li>
	<LI>Next message: <A HREF="030731.html">Still FAILED build of OpenSSL branch master with options -d --strict-warnings enable-ubsan -DPEDANTIC -DOPENSSL_SMALL_FOOTPRINT -fno-sanitize=alignment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30684">[ date ]</a>
              <a href="thread.html#30684">[ thread ]</a>
              <a href="subject.html#30684">[ subject ]</a>
              <a href="author.html#30684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
