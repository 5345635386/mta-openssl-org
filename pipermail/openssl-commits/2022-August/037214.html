<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 5a07d9: Correct the documentation for OPENSSL_MALLOC_FD
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2022-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%205a07d9%3A%20Correct%20the%20documentation%20for%0A%20OPENSSL_MALLOC_FD&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.0/8bb9fe-b89f11%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037213.html">
   <LINK REL="Next"  HREF="037215.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 5a07d9: Correct the documentation for OPENSSL_MALLOC_FD</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%205a07d9%3A%20Correct%20the%20documentation%20for%0A%20OPENSSL_MALLOC_FD&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.0/8bb9fe-b89f11%40github.com%3E"
       TITLE="[openssl/openssl] 5a07d9: Correct the documentation for OPENSSL_MALLOC_FD">noreply at github.com
       </A><BR>
    <I>Wed Aug 17 11:00:07 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="037213.html">[openssl/openssl] 2c35d6: Correct the documentation for OPENSSL_MALLOC_FD
</A></li>
        <LI>Next message (by thread): <A HREF="037215.html">[openssl/openssl] eae701: Revert &quot;Revert &quot;bn: Add fixed length (n=6),  unroll...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37214">[ date ]</a>
              <a href="thread.html#37214">[ thread ]</a>
              <a href="subject.html#37214">[ subject ]</a>
              <a href="author.html#37214">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.0
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 5a07d91dc9e787e5e4a2ff5b41bc0ebdcb4efd0a
      <A HREF="https://github.com/openssl/openssl/commit/5a07d91dc9e787e5e4a2ff5b41bc0ebdcb4efd0a">https://github.com/openssl/openssl/commit/5a07d91dc9e787e5e4a2ff5b41bc0ebdcb4efd0a</A>
  Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
  Date:   2022-08-17 (Wed, 17 Aug 2022)

  Changed paths:
    M doc/man3/OPENSSL_malloc.pod

  Log Message:
  -----------
  Correct the documentation for OPENSSL_MALLOC_FD

The documentation was misleading in that it suggests that this environment
variable will record information about all allocations. While this is true
it doesn't record the most useful information that you might expect such
as the requested size of the allocation! It is mainly for use in
conjunction with OPENSSL_MALLOC_FAILURES, and reports information about
what chance an allocation has of failing.

We also clarify that the mem_debug functions are actually no-ops in 3.0.

Reviewed-by: Hugo Landau &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">hlandau at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/18967">https://github.com/openssl/openssl/pull/18967</A>)

(cherry picked from commit 2c35d61790603530d11f52eda9132ff8640f9852)


  Commit: b89f113149b7bd5173f4100884aab354ad6da74d
      <A HREF="https://github.com/openssl/openssl/commit/b89f113149b7bd5173f4100884aab354ad6da74d">https://github.com/openssl/openssl/commit/b89f113149b7bd5173f4100884aab354ad6da74d</A>
  Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
  Date:   2022-08-17 (Wed, 17 Aug 2022)

  Changed paths:
    M crypto/mem.c

  Log Message:
  -----------
  CRYPTO_mem_debug_push() and CRYPTO_mem_debug_pop() should return 0

Those 2 functions historically only ever returned 0 or 1. In OpenSSL 3.0
they were made no-ops and the documentation says they always return 0. In
fact they were returning -1. If any application was actually using these
functions then it may appear that they were actually successful (e.g. -1
could be interpreted as &quot;true&quot;).

Reviewed-by: Hugo Landau &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">hlandau at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/18967">https://github.com/openssl/openssl/pull/18967</A>)

(cherry picked from commit f868454257560c78570549f6a34d5918f03898a0)


Compare: <A HREF="https://github.com/openssl/openssl/compare/8bb9fecf6341...b89f113149b7">https://github.com/openssl/openssl/compare/8bb9fecf6341...b89f113149b7</A>
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="037213.html">[openssl/openssl] 2c35d6: Correct the documentation for OPENSSL_MALLOC_FD
</A></li>
	<LI>Next message (by thread): <A HREF="037215.html">[openssl/openssl] eae701: Revert &quot;Revert &quot;bn: Add fixed length (n=6),  unroll...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37214">[ date ]</a>
              <a href="thread.html#37214">[ thread ]</a>
              <a href="subject.html#37214">[ subject ]</a>
              <a href="author.html#37214">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
