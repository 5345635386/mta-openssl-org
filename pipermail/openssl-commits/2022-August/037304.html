<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 56233b: apps/speed.c: Wait for generated children
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2022-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%2056233b%3A%20apps/speed.c%3A%20Wait%20for%20generated%20children&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/d9aca2-56233b%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037303.html">
   <LINK REL="Next"  HREF="037305.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 56233b: apps/speed.c: Wait for generated children</H1>
    <B>openssl-machine</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%2056233b%3A%20apps/speed.c%3A%20Wait%20for%20generated%20children&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/d9aca2-56233b%40github.com%3E"
       TITLE="[openssl/openssl] 56233b: apps/speed.c: Wait for generated children">noreply at github.com
       </A><BR>
    <I>Wed Aug 31 07:34:37 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="037303.html">[openssl/openssl] 70d9e6: apps/speed.c: Wait for generated children
</A></li>
        <LI>Next message (by thread): <A HREF="037305.html">[openssl/openssl] 6b5c7e: Fix memory leak with TLS1.2 compression
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37304">[ date ]</a>
              <a href="thread.html#37304">[ thread ]</a>
              <a href="subject.html#37304">[ subject ]</a>
              <a href="author.html#37304">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/master
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 56233ba8574c01b3912cf662335fedaabc7faec2
      <A HREF="https://github.com/openssl/openssl/commit/56233ba8574c01b3912cf662335fedaabc7faec2">https://github.com/openssl/openssl/commit/56233ba8574c01b3912cf662335fedaabc7faec2</A>
  Author: Juergen Christ &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">jchrist at linux.ibm.com</A>&gt;
  Date:   2022-08-31 (Wed, 31 Aug 2022)

  Changed paths:
    M apps/speed.c

  Log Message:
  -----------
  apps/speed.c: Wait for generated children

In multi-mode, speed fork()s off several children but does not wait for them.
On Linux, this leads to wrong accounting information of getrusage used by
tools to extract running time and page faults.

Wait for every children and check the return code and termination signal.

Signed-off-by: Juergen Christ &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">jchrist at linux.ibm.com</A>&gt;

Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/19093">https://github.com/openssl/openssl/pull/19093</A>)


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="037303.html">[openssl/openssl] 70d9e6: apps/speed.c: Wait for generated children
</A></li>
	<LI>Next message (by thread): <A HREF="037305.html">[openssl/openssl] 6b5c7e: Fix memory leak with TLS1.2 compression
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37304">[ date ]</a>
              <a href="thread.html#37304">[ thread ]</a>
              <a href="subject.html#37304">[ subject ]</a>
              <a href="author.html#37304">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
