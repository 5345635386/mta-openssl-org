<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 1a68a3: crypto/x509/x509_vpm.c: update format of X509_VERI...
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2022-August/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%201a68a3%3A%20crypto/x509/x509_vpm.c%3A%20update%20format%20of%0A%20X509_VERI...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/58135c-19914f%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037230.html">
   <LINK REL="Next"  HREF="037232.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 1a68a3: crypto/x509/x509_vpm.c: update format of X509_VERI...</H1>
    <B>Lutz J&#228;nicke</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%201a68a3%3A%20crypto/x509/x509_vpm.c%3A%20update%20format%20of%0A%20X509_VERI...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/58135c-19914f%40github.com%3E"
       TITLE="[openssl/openssl] 1a68a3: crypto/x509/x509_vpm.c: update format of X509_VERI...">noreply at github.com
       </A><BR>
    <I>Thu Aug 18 08:28:03 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="037230.html">[openssl/openssl] 93bb2c: ec_kmgmt.c: Do not crash when getting OSSL_PKEY_PA...
</A></li>
        <LI>Next message (by thread): <A HREF="037232.html">[openssl/openssl] 63df86: Add CODE-OF-CONDUCT.md
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37231">[ date ]</a>
              <a href="thread.html#37231">[ thread ]</a>
              <a href="subject.html#37231">[ subject ]</a>
              <a href="author.html#37231">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/master
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 1a68a3e42142a2c188f4b69c7337438c89502143
      <A HREF="https://github.com/openssl/openssl/commit/1a68a3e42142a2c188f4b69c7337438c89502143">https://github.com/openssl/openssl/commit/1a68a3e42142a2c188f4b69c7337438c89502143</A>
  Author: Lutz Jaenicke &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">ljaenicke at phoenixcontact.com</A>&gt;
  Date:   2022-08-18 (Thu, 18 Aug 2022)

  Changed paths:
    M crypto/x509/x509_vpm.c

  Log Message:
  -----------
  crypto/x509/x509_vpm.c: update format of X509_VERIFY_PARAM default_table

Put &quot;},&quot; on separate lines as suggested in PR #18567

Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/18567">https://github.com/openssl/openssl/pull/18567</A>)


  Commit: 178696d6020878361a088086243d56203e0beaa9
      <A HREF="https://github.com/openssl/openssl/commit/178696d6020878361a088086243d56203e0beaa9">https://github.com/openssl/openssl/commit/178696d6020878361a088086243d56203e0beaa9</A>
  Author: Lutz Jaenicke &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">ljaenicke at phoenixcontact.com</A>&gt;
  Date:   2022-08-18 (Thu, 18 Aug 2022)

  Changed paths:
    M crypto/x509/v3_purp.c
    M crypto/x509/x509_vpm.c
    M doc/man1/openssl-verification-options.pod
    M doc/man3/X509_STORE_CTX_new.pod
    M doc/man3/X509_check_purpose.pod
    M include/openssl/x509v3.h.in

  Log Message:
  -----------
  X509: Add &quot;code sign&quot; as purpose for verification of certificates

Code signing certificates have other properties as for example described in
CA Browser Forum documents. This leads to &quot;unsupported certificate purpose&quot; errors when
verifying signed objects.
This patch adds the purpose &quot;codesign&quot; to the table in X.509 certificate verification and
the verification parameter &quot;code_sign&quot; to X509_VERIFY_PARAM.

Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/18567">https://github.com/openssl/openssl/pull/18567</A>)


  Commit: 61a97676914df358dd014a9b6fe2ba01b0ebe508
      <A HREF="https://github.com/openssl/openssl/commit/61a97676914df358dd014a9b6fe2ba01b0ebe508">https://github.com/openssl/openssl/commit/61a97676914df358dd014a9b6fe2ba01b0ebe508</A>
  Author: Lutz Jaenicke &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">ljaenicke at phoenixcontact.com</A>&gt;
  Date:   2022-08-18 (Thu, 18 Aug 2022)

  Changed paths:
    A test/certs/ee-codesign-anyextkeyusage.pem
    A test/certs/ee-codesign-crlsign.pem
    A test/certs/ee-codesign-keycertsign.pem
    A test/certs/ee-codesign-noncritical.pem
    A test/certs/ee-codesign-serverauth.pem
    A test/certs/ee-codesign.pem
    M test/certs/mkcert.sh
    M test/certs/setup.sh
    M test/recipes/25-test_verify.t

  Log Message:
  -----------
  X509: add tests for purpose code signing in verify application

Correct configuration according to CA Browser forum:
  KU: critical,digitalSignature
  XKU: codeSiging

Note: I did not find any other document formally defining the requirements
for code signing certificates.

Some combinations are explicitly forbidden, some flags can be ignored

Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/18567">https://github.com/openssl/openssl/pull/18567</A>)


  Commit: 19914fec9bac08ca7c7917eddc1b7d1dba67e4a7
      <A HREF="https://github.com/openssl/openssl/commit/19914fec9bac08ca7c7917eddc1b7d1dba67e4a7">https://github.com/openssl/openssl/commit/19914fec9bac08ca7c7917eddc1b7d1dba67e4a7</A>
  Author: Lutz Jaenicke &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">ljaenicke at phoenixcontact.com</A>&gt;
  Date:   2022-08-18 (Thu, 18 Aug 2022)

  Changed paths:
    M test/recipes/80-test_cms.t
    M test/smime-certs/ca.cnf
    A test/smime-certs/csrsa1.pem
    M test/smime-certs/mksmime-certs.sh

  Log Message:
  -----------
  cms: Create test for for purpose verification in cms application

The tests only cover the correct handling of the codesigning purpose in the certificates
in the context of the cms command line tool.
The interpretation of the certificate purpose is tested in the context of the &quot;verify&quot;
app. The correct handling of the cms objects is tested by other tests in 80-test_cms.t.

Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/18567">https://github.com/openssl/openssl/pull/18567</A>)


Compare: <A HREF="https://github.com/openssl/openssl/compare/58135cb3c020...19914fec9bac">https://github.com/openssl/openssl/compare/58135cb3c020...19914fec9bac</A>
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="037230.html">[openssl/openssl] 93bb2c: ec_kmgmt.c: Do not crash when getting OSSL_PKEY_PA...
</A></li>
	<LI>Next message (by thread): <A HREF="037232.html">[openssl/openssl] 63df86: Add CODE-OF-CONDUCT.md
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37231">[ date ]</a>
              <a href="thread.html#37231">[ thread ]</a>
              <a href="subject.html#37231">[ subject ]</a>
              <a href="author.html#37231">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
