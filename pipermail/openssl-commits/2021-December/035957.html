<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl]  openssl-3.0 update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2021-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20openssl-3.0%20update&In-Reply-To=%3C1640883156.827679.2861136.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035951.html">
   <LINK REL="Next"  HREF="035776.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl]  openssl-3.0 update</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl%5D%20%20openssl-3.0%20update&In-Reply-To=%3C1640883156.827679.2861136.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl]  openssl-3.0 update">matt at openssl.org
       </A><BR>
    <I>Thu Dec 30 16:52:36 UTC 2021</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="035951.html">[openssl]  openssl-3.0 update
</A></li>
        <LI>Next message (by thread): <A HREF="035776.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35957">[ date ]</a>
              <a href="thread.html#35957">[ thread ]</a>
              <a href="subject.html#35957">[ subject ]</a>
              <a href="author.html#35957">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch openssl-3.0 has been updated
       via  824b0d56e757f4a5c0f8af48add768db33d8ce51 (commit)
      from  5713edd873e87a620fbb8be90c7bc1a51fa43c5c (commit)


- Log -----------------------------------------------------------------
commit 824b0d56e757f4a5c0f8af48add768db33d8ce51
Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
Date:   Wed Dec 29 14:44:00 2021 +0000

    Fix the symbol_presence test with a shlib_variant
    
    If a shlib_variant is used then the dynamic version information for
    symbols will be different from what the symbol presence test was
    expecting. We just make it more liberal about what it accepts as dynamic
    version information.
    
    Fixes #17366
    
    Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/17372">https://github.com/openssl/openssl/pull/17372</A>)
    
    (cherry picked from commit 805bdac5f37bb820658f70269941086bef6c085b)

-----------------------------------------------------------------------

Summary of changes:
 test/recipes/01-test_symbol_presence.t | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/test/recipes/01-test_symbol_presence.t b/test/recipes/01-test_symbol_presence.t
index efe0760c25..5530ade0ad 100644
--- a/test/recipes/01-test_symbol_presence.t
+++ b/test/recipes/01-test_symbol_presence.t
@@ -76,7 +76,7 @@ foreach my $libname (@libnames) {
                 # Drop the first space and everything following it
                 s| .*||;
                 # Drop OpenSSL dynamic version information if there is any
-                s|\@\@OPENSSL_[0-9._]+[a-z]?$||;
+                s|\@\@.+$||;
                 # Return the result
                 $_
             }
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="035951.html">[openssl]  openssl-3.0 update
</A></li>
	<LI>Next message (by thread): <A HREF="035776.html">[openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35957">[ date ]</a>
              <a href="thread.html#35957">[ thread ]</a>
              <a href="subject.html#35957">[ subject ]</a>
              <a href="author.html#35957">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
