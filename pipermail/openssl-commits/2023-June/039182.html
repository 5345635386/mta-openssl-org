<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] b684ee: build.info: Introduce special syntax for dependenc...
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2023-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20b684ee%3A%20build.info%3A%20Introduce%20special%20syntax%20for%0A%20dependenc...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/b8fa5b-b684ee%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039184.html">
   <LINK REL="Next"  HREF="039183.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] b684ee: build.info: Introduce special syntax for dependenc...</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20b684ee%3A%20build.info%3A%20Introduce%20special%20syntax%20for%0A%20dependenc...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/master/b8fa5b-b684ee%40github.com%3E"
       TITLE="[openssl/openssl] b684ee: build.info: Introduce special syntax for dependenc...">noreply at github.com
       </A><BR>
    <I>Thu Jun  8 06:03:05 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="039184.html">[openssl/openssl] bf951a: Bump coverallsapp/github-action from 2.1.2 to 2.2.0
</A></li>
        <LI>Next message (by thread): <A HREF="039183.html">[openssl/openssl]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39182">[ date ]</a>
              <a href="thread.html#39182">[ thread ]</a>
              <a href="subject.html#39182">[ subject ]</a>
              <a href="author.html#39182">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/master
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: b684ee2ce4bbf2c877d2cdc39e095d52ea3fe2a3
      <A HREF="https://github.com/openssl/openssl/commit/b684ee2ce4bbf2c877d2cdc39e095d52ea3fe2a3">https://github.com/openssl/openssl/commit/b684ee2ce4bbf2c877d2cdc39e095d52ea3fe2a3</A>
  Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
  Date:   2023-06-08 (Thu, 08 Jun 2023)

  Changed paths:
    M Configurations/descrip.mms.tmpl
    M Configurations/unix-Makefile.tmpl
    M Configurations/windows-makefile.tmpl
    M Configure
    M build.info
    M doc/internal/man7/build.info.pod

  Log Message:
  -----------
  build.info: Introduce special syntax for dependencies on script modules

The DEPEND statement, when applied on files generated with GENERATE, may
be used to specify script modules that the template to be generated from
depends on.  In short, this sort of depend:

    DEPEND[generated]=util/perl/OpenSSL/something.pm

... would generate a perl run that has the inclusion directory
'util/perl/OpenSSL' and 'something' as the module to be loaded.  However,
the package name for this module is 'OpenSSL::something', so to load it the
way it's expected, the inclusion directory should be 'util/perl', and the
module to be loaded should be specified as 'OpenSSL/something' (to be
massaged into a proper module name by the build file template).

To allow this, we introduce a file syntax, where a single '|' is used as a
directory separator, to delineate what part should be used as the inclustion
directory, and which part the module name to be loaded should be derived
from:

    DEPEND[generated]=util/perl|OpenSSL/something.pm

Fixes #21112

Reviewed-by: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/21117">https://github.com/openssl/openssl/pull/21117</A>)


</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="039184.html">[openssl/openssl] bf951a: Bump coverallsapp/github-action from 2.1.2 to 2.2.0
</A></li>
	<LI>Next message (by thread): <A HREF="039183.html">[openssl/openssl]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39182">[ date ]</a>
              <a href="thread.html#39182">[ thread ]</a>
              <a href="subject.html#39182">[ subject ]</a>
              <a href="author.html#39182">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
