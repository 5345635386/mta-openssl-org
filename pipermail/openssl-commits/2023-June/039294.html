<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 8ebc73: Don't truncate the input when decrypting in pkeyutl
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2023-June/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%208ebc73%3A%20Don%27t%20truncate%20the%20input%20when%20decrypting%20in%0A%20pkeyutl&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.1/8d6ea2-e64f67%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039293.html">
   <LINK REL="Next"  HREF="039295.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 8ebc73: Don't truncate the input when decrypting in pkeyutl</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%208ebc73%3A%20Don%27t%20truncate%20the%20input%20when%20decrypting%20in%0A%20pkeyutl&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.1/8d6ea2-e64f67%40github.com%3E"
       TITLE="[openssl/openssl] 8ebc73: Don't truncate the input when decrypting in pkeyutl">noreply at github.com
       </A><BR>
    <I>Mon Jun 26 08:43:07 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="039293.html">[openssl/openssl] 849450: Don't truncate the input when decrypting in pkeyutl
</A></li>
        <LI>Next message (by thread): <A HREF="039295.html">[openssl/openssl] c62b0c: Don't truncate the input when decrypting in pkeyutl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39294">[ date ]</a>
              <a href="thread.html#39294">[ thread ]</a>
              <a href="subject.html#39294">[ subject ]</a>
              <a href="author.html#39294">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.1
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 8ebc73453746e5303d5249986e2e42e7937a67ad
      <A HREF="https://github.com/openssl/openssl/commit/8ebc73453746e5303d5249986e2e42e7937a67ad">https://github.com/openssl/openssl/commit/8ebc73453746e5303d5249986e2e42e7937a67ad</A>
  Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
  Date:   2023-06-26 (Mon, 26 Jun 2023)

  Changed paths:
    M apps/lib/apps.c
    M apps/pkeyutl.c

  Log Message:
  -----------
  Don't truncate the input when decrypting in pkeyutl

The pkeyutl app was truncating the input file for decryption leading to
incorrect results. This was probably ok historically when RSA was being
used for decryption which has short maximum sizes. This is not ok with SM2.

Reviewed-by: Hugo Landau &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">hlandau at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/21272">https://github.com/openssl/openssl/pull/21272</A>)

(cherry picked from commit 849450746f38a5658ef783abb0a8c79ae2861464)


  Commit: e64f67ed7203a61cceb7ab7f5d0b725ea5fa8884
      <A HREF="https://github.com/openssl/openssl/commit/e64f67ed7203a61cceb7ab7f5d0b725ea5fa8884">https://github.com/openssl/openssl/commit/e64f67ed7203a61cceb7ab7f5d0b725ea5fa8884</A>
  Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
  Date:   2023-06-26 (Mon, 26 Jun 2023)

  Changed paths:
    A test/certs/sm2-pub.key
    M test/recipes/20-test_pkeyutl.t

  Log Message:
  -----------
  Add a test for pkeyutl encrypt/decrypt using SM2

Reviewed-by: Hugo Landau &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">hlandau at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/21272">https://github.com/openssl/openssl/pull/21272</A>)

(cherry picked from commit 810f7dc1c7cc5441097b398f753e33652848a4cc)


Compare: <A HREF="https://github.com/openssl/openssl/compare/8d6ea2d2c3cf...e64f67ed7203">https://github.com/openssl/openssl/compare/8d6ea2d2c3cf...e64f67ed7203</A>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="039293.html">[openssl/openssl] 849450: Don't truncate the input when decrypting in pkeyutl
</A></li>
	<LI>Next message (by thread): <A HREF="039295.html">[openssl/openssl] c62b0c: Don't truncate the input when decrypting in pkeyutl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39294">[ date ]</a>
              <a href="thread.html#39294">[ thread ]</a>
              <a href="subject.html#39294">[ subject ]</a>
              <a href="author.html#39294">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
