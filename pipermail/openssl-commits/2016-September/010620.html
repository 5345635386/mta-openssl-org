<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2016-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1474334821.309902.31282.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010615.html">
   <LINK REL="Next"  HREF="010625.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  master update</H1>
    <B>Rich Salz</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1474334821.309902.31282.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl-commits] [openssl]  master update">rsalz at openssl.org
       </A><BR>
    <I>Tue Sep 20 01:27:01 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="010615.html">[openssl-commits] [openssl]  master update
</A></li>
        <LI>Next message: <A HREF="010625.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10620">[ date ]</a>
              <a href="thread.html#10620">[ thread ]</a>
              <a href="subject.html#10620">[ subject ]</a>
              <a href="author.html#10620">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  28aef3d9558dc2e11ba56576b3a4d3faaef8a9d3 (commit)
       via  12d56b2992ebd61e1b30c99ca1898dde42345cf7 (commit)
      from  9205ebeb8e448b2d6948b9e5d78ecf309c0ed33c (commit)


- Log -----------------------------------------------------------------
commit 28aef3d9558dc2e11ba56576b3a4d3faaef8a9d3
Author: FdaSilvaYY &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">fdasilvayy at gmail.com</A>&gt;
Date:   Sat Sep 17 21:29:48 2016 +0200

    Remove an option related to a deprecated flag
    
    CMS_NOOLDMIMETYPE and PKCS7_NOOLDMIMETYPE  are unused in pkcs7/cms code.
    
    Reviewed-by: Andy Polyakov &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">appro at openssl.org</A>&gt;
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/1585">https://github.com/openssl/openssl/pull/1585</A>)

commit 12d56b2992ebd61e1b30c99ca1898dde42345cf7
Author: FdaSilvaYY &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">fdasilvayy at gmail.com</A>&gt;
Date:   Sun Jul 31 19:02:50 2016 +0200

    Fix various missing option help messages ...
    
    Reviewed-by: Andy Polyakov &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">appro at openssl.org</A>&gt;
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;
    (Merged from <A HREF="https://github.com/openssl/openssl/pull/1585">https://github.com/openssl/openssl/pull/1585</A>)

-----------------------------------------------------------------------

Summary of changes:
 apps/cms.c    | 25 +++++++++++--------------
 apps/crl.c    |  2 +-
 apps/gendsa.c |  2 +-
 apps/ocsp.c   |  6 ++++--
 apps/pkcs7.c  |  2 +-
 apps/pkcs8.c  |  2 +-
 apps/smime.c  | 21 +++++++++------------
 apps/spkac.c  |  3 ++-
 apps/ts.c     |  2 +-
 apps/x509.c   | 16 ++++++++--------
 10 files changed, 39 insertions(+), 42 deletions(-)

diff --git a/apps/cms.c b/apps/cms.c
index b9eec24..133dc02 100644
--- a/apps/cms.c
+++ b/apps/cms.c
@@ -72,7 +72,7 @@ typedef enum OPTION_choice {
     OPT_ASCIICRLF, OPT_NOINTERN, OPT_NOVERIFY, OPT_NOCERTS,
     OPT_NOATTR, OPT_NODETACH, OPT_NOSMIMECAP, OPT_BINARY, OPT_KEYID,
     OPT_NOSIGS, OPT_NO_CONTENT_VERIFY, OPT_NO_ATTR_VERIFY, OPT_INDEF,
-    OPT_NOINDEF, OPT_NOOLDMIME, OPT_CRLFEOL, OPT_NOOUT, OPT_RR_PRINT,
+    OPT_NOINDEF, OPT_CRLFEOL, OPT_NOOUT, OPT_RR_PRINT,
     OPT_RR_ALL, OPT_RR_FIRST, OPT_RCTFORM, OPT_CERTFILE, OPT_CAFILE,
     OPT_CAPATH, OPT_NOCAPATH, OPT_NOCAFILE,OPT_CONTENT, OPT_PRINT,
     OPT_SECRETKEY, OPT_SECRETKEYID, OPT_PWRI_PASSWORD, OPT_ECONTENT_TYPE,
@@ -99,7 +99,7 @@ OPTIONS cms_options[] = {
     {&quot;decrypt&quot;, OPT_DECRYPT, '-', &quot;Decrypt encrypted message&quot;},
     {&quot;sign&quot;, OPT_SIGN, '-', &quot;Sign message&quot;},
     {&quot;sign_receipt&quot;, OPT_SIGN_RECEIPT, '-', &quot;Generate a signed receipt for the message&quot;},
-    {&quot;resign&quot;, OPT_RESIGN, '-'},
+    {&quot;resign&quot;, OPT_RESIGN, '-', &quot;Resign a signed message&quot;},
     {&quot;verify&quot;, OPT_VERIFY, '-', &quot;Verify signed message&quot;},
     {&quot;verify_retcode&quot;, OPT_VERIFY_RETCODE, '-'},
     {&quot;verify_receipt&quot;, OPT_VERIFY_RECEIPT, '&lt;'},
@@ -122,22 +122,21 @@ OPTIONS cms_options[] = {
      &quot;Don't include signers certificate when signing&quot;},
     {&quot;noattr&quot;, OPT_NOATTR, '-', &quot;Don't include any signed attributes&quot;},
     {&quot;nodetach&quot;, OPT_NODETACH, '-', &quot;Use opaque signing&quot;},
-    {&quot;nosmimecap&quot;, OPT_NOSMIMECAP, '-'},
+    {&quot;nosmimecap&quot;, OPT_NOSMIMECAP, '-', &quot;Omit the SMIMECapabilities attribute&quot;},
     {&quot;binary&quot;, OPT_BINARY, '-', &quot;Don't translate message to text&quot;},
     {&quot;keyid&quot;, OPT_KEYID, '-', &quot;Use subject key identifier&quot;},
     {&quot;nosigs&quot;, OPT_NOSIGS, '-', &quot;Don't verify message signature&quot;},
     {&quot;no_content_verify&quot;, OPT_NO_CONTENT_VERIFY, '-'},
     {&quot;no_attr_verify&quot;, OPT_NO_ATTR_VERIFY, '-'},
-    {&quot;stream&quot;, OPT_INDEF, '-'},
-    {&quot;indef&quot;, OPT_INDEF, '-'},
-    {&quot;noindef&quot;, OPT_NOINDEF, '-'},
-    {&quot;nooldmime&quot;, OPT_NOOLDMIME, '-'},
-    {&quot;crlfeol&quot;, OPT_CRLFEOL, '-'},
+    {&quot;stream&quot;, OPT_INDEF, '-', &quot;Enable CMS streaming&quot;},
+    {&quot;indef&quot;, OPT_INDEF, '-', &quot;Same as -stream&quot;},
+    {&quot;noindef&quot;, OPT_NOINDEF, '-', &quot;Disable CMS streaming&quot;},
+    {&quot;crlfeol&quot;, OPT_CRLFEOL, '-', &quot;Use CRLF as EOL termination instead of CR only&quot; },
     {&quot;noout&quot;, OPT_NOOUT, '-', &quot;For the -cmsout operation do not output the parsed CMS structure&quot;},
-    {&quot;receipt_request_print&quot;, OPT_RR_PRINT, '-'},
+    {&quot;receipt_request_print&quot;, OPT_RR_PRINT, '-', &quot;Print CMS Receipt Request&quot; },
     {&quot;receipt_request_all&quot;, OPT_RR_ALL, '-'},
     {&quot;receipt_request_first&quot;, OPT_RR_FIRST, '-'},
-    {&quot;rctform&quot;, OPT_RCTFORM, 'F'},
+    {&quot;rctform&quot;, OPT_RCTFORM, 'F', &quot;Receipt file format&quot;},
     {&quot;certfile&quot;, OPT_CERTFILE, '&lt;', &quot;Other certificates file&quot;},
     {&quot;CAfile&quot;, OPT_CAFILE, '&lt;', &quot;Trusted certificates file&quot;},
     {&quot;CApath&quot;, OPT_CAPATH, '/', &quot;trusted certificates directory&quot;},
@@ -147,7 +146,8 @@ OPTIONS cms_options[] = {
      &quot;Do not load certificates from the default certificates directory&quot;},
     {&quot;content&quot;, OPT_CONTENT, '&lt;',
      &quot;Supply or override content for detached signature&quot;},
-    {&quot;print&quot;, OPT_PRINT, '-', &quot;For the -cmsout operation print out all fields of the CMS structure&quot;},
+    {&quot;print&quot;, OPT_PRINT, '-', 
+     &quot;For the -cmsout operation print out all fields of the CMS structure&quot;},
     {&quot;secretkey&quot;, OPT_SECRETKEY, 's'},
     {&quot;secretkeyid&quot;, OPT_SECRETKEYID, 's'},
     {&quot;pwri_password&quot;, OPT_PWRI_PASSWORD, 's'},
@@ -346,9 +346,6 @@ int cms_main(int argc, char **argv)
         case OPT_NOINDEF:
             flags &amp;= ~CMS_STREAM;
             break;
-        case OPT_NOOLDMIME:
-            flags |= CMS_NOOLDMIMETYPE;
-            break;
         case OPT_CRLFEOL:
             mime_eol = &quot;\r\n&quot;;
             flags |= CMS_CRLFEOL;
diff --git a/apps/crl.c b/apps/crl.c
index 5e0fbe5..06b6e5b 100644
--- a/apps/crl.c
+++ b/apps/crl.c
@@ -41,7 +41,7 @@ OPTIONS crl_options[] = {
     {&quot;fingerprint&quot;, OPT_FINGERPRINT, '-', &quot;Print the crl fingerprint&quot;},
     {&quot;crlnumber&quot;, OPT_CRLNUMBER, '-', &quot;Print CRL number&quot;},
     {&quot;badsig&quot;, OPT_BADSIG, '-', &quot;Corrupt last byte of loaded CRL signature (for test)&quot; },
-    {&quot;gendelta&quot;, OPT_GENDELTA, '&lt;'},
+    {&quot;gendelta&quot;, OPT_GENDELTA, '&lt;', &quot;Other CRL to compare/diff to the Input one&quot;},
     {&quot;CApath&quot;, OPT_CAPATH, '/', &quot;Verify CRL using certificates in dir&quot;},
     {&quot;CAfile&quot;, OPT_CAFILE, '&lt;', &quot;Verify CRL using certificates in file name&quot;},
     {&quot;no-CAfile&quot;, OPT_NOCAFILE, '-',
diff --git a/apps/gendsa.c b/apps/gendsa.c
index 5dacf1b..4c05493 100644
--- a/apps/gendsa.c
+++ b/apps/gendsa.c
@@ -34,7 +34,7 @@ OPTIONS gendsa_options[] = {
     {OPT_HELP_STR, 1, '-', &quot;Valid options are:\n&quot;},
     {&quot;help&quot;, OPT_HELP, '-', &quot;Display this summary&quot;},
     {&quot;out&quot;, OPT_OUT, '&gt;', &quot;Output the key to the specified file&quot;},
-    {&quot;passout&quot;, OPT_PASSOUT, 's'},
+    {&quot;passout&quot;, OPT_PASSOUT, 's', &quot;Output file pass phrase source&quot;},
     {&quot;rand&quot;, OPT_RAND, 's',
      &quot;Load the file(s) into the random number generator&quot;},
     {&quot;&quot;, OPT_CIPHER, '-', &quot;Encrypt the output with any supported cipher&quot;},
diff --git a/apps/ocsp.c b/apps/ocsp.c
index cfc06a9..41ea970 100644
--- a/apps/ocsp.c
+++ b/apps/ocsp.c
@@ -107,7 +107,8 @@ OPTIONS ocsp_options[] = {
     {&quot;url&quot;, OPT_URL, 's', &quot;Responder URL&quot;},
     {&quot;host&quot;, OPT_HOST, 's', &quot;TCP/IP hostname:port to connect to&quot;},
     {&quot;port&quot;, OPT_PORT, 'p', &quot;Port to run responder on&quot;},
-    {&quot;ignore_err&quot;, OPT_IGNORE_ERR, '-'},
+    {&quot;ignore_err&quot;, OPT_IGNORE_ERR, '-',
+     &quot;Ignore Error response from OCSP responder, and retry &quot;},
     {&quot;noverify&quot;, OPT_NOVERIFY, '-', &quot;Don't verify response at all&quot;},
     {&quot;nonce&quot;, OPT_NONCE, '-', &quot;Add OCSP nonce to request&quot;},
     {&quot;no_nonce&quot;, OPT_NO_NONCE, '-', &quot;Don't add OCSP nonce to request&quot;},
@@ -124,7 +125,8 @@ OPTIONS ocsp_options[] = {
     {&quot;no_chain&quot;, OPT_NO_CHAIN, '-', &quot;Don't chain verify response&quot;},
     {&quot;no_cert_checks&quot;, OPT_NO_CERT_CHECKS, '-',
      &quot;Don't do additional checks on signing certificate&quot;},
-    {&quot;no_explicit&quot;, OPT_NO_EXPLICIT, '-'},
+    {&quot;no_explicit&quot;, OPT_NO_EXPLICIT, '-',
+     &quot;Do not explicitly check the chain, just verify the root&quot;},
     {&quot;trust_other&quot;, OPT_TRUST_OTHER, '-',
      &quot;Don't verify additional certificates&quot;},
     {&quot;no_intern&quot;, OPT_NO_INTERN, '-',
diff --git a/apps/pkcs7.c b/apps/pkcs7.c
index 8763df0..85994cd 100644
--- a/apps/pkcs7.c
+++ b/apps/pkcs7.c
@@ -33,7 +33,7 @@ OPTIONS pkcs7_options[] = {
     {&quot;out&quot;, OPT_OUT, '&gt;', &quot;Output file&quot;},
     {&quot;noout&quot;, OPT_NOOUT, '-', &quot;Don't output encoded data&quot;},
     {&quot;text&quot;, OPT_TEXT, '-', &quot;Print full details of certificates&quot;},
-    {&quot;print&quot;, OPT_PRINT, '-'},
+    {&quot;print&quot;, OPT_PRINT, '-', &quot;Print out all fields of the PKCS7 structure&quot;},
     {&quot;print_certs&quot;, OPT_PRINT_CERTS, '-',
      &quot;Print_certs  print any certs or crl in the input&quot;},
 #ifndef OPENSSL_NO_ENGINE
diff --git a/apps/pkcs8.c b/apps/pkcs8.c
index 22b5866..3592a0f 100644
--- a/apps/pkcs8.c
+++ b/apps/pkcs8.c
@@ -38,7 +38,7 @@ OPTIONS pkcs8_options[] = {
     {&quot;nocrypt&quot;, OPT_NOCRYPT, '-', &quot;Use or expect unencrypted private key&quot;},
     {&quot;v2&quot;, OPT_V2, 's', &quot;Use PKCS#5 v2.0 and cipher&quot;},
     {&quot;v1&quot;, OPT_V1, 's', &quot;Use PKCS#5 v1.5 and cipher&quot;},
-    {&quot;v2prf&quot;, OPT_V2PRF, 's'},
+    {&quot;v2prf&quot;, OPT_V2PRF, 's', &quot;Set the PRF algorithm to use with PKCS#5 v2.0&quot;},
     {&quot;iter&quot;, OPT_ITER, 'p', &quot;Specify the iteration count&quot;},
     {&quot;passin&quot;, OPT_PASSIN, 's', &quot;Input file pass phrase source&quot;},
     {&quot;passout&quot;, OPT_PASSOUT, 's', &quot;Output file pass phrase source&quot;},
diff --git a/apps/smime.c b/apps/smime.c
index b98c583..1f4091f 100644
--- a/apps/smime.c
+++ b/apps/smime.c
@@ -37,7 +37,7 @@ typedef enum OPTION_choice {
     OPT_PK7OUT, OPT_TEXT, OPT_NOINTERN, OPT_NOVERIFY, OPT_NOCHAIN,
     OPT_NOCERTS, OPT_NOATTR, OPT_NODETACH, OPT_NOSMIMECAP,
     OPT_BINARY, OPT_NOSIGS, OPT_STREAM, OPT_INDEF, OPT_NOINDEF,
-    OPT_NOOLDMIME, OPT_CRLFEOL, OPT_RAND, OPT_ENGINE, OPT_PASSIN,
+    OPT_CRLFEOL, OPT_RAND, OPT_ENGINE, OPT_PASSIN,
     OPT_TO, OPT_FROM, OPT_SUBJECT, OPT_SIGNER, OPT_RECIP, OPT_MD,
     OPT_CIPHER, OPT_INKEY, OPT_KEYFORM, OPT_CERTFILE, OPT_CAFILE,
     OPT_V_ENUM,
@@ -88,14 +88,14 @@ OPTIONS smime_options[] = {
      &quot;Do not load the default certificates file&quot;},
     {&quot;no-CApath&quot;, OPT_NOCAPATH, '-',
      &quot;Do not load certificates from the default certificates directory&quot;},
-    {&quot;resign&quot;, OPT_RESIGN, '-'},
-    {&quot;nochain&quot;, OPT_NOCHAIN, '-'},
-    {&quot;nosmimecap&quot;, OPT_NOSMIMECAP, '-'},
-    {&quot;stream&quot;, OPT_STREAM, '-'},
-    {&quot;indef&quot;, OPT_INDEF, '-'},
-    {&quot;noindef&quot;, OPT_NOINDEF, '-'},
-    {&quot;nooldmime&quot;, OPT_NOOLDMIME, '-'},
-    {&quot;crlfeol&quot;, OPT_CRLFEOL, '-'},
+    {&quot;resign&quot;, OPT_RESIGN, '-', &quot;Resign a signed message&quot;},
+    {&quot;nochain&quot;, OPT_NOCHAIN, '-', 
+     &quot;set PKCS7_NOCHAIN so certificates contained in the message are not used as untrusted CAs&quot; },
+    {&quot;nosmimecap&quot;, OPT_NOSMIMECAP, '-', &quot;Omit the SMIMECapabilities attribute&quot;},
+    {&quot;stream&quot;, OPT_STREAM, '-', &quot;Enable CMS streaming&quot; },
+    {&quot;indef&quot;, OPT_INDEF, '-', &quot;Same as -stream&quot; },
+    {&quot;noindef&quot;, OPT_NOINDEF, '-', &quot;Disable CMS streaming&quot;},
+    {&quot;crlfeol&quot;, OPT_CRLFEOL, '-', &quot;Use CRLF as EOL termination instead of CR only&quot;},
     {&quot;rand&quot;, OPT_RAND, 's',
      &quot;Load the file(s) into the random number generator&quot;},
     {&quot;passin&quot;, OPT_PASSIN, 's', &quot;Input file pass phrase source&quot;},
@@ -220,9 +220,6 @@ int smime_main(int argc, char **argv)
         case OPT_NOINDEF:
             indef = 0;
             break;
-        case OPT_NOOLDMIME:
-            flags |= PKCS7_NOOLDMIMETYPE;
-            break;
         case OPT_CRLFEOL:
             flags |= PKCS7_CRLFEOL;
             mime_eol = &quot;\r\n&quot;;
diff --git a/apps/spkac.c b/apps/spkac.c
index a365406..c65103d 100644
--- a/apps/spkac.c
+++ b/apps/spkac.c
@@ -38,7 +38,8 @@ OPTIONS spkac_options[] = {
     {&quot;noout&quot;, OPT_NOOUT, '-', &quot;Don't print SPKAC&quot;},
     {&quot;pubkey&quot;, OPT_PUBKEY, '-', &quot;Output public key&quot;},
     {&quot;verify&quot;, OPT_VERIFY, '-', &quot;Verify SPKAC signature&quot;},
-    {&quot;spksect&quot;, OPT_SPKSECT, 's'},
+    {&quot;spksect&quot;, OPT_SPKSECT, 's',
+     &quot;Specify the name of an SPKAC-dedicated section of configuration&quot;},
 #ifndef OPENSSL_NO_ENGINE
     {&quot;engine&quot;, OPT_ENGINE, 's', &quot;Use engine, possibly a hardware device&quot;},
 #endif
diff --git a/apps/ts.c b/apps/ts.c
index 924108f..eda5297 100644
--- a/apps/ts.c
+++ b/apps/ts.c
@@ -107,7 +107,7 @@ OPTIONS ts_options[] = {
     {&quot;queryfile&quot;, OPT_QUERYFILE, '&lt;', &quot;File containing a TS query&quot;},
     {&quot;passin&quot;, OPT_PASSIN, 's', &quot;Input file pass phrase source&quot;},
     {&quot;inkey&quot;, OPT_INKEY, '&lt;', &quot;File with private key for reply&quot;},
-    {&quot;signer&quot;, OPT_SIGNER, 's'},
+    {&quot;signer&quot;, OPT_SIGNER, 's', &quot;Signer certificate file&quot;},
     {&quot;chain&quot;, OPT_CHAIN, '&lt;', &quot;File with signer CA chain&quot;},
     {&quot;verify&quot;, OPT_VERIFY, '-', &quot;Verify a TS response&quot;},
     {&quot;CApath&quot;, OPT_CAPATH, '/', &quot;Path to trusted CA files&quot;},
diff --git a/apps/x509.c b/apps/x509.c
index 20db458..3539602 100644
--- a/apps/x509.c
+++ b/apps/x509.c
@@ -92,7 +92,7 @@ OPTIONS x509_options[] = {
     {&quot;ocsp_uri&quot;, OPT_OCSP_URI, '-', &quot;Print OCSP Responder URL(s)&quot;},
     {&quot;trustout&quot;, OPT_TRUSTOUT, '-', &quot;Output a trusted certificate&quot;},
     {&quot;clrtrust&quot;, OPT_CLRTRUST, '-', &quot;Clear all trusted purposes&quot;},
-    {&quot;clrext&quot;, OPT_CLREXT, '-', &quot;Clear all rejected purposes&quot;},
+    {&quot;clrext&quot;, OPT_CLREXT, '-', &quot;Clear all certificate extensions&quot;},
     {&quot;addtrust&quot;, OPT_ADDTRUST, 's', &quot;Trust certificate for a given purpose&quot;},
     {&quot;addreject&quot;, OPT_ADDREJECT, 's',
      &quot;Reject certificate for a given purpose&quot;},
@@ -125,9 +125,10 @@ OPTIONS x509_options[] = {
     {&quot;CAform&quot;, OPT_CAFORM, 'F', &quot;CA format - default PEM&quot;},
     {&quot;CAkeyform&quot;, OPT_CAKEYFORM, 'F', &quot;CA key format - default PEM&quot;},
     {&quot;sigopt&quot;, OPT_SIGOPT, 's', &quot;Signature parameter in n:v form&quot;},
-    {&quot;force_pubkey&quot;, OPT_FORCE_PUBKEY, '&lt;'},
-    {&quot;next_serial&quot;, OPT_NEXT_SERIAL, '-'},
-    {&quot;clrreject&quot;, OPT_CLRREJECT, '-'},
+    {&quot;force_pubkey&quot;, OPT_FORCE_PUBKEY, '&lt;', &quot;Force the Key to put inside certificate&quot;},
+    {&quot;next_serial&quot;, OPT_NEXT_SERIAL, '-', &quot;Increment current certificate serial number&quot;},
+    {&quot;clrreject&quot;, OPT_CLRREJECT, '-',
+     &quot;Clears all the prohibited or rejected uses of the certificate&quot;},
     {&quot;badsig&quot;, OPT_BADSIG, '-', &quot;Corrupt last byte of certificate signature (for test)&quot;},
     {&quot;&quot;, OPT_MD, '-', &quot;Any supported digest&quot;},
 #ifndef OPENSSL_NO_MD5
@@ -626,10 +627,9 @@ int x509_main(int argc, char **argv)
                 i2a_ASN1_INTEGER(out, X509_get_serialNumber(x));
                 BIO_printf(out, &quot;\n&quot;);
             } else if (next_serial == i) {
-                BIGNUM *bnser;
-                ASN1_INTEGER *ser;
-                ser = X509_get_serialNumber(x);
-                bnser = ASN1_INTEGER_to_BN(ser, NULL);
+                ASN1_INTEGER *ser = X509_get_serialNumber(x);
+                BIGNUM *bnser = ASN1_INTEGER_to_BN(ser, NULL);
+
                 if (!bnser)
                     goto end;
                 if (!BN_add_word(bnser, 1))
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010615.html">[openssl-commits] [openssl]  master update
</A></li>
	<LI>Next message: <A HREF="010625.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10620">[ date ]</a>
              <a href="thread.html#10620">[ thread ]</a>
              <a href="subject.html#10620">[ subject ]</a>
              <a href="author.html#10620">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
