<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 2f05fe: Fix SM4-CBC regression on Armv8
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2022-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%202f05fe%3A%20Fix%20SM4-CBC%20regression%20on%20Armv8&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.1/b018b0-2f05fe%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038007.html">
   <LINK REL="Next"  HREF="038009.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 2f05fe: Fix SM4-CBC regression on Armv8</H1>
    <B>Fangming.Fang</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%202f05fe%3A%20Fix%20SM4-CBC%20regression%20on%20Armv8&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.1/b018b0-2f05fe%40github.com%3E"
       TITLE="[openssl/openssl] 2f05fe: Fix SM4-CBC regression on Armv8">noreply at github.com
       </A><BR>
    <I>Mon Dec 12 22:45:00 UTC 2022</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="038007.html">[openssl/openssl] d89e03: Fix SM4-CBC regression on Armv8
</A></li>
        <LI>Next message (by thread): <A HREF="038009.html">[openssl/openssl] 97b8db: Make error reason for disallowed legacy sigalg mor...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38008">[ date ]</a>
              <a href="thread.html#38008">[ thread ]</a>
              <a href="subject.html#38008">[ subject ]</a>
              <a href="author.html#38008">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.1
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 2f05fe946bcc57c99415eead22154d4b4855afe6
      <A HREF="https://github.com/openssl/openssl/commit/2f05fe946bcc57c99415eead22154d4b4855afe6">https://github.com/openssl/openssl/commit/2f05fe946bcc57c99415eead22154d4b4855afe6</A>
  Author: fangming.fang &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">fangming.fang at arm.com</A>&gt;
  Date:   2022-12-13 (Tue, 13 Dec 2022)

  Changed paths:
    M crypto/sm4/asm/vpsm4-armv8.pl
    M test/recipes/30-test_evp_data/evpciph_sm4.txt

  Log Message:
  -----------
  Fix SM4-CBC regression on Armv8

Fixes #19858

During decryption, the last ciphertext is not fed to next block
correctly when the number of input blocks is exactly 4. Fix this
and add the corresponding test cases.

Thanks xu-yi-zhou for reporting this issue and proposing the fix.

Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
Reviewed-by: Paul Dale &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">pauli at openssl.org</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/19872">https://github.com/openssl/openssl/pull/19872</A>)

(cherry picked from commit d89e0361d5ff5b32c24edac6c60c5ae38714e6c3)


</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="038007.html">[openssl/openssl] d89e03: Fix SM4-CBC regression on Armv8
</A></li>
	<LI>Next message (by thread): <A HREF="038009.html">[openssl/openssl] 97b8db: Make error reason for disallowed legacy sigalg mor...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38008">[ date ]</a>
              <a href="thread.html#38008">[ thread ]</a>
              <a href="subject.html#38008">[ subject ]</a>
              <a href="author.html#38008">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
