<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  OpenSSL_1_0_1-stable update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2015-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20OpenSSL_1_0_1-stable%20update&In-Reply-To=%3C1441149609.080492.30346.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001713.html">
   <LINK REL="Next"  HREF="001721.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  OpenSSL_1_0_1-stable update</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20OpenSSL_1_0_1-stable%20update&In-Reply-To=%3C1441149609.080492.30346.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl-commits] [openssl]  OpenSSL_1_0_1-stable update">matt at openssl.org
       </A><BR>
    <I>Tue Sep  1 23:20:09 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001713.html">[openssl-commits] [openssl]  OpenSSL_1_0_1-stable update
</A></li>
        <LI>Next message: <A HREF="001721.html">[openssl-commits] [openssl]  OpenSSL_1_0_1-stable update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1717">[ date ]</a>
              <a href="thread.html#1717">[ thread ]</a>
              <a href="subject.html#1717">[ subject ]</a>
              <a href="author.html#1717">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch OpenSSL_1_0_1-stable has been updated
       via  927f7a870337157bbb9e7a7d32578eeedb90ddbb (commit)
      from  525e13612ee692e9d827c27b99c7e38583f887f3 (commit)


- Log -----------------------------------------------------------------
commit 927f7a870337157bbb9e7a7d32578eeedb90ddbb
Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
Date:   Tue Jun 16 14:17:24 2015 -0400

    Fix building with OPENSSL_NO_TLSEXT.
    
    Builds using no-tlsext in 1.0.0 and 0.9.8 are broken. This commit fixes the
    issue. The same commit is applied to 1.0.1 and 1.0.2 branches for code
    consistency. However this commit will not fix no-tlsext in those branches
    which have always been broken for other reasons. The commit is not applied
    to master at all, because no-tlsext has been completely removed from that
    branch.
    
    Based on a patch by Marc Branchaud &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">marcnarc at xiplink.com</A>&gt;
    
    Reviewed-by: Emilia K&#228;sper &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">emilia at openssl.org</A>&gt;
    (cherry picked from commit 9a931208d7fc8a3596dda005cdbd6439938f01b0)

-----------------------------------------------------------------------

Summary of changes:
 ssl/ssl_sess.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/ssl/ssl_sess.c b/ssl/ssl_sess.c
index 1ad9dc7..de4c59e 100644
--- a/ssl/ssl_sess.c
+++ b/ssl/ssl_sess.c
@@ -256,8 +256,8 @@ SSL_SESSION *ssl_session_dup(SSL_SESSION *src, int ticket)
     dest-&gt;tlsext_ecpointformatlist = NULL;
     dest-&gt;tlsext_ellipticcurvelist = NULL;
 # endif
-#endif
     dest-&gt;tlsext_tick = NULL;
+#endif
 #ifndef OPENSSL_NO_SRP
     dest-&gt;srp_username = NULL;
 #endif
@@ -324,7 +324,6 @@ SSL_SESSION *ssl_session_dup(SSL_SESSION *src, int ticket)
             goto err;
     }
 # endif
-#endif
 
     if (ticket != 0) {
         dest-&gt;tlsext_tick = BUF_memdup(src-&gt;tlsext_tick, src-&gt;tlsext_ticklen);
@@ -334,6 +333,7 @@ SSL_SESSION *ssl_session_dup(SSL_SESSION *src, int ticket)
         dest-&gt;tlsext_tick_lifetime_hint = 0;
         dest-&gt;tlsext_ticklen = 0;
     }
+#endif
 
 #ifndef OPENSSL_NO_SRP
     if (src-&gt;srp_username) {
</PRE>


















































































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001713.html">[openssl-commits] [openssl]  OpenSSL_1_0_1-stable update
</A></li>
	<LI>Next message: <A HREF="001721.html">[openssl-commits] [openssl]  OpenSSL_1_0_1-stable update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1717">[ date ]</a>
              <a href="thread.html#1717">[ thread ]</a>
              <a href="subject.html#1717">[ subject ]</a>
              <a href="author.html#1717">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
