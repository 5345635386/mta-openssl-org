<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  OpenSSL_1_0_2-stable update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2015-September/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20OpenSSL_1_0_2-stable%20update&In-Reply-To=%3C1441149597.771623.30111.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001714.html">
   <LINK REL="Next"  HREF="001720.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  OpenSSL_1_0_2-stable update</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20OpenSSL_1_0_2-stable%20update&In-Reply-To=%3C1441149597.771623.30111.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl-commits] [openssl]  OpenSSL_1_0_2-stable update">matt at openssl.org
       </A><BR>
    <I>Tue Sep  1 23:19:57 UTC 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="001714.html">[openssl-commits] [openssl]  OpenSSL_1_0_2-stable update
</A></li>
        <LI>Next message: <A HREF="001720.html">[openssl-commits] [openssl]  OpenSSL_1_0_2-stable update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1716">[ date ]</a>
              <a href="thread.html#1716">[ thread ]</a>
              <a href="subject.html#1716">[ subject ]</a>
              <a href="author.html#1716">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch OpenSSL_1_0_2-stable has been updated
       via  9a931208d7fc8a3596dda005cdbd6439938f01b0 (commit)
      from  41fe7d2380617da515581503490f1467ee75a521 (commit)


- Log -----------------------------------------------------------------
commit 9a931208d7fc8a3596dda005cdbd6439938f01b0
Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
Date:   Tue Jun 16 14:17:24 2015 -0400

    Fix building with OPENSSL_NO_TLSEXT.
    
    Builds using no-tlsext in 1.0.0 and 0.9.8 are broken. This commit fixes the
    issue. The same commit is applied to 1.0.1 and 1.0.2 branches for code
    consistency. However this commit will not fix no-tlsext in those branches
    which have always been broken for other reasons. The commit is not applied
    to master at all, because no-tlsext has been completely removed from that
    branch.
    
    Based on a patch by Marc Branchaud &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">marcnarc at xiplink.com</A>&gt;
    
    Reviewed-by: Emilia K&#228;sper &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">emilia at openssl.org</A>&gt;

-----------------------------------------------------------------------

Summary of changes:
 ssl/ssl_sess.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/ssl/ssl_sess.c b/ssl/ssl_sess.c
index 07e7379..68390d3 100644
--- a/ssl/ssl_sess.c
+++ b/ssl/ssl_sess.c
@@ -256,8 +256,8 @@ SSL_SESSION *ssl_session_dup(SSL_SESSION *src, int ticket)
     dest-&gt;tlsext_ecpointformatlist = NULL;
     dest-&gt;tlsext_ellipticcurvelist = NULL;
 # endif
-#endif
     dest-&gt;tlsext_tick = NULL;
+#endif
 #ifndef OPENSSL_NO_SRP
     dest-&gt;srp_username = NULL;
 #endif
@@ -324,7 +324,6 @@ SSL_SESSION *ssl_session_dup(SSL_SESSION *src, int ticket)
             goto err;
     }
 # endif
-#endif
 
     if (ticket != 0) {
         dest-&gt;tlsext_tick = BUF_memdup(src-&gt;tlsext_tick, src-&gt;tlsext_ticklen);
@@ -334,6 +333,7 @@ SSL_SESSION *ssl_session_dup(SSL_SESSION *src, int ticket)
         dest-&gt;tlsext_tick_lifetime_hint = 0;
         dest-&gt;tlsext_ticklen = 0;
     }
+#endif
 
 #ifndef OPENSSL_NO_SRP
     if (src-&gt;srp_username) {
</PRE>













































































































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001714.html">[openssl-commits] [openssl]  OpenSSL_1_0_2-stable update
</A></li>
	<LI>Next message: <A HREF="001720.html">[openssl-commits] [openssl]  OpenSSL_1_0_2-stable update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1716">[ date ]</a>
              <a href="thread.html#1716">[ thread ]</a>
              <a href="subject.html#1716">[ subject ]</a>
              <a href="author.html#1716">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
