<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] 9ffd4a: Add a test for late loading of an ENGINE in TLS
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2023-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%209ffd4a%3A%20Add%20a%20test%20for%20late%20loading%20of%20an%20ENGINE%20in%0A%20TLS&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.0/a52ca9-4f41e1%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040645.html">
   <LINK REL="Next"  HREF="040647.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] 9ffd4a: Add a test for late loading of an ENGINE in TLS</H1>
    <B>Matt Caswell</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%209ffd4a%3A%20Add%20a%20test%20for%20late%20loading%20of%20an%20ENGINE%20in%0A%20TLS&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.0/a52ca9-4f41e1%40github.com%3E"
       TITLE="[openssl/openssl] 9ffd4a: Add a test for late loading of an ENGINE in TLS">noreply at github.com
       </A><BR>
    <I>Tue Dec 12 16:22:54 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="040645.html">[openssl/openssl] ea3c14: Avoid an infinite loop in BN_GF2m_mod_inv
</A></li>
        <LI>Next message (by thread): <A HREF="040647.html">[openssl/openssl] dda920: Add a test for late loading of an ENGINE in TLS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40646">[ date ]</a>
              <a href="thread.html#40646">[ thread ]</a>
              <a href="subject.html#40646">[ subject ]</a>
              <a href="author.html#40646">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.0
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: 9ffd4a34681feb9968719905b366276e7425e2a2
      <A HREF="https://github.com/openssl/openssl/commit/9ffd4a34681feb9968719905b366276e7425e2a2">https://github.com/openssl/openssl/commit/9ffd4a34681feb9968719905b366276e7425e2a2</A>
  Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
  Date:   2023-12-12 (Tue, 12 Dec 2023)

  Changed paths:
    M test/sslapitest.c

  Log Message:
  -----------
  Add a test for late loading of an ENGINE in TLS

Confirm that using an ENGINE works as expected with TLS even if it is
loaded late (after construction of the SSL_CTX).

(cherry picked from commit a9c97da4910648790387d035afb12963158778fb)

Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
Reviewed-by: Todd Short &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">todd.short at me.com</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/22865">https://github.com/openssl/openssl/pull/22865</A>)

(cherry picked from commit dda9208cef52670e6c832cbadaa3e08ad535ac30)


  Commit: 4f41e1b1d0cd545278017099b4ba062ab7a0f470
      <A HREF="https://github.com/openssl/openssl/commit/4f41e1b1d0cd545278017099b4ba062ab7a0f470">https://github.com/openssl/openssl/commit/4f41e1b1d0cd545278017099b4ba062ab7a0f470</A>
  Author: Matt Caswell &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">matt at openssl.org</A>&gt;
  Date:   2023-12-12 (Tue, 12 Dec 2023)

  Changed paths:
    M ssl/s3_enc.c
    M ssl/t1_enc.c

  Log Message:
  -----------
  Don't attempt to set provider params on an ENGINE based cipher

If an ENGINE has been loaded after the SSL_CTX has been created then
the cipher we have cached might be provider based, but the cipher we
actually end up using might not be. Don't try to set provider params on
a cipher that is actually ENGINE based.

Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
Reviewed-by: Todd Short &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">todd.short at me.com</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/22865">https://github.com/openssl/openssl/pull/22865</A>)

(cherry picked from commit ed5f9ce63e98da2e7fddd55040c8e9e03f3af975)


Compare: <A HREF="https://github.com/openssl/openssl/compare/a52ca9cbb134...4f41e1b1d0cd">https://github.com/openssl/openssl/compare/a52ca9cbb134...4f41e1b1d0cd</A>
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="040645.html">[openssl/openssl] ea3c14: Avoid an infinite loop in BN_GF2m_mod_inv
</A></li>
	<LI>Next message (by thread): <A HREF="040647.html">[openssl/openssl] dda920: Add a test for late loading of an ENGINE in TLS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40646">[ date ]</a>
              <a href="thread.html#40646">[ thread ]</a>
              <a href="subject.html#40646">[ subject ]</a>
              <a href="author.html#40646">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
