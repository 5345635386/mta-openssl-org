<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl/openssl] b861ae: Add overflow checks to parse_number/parse_hex/pars...
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2023-December/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20b861ae%3A%20Add%20overflow%20checks%20to%0A%20parse_number/parse_hex/pars...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.1/7cae42-b861ae%40github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040618.html">
   <LINK REL="Next"  HREF="040620.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl/openssl] b861ae: Add overflow checks to parse_number/parse_hex/pars...</H1>
    <B>Neil Horman</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl/openssl%5D%20b861ae%3A%20Add%20overflow%20checks%20to%0A%20parse_number/parse_hex/pars...&In-Reply-To=%3Copenssl/openssl/push/refs/heads/openssl-3.1/7cae42-b861ae%40github.com%3E"
       TITLE="[openssl/openssl] b861ae: Add overflow checks to parse_number/parse_hex/pars...">noreply at github.com
       </A><BR>
    <I>Thu Dec  7 17:23:50 UTC 2023</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="040618.html">[openssl/openssl] f00c5a: Add overflow checks to parse_number/parse_hex/pars...
</A></li>
        <LI>Next message (by thread): <A HREF="040620.html">[openssl/openssl] 5fc650: Add overflow checks to parse_number/parse_hex/pars...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40619">[ date ]</a>
              <a href="thread.html#40619">[ thread ]</a>
              <a href="subject.html#40619">[ subject ]</a>
              <a href="author.html#40619">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/openssl-3.1
  Home:   <A HREF="https://github.com/openssl/openssl">https://github.com/openssl/openssl</A>
  Commit: b861ae7e65d9584e549d8bb24ee5a29ec89dc530
      <A HREF="https://github.com/openssl/openssl/commit/b861ae7e65d9584e549d8bb24ee5a29ec89dc530">https://github.com/openssl/openssl/commit/b861ae7e65d9584e549d8bb24ee5a29ec89dc530</A>
  Author: Neil Horman &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">nhorman at openssl.org</A>&gt;
  Date:   2023-12-07 (Thu, 07 Dec 2023)

  Changed paths:
    M crypto/property/property_parse.c
    M test/property_test.c

  Log Message:
  -----------
  Add overflow checks to parse_number/parse_hex/parse_oct

Test the next arithmetic operation to safely determine if adding the
next digit in the passed property string will overflow

Also, noted a bug in the parse_hex code.  When parsing non-digit
characters (i.e. a-f and A-F), we do a tolower conversion (which is
fine), and then subtract 'a' to get the hex value from the ascii (which
is definately wrong).  We should subtract 'W' to convert tolower
converted hex digits in the range a-f to their hex value counterparts

Add tests to test_property_parse_error to ensure overflow checks work

Reviewed-by: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Reviewed-by: Tomas Mraz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tomas at openssl.org</A>&gt;
Reviewed-by: Tom Cosgrove &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">tom.cosgrove at arm.com</A>&gt;
(Merged from <A HREF="https://github.com/openssl/openssl/pull/22874">https://github.com/openssl/openssl/pull/22874</A>)

(cherry picked from commit 986c48c4eb26861f25bc68ea252d8f2aad592735)


</PRE>




































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="040618.html">[openssl/openssl] f00c5a: Add overflow checks to parse_number/parse_hex/pars...
</A></li>
	<LI>Next message (by thread): <A HREF="040620.html">[openssl/openssl] 5fc650: Add overflow checks to parse_number/parse_hex/pars...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40619">[ date ]</a>
              <a href="thread.html#40619">[ thread ]</a>
              <a href="subject.html#40619">[ subject ]</a>
              <a href="author.html#40619">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
