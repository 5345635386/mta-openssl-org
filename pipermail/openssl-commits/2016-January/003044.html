<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openssl-commits] [openssl]  master update
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2016-January/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1453320783.558956.15408.nullmailer%40dev.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003040.html">
   <LINK REL="Next"  HREF="003046.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openssl-commits] [openssl]  master update</H1>
    <B>Richard Levitte</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20%5Bopenssl-commits%5D%20%5Bopenssl%5D%20%20master%20update&In-Reply-To=%3C1453320783.558956.15408.nullmailer%40dev.openssl.org%3E"
       TITLE="[openssl-commits] [openssl]  master update">levitte at openssl.org
       </A><BR>
    <I>Wed Jan 20 20:13:03 UTC 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="003040.html">[openssl-commits] [openssl]  master update
</A></li>
        <LI>Next message: <A HREF="003046.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3044">[ date ]</a>
              <a href="thread.html#3044">[ thread ]</a>
              <a href="subject.html#3044">[ subject ]</a>
              <a href="author.html#3044">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The branch master has been updated
       via  bb56561adbb6d2728b05e2df08c0575c38a46249 (commit)
       via  76ffb43d1ade66ca60f977aabdbf43995615da92 (commit)
      from  24dfa621c8171d89ea892502033c206fd530c5af (commit)


- Log -----------------------------------------------------------------
commit bb56561adbb6d2728b05e2df08c0575c38a46249
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Mon May 18 12:51:16 2015 +0200

    Refactor config - throw away '--test-sanity'
    
    Get rid of the --test-sanity option.  Since we no longer have string
    based configurations, we don't have the problem with miscounting
    colons any more.
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;

commit 76ffb43d1ade66ca60f977aabdbf43995615da92
Author: Richard Levitte &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">levitte at openssl.org</A>&gt;
Date:   Mon May 18 02:46:21 2015 +0200

    Refactor config - a small cosmetic touchup of Configure
    
    Start simple, removed some unused variables and change all '&lt;&lt;EOF' to
    '&lt;&lt;&quot;EOF&quot;'.  The latter is because some code colorizers (notably, in
    emacs) cannot recognise the here document end marker unless it's
    quoted and therefore assume the rest of the file is part of the here
    document.
    
    Reviewed-by: Rich Salz &lt;<A HREF="../../../mailman/listinfo/openssl-commits.html">rsalz at openssl.org</A>&gt;

-----------------------------------------------------------------------

Summary of changes:
 Configure | 62 +++++++-------------------------------------------------------
 1 file changed, 7 insertions(+), 55 deletions(-)

diff --git a/Configure b/Configure
index 0efed39..9f88d12 100755
--- a/Configure
+++ b/Configure
@@ -127,11 +127,6 @@ my $x86_gcc_des=&quot;DES_PTR DES_RISC1 DES_UNROLL&quot;;
 # MD2_CHAR slags pentium pros
 my $x86_gcc_opts=&quot;RC4_INDEX MD2_INT&quot;;
 
-#$bits1=&quot;SIXTEEN_BIT &quot;;
-#$bits2=&quot;THIRTY_TWO_BIT &quot;;
-my $bits1=&quot;THIRTY_TWO_BIT &quot;;
-my $bits2=&quot;SIXTY_FOUR_BIT &quot;;
-
 # As for $BSDthreads. Idea is to maintain &quot;collective&quot; set of flags,
 # which would cover all BSD flavors. -pthread applies to them all,
 # but is treated differently. OpenBSD expands is as -D_POSIX_THREAD
@@ -1056,10 +1051,6 @@ PROCESS_ARGS:
 
 			$threads = 1 if ($algo eq &quot;threads&quot;);
 			}
-		elsif (/^--test-sanity$/)
-			{
-			exit(&amp;test_sanity());
-			}
 		elsif (/^--strict-warnings$/)
 			{
 			$strict_warnings = 1;
@@ -2283,7 +2274,7 @@ find(sub {
 }
 if($IsMK1MF) {
 	open (OUT,&quot;&gt;crypto/buildinf.h&quot;) || die &quot;Can't open buildinf.h&quot;;
-	printf OUT &lt;&lt;EOF;
+	printf OUT &lt;&lt;&quot;EOF&quot;;
 #ifndef MK1MF_BUILD
   /* auto-generated by Configure for crypto/cversion.c:
    * for Unix builds, crypto/Makefile.ssl generates functional definitions;
@@ -2314,7 +2305,7 @@ if ($IsMK1MF &amp;&amp; ($target !~ /^netware/)) {
 		$v4=hex $4;
 	}
 	open (OUT,&quot;&gt;ms/version32.rc&quot;) || die &quot;Can't open ms/version32.rc&quot;;
-	print OUT &lt;&lt;EOF;
+	print OUT &lt;&lt;&quot;EOF&quot;;
 #include &lt;winver.h&gt;
 
 LANGUAGE 0x09,0x01
@@ -2366,19 +2357,19 @@ EOF
 	close(OUT);
   }
 
-print &lt;&lt;EOF;
+print &lt;&lt;&quot;EOF&quot;;
 
 Configured for $target.
 EOF
 
-print &lt;&lt;\EOF if (!$no_threads &amp;&amp; !$threads);
+print &lt;&lt;&quot;EOF&quot; if (!$no_threads &amp;&amp; !$threads);
 
 The library could not be configured for supporting multi-threaded
 applications as the compiler options required on this system are not known.
 See file INSTALL for details if you need multi-threading.
 EOF
 
-print &lt;&lt;\EOF if ($no_shared_warn);
+print &lt;&lt;&quot;EOF&quot; if ($no_shared_warn);
 
 You gave the option 'shared', which is not supported on this platform, so
 we will pretend you gave the option 'no-shared'.  If you know how to implement
@@ -2386,7 +2377,7 @@ shared libraries, please let us know (but please first make sure you have
 tried with a current version of OpenSSL).
 EOF
 
-print &lt;&lt;EOF if ($warn_make_depend);
+print &lt;&lt;&quot;EOF&quot; if ($warn_make_depend);
 
 *** Because of configuration changes, you MUST do the following before
 *** building:
@@ -2471,7 +2462,7 @@ sub print_table_entry
 	return if $table{$target}-&gt;{template};
 
 	if ($type eq &quot;TABLE&quot;) {
-	    print &lt;&lt;EOF
+	    print &lt;&lt;&quot;EOF&quot;
 
 *** $target
 \$cc           = $table{$target}-&gt;{cc}
@@ -2565,42 +2556,3 @@ EOF
 	    print &quot;    },\n&quot;;
 	}
 	}
-
-sub test_sanity
-	{
-	my $errorcnt = 0;
-
-	print STDERR &quot;=&quot; x 70, &quot;\n&quot;;
-	print STDERR &quot;=== SANITY TESTING!\n&quot;;
-	print STDERR &quot;=== No configuration will be done, all other arguments will be ignored!\n&quot;;
-	print STDERR &quot;=&quot; x 70, &quot;\n&quot;;
-
-	foreach $target (sort keys %table)
-		{
-		my $pre_dso_scheme = &quot;perlasm_scheme&quot;;
-		my $dso_scheme = &quot;dso_scheme&quot;;
-		my $post_dso_scheme = &quot;shared_target&quot;;
-
-
-		if ($table{$target}-&gt;{$pre_dso_scheme} =~ /^(beos|dl|dlfcn|win32|vms)$/)
-			{
-			$errorcnt++;
-			print STDERR &quot;SANITY ERROR: '$target' has the dso_scheme values\n&quot;;
-			print STDERR &quot;              in the previous field\n&quot;;
-			}
-		elsif ($table{$target}-&gt;{$post_dso_scheme} =~ /^(beos|dl|dlfcn|win32|vms)$/)
-			{
-			$errorcnt++;
-			print STDERR &quot;SANITY ERROR: '$target' has the dso_scheme values\n&quot;;
-			print STDERR &quot;              in the following field\n&quot;;
-			}
-		elsif ($table{$target}-&gt;{$dso_scheme} !~ /^(beos|dl|dlfcn|win32|vms|)$/)
-			{
-			$errorcnt++;
-			print STDERR &quot;SANITY ERROR: '$target' has the dso_scheme field = &quot;,$table{$target}-&gt;{$dso_scheme},&quot;\n&quot;;
-			print STDERR &quot;              valid values are 'beos', 'dl', 'dlfcn', 'win32' and 'vms'\n&quot;;
-			}
-		}
-	print STDERR &quot;No sanity errors detected!\n&quot; if $errorcnt == 0;
-	return $errorcnt;
-	}
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003040.html">[openssl-commits] [openssl]  master update
</A></li>
	<LI>Next message: <A HREF="003046.html">[openssl-commits] [openssl]  master update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3044">[ date ]</a>
              <a href="thread.html#3044">[ thread ]</a>
              <a href="subject.html#3044">[ subject ]</a>
              <a href="author.html#3044">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
