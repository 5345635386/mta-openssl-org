<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> FAILED build of OpenSSL branch master with options -d --strict-warnings no-ocsp
   </TITLE>
   <LINK REL="Index" HREF="https://mta.openssl.org/pipermail/openssl-commits/2020-February/index.html" >
   <LINK REL="made" HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20FAILED%20build%20of%20OpenSSL%20branch%20master%20with%20options%20-d%0A%20--strict-warnings%20no-ocsp&In-Reply-To=%3C1581524527.562082.16852.nullmailer%40run.openssl.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027493.html">
   <LINK REL="Next"  HREF="027495.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>FAILED build of OpenSSL branch master with options -d --strict-warnings no-ocsp</H1>
    <B>OpenSSL run-checker</B> 
    <A HREF="mailto:openssl-commits%40openssl.org?Subject=Re%3A%20FAILED%20build%20of%20OpenSSL%20branch%20master%20with%20options%20-d%0A%20--strict-warnings%20no-ocsp&In-Reply-To=%3C1581524527.562082.16852.nullmailer%40run.openssl.org%3E"
       TITLE="FAILED build of OpenSSL branch master with options -d --strict-warnings no-ocsp">openssl at openssl.org
       </A><BR>
    <I>Wed Feb 12 16:22:07 UTC 2020</I>
    <P><UL>
        <LI>Previous message: <A HREF="027493.html">Fixed: openssl/openssl#32158 (master - 104f85c)
</A></li>
        <LI>Next message: <A HREF="027495.html">FAILED build of OpenSSL branch master with options -d --strict-warnings no-sock
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27494">[ date ]</a>
              <a href="thread.html#27494">[ thread ]</a>
              <a href="subject.html#27494">[ subject ]</a>
              <a href="author.html#27494">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Platform and configuration command:

$ uname -a
Linux run 4.15.0-54-generic #58-Ubuntu SMP Mon Jun 24 10:55:24 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
$ CC=clang ../openssl/config -d --strict-warnings no-ocsp

Commit log since last time:

d819760d3d Add a minimal build target for Travis and Appveyor
a076951b71 X509_PUBKEY_set(): Fix memory leak
29f178bddf Generalize the HTTP client so far implemented mostly in crypto/ocsp/ocsp_ht.c The new client has become an independent libcrpyto module in crypto/http/ and * can handle any types of requests and responses (ASN.1-encoded and plain) * does not include potentially busy loops when waiting for responses but * makes use of a new timeout mechanism integrated with socket-based BIO * supports the use of HTTP proxies and TLS, including HTTPS over proxies * supports HTTP redirection via codes 301 and 302 for GET requests * returns more useful diagnostics in various error situations Also adapts - and strongly simplifies - hitherto uses of HTTP in crypto/ocsp/, crypto/x509/x_all.c, apps/lib/apps.c, and apps/{ocsp,s_client,s_server}.c
bcbb30afe2 add BIO_socket_wait(), BIO_wait(), and BIO_connect_retry() improving timeout support
b0593c086d PROV: Ensure the AlgorithmIdentifier registers in DSA signature impl
f4dcc09ba7 Memory allocator code cleanup
96f0b8addd x86: Always generate .note.gnu.property section for ELF outputs

Build log ended with (last 100 lines):

clang  -I. -Iinclude -Iproviders/common/include -Iproviders/implementations/include -Icrypto/include -I../openssl -I../openssl/include -I../openssl/providers/common/include -I../openssl/providers/implementations/include -I../openssl/crypto/include  -DAES_ASM -DBSAES_ASM -DCMLL_ASM -DECP_NISTZ256_ASM -DGHASH_ASM -DKECCAK1600_ASM -DMD5_ASM -DOPENSSL_BN_ASM_GF2m -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_CPUID_OBJ -DOPENSSL_IA32_SSE2 -DPOLY1305_ASM -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DVPAES_ASM -DWHIRLPOOL_ASM -DX25519_ASM -fPIC -pthread -m64 -Wa,--noexecstack -Qunused-arguments -Wall -O0 -g -DDEBUG_UNUSED -DPEDANTIC -pedantic -Wno-long-long -Wall -Wextra -Wno-unused-parameter -Wno-missing-field-initializers -Wswitch -Wsign-compare -Wshadow -Wformat -Wtype-limits -Wundef -Werror -Wmissing-prototypes -Wstrict-prototypes -Wno-unknown-warning-option -Wswitch-default -Wno-parentheses-equality -Wno-language-extension-token -Wno-extended-offsetof -Wconditional-uninitialized -Wincompatible-pointer-types-discards-qualifiers -Wmissing-variable-declarations -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_BUILDING_OPENSSL -DOPENSSL_PIC -DOPENSSLDIR=&quot;\&quot;/usr/local/ssl\&quot;&quot; -DENGINESDIR=&quot;\&quot;/usr/local/lib/engines-3\&quot;&quot; -DMODULESDIR=&quot;\&quot;/usr/local/lib/ossl-modules\&quot;&quot;   -MMD -MF crypto/lhash/libcrypto-lib-lhash.d.tmp -MT crypto/lhash/libcrypto-lib-lhash.o -c -o crypto/lhash/libcrypto-lib-lhash.o ../openssl/crypto/lhash/lhash.c
../openssl/crypto/http/http_client.c:100:9: note: did you mean 'OCSP_REQ_CTX_new'?
../openssl/crypto/http/http_local.h:20:41: note: expanded from macro 'OSSL_HTTP_REQ_CTX_free'
# define OSSL_HTTP_REQ_CTX_free         OCSP_REQ_CTX_free
                                        ^
../openssl/crypto/http/http_client.c:77:20: note: 'OCSP_REQ_CTX_new' declared here
OSSL_HTTP_REQ_CTX *OSSL_HTTP_REQ_CTX_new(BIO *wbio, BIO *rbio,
                   ^
../openssl/crypto/http/http_local.h:19:41: note: expanded from macro 'OSSL_HTTP_REQ_CTX_new'
# define OSSL_HTTP_REQ_CTX_new          OCSP_REQ_CTX_new
                                        ^
../openssl/crypto/http/http_client.c:100:9: error: this function declaration is not a prototype [-Werror,-Wstrict-prototypes]
        OSSL_HTTP_REQ_CTX_free(rctx);
        ^
../openssl/crypto/http/http_local.h:20:41: note: expanded from macro 'OSSL_HTTP_REQ_CTX_free'
# define OSSL_HTTP_REQ_CTX_free         OCSP_REQ_CTX_free
                                        ^
../openssl/crypto/http/http_client.c:107:5: error: implicit declaration of function 'OCSP_set_max_response_length' is invalid in C99 [-Werror,-Wimplicit-function-declaration]
    OSSL_HTTP_REQ_CTX_set_max_response_length(rctx, max_resp_len);
    ^
../openssl/crypto/http/http_local.h:30:52: note: expanded from macro 'OSSL_HTTP_REQ_CTX_set_max_response_length'
# define OSSL_HTTP_REQ_CTX_set_max_response_length OCSP_set_max_response_length
                                                   ^
../openssl/crypto/http/http_client.c:107:5: error: this function declaration is not a prototype [-Werror,-Wstrict-prototypes]
../openssl/crypto/http/http_local.h:30:52: note: expanded from macro 'OSSL_HTTP_REQ_CTX_set_max_response_length'
# define OSSL_HTTP_REQ_CTX_set_max_response_length OCSP_set_max_response_length
                                                   ^
../openssl/crypto/http/http_client.c:77:20: error: no previous prototype for function 'OCSP_REQ_CTX_new' [-Werror,-Wmissing-prototypes]
OSSL_HTTP_REQ_CTX *OSSL_HTTP_REQ_CTX_new(BIO *wbio, BIO *rbio,
                   ^
../openssl/crypto/http/http_local.h:19:41: note: expanded from macro 'OSSL_HTTP_REQ_CTX_new'
# define OSSL_HTTP_REQ_CTX_new          OCSP_REQ_CTX_new
                                        ^
../openssl/crypto/http/http_client.c:112:6: error: conflicting types for 'OCSP_REQ_CTX_free'
void OSSL_HTTP_REQ_CTX_free(OSSL_HTTP_REQ_CTX *rctx)
     ^
../openssl/crypto/http/http_local.h:20:41: note: expanded from macro 'OSSL_HTTP_REQ_CTX_free'
# define OSSL_HTTP_REQ_CTX_free         OCSP_REQ_CTX_free
                                        ^
../openssl/crypto/http/http_client.c:100:9: note: previous implicit declaration is here
        OSSL_HTTP_REQ_CTX_free(rctx);
        ^
../openssl/crypto/http/http_local.h:20:41: note: expanded from macro 'OSSL_HTTP_REQ_CTX_free'
# define OSSL_HTTP_REQ_CTX_free         OCSP_REQ_CTX_free
                                        ^
../openssl/crypto/http/http_client.c:121:6: error: no previous prototype for function 'OCSP_REQ_CTX_get0_mem_bio' [-Werror,-Wmissing-prototypes]
BIO *OSSL_HTTP_REQ_CTX_get0_mem_bio(OSSL_HTTP_REQ_CTX *rctx)
     ^
../openssl/crypto/http/http_local.h:29:41: note: expanded from macro 'OSSL_HTTP_REQ_CTX_get0_mem_bio'
# define OSSL_HTTP_REQ_CTX_get0_mem_bio OCSP_REQ_CTX_get0_mem_bio /* undoc'd */
                                        ^
../openssl/crypto/http/http_client.c:130:6: error: conflicting types for 'OCSP_set_max_response_length'
void OSSL_HTTP_REQ_CTX_set_max_response_length(OSSL_HTTP_REQ_CTX *rctx,
     ^
../openssl/crypto/http/http_local.h:30:52: note: expanded from macro 'OSSL_HTTP_REQ_CTX_set_max_response_length'
# define OSSL_HTTP_REQ_CTX_set_max_response_length OCSP_set_max_response_length
                                                   ^
../openssl/crypto/http/http_client.c:107:5: note: previous implicit declaration is here
    OSSL_HTTP_REQ_CTX_set_max_response_length(rctx, max_resp_len);
    ^
../openssl/crypto/http/http_local.h:30:52: note: expanded from macro 'OSSL_HTTP_REQ_CTX_set_max_response_length'
# define OSSL_HTTP_REQ_CTX_set_max_response_length OCSP_set_max_response_length
                                                   ^
../openssl/crypto/http/http_client.c:144:5: error: no previous prototype for function 'OCSP_REQ_CTX_http' [-Werror,-Wmissing-prototypes]
int OSSL_HTTP_REQ_CTX_header(OSSL_HTTP_REQ_CTX *rctx, const char *server,
    ^
../openssl/crypto/http/http_local.h:21:41: note: expanded from macro 'OSSL_HTTP_REQ_CTX_header'
# define OSSL_HTTP_REQ_CTX_header       OCSP_REQ_CTX_http
                                        ^
../openssl/crypto/http/http_client.c:178:5: error: no previous prototype for function 'OCSP_REQ_CTX_add1_header' [-Werror,-Wmissing-prototypes]
int OSSL_HTTP_REQ_CTX_add1_header(OSSL_HTTP_REQ_CTX *rctx,
    ^
../openssl/crypto/http/http_local.h:22:41: note: expanded from macro 'OSSL_HTTP_REQ_CTX_add1_header'
# define OSSL_HTTP_REQ_CTX_add1_header  OCSP_REQ_CTX_add1_header
                                        ^
../openssl/crypto/http/http_client.c:241:5: error: no previous prototype for function 'OCSP_REQ_CTX_i2d' [-Werror,-Wmissing-prototypes]
int OSSL_HTTP_REQ_CTX_i2d(OSSL_HTTP_REQ_CTX *rctx, const char *content_type,
    ^
../openssl/crypto/http/http_local.h:23:41: note: expanded from macro 'OSSL_HTTP_REQ_CTX_i2d'
# define OSSL_HTTP_REQ_CTX_i2d          OCSP_REQ_CTX_i2d
                                        ^
../openssl/crypto/http/http_client.c:429:5: error: no previous prototype for function 'OCSP_REQ_CTX_nbio' [-Werror,-Wmissing-prototypes]
int OSSL_HTTP_REQ_CTX_nbio(OSSL_HTTP_REQ_CTX *rctx)
    ^
../openssl/crypto/http/http_local.h:24:41: note: expanded from macro 'OSSL_HTTP_REQ_CTX_nbio'
# define OSSL_HTTP_REQ_CTX_nbio         OCSP_REQ_CTX_nbio
                                        ^
../openssl/crypto/http/http_client.c:766:13: error: no previous prototype for function 'OCSP_REQ_CTX_nbio_d2i' [-Werror,-Wmissing-prototypes]
ASN1_VALUE *OSSL_HTTP_REQ_CTX_sendreq_d2i(OSSL_HTTP_REQ_CTX *rctx,
            ^
../openssl/crypto/http/http_local.h:26:41: note: expanded from macro 'OSSL_HTTP_REQ_CTX_sendreq_d2i'
#  define OSSL_HTTP_REQ_CTX_sendreq_d2i OCSP_REQ_CTX_nbio_d2i
                                        ^
13 errors generated.
Makefile:14913: recipe for target 'crypto/http/libcrypto-lib-http_client.o' failed
make[1]: *** [crypto/http/libcrypto-lib-http_client.o] Error 1
make[1]: *** Waiting for unfinished jobs....
make[1]: Leaving directory '/home/openssl/run-checker/no-ocsp'
Makefile:2819: recipe for target 'build_sw' failed
make: *** [build_sw] Error 2
</PRE>






























































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027493.html">Fixed: openssl/openssl#32158 (master - 104f85c)
</A></li>
	<LI>Next message: <A HREF="027495.html">FAILED build of OpenSSL branch master with options -d --strict-warnings no-sock
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27494">[ date ]</a>
              <a href="thread.html#27494">[ thread ]</a>
              <a href="subject.html#27494">[ subject ]</a>
              <a href="author.html#27494">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="../../../mailman/listinfo/openssl-commits.html">More information about the openssl-commits
mailing list</a><br>
</body></html>
